var bb=Object.defineProperty;var yb=(l,r,d)=>r in l?bb(l,r,{enumerable:!0,configurable:!0,writable:!0,value:d}):l[r]=d;var xt=(l,r,d)=>yb(l,typeof r!="symbol"?r+"":r,d);(function(){const r=document.createElement("link").relList;if(r&&r.supports&&r.supports("modulepreload"))return;for(const u of document.querySelectorAll('link[rel="modulepreload"]'))c(u);new MutationObserver(u=>{for(const m of u)if(m.type==="childList")for(const x of m.addedNodes)x.tagName==="LINK"&&x.rel==="modulepreload"&&c(x)}).observe(document,{childList:!0,subtree:!0});function d(u){const m={};return u.integrity&&(m.integrity=u.integrity),u.referrerPolicy&&(m.referrerPolicy=u.referrerPolicy),u.crossOrigin==="use-credentials"?m.credentials="include":u.crossOrigin==="anonymous"?m.credentials="omit":m.credentials="same-origin",m}function c(u){if(u.ep)return;u.ep=!0;const m=d(u);fetch(u.href,m)}})();function xx(l){return l&&l.__esModule&&Object.prototype.hasOwnProperty.call(l,"default")?l.default:l}var qd={exports:{}},gi={};/**
 * @license React
 * react-jsx-runtime.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Ep;function vb(){if(Ep)return gi;Ep=1;var l=Symbol.for("react.transitional.element"),r=Symbol.for("react.fragment");function d(c,u,m){var x=null;if(m!==void 0&&(x=""+m),u.key!==void 0&&(x=""+u.key),"key"in u){m={};for(var g in u)g!=="key"&&(m[g]=u[g])}else m=u;return u=m.ref,{$$typeof:l,type:c,key:x,ref:u!==void 0?u:null,props:m}}return gi.Fragment=r,gi.jsx=d,gi.jsxs=d,gi}var Cp;function wb(){return Cp||(Cp=1,qd.exports=vb()),qd.exports}var a=wb(),Id={exports:{}},Ie={};/**
 * @license React
 * react.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Dp;function jb(){if(Dp)return Ie;Dp=1;var l=Symbol.for("react.transitional.element"),r=Symbol.for("react.portal"),d=Symbol.for("react.fragment"),c=Symbol.for("react.strict_mode"),u=Symbol.for("react.profiler"),m=Symbol.for("react.consumer"),x=Symbol.for("react.context"),g=Symbol.for("react.forward_ref"),p=Symbol.for("react.suspense"),f=Symbol.for("react.memo"),b=Symbol.for("react.lazy"),N=Symbol.for("react.activity"),w=Symbol.iterator;function C(j){return j===null||typeof j!="object"?null:(j=w&&j[w]||j["@@iterator"],typeof j=="function"?j:null)}var L={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},R=Object.assign,K={};function ie(j,q,X){this.props=j,this.context=q,this.refs=K,this.updater=X||L}ie.prototype.isReactComponent={},ie.prototype.setState=function(j,q){if(typeof j!="object"&&typeof j!="function"&&j!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,j,q,"setState")},ie.prototype.forceUpdate=function(j){this.updater.enqueueForceUpdate(this,j,"forceUpdate")};function re(){}re.prototype=ie.prototype;function be(j,q,X){this.props=j,this.context=q,this.refs=K,this.updater=X||L}var U=be.prototype=new re;U.constructor=be,R(U,ie.prototype),U.isPureReactComponent=!0;var Y=Array.isArray;function O(){}var D={H:null,A:null,T:null,S:null},oe=Object.prototype.hasOwnProperty;function Ne(j,q,X){var he=X.ref;return{$$typeof:l,type:j,key:q,ref:he!==void 0?he:null,props:X}}function P(j,q){return Ne(j.type,q,j.props)}function ne(j){return typeof j=="object"&&j!==null&&j.$$typeof===l}function Ae(j){var q={"=":"=0",":":"=2"};return"$"+j.replace(/[=:]/g,function(X){return q[X]})}var G=/\/+/g;function J(j,q){return typeof j=="object"&&j!==null&&j.key!=null?Ae(""+j.key):q.toString(36)}function E(j){switch(j.status){case"fulfilled":return j.value;case"rejected":throw j.reason;default:switch(typeof j.status=="string"?j.then(O,O):(j.status="pending",j.then(function(q){j.status==="pending"&&(j.status="fulfilled",j.value=q)},function(q){j.status==="pending"&&(j.status="rejected",j.reason=q)})),j.status){case"fulfilled":return j.value;case"rejected":throw j.reason}}throw j}function z(j,q,X,he,ee){var T=typeof j;(T==="undefined"||T==="boolean")&&(j=null);var W=!1;if(j===null)W=!0;else switch(T){case"bigint":case"string":case"number":W=!0;break;case"object":switch(j.$$typeof){case l:case r:W=!0;break;case b:return W=j._init,z(W(j._payload),q,X,he,ee)}}if(W)return ee=ee(j),W=he===""?"."+J(j,0):he,Y(ee)?(X="",W!=null&&(X=W.replace(G,"$&/")+"/"),z(ee,q,X,"",function(k){return k})):ee!=null&&(ne(ee)&&(ee=P(ee,X+(ee.key==null||j&&j.key===ee.key?"":(""+ee.key).replace(G,"$&/")+"/")+W)),q.push(ee)),1;W=0;var ce=he===""?".":he+":";if(Y(j))for(var Te=0;Te<j.length;Te++)he=j[Te],T=ce+J(he,Te),W+=z(he,q,X,T,ee);else if(Te=C(j),typeof Te=="function")for(j=Te.call(j),Te=0;!(he=j.next()).done;)he=he.value,T=ce+J(he,Te++),W+=z(he,q,X,T,ee);else if(T==="object"){if(typeof j.then=="function")return z(E(j),q,X,he,ee);throw q=String(j),Error("Objects are not valid as a React child (found: "+(q==="[object Object]"?"object with keys {"+Object.keys(j).join(", ")+"}":q)+"). If you meant to render a collection of children, use an array instead.")}return W}function te(j,q,X){if(j==null)return j;var he=[],ee=0;return z(j,he,"","",function(T){return q.call(X,T,ee++)}),he}function ve(j){if(j._status===-1){var q=j._result;q=q(),q.then(function(X){(j._status===0||j._status===-1)&&(j._status=1,j._result=X)},function(X){(j._status===0||j._status===-1)&&(j._status=2,j._result=X)}),j._status===-1&&(j._status=0,j._result=q)}if(j._status===1)return j._result.default;throw j._result}var De=typeof reportError=="function"?reportError:function(j){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var q=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof j=="object"&&j!==null&&typeof j.message=="string"?String(j.message):String(j),error:j});if(!window.dispatchEvent(q))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",j);return}console.error(j)},Ue={map:te,forEach:function(j,q,X){te(j,function(){q.apply(this,arguments)},X)},count:function(j){var q=0;return te(j,function(){q++}),q},toArray:function(j){return te(j,function(q){return q})||[]},only:function(j){if(!ne(j))throw Error("React.Children.only expected to receive a single React element child.");return j}};return Ie.Activity=N,Ie.Children=Ue,Ie.Component=ie,Ie.Fragment=d,Ie.Profiler=u,Ie.PureComponent=be,Ie.StrictMode=c,Ie.Suspense=p,Ie.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=D,Ie.__COMPILER_RUNTIME={__proto__:null,c:function(j){return D.H.useMemoCache(j)}},Ie.cache=function(j){return function(){return j.apply(null,arguments)}},Ie.cacheSignal=function(){return null},Ie.cloneElement=function(j,q,X){if(j==null)throw Error("The argument must be a React element, but you passed "+j+".");var he=R({},j.props),ee=j.key;if(q!=null)for(T in q.key!==void 0&&(ee=""+q.key),q)!oe.call(q,T)||T==="key"||T==="__self"||T==="__source"||T==="ref"&&q.ref===void 0||(he[T]=q[T]);var T=arguments.length-2;if(T===1)he.children=X;else if(1<T){for(var W=Array(T),ce=0;ce<T;ce++)W[ce]=arguments[ce+2];he.children=W}return Ne(j.type,ee,he)},Ie.createContext=function(j){return j={$$typeof:x,_currentValue:j,_currentValue2:j,_threadCount:0,Provider:null,Consumer:null},j.Provider=j,j.Consumer={$$typeof:m,_context:j},j},Ie.createElement=function(j,q,X){var he,ee={},T=null;if(q!=null)for(he in q.key!==void 0&&(T=""+q.key),q)oe.call(q,he)&&he!=="key"&&he!=="__self"&&he!=="__source"&&(ee[he]=q[he]);var W=arguments.length-2;if(W===1)ee.children=X;else if(1<W){for(var ce=Array(W),Te=0;Te<W;Te++)ce[Te]=arguments[Te+2];ee.children=ce}if(j&&j.defaultProps)for(he in W=j.defaultProps,W)ee[he]===void 0&&(ee[he]=W[he]);return Ne(j,T,ee)},Ie.createRef=function(){return{current:null}},Ie.forwardRef=function(j){return{$$typeof:g,render:j}},Ie.isValidElement=ne,Ie.lazy=function(j){return{$$typeof:b,_payload:{_status:-1,_result:j},_init:ve}},Ie.memo=function(j,q){return{$$typeof:f,type:j,compare:q===void 0?null:q}},Ie.startTransition=function(j){var q=D.T,X={};D.T=X;try{var he=j(),ee=D.S;ee!==null&&ee(X,he),typeof he=="object"&&he!==null&&typeof he.then=="function"&&he.then(O,De)}catch(T){De(T)}finally{q!==null&&X.types!==null&&(q.types=X.types),D.T=q}},Ie.unstable_useCacheRefresh=function(){return D.H.useCacheRefresh()},Ie.use=function(j){return D.H.use(j)},Ie.useActionState=function(j,q,X){return D.H.useActionState(j,q,X)},Ie.useCallback=function(j,q){return D.H.useCallback(j,q)},Ie.useContext=function(j){return D.H.useContext(j)},Ie.useDebugValue=function(){},Ie.useDeferredValue=function(j,q){return D.H.useDeferredValue(j,q)},Ie.useEffect=function(j,q){return D.H.useEffect(j,q)},Ie.useEffectEvent=function(j){return D.H.useEffectEvent(j)},Ie.useId=function(){return D.H.useId()},Ie.useImperativeHandle=function(j,q,X){return D.H.useImperativeHandle(j,q,X)},Ie.useInsertionEffect=function(j,q){return D.H.useInsertionEffect(j,q)},Ie.useLayoutEffect=function(j,q){return D.H.useLayoutEffect(j,q)},Ie.useMemo=function(j,q){return D.H.useMemo(j,q)},Ie.useOptimistic=function(j,q){return D.H.useOptimistic(j,q)},Ie.useReducer=function(j,q,X){return D.H.useReducer(j,q,X)},Ie.useRef=function(j){return D.H.useRef(j)},Ie.useState=function(j){return D.H.useState(j)},Ie.useSyncExternalStore=function(j,q,X){return D.H.useSyncExternalStore(j,q,X)},Ie.useTransition=function(){return D.H.useTransition()},Ie.version="19.2.0",Ie}var Mp;function vu(){return Mp||(Mp=1,Id.exports=jb()),Id.exports}var v=vu();const yo=xx(v);var Yd={exports:{}},bi={},Vd={exports:{}},Xd={};/**
 * @license React
 * scheduler.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var _p;function Nb(){return _p||(_p=1,(function(l){function r(z,te){var ve=z.length;z.push(te);e:for(;0<ve;){var De=ve-1>>>1,Ue=z[De];if(0<u(Ue,te))z[De]=te,z[ve]=Ue,ve=De;else break e}}function d(z){return z.length===0?null:z[0]}function c(z){if(z.length===0)return null;var te=z[0],ve=z.pop();if(ve!==te){z[0]=ve;e:for(var De=0,Ue=z.length,j=Ue>>>1;De<j;){var q=2*(De+1)-1,X=z[q],he=q+1,ee=z[he];if(0>u(X,ve))he<Ue&&0>u(ee,X)?(z[De]=ee,z[he]=ve,De=he):(z[De]=X,z[q]=ve,De=q);else if(he<Ue&&0>u(ee,ve))z[De]=ee,z[he]=ve,De=he;else break e}}return te}function u(z,te){var ve=z.sortIndex-te.sortIndex;return ve!==0?ve:z.id-te.id}if(l.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var m=performance;l.unstable_now=function(){return m.now()}}else{var x=Date,g=x.now();l.unstable_now=function(){return x.now()-g}}var p=[],f=[],b=1,N=null,w=3,C=!1,L=!1,R=!1,K=!1,ie=typeof setTimeout=="function"?setTimeout:null,re=typeof clearTimeout=="function"?clearTimeout:null,be=typeof setImmediate<"u"?setImmediate:null;function U(z){for(var te=d(f);te!==null;){if(te.callback===null)c(f);else if(te.startTime<=z)c(f),te.sortIndex=te.expirationTime,r(p,te);else break;te=d(f)}}function Y(z){if(R=!1,U(z),!L)if(d(p)!==null)L=!0,O||(O=!0,Ae());else{var te=d(f);te!==null&&E(Y,te.startTime-z)}}var O=!1,D=-1,oe=5,Ne=-1;function P(){return K?!0:!(l.unstable_now()-Ne<oe)}function ne(){if(K=!1,O){var z=l.unstable_now();Ne=z;var te=!0;try{e:{L=!1,R&&(R=!1,re(D),D=-1),C=!0;var ve=w;try{t:{for(U(z),N=d(p);N!==null&&!(N.expirationTime>z&&P());){var De=N.callback;if(typeof De=="function"){N.callback=null,w=N.priorityLevel;var Ue=De(N.expirationTime<=z);if(z=l.unstable_now(),typeof Ue=="function"){N.callback=Ue,U(z),te=!0;break t}N===d(p)&&c(p),U(z)}else c(p);N=d(p)}if(N!==null)te=!0;else{var j=d(f);j!==null&&E(Y,j.startTime-z),te=!1}}break e}finally{N=null,w=ve,C=!1}te=void 0}}finally{te?Ae():O=!1}}}var Ae;if(typeof be=="function")Ae=function(){be(ne)};else if(typeof MessageChannel<"u"){var G=new MessageChannel,J=G.port2;G.port1.onmessage=ne,Ae=function(){J.postMessage(null)}}else Ae=function(){ie(ne,0)};function E(z,te){D=ie(function(){z(l.unstable_now())},te)}l.unstable_IdlePriority=5,l.unstable_ImmediatePriority=1,l.unstable_LowPriority=4,l.unstable_NormalPriority=3,l.unstable_Profiling=null,l.unstable_UserBlockingPriority=2,l.unstable_cancelCallback=function(z){z.callback=null},l.unstable_forceFrameRate=function(z){0>z||125<z?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):oe=0<z?Math.floor(1e3/z):5},l.unstable_getCurrentPriorityLevel=function(){return w},l.unstable_next=function(z){switch(w){case 1:case 2:case 3:var te=3;break;default:te=w}var ve=w;w=te;try{return z()}finally{w=ve}},l.unstable_requestPaint=function(){K=!0},l.unstable_runWithPriority=function(z,te){switch(z){case 1:case 2:case 3:case 4:case 5:break;default:z=3}var ve=w;w=z;try{return te()}finally{w=ve}},l.unstable_scheduleCallback=function(z,te,ve){var De=l.unstable_now();switch(typeof ve=="object"&&ve!==null?(ve=ve.delay,ve=typeof ve=="number"&&0<ve?De+ve:De):ve=De,z){case 1:var Ue=-1;break;case 2:Ue=250;break;case 5:Ue=1073741823;break;case 4:Ue=1e4;break;default:Ue=5e3}return Ue=ve+Ue,z={id:b++,callback:te,priorityLevel:z,startTime:ve,expirationTime:Ue,sortIndex:-1},ve>De?(z.sortIndex=ve,r(f,z),d(p)===null&&z===d(f)&&(R?(re(D),D=-1):R=!0,E(Y,ve-De))):(z.sortIndex=Ue,r(p,z),L||C||(L=!0,O||(O=!0,Ae()))),z},l.unstable_shouldYield=P,l.unstable_wrapCallback=function(z){var te=w;return function(){var ve=w;w=te;try{return z.apply(this,arguments)}finally{w=ve}}}})(Xd)),Xd}var Rp;function kb(){return Rp||(Rp=1,Vd.exports=Nb()),Vd.exports}var Qd={exports:{}},Zt={};/**
 * @license React
 * react-dom.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Op;function Sb(){if(Op)return Zt;Op=1;var l=vu();function r(p){var f="https://react.dev/errors/"+p;if(1<arguments.length){f+="?args[]="+encodeURIComponent(arguments[1]);for(var b=2;b<arguments.length;b++)f+="&args[]="+encodeURIComponent(arguments[b])}return"Minified React error #"+p+"; visit "+f+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function d(){}var c={d:{f:d,r:function(){throw Error(r(522))},D:d,C:d,L:d,m:d,X:d,S:d,M:d},p:0,findDOMNode:null},u=Symbol.for("react.portal");function m(p,f,b){var N=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:u,key:N==null?null:""+N,children:p,containerInfo:f,implementation:b}}var x=l.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function g(p,f){if(p==="font")return"";if(typeof f=="string")return f==="use-credentials"?f:""}return Zt.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=c,Zt.createPortal=function(p,f){var b=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!f||f.nodeType!==1&&f.nodeType!==9&&f.nodeType!==11)throw Error(r(299));return m(p,f,null,b)},Zt.flushSync=function(p){var f=x.T,b=c.p;try{if(x.T=null,c.p=2,p)return p()}finally{x.T=f,c.p=b,c.d.f()}},Zt.preconnect=function(p,f){typeof p=="string"&&(f?(f=f.crossOrigin,f=typeof f=="string"?f==="use-credentials"?f:"":void 0):f=null,c.d.C(p,f))},Zt.prefetchDNS=function(p){typeof p=="string"&&c.d.D(p)},Zt.preinit=function(p,f){if(typeof p=="string"&&f&&typeof f.as=="string"){var b=f.as,N=g(b,f.crossOrigin),w=typeof f.integrity=="string"?f.integrity:void 0,C=typeof f.fetchPriority=="string"?f.fetchPriority:void 0;b==="style"?c.d.S(p,typeof f.precedence=="string"?f.precedence:void 0,{crossOrigin:N,integrity:w,fetchPriority:C}):b==="script"&&c.d.X(p,{crossOrigin:N,integrity:w,fetchPriority:C,nonce:typeof f.nonce=="string"?f.nonce:void 0})}},Zt.preinitModule=function(p,f){if(typeof p=="string")if(typeof f=="object"&&f!==null){if(f.as==null||f.as==="script"){var b=g(f.as,f.crossOrigin);c.d.M(p,{crossOrigin:b,integrity:typeof f.integrity=="string"?f.integrity:void 0,nonce:typeof f.nonce=="string"?f.nonce:void 0})}}else f==null&&c.d.M(p)},Zt.preload=function(p,f){if(typeof p=="string"&&typeof f=="object"&&f!==null&&typeof f.as=="string"){var b=f.as,N=g(b,f.crossOrigin);c.d.L(p,b,{crossOrigin:N,integrity:typeof f.integrity=="string"?f.integrity:void 0,nonce:typeof f.nonce=="string"?f.nonce:void 0,type:typeof f.type=="string"?f.type:void 0,fetchPriority:typeof f.fetchPriority=="string"?f.fetchPriority:void 0,referrerPolicy:typeof f.referrerPolicy=="string"?f.referrerPolicy:void 0,imageSrcSet:typeof f.imageSrcSet=="string"?f.imageSrcSet:void 0,imageSizes:typeof f.imageSizes=="string"?f.imageSizes:void 0,media:typeof f.media=="string"?f.media:void 0})}},Zt.preloadModule=function(p,f){if(typeof p=="string")if(f){var b=g(f.as,f.crossOrigin);c.d.m(p,{as:typeof f.as=="string"&&f.as!=="script"?f.as:void 0,crossOrigin:b,integrity:typeof f.integrity=="string"?f.integrity:void 0})}else c.d.m(p)},Zt.requestFormReset=function(p){c.d.r(p)},Zt.unstable_batchedUpdates=function(p,f){return p(f)},Zt.useFormState=function(p,f,b){return x.H.useFormState(p,f,b)},Zt.useFormStatus=function(){return x.H.useHostTransitionStatus()},Zt.version="19.2.0",Zt}var zp;function Ab(){if(zp)return Qd.exports;zp=1;function l(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(l)}catch(r){console.error(r)}}return l(),Qd.exports=Sb(),Qd.exports}/**
 * @license React
 * react-dom-client.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Lp;function Tb(){if(Lp)return bi;Lp=1;var l=kb(),r=vu(),d=Ab();function c(e){var t="https://react.dev/errors/"+e;if(1<arguments.length){t+="?args[]="+encodeURIComponent(arguments[1]);for(var s=2;s<arguments.length;s++)t+="&args[]="+encodeURIComponent(arguments[s])}return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function u(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function m(e){var t=e,s=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do t=e,(t.flags&4098)!==0&&(s=t.return),e=t.return;while(e)}return t.tag===3?s:null}function x(e){if(e.tag===13){var t=e.memoizedState;if(t===null&&(e=e.alternate,e!==null&&(t=e.memoizedState)),t!==null)return t.dehydrated}return null}function g(e){if(e.tag===31){var t=e.memoizedState;if(t===null&&(e=e.alternate,e!==null&&(t=e.memoizedState)),t!==null)return t.dehydrated}return null}function p(e){if(m(e)!==e)throw Error(c(188))}function f(e){var t=e.alternate;if(!t){if(t=m(e),t===null)throw Error(c(188));return t!==e?null:e}for(var s=e,n=t;;){var i=s.return;if(i===null)break;var o=i.alternate;if(o===null){if(n=i.return,n!==null){s=n;continue}break}if(i.child===o.child){for(o=i.child;o;){if(o===s)return p(i),e;if(o===n)return p(i),t;o=o.sibling}throw Error(c(188))}if(s.return!==n.return)s=i,n=o;else{for(var h=!1,y=i.child;y;){if(y===s){h=!0,s=i,n=o;break}if(y===n){h=!0,n=i,s=o;break}y=y.sibling}if(!h){for(y=o.child;y;){if(y===s){h=!0,s=o,n=i;break}if(y===n){h=!0,n=o,s=i;break}y=y.sibling}if(!h)throw Error(c(189))}}if(s.alternate!==n)throw Error(c(190))}if(s.tag!==3)throw Error(c(188));return s.stateNode.current===s?e:t}function b(e){var t=e.tag;if(t===5||t===26||t===27||t===6)return e;for(e=e.child;e!==null;){if(t=b(e),t!==null)return t;e=e.sibling}return null}var N=Object.assign,w=Symbol.for("react.element"),C=Symbol.for("react.transitional.element"),L=Symbol.for("react.portal"),R=Symbol.for("react.fragment"),K=Symbol.for("react.strict_mode"),ie=Symbol.for("react.profiler"),re=Symbol.for("react.consumer"),be=Symbol.for("react.context"),U=Symbol.for("react.forward_ref"),Y=Symbol.for("react.suspense"),O=Symbol.for("react.suspense_list"),D=Symbol.for("react.memo"),oe=Symbol.for("react.lazy"),Ne=Symbol.for("react.activity"),P=Symbol.for("react.memo_cache_sentinel"),ne=Symbol.iterator;function Ae(e){return e===null||typeof e!="object"?null:(e=ne&&e[ne]||e["@@iterator"],typeof e=="function"?e:null)}var G=Symbol.for("react.client.reference");function J(e){if(e==null)return null;if(typeof e=="function")return e.$$typeof===G?null:e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case R:return"Fragment";case ie:return"Profiler";case K:return"StrictMode";case Y:return"Suspense";case O:return"SuspenseList";case Ne:return"Activity"}if(typeof e=="object")switch(e.$$typeof){case L:return"Portal";case be:return e.displayName||"Context";case re:return(e._context.displayName||"Context")+".Consumer";case U:var t=e.render;return e=e.displayName,e||(e=t.displayName||t.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case D:return t=e.displayName||null,t!==null?t:J(e.type)||"Memo";case oe:t=e._payload,e=e._init;try{return J(e(t))}catch{}}return null}var E=Array.isArray,z=r.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,te=d.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,ve={pending:!1,data:null,method:null,action:null},De=[],Ue=-1;function j(e){return{current:e}}function q(e){0>Ue||(e.current=De[Ue],De[Ue]=null,Ue--)}function X(e,t){Ue++,De[Ue]=e.current,e.current=t}var he=j(null),ee=j(null),T=j(null),W=j(null);function ce(e,t){switch(X(T,t),X(ee,e),X(he,null),t.nodeType){case 9:case 11:e=(e=t.documentElement)&&(e=e.namespaceURI)?Jf(e):0;break;default:if(e=t.tagName,t=t.namespaceURI)t=Jf(t),e=Wf(t,e);else switch(e){case"svg":e=1;break;case"math":e=2;break;default:e=0}}q(he),X(he,e)}function Te(){q(he),q(ee),q(T)}function k(e){e.memoizedState!==null&&X(W,e);var t=he.current,s=Wf(t,e.type);t!==s&&(X(ee,e),X(he,s))}function fe(e){ee.current===e&&(q(he),q(ee)),W.current===e&&(q(W),mi._currentValue=ve)}var xe,we;function ze(e){if(xe===void 0)try{throw Error()}catch(s){var t=s.stack.trim().match(/\n( *(at )?)/);xe=t&&t[1]||"",we=-1<s.stack.indexOf(`
    at`)?" (<anonymous>)":-1<s.stack.indexOf("@")?"@unknown:0:0":""}return`
`+xe+e+we}var Ye=!1;function bt(e,t){if(!e||Ye)return"";Ye=!0;var s=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var n={DetermineComponentFrameRoot:function(){try{if(t){var me=function(){throw Error()};if(Object.defineProperty(me.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(me,[])}catch(Z){var V=Z}Reflect.construct(e,[],me)}else{try{me.call()}catch(Z){V=Z}e.call(me.prototype)}}else{try{throw Error()}catch(Z){V=Z}(me=e())&&typeof me.catch=="function"&&me.catch(function(){})}}catch(Z){if(Z&&V&&typeof Z.stack=="string")return[Z.stack,V.stack]}return[null,null]}};n.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var i=Object.getOwnPropertyDescriptor(n.DetermineComponentFrameRoot,"name");i&&i.configurable&&Object.defineProperty(n.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var o=n.DetermineComponentFrameRoot(),h=o[0],y=o[1];if(h&&y){var A=h.split(`
`),H=y.split(`
`);for(i=n=0;n<A.length&&!A[n].includes("DetermineComponentFrameRoot");)n++;for(;i<H.length&&!H[i].includes("DetermineComponentFrameRoot");)i++;if(n===A.length||i===H.length)for(n=A.length-1,i=H.length-1;1<=n&&0<=i&&A[n]!==H[i];)i--;for(;1<=n&&0<=i;n--,i--)if(A[n]!==H[i]){if(n!==1||i!==1)do if(n--,i--,0>i||A[n]!==H[i]){var le=`
`+A[n].replace(" at new "," at ");return e.displayName&&le.includes("<anonymous>")&&(le=le.replace("<anonymous>",e.displayName)),le}while(1<=n&&0<=i);break}}}finally{Ye=!1,Error.prepareStackTrace=s}return(s=e?e.displayName||e.name:"")?ze(s):""}function He(e,t){switch(e.tag){case 26:case 27:case 5:return ze(e.type);case 16:return ze("Lazy");case 13:return e.child!==t&&t!==null?ze("Suspense Fallback"):ze("Suspense");case 19:return ze("SuspenseList");case 0:case 15:return bt(e.type,!1);case 11:return bt(e.type.render,!1);case 1:return bt(e.type,!0);case 31:return ze("Activity");default:return""}}function de(e){try{var t="",s=null;do t+=He(e,s),s=e,e=e.return;while(e);return t}catch(n){return`
Error generating stack: `+n.message+`
`+n.stack}}var ke=Object.prototype.hasOwnProperty,S=l.unstable_scheduleCallback,pe=l.unstable_cancelCallback,Ee=l.unstable_shouldYield,Me=l.unstable_requestPaint,ge=l.unstable_now,Ze=l.unstable_getCurrentPriorityLevel,qe=l.unstable_ImmediatePriority,Q=l.unstable_UserBlockingPriority,ae=l.unstable_NormalPriority,Xe=l.unstable_LowPriority,Ct=l.unstable_IdlePriority,se=l.log,F=l.unstable_setDisableYieldValue,Le=null,Qe=null;function Je(e){if(typeof se=="function"&&F(e),Qe&&typeof Qe.setStrictMode=="function")try{Qe.setStrictMode(Le,e)}catch{}}var je=Math.clz32?Math.clz32:wl,wt=Math.log,Pt=Math.LN2;function wl(e){return e>>>=0,e===0?32:31-(wt(e)/Pt|0)|0}var ns=256,ls=262144,Mn=4194304;function da(e){var t=e&42;if(t!==0)return t;switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:return e&261888;case 262144:case 524288:case 1048576:case 2097152:return e&3932160;case 4194304:case 8388608:case 16777216:case 33554432:return e&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return e}}function _n(e,t,s){var n=e.pendingLanes;if(n===0)return 0;var i=0,o=e.suspendedLanes,h=e.pingedLanes;e=e.warmLanes;var y=n&134217727;return y!==0?(n=y&~o,n!==0?i=da(n):(h&=y,h!==0?i=da(h):s||(s=y&~e,s!==0&&(i=da(s))))):(y=n&~o,y!==0?i=da(y):h!==0?i=da(h):s||(s=n&~e,s!==0&&(i=da(s)))),i===0?0:t!==0&&t!==i&&(t&o)===0&&(o=i&-i,s=t&-t,o>=s||o===32&&(s&4194048)!==0)?t:i}function cn(e,t){return(e.pendingLanes&~(e.suspendedLanes&~e.pingedLanes)&t)===0}function _t(e,t){switch(e){case 1:case 2:case 4:case 8:case 64:return t+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function is(){var e=Mn;return Mn<<=1,(Mn&62914560)===0&&(Mn=4194304),e}function jl(e){for(var t=[],s=0;31>s;s++)t.push(e);return t}function Ms(e,t){e.pendingLanes|=t,t!==268435456&&(e.suspendedLanes=0,e.pingedLanes=0,e.warmLanes=0)}function Nl(e,t,s,n,i,o){var h=e.pendingLanes;e.pendingLanes=s,e.suspendedLanes=0,e.pingedLanes=0,e.warmLanes=0,e.expiredLanes&=s,e.entangledLanes&=s,e.errorRecoveryDisabledLanes&=s,e.shellSuspendCounter=0;var y=e.entanglements,A=e.expirationTimes,H=e.hiddenUpdates;for(s=h&~s;0<s;){var le=31-je(s),me=1<<le;y[le]=0,A[le]=-1;var V=H[le];if(V!==null)for(H[le]=null,le=0;le<V.length;le++){var Z=V[le];Z!==null&&(Z.lane&=-536870913)}s&=~me}n!==0&&kl(e,n,0),o!==0&&i===0&&e.tag!==0&&(e.suspendedLanes|=o&~(h&~t))}function kl(e,t,s){e.pendingLanes|=t,e.suspendedLanes&=~t;var n=31-je(t);e.entangledLanes|=t,e.entanglements[n]=e.entanglements[n]|1073741824|s&261930}function Sl(e,t){var s=e.entangledLanes|=t;for(e=e.entanglements;s;){var n=31-je(s),i=1<<n;i&t|e[n]&t&&(e[n]|=t),s&=~i}}function Gi(e,t){var s=t&-t;return s=(s&42)!==0?1:aa(s),(s&(e.suspendedLanes|t))!==0?0:s}function aa(e){switch(e){case 2:e=1;break;case 8:e=4;break;case 32:e=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:e=128;break;case 268435456:e=134217728;break;default:e=0}return e}function Ha(e){return e&=-e,2<e?8<e?(e&134217727)!==0?32:268435456:8:2}function Al(){var e=te.p;return e!==0?e:(e=window.event,e===void 0?32:wp(e.type))}function Tl(e,t){var s=te.p;try{return te.p=e,t()}finally{te.p=s}}var ka=Math.random().toString(36).slice(2),Rt="__reactFiber$"+ka,jt="__reactProps$"+ka,rs="__reactContainer$"+ka,Rn="__reactEvents$"+ka,qi="__reactListeners$"+ka,Ii="__reactHandles$"+ka,Yi="__reactResources$"+ka,Re="__reactMarker$"+ka;function M(e){delete e[Rt],delete e[jt],delete e[Rn],delete e[qi],delete e[Ii]}function ye(e){var t=e[Rt];if(t)return t;for(var s=e.parentNode;s;){if(t=s[rs]||s[Rt]){if(s=t.alternate,t.child!==null||s!==null&&s.child!==null)for(e=lp(e);e!==null;){if(s=e[Rt])return s;e=lp(e)}return t}e=s,s=e.parentNode}return null}function Ce(e){if(e=e[Rt]||e[rs]){var t=e.tag;if(t===5||t===6||t===13||t===31||t===26||t===27||t===3)return e}return null}function rt(e){var t=e.tag;if(t===5||t===26||t===27||t===6)return e.stateNode;throw Error(c(33))}function At(e){var t=e[Yi];return t||(t=e[Yi]={hoistableStyles:new Map,hoistableScripts:new Map}),t}function Ke(e){e[Re]=!0}var qt=new Set,Sa={};function sa(e,t){Pa(e,t),Pa(e+"Capture",t)}function Pa(e,t){for(Sa[e]=t,e=0;e<t.length;e++)qt.add(t[e])}var Ut=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),El={},Cl={};function dg(e){return ke.call(Cl,e)?!0:ke.call(El,e)?!1:Ut.test(e)?Cl[e]=!0:(El[e]=!0,!1)}function Vi(e,t,s){if(dg(t))if(s===null)e.removeAttribute(t);else{switch(typeof s){case"undefined":case"function":case"symbol":e.removeAttribute(t);return;case"boolean":var n=t.toLowerCase().slice(0,5);if(n!=="data-"&&n!=="aria-"){e.removeAttribute(t);return}}e.setAttribute(t,""+s)}}function Xi(e,t,s){if(s===null)e.removeAttribute(t);else{switch(typeof s){case"undefined":case"function":case"symbol":case"boolean":e.removeAttribute(t);return}e.setAttribute(t,""+s)}}function os(e,t,s,n){if(n===null)e.removeAttribute(s);else{switch(typeof n){case"undefined":case"function":case"symbol":case"boolean":e.removeAttribute(s);return}e.setAttributeNS(t,s,""+n)}}function Aa(e){switch(typeof e){case"bigint":case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function qu(e){var t=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(t==="checkbox"||t==="radio")}function ug(e,t,s){var n=Object.getOwnPropertyDescriptor(e.constructor.prototype,t);if(!e.hasOwnProperty(t)&&typeof n<"u"&&typeof n.get=="function"&&typeof n.set=="function"){var i=n.get,o=n.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return i.call(this)},set:function(h){s=""+h,o.call(this,h)}}),Object.defineProperty(e,t,{enumerable:n.enumerable}),{getValue:function(){return s},setValue:function(h){s=""+h},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}function zo(e){if(!e._valueTracker){var t=qu(e)?"checked":"value";e._valueTracker=ug(e,t,""+e[t])}}function Iu(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var s=t.getValue(),n="";return e&&(n=qu(e)?e.checked?"true":"false":e.value),e=n,e!==s?(t.setValue(e),!0):!1}function Qi(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}var hg=/[\n"\\]/g;function Ta(e){return e.replace(hg,function(t){return"\\"+t.charCodeAt(0).toString(16)+" "})}function Lo(e,t,s,n,i,o,h,y){e.name="",h!=null&&typeof h!="function"&&typeof h!="symbol"&&typeof h!="boolean"?e.type=h:e.removeAttribute("type"),t!=null?h==="number"?(t===0&&e.value===""||e.value!=t)&&(e.value=""+Aa(t)):e.value!==""+Aa(t)&&(e.value=""+Aa(t)):h!=="submit"&&h!=="reset"||e.removeAttribute("value"),t!=null?$o(e,h,Aa(t)):s!=null?$o(e,h,Aa(s)):n!=null&&e.removeAttribute("value"),i==null&&o!=null&&(e.defaultChecked=!!o),i!=null&&(e.checked=i&&typeof i!="function"&&typeof i!="symbol"),y!=null&&typeof y!="function"&&typeof y!="symbol"&&typeof y!="boolean"?e.name=""+Aa(y):e.removeAttribute("name")}function Yu(e,t,s,n,i,o,h,y){if(o!=null&&typeof o!="function"&&typeof o!="symbol"&&typeof o!="boolean"&&(e.type=o),t!=null||s!=null){if(!(o!=="submit"&&o!=="reset"||t!=null)){zo(e);return}s=s!=null?""+Aa(s):"",t=t!=null?""+Aa(t):s,y||t===e.value||(e.value=t),e.defaultValue=t}n=n??i,n=typeof n!="function"&&typeof n!="symbol"&&!!n,e.checked=y?e.checked:!!n,e.defaultChecked=!!n,h!=null&&typeof h!="function"&&typeof h!="symbol"&&typeof h!="boolean"&&(e.name=h),zo(e)}function $o(e,t,s){t==="number"&&Qi(e.ownerDocument)===e||e.defaultValue===""+s||(e.defaultValue=""+s)}function On(e,t,s,n){if(e=e.options,t){t={};for(var i=0;i<s.length;i++)t["$"+s[i]]=!0;for(s=0;s<e.length;s++)i=t.hasOwnProperty("$"+e[s].value),e[s].selected!==i&&(e[s].selected=i),i&&n&&(e[s].defaultSelected=!0)}else{for(s=""+Aa(s),t=null,i=0;i<e.length;i++){if(e[i].value===s){e[i].selected=!0,n&&(e[i].defaultSelected=!0);return}t!==null||e[i].disabled||(t=e[i])}t!==null&&(t.selected=!0)}}function Vu(e,t,s){if(t!=null&&(t=""+Aa(t),t!==e.value&&(e.value=t),s==null)){e.defaultValue!==t&&(e.defaultValue=t);return}e.defaultValue=s!=null?""+Aa(s):""}function Xu(e,t,s,n){if(t==null){if(n!=null){if(s!=null)throw Error(c(92));if(E(n)){if(1<n.length)throw Error(c(93));n=n[0]}s=n}s==null&&(s=""),t=s}s=Aa(t),e.defaultValue=s,n=e.textContent,n===s&&n!==""&&n!==null&&(e.value=n),zo(e)}function zn(e,t){if(t){var s=e.firstChild;if(s&&s===e.lastChild&&s.nodeType===3){s.nodeValue=t;return}}e.textContent=t}var mg=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function Qu(e,t,s){var n=t.indexOf("--")===0;s==null||typeof s=="boolean"||s===""?n?e.setProperty(t,""):t==="float"?e.cssFloat="":e[t]="":n?e.setProperty(t,s):typeof s!="number"||s===0||mg.has(t)?t==="float"?e.cssFloat=s:e[t]=(""+s).trim():e[t]=s+"px"}function Pu(e,t,s){if(t!=null&&typeof t!="object")throw Error(c(62));if(e=e.style,s!=null){for(var n in s)!s.hasOwnProperty(n)||t!=null&&t.hasOwnProperty(n)||(n.indexOf("--")===0?e.setProperty(n,""):n==="float"?e.cssFloat="":e[n]="");for(var i in t)n=t[i],t.hasOwnProperty(i)&&s[i]!==n&&Qu(e,i,n)}else for(var o in t)t.hasOwnProperty(o)&&Qu(e,o,t[o])}function Uo(e){if(e.indexOf("-")===-1)return!1;switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var fg=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),pg=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function Pi(e){return pg.test(""+e)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":e}function cs(){}var Bo=null;function Ho(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var Ln=null,$n=null;function Zu(e){var t=Ce(e);if(t&&(e=t.stateNode)){var s=e[jt]||null;e:switch(e=t.stateNode,t.type){case"input":if(Lo(e,s.value,s.defaultValue,s.defaultValue,s.checked,s.defaultChecked,s.type,s.name),t=s.name,s.type==="radio"&&t!=null){for(s=e;s.parentNode;)s=s.parentNode;for(s=s.querySelectorAll('input[name="'+Ta(""+t)+'"][type="radio"]'),t=0;t<s.length;t++){var n=s[t];if(n!==e&&n.form===e.form){var i=n[jt]||null;if(!i)throw Error(c(90));Lo(n,i.value,i.defaultValue,i.defaultValue,i.checked,i.defaultChecked,i.type,i.name)}}for(t=0;t<s.length;t++)n=s[t],n.form===e.form&&Iu(n)}break e;case"textarea":Vu(e,s.value,s.defaultValue);break e;case"select":t=s.value,t!=null&&On(e,!!s.multiple,t,!1)}}}var Go=!1;function Ku(e,t,s){if(Go)return e(t,s);Go=!0;try{var n=e(t);return n}finally{if(Go=!1,(Ln!==null||$n!==null)&&(zr(),Ln&&(t=Ln,e=$n,$n=Ln=null,Zu(t),e)))for(t=0;t<e.length;t++)Zu(e[t])}}function Dl(e,t){var s=e.stateNode;if(s===null)return null;var n=s[jt]||null;if(n===null)return null;s=n[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(n=!n.disabled)||(e=e.type,n=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!n;break e;default:e=!1}if(e)return null;if(s&&typeof s!="function")throw Error(c(231,t,typeof s));return s}var ds=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),qo=!1;if(ds)try{var Ml={};Object.defineProperty(Ml,"passive",{get:function(){qo=!0}}),window.addEventListener("test",Ml,Ml),window.removeEventListener("test",Ml,Ml)}catch{qo=!1}var _s=null,Io=null,Zi=null;function Ju(){if(Zi)return Zi;var e,t=Io,s=t.length,n,i="value"in _s?_s.value:_s.textContent,o=i.length;for(e=0;e<s&&t[e]===i[e];e++);var h=s-e;for(n=1;n<=h&&t[s-n]===i[o-n];n++);return Zi=i.slice(e,1<n?1-n:void 0)}function Ki(e){var t=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&t===13&&(e=13)):e=t,e===10&&(e=13),32<=e||e===13?e:0}function Ji(){return!0}function Wu(){return!1}function na(e){function t(s,n,i,o,h){this._reactName=s,this._targetInst=i,this.type=n,this.nativeEvent=o,this.target=h,this.currentTarget=null;for(var y in e)e.hasOwnProperty(y)&&(s=e[y],this[y]=s?s(o):o[y]);return this.isDefaultPrevented=(o.defaultPrevented!=null?o.defaultPrevented:o.returnValue===!1)?Ji:Wu,this.isPropagationStopped=Wu,this}return N(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var s=this.nativeEvent;s&&(s.preventDefault?s.preventDefault():typeof s.returnValue!="unknown"&&(s.returnValue=!1),this.isDefaultPrevented=Ji)},stopPropagation:function(){var s=this.nativeEvent;s&&(s.stopPropagation?s.stopPropagation():typeof s.cancelBubble!="unknown"&&(s.cancelBubble=!0),this.isPropagationStopped=Ji)},persist:function(){},isPersistent:Ji}),t}var dn={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Wi=na(dn),_l=N({},dn,{view:0,detail:0}),xg=na(_l),Yo,Vo,Rl,Fi=N({},_l,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Qo,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==Rl&&(Rl&&e.type==="mousemove"?(Yo=e.screenX-Rl.screenX,Vo=e.screenY-Rl.screenY):Vo=Yo=0,Rl=e),Yo)},movementY:function(e){return"movementY"in e?e.movementY:Vo}}),Fu=na(Fi),gg=N({},Fi,{dataTransfer:0}),bg=na(gg),yg=N({},_l,{relatedTarget:0}),Xo=na(yg),vg=N({},dn,{animationName:0,elapsedTime:0,pseudoElement:0}),wg=na(vg),jg=N({},dn,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),Ng=na(jg),kg=N({},dn,{data:0}),eh=na(kg),Sg={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Ag={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Tg={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Eg(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):(e=Tg[e])?!!t[e]:!1}function Qo(){return Eg}var Cg=N({},_l,{key:function(e){if(e.key){var t=Sg[e.key]||e.key;if(t!=="Unidentified")return t}return e.type==="keypress"?(e=Ki(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?Ag[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Qo,charCode:function(e){return e.type==="keypress"?Ki(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?Ki(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),Dg=na(Cg),Mg=N({},Fi,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),th=na(Mg),_g=N({},_l,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Qo}),Rg=na(_g),Og=N({},dn,{propertyName:0,elapsedTime:0,pseudoElement:0}),zg=na(Og),Lg=N({},Fi,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),$g=na(Lg),Ug=N({},dn,{newState:0,oldState:0}),Bg=na(Ug),Hg=[9,13,27,32],Po=ds&&"CompositionEvent"in window,Ol=null;ds&&"documentMode"in document&&(Ol=document.documentMode);var Gg=ds&&"TextEvent"in window&&!Ol,ah=ds&&(!Po||Ol&&8<Ol&&11>=Ol),sh=" ",nh=!1;function lh(e,t){switch(e){case"keyup":return Hg.indexOf(t.keyCode)!==-1;case"keydown":return t.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function ih(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var Un=!1;function qg(e,t){switch(e){case"compositionend":return ih(t);case"keypress":return t.which!==32?null:(nh=!0,sh);case"textInput":return e=t.data,e===sh&&nh?null:e;default:return null}}function Ig(e,t){if(Un)return e==="compositionend"||!Po&&lh(e,t)?(e=Ju(),Zi=Io=_s=null,Un=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return ah&&t.locale!=="ko"?null:t.data;default:return null}}var Yg={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function rh(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t==="input"?!!Yg[e.type]:t==="textarea"}function oh(e,t,s,n){Ln?$n?$n.push(n):$n=[n]:Ln=n,t=qr(t,"onChange"),0<t.length&&(s=new Wi("onChange","change",null,s,n),e.push({event:s,listeners:t}))}var zl=null,Ll=null;function Vg(e){Vf(e,0)}function er(e){var t=rt(e);if(Iu(t))return e}function ch(e,t){if(e==="change")return t}var dh=!1;if(ds){var Zo;if(ds){var Ko="oninput"in document;if(!Ko){var uh=document.createElement("div");uh.setAttribute("oninput","return;"),Ko=typeof uh.oninput=="function"}Zo=Ko}else Zo=!1;dh=Zo&&(!document.documentMode||9<document.documentMode)}function hh(){zl&&(zl.detachEvent("onpropertychange",mh),Ll=zl=null)}function mh(e){if(e.propertyName==="value"&&er(Ll)){var t=[];oh(t,Ll,e,Ho(e)),Ku(Vg,t)}}function Xg(e,t,s){e==="focusin"?(hh(),zl=t,Ll=s,zl.attachEvent("onpropertychange",mh)):e==="focusout"&&hh()}function Qg(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return er(Ll)}function Pg(e,t){if(e==="click")return er(t)}function Zg(e,t){if(e==="input"||e==="change")return er(t)}function Kg(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var ua=typeof Object.is=="function"?Object.is:Kg;function $l(e,t){if(ua(e,t))return!0;if(typeof e!="object"||e===null||typeof t!="object"||t===null)return!1;var s=Object.keys(e),n=Object.keys(t);if(s.length!==n.length)return!1;for(n=0;n<s.length;n++){var i=s[n];if(!ke.call(t,i)||!ua(e[i],t[i]))return!1}return!0}function fh(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function ph(e,t){var s=fh(e);e=0;for(var n;s;){if(s.nodeType===3){if(n=e+s.textContent.length,e<=t&&n>=t)return{node:s,offset:t-e};e=n}e:{for(;s;){if(s.nextSibling){s=s.nextSibling;break e}s=s.parentNode}s=void 0}s=fh(s)}}function xh(e,t){return e&&t?e===t?!0:e&&e.nodeType===3?!1:t&&t.nodeType===3?xh(e,t.parentNode):"contains"in e?e.contains(t):e.compareDocumentPosition?!!(e.compareDocumentPosition(t)&16):!1:!1}function gh(e){e=e!=null&&e.ownerDocument!=null&&e.ownerDocument.defaultView!=null?e.ownerDocument.defaultView:window;for(var t=Qi(e.document);t instanceof e.HTMLIFrameElement;){try{var s=typeof t.contentWindow.location.href=="string"}catch{s=!1}if(s)e=t.contentWindow;else break;t=Qi(e.document)}return t}function Jo(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&(t==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||t==="textarea"||e.contentEditable==="true")}var Jg=ds&&"documentMode"in document&&11>=document.documentMode,Bn=null,Wo=null,Ul=null,Fo=!1;function bh(e,t,s){var n=s.window===s?s.document:s.nodeType===9?s:s.ownerDocument;Fo||Bn==null||Bn!==Qi(n)||(n=Bn,"selectionStart"in n&&Jo(n)?n={start:n.selectionStart,end:n.selectionEnd}:(n=(n.ownerDocument&&n.ownerDocument.defaultView||window).getSelection(),n={anchorNode:n.anchorNode,anchorOffset:n.anchorOffset,focusNode:n.focusNode,focusOffset:n.focusOffset}),Ul&&$l(Ul,n)||(Ul=n,n=qr(Wo,"onSelect"),0<n.length&&(t=new Wi("onSelect","select",null,t,s),e.push({event:t,listeners:n}),t.target=Bn)))}function un(e,t){var s={};return s[e.toLowerCase()]=t.toLowerCase(),s["Webkit"+e]="webkit"+t,s["Moz"+e]="moz"+t,s}var Hn={animationend:un("Animation","AnimationEnd"),animationiteration:un("Animation","AnimationIteration"),animationstart:un("Animation","AnimationStart"),transitionrun:un("Transition","TransitionRun"),transitionstart:un("Transition","TransitionStart"),transitioncancel:un("Transition","TransitionCancel"),transitionend:un("Transition","TransitionEnd")},ec={},yh={};ds&&(yh=document.createElement("div").style,"AnimationEvent"in window||(delete Hn.animationend.animation,delete Hn.animationiteration.animation,delete Hn.animationstart.animation),"TransitionEvent"in window||delete Hn.transitionend.transition);function hn(e){if(ec[e])return ec[e];if(!Hn[e])return e;var t=Hn[e],s;for(s in t)if(t.hasOwnProperty(s)&&s in yh)return ec[e]=t[s];return e}var vh=hn("animationend"),wh=hn("animationiteration"),jh=hn("animationstart"),Wg=hn("transitionrun"),Fg=hn("transitionstart"),e0=hn("transitioncancel"),Nh=hn("transitionend"),kh=new Map,tc="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");tc.push("scrollEnd");function Ga(e,t){kh.set(e,t),sa(t,[e])}var tr=typeof reportError=="function"?reportError:function(e){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var t=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof e=="object"&&e!==null&&typeof e.message=="string"?String(e.message):String(e),error:e});if(!window.dispatchEvent(t))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",e);return}console.error(e)},Ea=[],Gn=0,ac=0;function ar(){for(var e=Gn,t=ac=Gn=0;t<e;){var s=Ea[t];Ea[t++]=null;var n=Ea[t];Ea[t++]=null;var i=Ea[t];Ea[t++]=null;var o=Ea[t];if(Ea[t++]=null,n!==null&&i!==null){var h=n.pending;h===null?i.next=i:(i.next=h.next,h.next=i),n.pending=i}o!==0&&Sh(s,i,o)}}function sr(e,t,s,n){Ea[Gn++]=e,Ea[Gn++]=t,Ea[Gn++]=s,Ea[Gn++]=n,ac|=n,e.lanes|=n,e=e.alternate,e!==null&&(e.lanes|=n)}function sc(e,t,s,n){return sr(e,t,s,n),nr(e)}function mn(e,t){return sr(e,null,null,t),nr(e)}function Sh(e,t,s){e.lanes|=s;var n=e.alternate;n!==null&&(n.lanes|=s);for(var i=!1,o=e.return;o!==null;)o.childLanes|=s,n=o.alternate,n!==null&&(n.childLanes|=s),o.tag===22&&(e=o.stateNode,e===null||e._visibility&1||(i=!0)),e=o,o=o.return;return e.tag===3?(o=e.stateNode,i&&t!==null&&(i=31-je(s),e=o.hiddenUpdates,n=e[i],n===null?e[i]=[t]:n.push(t),t.lane=s|536870912),o):null}function nr(e){if(50<ii)throw ii=0,hd=null,Error(c(185));for(var t=e.return;t!==null;)e=t,t=e.return;return e.tag===3?e.stateNode:null}var qn={};function t0(e,t,s,n){this.tag=e,this.key=s,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=n,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function ha(e,t,s,n){return new t0(e,t,s,n)}function nc(e){return e=e.prototype,!(!e||!e.isReactComponent)}function us(e,t){var s=e.alternate;return s===null?(s=ha(e.tag,t,e.key,e.mode),s.elementType=e.elementType,s.type=e.type,s.stateNode=e.stateNode,s.alternate=e,e.alternate=s):(s.pendingProps=t,s.type=e.type,s.flags=0,s.subtreeFlags=0,s.deletions=null),s.flags=e.flags&65011712,s.childLanes=e.childLanes,s.lanes=e.lanes,s.child=e.child,s.memoizedProps=e.memoizedProps,s.memoizedState=e.memoizedState,s.updateQueue=e.updateQueue,t=e.dependencies,s.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext},s.sibling=e.sibling,s.index=e.index,s.ref=e.ref,s.refCleanup=e.refCleanup,s}function Ah(e,t){e.flags&=65011714;var s=e.alternate;return s===null?(e.childLanes=0,e.lanes=t,e.child=null,e.subtreeFlags=0,e.memoizedProps=null,e.memoizedState=null,e.updateQueue=null,e.dependencies=null,e.stateNode=null):(e.childLanes=s.childLanes,e.lanes=s.lanes,e.child=s.child,e.subtreeFlags=0,e.deletions=null,e.memoizedProps=s.memoizedProps,e.memoizedState=s.memoizedState,e.updateQueue=s.updateQueue,e.type=s.type,t=s.dependencies,e.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext}),e}function lr(e,t,s,n,i,o){var h=0;if(n=e,typeof e=="function")nc(e)&&(h=1);else if(typeof e=="string")h=ib(e,s,he.current)?26:e==="html"||e==="head"||e==="body"?27:5;else e:switch(e){case Ne:return e=ha(31,s,t,i),e.elementType=Ne,e.lanes=o,e;case R:return fn(s.children,i,o,t);case K:h=8,i|=24;break;case ie:return e=ha(12,s,t,i|2),e.elementType=ie,e.lanes=o,e;case Y:return e=ha(13,s,t,i),e.elementType=Y,e.lanes=o,e;case O:return e=ha(19,s,t,i),e.elementType=O,e.lanes=o,e;default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case be:h=10;break e;case re:h=9;break e;case U:h=11;break e;case D:h=14;break e;case oe:h=16,n=null;break e}h=29,s=Error(c(130,e===null?"null":typeof e,"")),n=null}return t=ha(h,s,t,i),t.elementType=e,t.type=n,t.lanes=o,t}function fn(e,t,s,n){return e=ha(7,e,n,t),e.lanes=s,e}function lc(e,t,s){return e=ha(6,e,null,t),e.lanes=s,e}function Th(e){var t=ha(18,null,null,0);return t.stateNode=e,t}function ic(e,t,s){return t=ha(4,e.children!==null?e.children:[],e.key,t),t.lanes=s,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}var Eh=new WeakMap;function Ca(e,t){if(typeof e=="object"&&e!==null){var s=Eh.get(e);return s!==void 0?s:(t={value:e,source:t,stack:de(t)},Eh.set(e,t),t)}return{value:e,source:t,stack:de(t)}}var In=[],Yn=0,ir=null,Bl=0,Da=[],Ma=0,Rs=null,Za=1,Ka="";function hs(e,t){In[Yn++]=Bl,In[Yn++]=ir,ir=e,Bl=t}function Ch(e,t,s){Da[Ma++]=Za,Da[Ma++]=Ka,Da[Ma++]=Rs,Rs=e;var n=Za;e=Ka;var i=32-je(n)-1;n&=~(1<<i),s+=1;var o=32-je(t)+i;if(30<o){var h=i-i%5;o=(n&(1<<h)-1).toString(32),n>>=h,i-=h,Za=1<<32-je(t)+i|s<<i|n,Ka=o+e}else Za=1<<o|s<<i|n,Ka=e}function rc(e){e.return!==null&&(hs(e,1),Ch(e,1,0))}function oc(e){for(;e===ir;)ir=In[--Yn],In[Yn]=null,Bl=In[--Yn],In[Yn]=null;for(;e===Rs;)Rs=Da[--Ma],Da[Ma]=null,Ka=Da[--Ma],Da[Ma]=null,Za=Da[--Ma],Da[Ma]=null}function Dh(e,t){Da[Ma++]=Za,Da[Ma++]=Ka,Da[Ma++]=Rs,Za=t.id,Ka=t.overflow,Rs=e}var It=null,yt=null,st=!1,Os=null,_a=!1,cc=Error(c(519));function zs(e){var t=Error(c(418,1<arguments.length&&arguments[1]!==void 0&&arguments[1]?"text":"HTML",""));throw Hl(Ca(t,e)),cc}function Mh(e){var t=e.stateNode,s=e.type,n=e.memoizedProps;switch(t[Rt]=e,t[jt]=n,s){case"dialog":Fe("cancel",t),Fe("close",t);break;case"iframe":case"object":case"embed":Fe("load",t);break;case"video":case"audio":for(s=0;s<oi.length;s++)Fe(oi[s],t);break;case"source":Fe("error",t);break;case"img":case"image":case"link":Fe("error",t),Fe("load",t);break;case"details":Fe("toggle",t);break;case"input":Fe("invalid",t),Yu(t,n.value,n.defaultValue,n.checked,n.defaultChecked,n.type,n.name,!0);break;case"select":Fe("invalid",t);break;case"textarea":Fe("invalid",t),Xu(t,n.value,n.defaultValue,n.children)}s=n.children,typeof s!="string"&&typeof s!="number"&&typeof s!="bigint"||t.textContent===""+s||n.suppressHydrationWarning===!0||Zf(t.textContent,s)?(n.popover!=null&&(Fe("beforetoggle",t),Fe("toggle",t)),n.onScroll!=null&&Fe("scroll",t),n.onScrollEnd!=null&&Fe("scrollend",t),n.onClick!=null&&(t.onclick=cs),t=!0):t=!1,t||zs(e,!0)}function _h(e){for(It=e.return;It;)switch(It.tag){case 5:case 31:case 13:_a=!1;return;case 27:case 3:_a=!0;return;default:It=It.return}}function Vn(e){if(e!==It)return!1;if(!st)return _h(e),st=!0,!1;var t=e.tag,s;if((s=t!==3&&t!==27)&&((s=t===5)&&(s=e.type,s=!(s!=="form"&&s!=="button")||Td(e.type,e.memoizedProps)),s=!s),s&&yt&&zs(e),_h(e),t===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(c(317));yt=np(e)}else if(t===31){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(c(317));yt=np(e)}else t===27?(t=yt,Zs(e.type)?(e=_d,_d=null,yt=e):yt=t):yt=It?Oa(e.stateNode.nextSibling):null;return!0}function pn(){yt=It=null,st=!1}function dc(){var e=Os;return e!==null&&(oa===null?oa=e:oa.push.apply(oa,e),Os=null),e}function Hl(e){Os===null?Os=[e]:Os.push(e)}var uc=j(null),xn=null,ms=null;function Ls(e,t,s){X(uc,t._currentValue),t._currentValue=s}function fs(e){e._currentValue=uc.current,q(uc)}function hc(e,t,s){for(;e!==null;){var n=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,n!==null&&(n.childLanes|=t)):n!==null&&(n.childLanes&t)!==t&&(n.childLanes|=t),e===s)break;e=e.return}}function mc(e,t,s,n){var i=e.child;for(i!==null&&(i.return=e);i!==null;){var o=i.dependencies;if(o!==null){var h=i.child;o=o.firstContext;e:for(;o!==null;){var y=o;o=i;for(var A=0;A<t.length;A++)if(y.context===t[A]){o.lanes|=s,y=o.alternate,y!==null&&(y.lanes|=s),hc(o.return,s,e),n||(h=null);break e}o=y.next}}else if(i.tag===18){if(h=i.return,h===null)throw Error(c(341));h.lanes|=s,o=h.alternate,o!==null&&(o.lanes|=s),hc(h,s,e),h=null}else h=i.child;if(h!==null)h.return=i;else for(h=i;h!==null;){if(h===e){h=null;break}if(i=h.sibling,i!==null){i.return=h.return,h=i;break}h=h.return}i=h}}function Xn(e,t,s,n){e=null;for(var i=t,o=!1;i!==null;){if(!o){if((i.flags&524288)!==0)o=!0;else if((i.flags&262144)!==0)break}if(i.tag===10){var h=i.alternate;if(h===null)throw Error(c(387));if(h=h.memoizedProps,h!==null){var y=i.type;ua(i.pendingProps.value,h.value)||(e!==null?e.push(y):e=[y])}}else if(i===W.current){if(h=i.alternate,h===null)throw Error(c(387));h.memoizedState.memoizedState!==i.memoizedState.memoizedState&&(e!==null?e.push(mi):e=[mi])}i=i.return}e!==null&&mc(t,e,s,n),t.flags|=262144}function rr(e){for(e=e.firstContext;e!==null;){if(!ua(e.context._currentValue,e.memoizedValue))return!0;e=e.next}return!1}function gn(e){xn=e,ms=null,e=e.dependencies,e!==null&&(e.firstContext=null)}function Yt(e){return Rh(xn,e)}function or(e,t){return xn===null&&gn(e),Rh(e,t)}function Rh(e,t){var s=t._currentValue;if(t={context:t,memoizedValue:s,next:null},ms===null){if(e===null)throw Error(c(308));ms=t,e.dependencies={lanes:0,firstContext:t},e.flags|=524288}else ms=ms.next=t;return s}var a0=typeof AbortController<"u"?AbortController:function(){var e=[],t=this.signal={aborted:!1,addEventListener:function(s,n){e.push(n)}};this.abort=function(){t.aborted=!0,e.forEach(function(s){return s()})}},s0=l.unstable_scheduleCallback,n0=l.unstable_NormalPriority,Ot={$$typeof:be,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function fc(){return{controller:new a0,data:new Map,refCount:0}}function Gl(e){e.refCount--,e.refCount===0&&s0(n0,function(){e.controller.abort()})}var ql=null,pc=0,Qn=0,Pn=null;function l0(e,t){if(ql===null){var s=ql=[];pc=0,Qn=bd(),Pn={status:"pending",value:void 0,then:function(n){s.push(n)}}}return pc++,t.then(Oh,Oh),t}function Oh(){if(--pc===0&&ql!==null){Pn!==null&&(Pn.status="fulfilled");var e=ql;ql=null,Qn=0,Pn=null;for(var t=0;t<e.length;t++)(0,e[t])()}}function i0(e,t){var s=[],n={status:"pending",value:null,reason:null,then:function(i){s.push(i)}};return e.then(function(){n.status="fulfilled",n.value=t;for(var i=0;i<s.length;i++)(0,s[i])(t)},function(i){for(n.status="rejected",n.reason=i,i=0;i<s.length;i++)(0,s[i])(void 0)}),n}var zh=z.S;z.S=function(e,t){yf=ge(),typeof t=="object"&&t!==null&&typeof t.then=="function"&&l0(e,t),zh!==null&&zh(e,t)};var bn=j(null);function xc(){var e=bn.current;return e!==null?e:pt.pooledCache}function cr(e,t){t===null?X(bn,bn.current):X(bn,t.pool)}function Lh(){var e=xc();return e===null?null:{parent:Ot._currentValue,pool:e}}var Zn=Error(c(460)),gc=Error(c(474)),dr=Error(c(542)),ur={then:function(){}};function $h(e){return e=e.status,e==="fulfilled"||e==="rejected"}function Uh(e,t,s){switch(s=e[s],s===void 0?e.push(t):s!==t&&(t.then(cs,cs),t=s),t.status){case"fulfilled":return t.value;case"rejected":throw e=t.reason,Hh(e),e;default:if(typeof t.status=="string")t.then(cs,cs);else{if(e=pt,e!==null&&100<e.shellSuspendCounter)throw Error(c(482));e=t,e.status="pending",e.then(function(n){if(t.status==="pending"){var i=t;i.status="fulfilled",i.value=n}},function(n){if(t.status==="pending"){var i=t;i.status="rejected",i.reason=n}})}switch(t.status){case"fulfilled":return t.value;case"rejected":throw e=t.reason,Hh(e),e}throw vn=t,Zn}}function yn(e){try{var t=e._init;return t(e._payload)}catch(s){throw s!==null&&typeof s=="object"&&typeof s.then=="function"?(vn=s,Zn):s}}var vn=null;function Bh(){if(vn===null)throw Error(c(459));var e=vn;return vn=null,e}function Hh(e){if(e===Zn||e===dr)throw Error(c(483))}var Kn=null,Il=0;function hr(e){var t=Il;return Il+=1,Kn===null&&(Kn=[]),Uh(Kn,e,t)}function Yl(e,t){t=t.props.ref,e.ref=t!==void 0?t:null}function mr(e,t){throw t.$$typeof===w?Error(c(525)):(e=Object.prototype.toString.call(t),Error(c(31,e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e)))}function Gh(e){function t($,_){if(e){var B=$.deletions;B===null?($.deletions=[_],$.flags|=16):B.push(_)}}function s($,_){if(!e)return null;for(;_!==null;)t($,_),_=_.sibling;return null}function n($){for(var _=new Map;$!==null;)$.key!==null?_.set($.key,$):_.set($.index,$),$=$.sibling;return _}function i($,_){return $=us($,_),$.index=0,$.sibling=null,$}function o($,_,B){return $.index=B,e?(B=$.alternate,B!==null?(B=B.index,B<_?($.flags|=67108866,_):B):($.flags|=67108866,_)):($.flags|=1048576,_)}function h($){return e&&$.alternate===null&&($.flags|=67108866),$}function y($,_,B,ue){return _===null||_.tag!==6?(_=lc(B,$.mode,ue),_.return=$,_):(_=i(_,B),_.return=$,_)}function A($,_,B,ue){var $e=B.type;return $e===R?le($,_,B.props.children,ue,B.key):_!==null&&(_.elementType===$e||typeof $e=="object"&&$e!==null&&$e.$$typeof===oe&&yn($e)===_.type)?(_=i(_,B.props),Yl(_,B),_.return=$,_):(_=lr(B.type,B.key,B.props,null,$.mode,ue),Yl(_,B),_.return=$,_)}function H($,_,B,ue){return _===null||_.tag!==4||_.stateNode.containerInfo!==B.containerInfo||_.stateNode.implementation!==B.implementation?(_=ic(B,$.mode,ue),_.return=$,_):(_=i(_,B.children||[]),_.return=$,_)}function le($,_,B,ue,$e){return _===null||_.tag!==7?(_=fn(B,$.mode,ue,$e),_.return=$,_):(_=i(_,B),_.return=$,_)}function me($,_,B){if(typeof _=="string"&&_!==""||typeof _=="number"||typeof _=="bigint")return _=lc(""+_,$.mode,B),_.return=$,_;if(typeof _=="object"&&_!==null){switch(_.$$typeof){case C:return B=lr(_.type,_.key,_.props,null,$.mode,B),Yl(B,_),B.return=$,B;case L:return _=ic(_,$.mode,B),_.return=$,_;case oe:return _=yn(_),me($,_,B)}if(E(_)||Ae(_))return _=fn(_,$.mode,B,null),_.return=$,_;if(typeof _.then=="function")return me($,hr(_),B);if(_.$$typeof===be)return me($,or($,_),B);mr($,_)}return null}function V($,_,B,ue){var $e=_!==null?_.key:null;if(typeof B=="string"&&B!==""||typeof B=="number"||typeof B=="bigint")return $e!==null?null:y($,_,""+B,ue);if(typeof B=="object"&&B!==null){switch(B.$$typeof){case C:return B.key===$e?A($,_,B,ue):null;case L:return B.key===$e?H($,_,B,ue):null;case oe:return B=yn(B),V($,_,B,ue)}if(E(B)||Ae(B))return $e!==null?null:le($,_,B,ue,null);if(typeof B.then=="function")return V($,_,hr(B),ue);if(B.$$typeof===be)return V($,_,or($,B),ue);mr($,B)}return null}function Z($,_,B,ue,$e){if(typeof ue=="string"&&ue!==""||typeof ue=="number"||typeof ue=="bigint")return $=$.get(B)||null,y(_,$,""+ue,$e);if(typeof ue=="object"&&ue!==null){switch(ue.$$typeof){case C:return $=$.get(ue.key===null?B:ue.key)||null,A(_,$,ue,$e);case L:return $=$.get(ue.key===null?B:ue.key)||null,H(_,$,ue,$e);case oe:return ue=yn(ue),Z($,_,B,ue,$e)}if(E(ue)||Ae(ue))return $=$.get(B)||null,le(_,$,ue,$e,null);if(typeof ue.then=="function")return Z($,_,B,hr(ue),$e);if(ue.$$typeof===be)return Z($,_,B,or(_,ue),$e);mr(_,ue)}return null}function _e($,_,B,ue){for(var $e=null,nt=null,Oe=_,Pe=_=0,at=null;Oe!==null&&Pe<B.length;Pe++){Oe.index>Pe?(at=Oe,Oe=null):at=Oe.sibling;var lt=V($,Oe,B[Pe],ue);if(lt===null){Oe===null&&(Oe=at);break}e&&Oe&&lt.alternate===null&&t($,Oe),_=o(lt,_,Pe),nt===null?$e=lt:nt.sibling=lt,nt=lt,Oe=at}if(Pe===B.length)return s($,Oe),st&&hs($,Pe),$e;if(Oe===null){for(;Pe<B.length;Pe++)Oe=me($,B[Pe],ue),Oe!==null&&(_=o(Oe,_,Pe),nt===null?$e=Oe:nt.sibling=Oe,nt=Oe);return st&&hs($,Pe),$e}for(Oe=n(Oe);Pe<B.length;Pe++)at=Z(Oe,$,Pe,B[Pe],ue),at!==null&&(e&&at.alternate!==null&&Oe.delete(at.key===null?Pe:at.key),_=o(at,_,Pe),nt===null?$e=at:nt.sibling=at,nt=at);return e&&Oe.forEach(function(en){return t($,en)}),st&&hs($,Pe),$e}function Be($,_,B,ue){if(B==null)throw Error(c(151));for(var $e=null,nt=null,Oe=_,Pe=_=0,at=null,lt=B.next();Oe!==null&&!lt.done;Pe++,lt=B.next()){Oe.index>Pe?(at=Oe,Oe=null):at=Oe.sibling;var en=V($,Oe,lt.value,ue);if(en===null){Oe===null&&(Oe=at);break}e&&Oe&&en.alternate===null&&t($,Oe),_=o(en,_,Pe),nt===null?$e=en:nt.sibling=en,nt=en,Oe=at}if(lt.done)return s($,Oe),st&&hs($,Pe),$e;if(Oe===null){for(;!lt.done;Pe++,lt=B.next())lt=me($,lt.value,ue),lt!==null&&(_=o(lt,_,Pe),nt===null?$e=lt:nt.sibling=lt,nt=lt);return st&&hs($,Pe),$e}for(Oe=n(Oe);!lt.done;Pe++,lt=B.next())lt=Z(Oe,$,Pe,lt.value,ue),lt!==null&&(e&&lt.alternate!==null&&Oe.delete(lt.key===null?Pe:lt.key),_=o(lt,_,Pe),nt===null?$e=lt:nt.sibling=lt,nt=lt);return e&&Oe.forEach(function(gb){return t($,gb)}),st&&hs($,Pe),$e}function ft($,_,B,ue){if(typeof B=="object"&&B!==null&&B.type===R&&B.key===null&&(B=B.props.children),typeof B=="object"&&B!==null){switch(B.$$typeof){case C:e:{for(var $e=B.key;_!==null;){if(_.key===$e){if($e=B.type,$e===R){if(_.tag===7){s($,_.sibling),ue=i(_,B.props.children),ue.return=$,$=ue;break e}}else if(_.elementType===$e||typeof $e=="object"&&$e!==null&&$e.$$typeof===oe&&yn($e)===_.type){s($,_.sibling),ue=i(_,B.props),Yl(ue,B),ue.return=$,$=ue;break e}s($,_);break}else t($,_);_=_.sibling}B.type===R?(ue=fn(B.props.children,$.mode,ue,B.key),ue.return=$,$=ue):(ue=lr(B.type,B.key,B.props,null,$.mode,ue),Yl(ue,B),ue.return=$,$=ue)}return h($);case L:e:{for($e=B.key;_!==null;){if(_.key===$e)if(_.tag===4&&_.stateNode.containerInfo===B.containerInfo&&_.stateNode.implementation===B.implementation){s($,_.sibling),ue=i(_,B.children||[]),ue.return=$,$=ue;break e}else{s($,_);break}else t($,_);_=_.sibling}ue=ic(B,$.mode,ue),ue.return=$,$=ue}return h($);case oe:return B=yn(B),ft($,_,B,ue)}if(E(B))return _e($,_,B,ue);if(Ae(B)){if($e=Ae(B),typeof $e!="function")throw Error(c(150));return B=$e.call(B),Be($,_,B,ue)}if(typeof B.then=="function")return ft($,_,hr(B),ue);if(B.$$typeof===be)return ft($,_,or($,B),ue);mr($,B)}return typeof B=="string"&&B!==""||typeof B=="number"||typeof B=="bigint"?(B=""+B,_!==null&&_.tag===6?(s($,_.sibling),ue=i(_,B),ue.return=$,$=ue):(s($,_),ue=lc(B,$.mode,ue),ue.return=$,$=ue),h($)):s($,_)}return function($,_,B,ue){try{Il=0;var $e=ft($,_,B,ue);return Kn=null,$e}catch(Oe){if(Oe===Zn||Oe===dr)throw Oe;var nt=ha(29,Oe,null,$.mode);return nt.lanes=ue,nt.return=$,nt}finally{}}}var wn=Gh(!0),qh=Gh(!1),$s=!1;function bc(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function yc(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,callbacks:null})}function Us(e){return{lane:e,tag:0,payload:null,callback:null,next:null}}function Bs(e,t,s){var n=e.updateQueue;if(n===null)return null;if(n=n.shared,(it&2)!==0){var i=n.pending;return i===null?t.next=t:(t.next=i.next,i.next=t),n.pending=t,t=nr(e),Sh(e,null,s),t}return sr(e,n,t,s),nr(e)}function Vl(e,t,s){if(t=t.updateQueue,t!==null&&(t=t.shared,(s&4194048)!==0)){var n=t.lanes;n&=e.pendingLanes,s|=n,t.lanes=s,Sl(e,s)}}function vc(e,t){var s=e.updateQueue,n=e.alternate;if(n!==null&&(n=n.updateQueue,s===n)){var i=null,o=null;if(s=s.firstBaseUpdate,s!==null){do{var h={lane:s.lane,tag:s.tag,payload:s.payload,callback:null,next:null};o===null?i=o=h:o=o.next=h,s=s.next}while(s!==null);o===null?i=o=t:o=o.next=t}else i=o=t;s={baseState:n.baseState,firstBaseUpdate:i,lastBaseUpdate:o,shared:n.shared,callbacks:n.callbacks},e.updateQueue=s;return}e=s.lastBaseUpdate,e===null?s.firstBaseUpdate=t:e.next=t,s.lastBaseUpdate=t}var wc=!1;function Xl(){if(wc){var e=Pn;if(e!==null)throw e}}function Ql(e,t,s,n){wc=!1;var i=e.updateQueue;$s=!1;var o=i.firstBaseUpdate,h=i.lastBaseUpdate,y=i.shared.pending;if(y!==null){i.shared.pending=null;var A=y,H=A.next;A.next=null,h===null?o=H:h.next=H,h=A;var le=e.alternate;le!==null&&(le=le.updateQueue,y=le.lastBaseUpdate,y!==h&&(y===null?le.firstBaseUpdate=H:y.next=H,le.lastBaseUpdate=A))}if(o!==null){var me=i.baseState;h=0,le=H=A=null,y=o;do{var V=y.lane&-536870913,Z=V!==y.lane;if(Z?(tt&V)===V:(n&V)===V){V!==0&&V===Qn&&(wc=!0),le!==null&&(le=le.next={lane:0,tag:y.tag,payload:y.payload,callback:null,next:null});e:{var _e=e,Be=y;V=t;var ft=s;switch(Be.tag){case 1:if(_e=Be.payload,typeof _e=="function"){me=_e.call(ft,me,V);break e}me=_e;break e;case 3:_e.flags=_e.flags&-65537|128;case 0:if(_e=Be.payload,V=typeof _e=="function"?_e.call(ft,me,V):_e,V==null)break e;me=N({},me,V);break e;case 2:$s=!0}}V=y.callback,V!==null&&(e.flags|=64,Z&&(e.flags|=8192),Z=i.callbacks,Z===null?i.callbacks=[V]:Z.push(V))}else Z={lane:V,tag:y.tag,payload:y.payload,callback:y.callback,next:null},le===null?(H=le=Z,A=me):le=le.next=Z,h|=V;if(y=y.next,y===null){if(y=i.shared.pending,y===null)break;Z=y,y=Z.next,Z.next=null,i.lastBaseUpdate=Z,i.shared.pending=null}}while(!0);le===null&&(A=me),i.baseState=A,i.firstBaseUpdate=H,i.lastBaseUpdate=le,o===null&&(i.shared.lanes=0),Ys|=h,e.lanes=h,e.memoizedState=me}}function Ih(e,t){if(typeof e!="function")throw Error(c(191,e));e.call(t)}function Yh(e,t){var s=e.callbacks;if(s!==null)for(e.callbacks=null,e=0;e<s.length;e++)Ih(s[e],t)}var Jn=j(null),fr=j(0);function Vh(e,t){e=Ns,X(fr,e),X(Jn,t),Ns=e|t.baseLanes}function jc(){X(fr,Ns),X(Jn,Jn.current)}function Nc(){Ns=fr.current,q(Jn),q(fr)}var ma=j(null),Ra=null;function Hs(e){var t=e.alternate;X(Dt,Dt.current&1),X(ma,e),Ra===null&&(t===null||Jn.current!==null||t.memoizedState!==null)&&(Ra=e)}function kc(e){X(Dt,Dt.current),X(ma,e),Ra===null&&(Ra=e)}function Xh(e){e.tag===22?(X(Dt,Dt.current),X(ma,e),Ra===null&&(Ra=e)):Gs()}function Gs(){X(Dt,Dt.current),X(ma,ma.current)}function fa(e){q(ma),Ra===e&&(Ra=null),q(Dt)}var Dt=j(0);function pr(e){for(var t=e;t!==null;){if(t.tag===13){var s=t.memoizedState;if(s!==null&&(s=s.dehydrated,s===null||Dd(s)||Md(s)))return t}else if(t.tag===19&&(t.memoizedProps.revealOrder==="forwards"||t.memoizedProps.revealOrder==="backwards"||t.memoizedProps.revealOrder==="unstable_legacy-backwards"||t.memoizedProps.revealOrder==="together")){if((t.flags&128)!==0)return t}else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var ps=0,Ve=null,ht=null,zt=null,xr=!1,Wn=!1,jn=!1,gr=0,Pl=0,Fn=null,r0=0;function Tt(){throw Error(c(321))}function Sc(e,t){if(t===null)return!1;for(var s=0;s<t.length&&s<e.length;s++)if(!ua(e[s],t[s]))return!1;return!0}function Ac(e,t,s,n,i,o){return ps=o,Ve=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,z.H=e===null||e.memoizedState===null?Cm:Gc,jn=!1,o=s(n,i),jn=!1,Wn&&(o=Ph(t,s,n,i)),Qh(e),o}function Qh(e){z.H=Jl;var t=ht!==null&&ht.next!==null;if(ps=0,zt=ht=Ve=null,xr=!1,Pl=0,Fn=null,t)throw Error(c(300));e===null||Lt||(e=e.dependencies,e!==null&&rr(e)&&(Lt=!0))}function Ph(e,t,s,n){Ve=e;var i=0;do{if(Wn&&(Fn=null),Pl=0,Wn=!1,25<=i)throw Error(c(301));if(i+=1,zt=ht=null,e.updateQueue!=null){var o=e.updateQueue;o.lastEffect=null,o.events=null,o.stores=null,o.memoCache!=null&&(o.memoCache.index=0)}z.H=Dm,o=t(s,n)}while(Wn);return o}function o0(){var e=z.H,t=e.useState()[0];return t=typeof t.then=="function"?Zl(t):t,e=e.useState()[0],(ht!==null?ht.memoizedState:null)!==e&&(Ve.flags|=1024),t}function Tc(){var e=gr!==0;return gr=0,e}function Ec(e,t,s){t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~s}function Cc(e){if(xr){for(e=e.memoizedState;e!==null;){var t=e.queue;t!==null&&(t.pending=null),e=e.next}xr=!1}ps=0,zt=ht=Ve=null,Wn=!1,Pl=gr=0,Fn=null}function Kt(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return zt===null?Ve.memoizedState=zt=e:zt=zt.next=e,zt}function Mt(){if(ht===null){var e=Ve.alternate;e=e!==null?e.memoizedState:null}else e=ht.next;var t=zt===null?Ve.memoizedState:zt.next;if(t!==null)zt=t,ht=e;else{if(e===null)throw Ve.alternate===null?Error(c(467)):Error(c(310));ht=e,e={memoizedState:ht.memoizedState,baseState:ht.baseState,baseQueue:ht.baseQueue,queue:ht.queue,next:null},zt===null?Ve.memoizedState=zt=e:zt=zt.next=e}return zt}function br(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function Zl(e){var t=Pl;return Pl+=1,Fn===null&&(Fn=[]),e=Uh(Fn,e,t),t=Ve,(zt===null?t.memoizedState:zt.next)===null&&(t=t.alternate,z.H=t===null||t.memoizedState===null?Cm:Gc),e}function yr(e){if(e!==null&&typeof e=="object"){if(typeof e.then=="function")return Zl(e);if(e.$$typeof===be)return Yt(e)}throw Error(c(438,String(e)))}function Dc(e){var t=null,s=Ve.updateQueue;if(s!==null&&(t=s.memoCache),t==null){var n=Ve.alternate;n!==null&&(n=n.updateQueue,n!==null&&(n=n.memoCache,n!=null&&(t={data:n.data.map(function(i){return i.slice()}),index:0})))}if(t==null&&(t={data:[],index:0}),s===null&&(s=br(),Ve.updateQueue=s),s.memoCache=t,s=t.data[t.index],s===void 0)for(s=t.data[t.index]=Array(e),n=0;n<e;n++)s[n]=P;return t.index++,s}function xs(e,t){return typeof t=="function"?t(e):t}function vr(e){var t=Mt();return Mc(t,ht,e)}function Mc(e,t,s){var n=e.queue;if(n===null)throw Error(c(311));n.lastRenderedReducer=s;var i=e.baseQueue,o=n.pending;if(o!==null){if(i!==null){var h=i.next;i.next=o.next,o.next=h}t.baseQueue=i=o,n.pending=null}if(o=e.baseState,i===null)e.memoizedState=o;else{t=i.next;var y=h=null,A=null,H=t,le=!1;do{var me=H.lane&-536870913;if(me!==H.lane?(tt&me)===me:(ps&me)===me){var V=H.revertLane;if(V===0)A!==null&&(A=A.next={lane:0,revertLane:0,gesture:null,action:H.action,hasEagerState:H.hasEagerState,eagerState:H.eagerState,next:null}),me===Qn&&(le=!0);else if((ps&V)===V){H=H.next,V===Qn&&(le=!0);continue}else me={lane:0,revertLane:H.revertLane,gesture:null,action:H.action,hasEagerState:H.hasEagerState,eagerState:H.eagerState,next:null},A===null?(y=A=me,h=o):A=A.next=me,Ve.lanes|=V,Ys|=V;me=H.action,jn&&s(o,me),o=H.hasEagerState?H.eagerState:s(o,me)}else V={lane:me,revertLane:H.revertLane,gesture:H.gesture,action:H.action,hasEagerState:H.hasEagerState,eagerState:H.eagerState,next:null},A===null?(y=A=V,h=o):A=A.next=V,Ve.lanes|=me,Ys|=me;H=H.next}while(H!==null&&H!==t);if(A===null?h=o:A.next=y,!ua(o,e.memoizedState)&&(Lt=!0,le&&(s=Pn,s!==null)))throw s;e.memoizedState=o,e.baseState=h,e.baseQueue=A,n.lastRenderedState=o}return i===null&&(n.lanes=0),[e.memoizedState,n.dispatch]}function _c(e){var t=Mt(),s=t.queue;if(s===null)throw Error(c(311));s.lastRenderedReducer=e;var n=s.dispatch,i=s.pending,o=t.memoizedState;if(i!==null){s.pending=null;var h=i=i.next;do o=e(o,h.action),h=h.next;while(h!==i);ua(o,t.memoizedState)||(Lt=!0),t.memoizedState=o,t.baseQueue===null&&(t.baseState=o),s.lastRenderedState=o}return[o,n]}function Zh(e,t,s){var n=Ve,i=Mt(),o=st;if(o){if(s===void 0)throw Error(c(407));s=s()}else s=t();var h=!ua((ht||i).memoizedState,s);if(h&&(i.memoizedState=s,Lt=!0),i=i.queue,zc(Wh.bind(null,n,i,e),[e]),i.getSnapshot!==t||h||zt!==null&&zt.memoizedState.tag&1){if(n.flags|=2048,el(9,{destroy:void 0},Jh.bind(null,n,i,s,t),null),pt===null)throw Error(c(349));o||(ps&127)!==0||Kh(n,t,s)}return s}function Kh(e,t,s){e.flags|=16384,e={getSnapshot:t,value:s},t=Ve.updateQueue,t===null?(t=br(),Ve.updateQueue=t,t.stores=[e]):(s=t.stores,s===null?t.stores=[e]:s.push(e))}function Jh(e,t,s,n){t.value=s,t.getSnapshot=n,Fh(t)&&em(e)}function Wh(e,t,s){return s(function(){Fh(t)&&em(e)})}function Fh(e){var t=e.getSnapshot;e=e.value;try{var s=t();return!ua(e,s)}catch{return!0}}function em(e){var t=mn(e,2);t!==null&&ca(t,e,2)}function Rc(e){var t=Kt();if(typeof e=="function"){var s=e;if(e=s(),jn){Je(!0);try{s()}finally{Je(!1)}}}return t.memoizedState=t.baseState=e,t.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:xs,lastRenderedState:e},t}function tm(e,t,s,n){return e.baseState=s,Mc(e,ht,typeof n=="function"?n:xs)}function c0(e,t,s,n,i){if(Nr(e))throw Error(c(485));if(e=t.action,e!==null){var o={payload:i,action:e,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(h){o.listeners.push(h)}};z.T!==null?s(!0):o.isTransition=!1,n(o),s=t.pending,s===null?(o.next=t.pending=o,am(t,o)):(o.next=s.next,t.pending=s.next=o)}}function am(e,t){var s=t.action,n=t.payload,i=e.state;if(t.isTransition){var o=z.T,h={};z.T=h;try{var y=s(i,n),A=z.S;A!==null&&A(h,y),sm(e,t,y)}catch(H){Oc(e,t,H)}finally{o!==null&&h.types!==null&&(o.types=h.types),z.T=o}}else try{o=s(i,n),sm(e,t,o)}catch(H){Oc(e,t,H)}}function sm(e,t,s){s!==null&&typeof s=="object"&&typeof s.then=="function"?s.then(function(n){nm(e,t,n)},function(n){return Oc(e,t,n)}):nm(e,t,s)}function nm(e,t,s){t.status="fulfilled",t.value=s,lm(t),e.state=s,t=e.pending,t!==null&&(s=t.next,s===t?e.pending=null:(s=s.next,t.next=s,am(e,s)))}function Oc(e,t,s){var n=e.pending;if(e.pending=null,n!==null){n=n.next;do t.status="rejected",t.reason=s,lm(t),t=t.next;while(t!==n)}e.action=null}function lm(e){e=e.listeners;for(var t=0;t<e.length;t++)(0,e[t])()}function im(e,t){return t}function rm(e,t){if(st){var s=pt.formState;if(s!==null){e:{var n=Ve;if(st){if(yt){t:{for(var i=yt,o=_a;i.nodeType!==8;){if(!o){i=null;break t}if(i=Oa(i.nextSibling),i===null){i=null;break t}}o=i.data,i=o==="F!"||o==="F"?i:null}if(i){yt=Oa(i.nextSibling),n=i.data==="F!";break e}}zs(n)}n=!1}n&&(t=s[0])}}return s=Kt(),s.memoizedState=s.baseState=t,n={pending:null,lanes:0,dispatch:null,lastRenderedReducer:im,lastRenderedState:t},s.queue=n,s=Am.bind(null,Ve,n),n.dispatch=s,n=Rc(!1),o=Hc.bind(null,Ve,!1,n.queue),n=Kt(),i={state:t,dispatch:null,action:e,pending:null},n.queue=i,s=c0.bind(null,Ve,i,o,s),i.dispatch=s,n.memoizedState=e,[t,s,!1]}function om(e){var t=Mt();return cm(t,ht,e)}function cm(e,t,s){if(t=Mc(e,t,im)[0],e=vr(xs)[0],typeof t=="object"&&t!==null&&typeof t.then=="function")try{var n=Zl(t)}catch(h){throw h===Zn?dr:h}else n=t;t=Mt();var i=t.queue,o=i.dispatch;return s!==t.memoizedState&&(Ve.flags|=2048,el(9,{destroy:void 0},d0.bind(null,i,s),null)),[n,o,e]}function d0(e,t){e.action=t}function dm(e){var t=Mt(),s=ht;if(s!==null)return cm(t,s,e);Mt(),t=t.memoizedState,s=Mt();var n=s.queue.dispatch;return s.memoizedState=e,[t,n,!1]}function el(e,t,s,n){return e={tag:e,create:s,deps:n,inst:t,next:null},t=Ve.updateQueue,t===null&&(t=br(),Ve.updateQueue=t),s=t.lastEffect,s===null?t.lastEffect=e.next=e:(n=s.next,s.next=e,e.next=n,t.lastEffect=e),e}function um(){return Mt().memoizedState}function wr(e,t,s,n){var i=Kt();Ve.flags|=e,i.memoizedState=el(1|t,{destroy:void 0},s,n===void 0?null:n)}function jr(e,t,s,n){var i=Mt();n=n===void 0?null:n;var o=i.memoizedState.inst;ht!==null&&n!==null&&Sc(n,ht.memoizedState.deps)?i.memoizedState=el(t,o,s,n):(Ve.flags|=e,i.memoizedState=el(1|t,o,s,n))}function hm(e,t){wr(8390656,8,e,t)}function zc(e,t){jr(2048,8,e,t)}function u0(e){Ve.flags|=4;var t=Ve.updateQueue;if(t===null)t=br(),Ve.updateQueue=t,t.events=[e];else{var s=t.events;s===null?t.events=[e]:s.push(e)}}function mm(e){var t=Mt().memoizedState;return u0({ref:t,nextImpl:e}),function(){if((it&2)!==0)throw Error(c(440));return t.impl.apply(void 0,arguments)}}function fm(e,t){return jr(4,2,e,t)}function pm(e,t){return jr(4,4,e,t)}function xm(e,t){if(typeof t=="function"){e=e();var s=t(e);return function(){typeof s=="function"?s():t(null)}}if(t!=null)return e=e(),t.current=e,function(){t.current=null}}function gm(e,t,s){s=s!=null?s.concat([e]):null,jr(4,4,xm.bind(null,t,e),s)}function Lc(){}function bm(e,t){var s=Mt();t=t===void 0?null:t;var n=s.memoizedState;return t!==null&&Sc(t,n[1])?n[0]:(s.memoizedState=[e,t],e)}function ym(e,t){var s=Mt();t=t===void 0?null:t;var n=s.memoizedState;if(t!==null&&Sc(t,n[1]))return n[0];if(n=e(),jn){Je(!0);try{e()}finally{Je(!1)}}return s.memoizedState=[n,t],n}function $c(e,t,s){return s===void 0||(ps&1073741824)!==0&&(tt&261930)===0?e.memoizedState=t:(e.memoizedState=s,e=wf(),Ve.lanes|=e,Ys|=e,s)}function vm(e,t,s,n){return ua(s,t)?s:Jn.current!==null?(e=$c(e,s,n),ua(e,t)||(Lt=!0),e):(ps&42)===0||(ps&1073741824)!==0&&(tt&261930)===0?(Lt=!0,e.memoizedState=s):(e=wf(),Ve.lanes|=e,Ys|=e,t)}function wm(e,t,s,n,i){var o=te.p;te.p=o!==0&&8>o?o:8;var h=z.T,y={};z.T=y,Hc(e,!1,t,s);try{var A=i(),H=z.S;if(H!==null&&H(y,A),A!==null&&typeof A=="object"&&typeof A.then=="function"){var le=i0(A,n);Kl(e,t,le,ga(e))}else Kl(e,t,n,ga(e))}catch(me){Kl(e,t,{then:function(){},status:"rejected",reason:me},ga())}finally{te.p=o,h!==null&&y.types!==null&&(h.types=y.types),z.T=h}}function h0(){}function Uc(e,t,s,n){if(e.tag!==5)throw Error(c(476));var i=jm(e).queue;wm(e,i,t,ve,s===null?h0:function(){return Nm(e),s(n)})}function jm(e){var t=e.memoizedState;if(t!==null)return t;t={memoizedState:ve,baseState:ve,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:xs,lastRenderedState:ve},next:null};var s={};return t.next={memoizedState:s,baseState:s,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:xs,lastRenderedState:s},next:null},e.memoizedState=t,e=e.alternate,e!==null&&(e.memoizedState=t),t}function Nm(e){var t=jm(e);t.next===null&&(t=e.alternate.memoizedState),Kl(e,t.next.queue,{},ga())}function Bc(){return Yt(mi)}function km(){return Mt().memoizedState}function Sm(){return Mt().memoizedState}function m0(e){for(var t=e.return;t!==null;){switch(t.tag){case 24:case 3:var s=ga();e=Us(s);var n=Bs(t,e,s);n!==null&&(ca(n,t,s),Vl(n,t,s)),t={cache:fc()},e.payload=t;return}t=t.return}}function f0(e,t,s){var n=ga();s={lane:n,revertLane:0,gesture:null,action:s,hasEagerState:!1,eagerState:null,next:null},Nr(e)?Tm(t,s):(s=sc(e,t,s,n),s!==null&&(ca(s,e,n),Em(s,t,n)))}function Am(e,t,s){var n=ga();Kl(e,t,s,n)}function Kl(e,t,s,n){var i={lane:n,revertLane:0,gesture:null,action:s,hasEagerState:!1,eagerState:null,next:null};if(Nr(e))Tm(t,i);else{var o=e.alternate;if(e.lanes===0&&(o===null||o.lanes===0)&&(o=t.lastRenderedReducer,o!==null))try{var h=t.lastRenderedState,y=o(h,s);if(i.hasEagerState=!0,i.eagerState=y,ua(y,h))return sr(e,t,i,0),pt===null&&ar(),!1}catch{}finally{}if(s=sc(e,t,i,n),s!==null)return ca(s,e,n),Em(s,t,n),!0}return!1}function Hc(e,t,s,n){if(n={lane:2,revertLane:bd(),gesture:null,action:n,hasEagerState:!1,eagerState:null,next:null},Nr(e)){if(t)throw Error(c(479))}else t=sc(e,s,n,2),t!==null&&ca(t,e,2)}function Nr(e){var t=e.alternate;return e===Ve||t!==null&&t===Ve}function Tm(e,t){Wn=xr=!0;var s=e.pending;s===null?t.next=t:(t.next=s.next,s.next=t),e.pending=t}function Em(e,t,s){if((s&4194048)!==0){var n=t.lanes;n&=e.pendingLanes,s|=n,t.lanes=s,Sl(e,s)}}var Jl={readContext:Yt,use:yr,useCallback:Tt,useContext:Tt,useEffect:Tt,useImperativeHandle:Tt,useLayoutEffect:Tt,useInsertionEffect:Tt,useMemo:Tt,useReducer:Tt,useRef:Tt,useState:Tt,useDebugValue:Tt,useDeferredValue:Tt,useTransition:Tt,useSyncExternalStore:Tt,useId:Tt,useHostTransitionStatus:Tt,useFormState:Tt,useActionState:Tt,useOptimistic:Tt,useMemoCache:Tt,useCacheRefresh:Tt};Jl.useEffectEvent=Tt;var Cm={readContext:Yt,use:yr,useCallback:function(e,t){return Kt().memoizedState=[e,t===void 0?null:t],e},useContext:Yt,useEffect:hm,useImperativeHandle:function(e,t,s){s=s!=null?s.concat([e]):null,wr(4194308,4,xm.bind(null,t,e),s)},useLayoutEffect:function(e,t){return wr(4194308,4,e,t)},useInsertionEffect:function(e,t){wr(4,2,e,t)},useMemo:function(e,t){var s=Kt();t=t===void 0?null:t;var n=e();if(jn){Je(!0);try{e()}finally{Je(!1)}}return s.memoizedState=[n,t],n},useReducer:function(e,t,s){var n=Kt();if(s!==void 0){var i=s(t);if(jn){Je(!0);try{s(t)}finally{Je(!1)}}}else i=t;return n.memoizedState=n.baseState=i,e={pending:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:i},n.queue=e,e=e.dispatch=f0.bind(null,Ve,e),[n.memoizedState,e]},useRef:function(e){var t=Kt();return e={current:e},t.memoizedState=e},useState:function(e){e=Rc(e);var t=e.queue,s=Am.bind(null,Ve,t);return t.dispatch=s,[e.memoizedState,s]},useDebugValue:Lc,useDeferredValue:function(e,t){var s=Kt();return $c(s,e,t)},useTransition:function(){var e=Rc(!1);return e=wm.bind(null,Ve,e.queue,!0,!1),Kt().memoizedState=e,[!1,e]},useSyncExternalStore:function(e,t,s){var n=Ve,i=Kt();if(st){if(s===void 0)throw Error(c(407));s=s()}else{if(s=t(),pt===null)throw Error(c(349));(tt&127)!==0||Kh(n,t,s)}i.memoizedState=s;var o={value:s,getSnapshot:t};return i.queue=o,hm(Wh.bind(null,n,o,e),[e]),n.flags|=2048,el(9,{destroy:void 0},Jh.bind(null,n,o,s,t),null),s},useId:function(){var e=Kt(),t=pt.identifierPrefix;if(st){var s=Ka,n=Za;s=(n&~(1<<32-je(n)-1)).toString(32)+s,t="_"+t+"R_"+s,s=gr++,0<s&&(t+="H"+s.toString(32)),t+="_"}else s=r0++,t="_"+t+"r_"+s.toString(32)+"_";return e.memoizedState=t},useHostTransitionStatus:Bc,useFormState:rm,useActionState:rm,useOptimistic:function(e){var t=Kt();t.memoizedState=t.baseState=e;var s={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return t.queue=s,t=Hc.bind(null,Ve,!0,s),s.dispatch=t,[e,t]},useMemoCache:Dc,useCacheRefresh:function(){return Kt().memoizedState=m0.bind(null,Ve)},useEffectEvent:function(e){var t=Kt(),s={impl:e};return t.memoizedState=s,function(){if((it&2)!==0)throw Error(c(440));return s.impl.apply(void 0,arguments)}}},Gc={readContext:Yt,use:yr,useCallback:bm,useContext:Yt,useEffect:zc,useImperativeHandle:gm,useInsertionEffect:fm,useLayoutEffect:pm,useMemo:ym,useReducer:vr,useRef:um,useState:function(){return vr(xs)},useDebugValue:Lc,useDeferredValue:function(e,t){var s=Mt();return vm(s,ht.memoizedState,e,t)},useTransition:function(){var e=vr(xs)[0],t=Mt().memoizedState;return[typeof e=="boolean"?e:Zl(e),t]},useSyncExternalStore:Zh,useId:km,useHostTransitionStatus:Bc,useFormState:om,useActionState:om,useOptimistic:function(e,t){var s=Mt();return tm(s,ht,e,t)},useMemoCache:Dc,useCacheRefresh:Sm};Gc.useEffectEvent=mm;var Dm={readContext:Yt,use:yr,useCallback:bm,useContext:Yt,useEffect:zc,useImperativeHandle:gm,useInsertionEffect:fm,useLayoutEffect:pm,useMemo:ym,useReducer:_c,useRef:um,useState:function(){return _c(xs)},useDebugValue:Lc,useDeferredValue:function(e,t){var s=Mt();return ht===null?$c(s,e,t):vm(s,ht.memoizedState,e,t)},useTransition:function(){var e=_c(xs)[0],t=Mt().memoizedState;return[typeof e=="boolean"?e:Zl(e),t]},useSyncExternalStore:Zh,useId:km,useHostTransitionStatus:Bc,useFormState:dm,useActionState:dm,useOptimistic:function(e,t){var s=Mt();return ht!==null?tm(s,ht,e,t):(s.baseState=e,[e,s.queue.dispatch])},useMemoCache:Dc,useCacheRefresh:Sm};Dm.useEffectEvent=mm;function qc(e,t,s,n){t=e.memoizedState,s=s(n,t),s=s==null?t:N({},t,s),e.memoizedState=s,e.lanes===0&&(e.updateQueue.baseState=s)}var Ic={enqueueSetState:function(e,t,s){e=e._reactInternals;var n=ga(),i=Us(n);i.payload=t,s!=null&&(i.callback=s),t=Bs(e,i,n),t!==null&&(ca(t,e,n),Vl(t,e,n))},enqueueReplaceState:function(e,t,s){e=e._reactInternals;var n=ga(),i=Us(n);i.tag=1,i.payload=t,s!=null&&(i.callback=s),t=Bs(e,i,n),t!==null&&(ca(t,e,n),Vl(t,e,n))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var s=ga(),n=Us(s);n.tag=2,t!=null&&(n.callback=t),t=Bs(e,n,s),t!==null&&(ca(t,e,s),Vl(t,e,s))}};function Mm(e,t,s,n,i,o,h){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(n,o,h):t.prototype&&t.prototype.isPureReactComponent?!$l(s,n)||!$l(i,o):!0}function _m(e,t,s,n){e=t.state,typeof t.componentWillReceiveProps=="function"&&t.componentWillReceiveProps(s,n),typeof t.UNSAFE_componentWillReceiveProps=="function"&&t.UNSAFE_componentWillReceiveProps(s,n),t.state!==e&&Ic.enqueueReplaceState(t,t.state,null)}function Nn(e,t){var s=t;if("ref"in t){s={};for(var n in t)n!=="ref"&&(s[n]=t[n])}if(e=e.defaultProps){s===t&&(s=N({},s));for(var i in e)s[i]===void 0&&(s[i]=e[i])}return s}function Rm(e){tr(e)}function Om(e){console.error(e)}function zm(e){tr(e)}function kr(e,t){try{var s=e.onUncaughtError;s(t.value,{componentStack:t.stack})}catch(n){setTimeout(function(){throw n})}}function Lm(e,t,s){try{var n=e.onCaughtError;n(s.value,{componentStack:s.stack,errorBoundary:t.tag===1?t.stateNode:null})}catch(i){setTimeout(function(){throw i})}}function Yc(e,t,s){return s=Us(s),s.tag=3,s.payload={element:null},s.callback=function(){kr(e,t)},s}function $m(e){return e=Us(e),e.tag=3,e}function Um(e,t,s,n){var i=s.type.getDerivedStateFromError;if(typeof i=="function"){var o=n.value;e.payload=function(){return i(o)},e.callback=function(){Lm(t,s,n)}}var h=s.stateNode;h!==null&&typeof h.componentDidCatch=="function"&&(e.callback=function(){Lm(t,s,n),typeof i!="function"&&(Vs===null?Vs=new Set([this]):Vs.add(this));var y=n.stack;this.componentDidCatch(n.value,{componentStack:y!==null?y:""})})}function p0(e,t,s,n,i){if(s.flags|=32768,n!==null&&typeof n=="object"&&typeof n.then=="function"){if(t=s.alternate,t!==null&&Xn(t,s,i,!0),s=ma.current,s!==null){switch(s.tag){case 31:case 13:return Ra===null?Lr():s.alternate===null&&Et===0&&(Et=3),s.flags&=-257,s.flags|=65536,s.lanes=i,n===ur?s.flags|=16384:(t=s.updateQueue,t===null?s.updateQueue=new Set([n]):t.add(n),pd(e,n,i)),!1;case 22:return s.flags|=65536,n===ur?s.flags|=16384:(t=s.updateQueue,t===null?(t={transitions:null,markerInstances:null,retryQueue:new Set([n])},s.updateQueue=t):(s=t.retryQueue,s===null?t.retryQueue=new Set([n]):s.add(n)),pd(e,n,i)),!1}throw Error(c(435,s.tag))}return pd(e,n,i),Lr(),!1}if(st)return t=ma.current,t!==null?((t.flags&65536)===0&&(t.flags|=256),t.flags|=65536,t.lanes=i,n!==cc&&(e=Error(c(422),{cause:n}),Hl(Ca(e,s)))):(n!==cc&&(t=Error(c(423),{cause:n}),Hl(Ca(t,s))),e=e.current.alternate,e.flags|=65536,i&=-i,e.lanes|=i,n=Ca(n,s),i=Yc(e.stateNode,n,i),vc(e,i),Et!==4&&(Et=2)),!1;var o=Error(c(520),{cause:n});if(o=Ca(o,s),li===null?li=[o]:li.push(o),Et!==4&&(Et=2),t===null)return!0;n=Ca(n,s),s=t;do{switch(s.tag){case 3:return s.flags|=65536,e=i&-i,s.lanes|=e,e=Yc(s.stateNode,n,e),vc(s,e),!1;case 1:if(t=s.type,o=s.stateNode,(s.flags&128)===0&&(typeof t.getDerivedStateFromError=="function"||o!==null&&typeof o.componentDidCatch=="function"&&(Vs===null||!Vs.has(o))))return s.flags|=65536,i&=-i,s.lanes|=i,i=$m(i),Um(i,e,s,n),vc(s,i),!1}s=s.return}while(s!==null);return!1}var Vc=Error(c(461)),Lt=!1;function Vt(e,t,s,n){t.child=e===null?qh(t,null,s,n):wn(t,e.child,s,n)}function Bm(e,t,s,n,i){s=s.render;var o=t.ref;if("ref"in n){var h={};for(var y in n)y!=="ref"&&(h[y]=n[y])}else h=n;return gn(t),n=Ac(e,t,s,h,o,i),y=Tc(),e!==null&&!Lt?(Ec(e,t,i),gs(e,t,i)):(st&&y&&rc(t),t.flags|=1,Vt(e,t,n,i),t.child)}function Hm(e,t,s,n,i){if(e===null){var o=s.type;return typeof o=="function"&&!nc(o)&&o.defaultProps===void 0&&s.compare===null?(t.tag=15,t.type=o,Gm(e,t,o,n,i)):(e=lr(s.type,null,n,t,t.mode,i),e.ref=t.ref,e.return=t,t.child=e)}if(o=e.child,!Fc(e,i)){var h=o.memoizedProps;if(s=s.compare,s=s!==null?s:$l,s(h,n)&&e.ref===t.ref)return gs(e,t,i)}return t.flags|=1,e=us(o,n),e.ref=t.ref,e.return=t,t.child=e}function Gm(e,t,s,n,i){if(e!==null){var o=e.memoizedProps;if($l(o,n)&&e.ref===t.ref)if(Lt=!1,t.pendingProps=n=o,Fc(e,i))(e.flags&131072)!==0&&(Lt=!0);else return t.lanes=e.lanes,gs(e,t,i)}return Xc(e,t,s,n,i)}function qm(e,t,s,n){var i=n.children,o=e!==null?e.memoizedState:null;if(e===null&&t.stateNode===null&&(t.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),n.mode==="hidden"){if((t.flags&128)!==0){if(o=o!==null?o.baseLanes|s:s,e!==null){for(n=t.child=e.child,i=0;n!==null;)i=i|n.lanes|n.childLanes,n=n.sibling;n=i&~o}else n=0,t.child=null;return Im(e,t,o,s,n)}if((s&536870912)!==0)t.memoizedState={baseLanes:0,cachePool:null},e!==null&&cr(t,o!==null?o.cachePool:null),o!==null?Vh(t,o):jc(),Xh(t);else return n=t.lanes=536870912,Im(e,t,o!==null?o.baseLanes|s:s,s,n)}else o!==null?(cr(t,o.cachePool),Vh(t,o),Gs(),t.memoizedState=null):(e!==null&&cr(t,null),jc(),Gs());return Vt(e,t,i,s),t.child}function Wl(e,t){return e!==null&&e.tag===22||t.stateNode!==null||(t.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),t.sibling}function Im(e,t,s,n,i){var o=xc();return o=o===null?null:{parent:Ot._currentValue,pool:o},t.memoizedState={baseLanes:s,cachePool:o},e!==null&&cr(t,null),jc(),Xh(t),e!==null&&Xn(e,t,n,!0),t.childLanes=i,null}function Sr(e,t){return t=Tr({mode:t.mode,children:t.children},e.mode),t.ref=e.ref,e.child=t,t.return=e,t}function Ym(e,t,s){return wn(t,e.child,null,s),e=Sr(t,t.pendingProps),e.flags|=2,fa(t),t.memoizedState=null,e}function x0(e,t,s){var n=t.pendingProps,i=(t.flags&128)!==0;if(t.flags&=-129,e===null){if(st){if(n.mode==="hidden")return e=Sr(t,n),t.lanes=536870912,Wl(null,e);if(kc(t),(e=yt)?(e=sp(e,_a),e=e!==null&&e.data==="&"?e:null,e!==null&&(t.memoizedState={dehydrated:e,treeContext:Rs!==null?{id:Za,overflow:Ka}:null,retryLane:536870912,hydrationErrors:null},s=Th(e),s.return=t,t.child=s,It=t,yt=null)):e=null,e===null)throw zs(t);return t.lanes=536870912,null}return Sr(t,n)}var o=e.memoizedState;if(o!==null){var h=o.dehydrated;if(kc(t),i)if(t.flags&256)t.flags&=-257,t=Ym(e,t,s);else if(t.memoizedState!==null)t.child=e.child,t.flags|=128,t=null;else throw Error(c(558));else if(Lt||Xn(e,t,s,!1),i=(s&e.childLanes)!==0,Lt||i){if(n=pt,n!==null&&(h=Gi(n,s),h!==0&&h!==o.retryLane))throw o.retryLane=h,mn(e,h),ca(n,e,h),Vc;Lr(),t=Ym(e,t,s)}else e=o.treeContext,yt=Oa(h.nextSibling),It=t,st=!0,Os=null,_a=!1,e!==null&&Dh(t,e),t=Sr(t,n),t.flags|=4096;return t}return e=us(e.child,{mode:n.mode,children:n.children}),e.ref=t.ref,t.child=e,e.return=t,e}function Ar(e,t){var s=t.ref;if(s===null)e!==null&&e.ref!==null&&(t.flags|=4194816);else{if(typeof s!="function"&&typeof s!="object")throw Error(c(284));(e===null||e.ref!==s)&&(t.flags|=4194816)}}function Xc(e,t,s,n,i){return gn(t),s=Ac(e,t,s,n,void 0,i),n=Tc(),e!==null&&!Lt?(Ec(e,t,i),gs(e,t,i)):(st&&n&&rc(t),t.flags|=1,Vt(e,t,s,i),t.child)}function Vm(e,t,s,n,i,o){return gn(t),t.updateQueue=null,s=Ph(t,n,s,i),Qh(e),n=Tc(),e!==null&&!Lt?(Ec(e,t,o),gs(e,t,o)):(st&&n&&rc(t),t.flags|=1,Vt(e,t,s,o),t.child)}function Xm(e,t,s,n,i){if(gn(t),t.stateNode===null){var o=qn,h=s.contextType;typeof h=="object"&&h!==null&&(o=Yt(h)),o=new s(n,o),t.memoizedState=o.state!==null&&o.state!==void 0?o.state:null,o.updater=Ic,t.stateNode=o,o._reactInternals=t,o=t.stateNode,o.props=n,o.state=t.memoizedState,o.refs={},bc(t),h=s.contextType,o.context=typeof h=="object"&&h!==null?Yt(h):qn,o.state=t.memoizedState,h=s.getDerivedStateFromProps,typeof h=="function"&&(qc(t,s,h,n),o.state=t.memoizedState),typeof s.getDerivedStateFromProps=="function"||typeof o.getSnapshotBeforeUpdate=="function"||typeof o.UNSAFE_componentWillMount!="function"&&typeof o.componentWillMount!="function"||(h=o.state,typeof o.componentWillMount=="function"&&o.componentWillMount(),typeof o.UNSAFE_componentWillMount=="function"&&o.UNSAFE_componentWillMount(),h!==o.state&&Ic.enqueueReplaceState(o,o.state,null),Ql(t,n,o,i),Xl(),o.state=t.memoizedState),typeof o.componentDidMount=="function"&&(t.flags|=4194308),n=!0}else if(e===null){o=t.stateNode;var y=t.memoizedProps,A=Nn(s,y);o.props=A;var H=o.context,le=s.contextType;h=qn,typeof le=="object"&&le!==null&&(h=Yt(le));var me=s.getDerivedStateFromProps;le=typeof me=="function"||typeof o.getSnapshotBeforeUpdate=="function",y=t.pendingProps!==y,le||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(y||H!==h)&&_m(t,o,n,h),$s=!1;var V=t.memoizedState;o.state=V,Ql(t,n,o,i),Xl(),H=t.memoizedState,y||V!==H||$s?(typeof me=="function"&&(qc(t,s,me,n),H=t.memoizedState),(A=$s||Mm(t,s,A,n,V,H,h))?(le||typeof o.UNSAFE_componentWillMount!="function"&&typeof o.componentWillMount!="function"||(typeof o.componentWillMount=="function"&&o.componentWillMount(),typeof o.UNSAFE_componentWillMount=="function"&&o.UNSAFE_componentWillMount()),typeof o.componentDidMount=="function"&&(t.flags|=4194308)):(typeof o.componentDidMount=="function"&&(t.flags|=4194308),t.memoizedProps=n,t.memoizedState=H),o.props=n,o.state=H,o.context=h,n=A):(typeof o.componentDidMount=="function"&&(t.flags|=4194308),n=!1)}else{o=t.stateNode,yc(e,t),h=t.memoizedProps,le=Nn(s,h),o.props=le,me=t.pendingProps,V=o.context,H=s.contextType,A=qn,typeof H=="object"&&H!==null&&(A=Yt(H)),y=s.getDerivedStateFromProps,(H=typeof y=="function"||typeof o.getSnapshotBeforeUpdate=="function")||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(h!==me||V!==A)&&_m(t,o,n,A),$s=!1,V=t.memoizedState,o.state=V,Ql(t,n,o,i),Xl();var Z=t.memoizedState;h!==me||V!==Z||$s||e!==null&&e.dependencies!==null&&rr(e.dependencies)?(typeof y=="function"&&(qc(t,s,y,n),Z=t.memoizedState),(le=$s||Mm(t,s,le,n,V,Z,A)||e!==null&&e.dependencies!==null&&rr(e.dependencies))?(H||typeof o.UNSAFE_componentWillUpdate!="function"&&typeof o.componentWillUpdate!="function"||(typeof o.componentWillUpdate=="function"&&o.componentWillUpdate(n,Z,A),typeof o.UNSAFE_componentWillUpdate=="function"&&o.UNSAFE_componentWillUpdate(n,Z,A)),typeof o.componentDidUpdate=="function"&&(t.flags|=4),typeof o.getSnapshotBeforeUpdate=="function"&&(t.flags|=1024)):(typeof o.componentDidUpdate!="function"||h===e.memoizedProps&&V===e.memoizedState||(t.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||h===e.memoizedProps&&V===e.memoizedState||(t.flags|=1024),t.memoizedProps=n,t.memoizedState=Z),o.props=n,o.state=Z,o.context=A,n=le):(typeof o.componentDidUpdate!="function"||h===e.memoizedProps&&V===e.memoizedState||(t.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||h===e.memoizedProps&&V===e.memoizedState||(t.flags|=1024),n=!1)}return o=n,Ar(e,t),n=(t.flags&128)!==0,o||n?(o=t.stateNode,s=n&&typeof s.getDerivedStateFromError!="function"?null:o.render(),t.flags|=1,e!==null&&n?(t.child=wn(t,e.child,null,i),t.child=wn(t,null,s,i)):Vt(e,t,s,i),t.memoizedState=o.state,e=t.child):e=gs(e,t,i),e}function Qm(e,t,s,n){return pn(),t.flags|=256,Vt(e,t,s,n),t.child}var Qc={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function Pc(e){return{baseLanes:e,cachePool:Lh()}}function Zc(e,t,s){return e=e!==null?e.childLanes&~s:0,t&&(e|=xa),e}function Pm(e,t,s){var n=t.pendingProps,i=!1,o=(t.flags&128)!==0,h;if((h=o)||(h=e!==null&&e.memoizedState===null?!1:(Dt.current&2)!==0),h&&(i=!0,t.flags&=-129),h=(t.flags&32)!==0,t.flags&=-33,e===null){if(st){if(i?Hs(t):Gs(),(e=yt)?(e=sp(e,_a),e=e!==null&&e.data!=="&"?e:null,e!==null&&(t.memoizedState={dehydrated:e,treeContext:Rs!==null?{id:Za,overflow:Ka}:null,retryLane:536870912,hydrationErrors:null},s=Th(e),s.return=t,t.child=s,It=t,yt=null)):e=null,e===null)throw zs(t);return Md(e)?t.lanes=32:t.lanes=536870912,null}var y=n.children;return n=n.fallback,i?(Gs(),i=t.mode,y=Tr({mode:"hidden",children:y},i),n=fn(n,i,s,null),y.return=t,n.return=t,y.sibling=n,t.child=y,n=t.child,n.memoizedState=Pc(s),n.childLanes=Zc(e,h,s),t.memoizedState=Qc,Wl(null,n)):(Hs(t),Kc(t,y))}var A=e.memoizedState;if(A!==null&&(y=A.dehydrated,y!==null)){if(o)t.flags&256?(Hs(t),t.flags&=-257,t=Jc(e,t,s)):t.memoizedState!==null?(Gs(),t.child=e.child,t.flags|=128,t=null):(Gs(),y=n.fallback,i=t.mode,n=Tr({mode:"visible",children:n.children},i),y=fn(y,i,s,null),y.flags|=2,n.return=t,y.return=t,n.sibling=y,t.child=n,wn(t,e.child,null,s),n=t.child,n.memoizedState=Pc(s),n.childLanes=Zc(e,h,s),t.memoizedState=Qc,t=Wl(null,n));else if(Hs(t),Md(y)){if(h=y.nextSibling&&y.nextSibling.dataset,h)var H=h.dgst;h=H,n=Error(c(419)),n.stack="",n.digest=h,Hl({value:n,source:null,stack:null}),t=Jc(e,t,s)}else if(Lt||Xn(e,t,s,!1),h=(s&e.childLanes)!==0,Lt||h){if(h=pt,h!==null&&(n=Gi(h,s),n!==0&&n!==A.retryLane))throw A.retryLane=n,mn(e,n),ca(h,e,n),Vc;Dd(y)||Lr(),t=Jc(e,t,s)}else Dd(y)?(t.flags|=192,t.child=e.child,t=null):(e=A.treeContext,yt=Oa(y.nextSibling),It=t,st=!0,Os=null,_a=!1,e!==null&&Dh(t,e),t=Kc(t,n.children),t.flags|=4096);return t}return i?(Gs(),y=n.fallback,i=t.mode,A=e.child,H=A.sibling,n=us(A,{mode:"hidden",children:n.children}),n.subtreeFlags=A.subtreeFlags&65011712,H!==null?y=us(H,y):(y=fn(y,i,s,null),y.flags|=2),y.return=t,n.return=t,n.sibling=y,t.child=n,Wl(null,n),n=t.child,y=e.child.memoizedState,y===null?y=Pc(s):(i=y.cachePool,i!==null?(A=Ot._currentValue,i=i.parent!==A?{parent:A,pool:A}:i):i=Lh(),y={baseLanes:y.baseLanes|s,cachePool:i}),n.memoizedState=y,n.childLanes=Zc(e,h,s),t.memoizedState=Qc,Wl(e.child,n)):(Hs(t),s=e.child,e=s.sibling,s=us(s,{mode:"visible",children:n.children}),s.return=t,s.sibling=null,e!==null&&(h=t.deletions,h===null?(t.deletions=[e],t.flags|=16):h.push(e)),t.child=s,t.memoizedState=null,s)}function Kc(e,t){return t=Tr({mode:"visible",children:t},e.mode),t.return=e,e.child=t}function Tr(e,t){return e=ha(22,e,null,t),e.lanes=0,e}function Jc(e,t,s){return wn(t,e.child,null,s),e=Kc(t,t.pendingProps.children),e.flags|=2,t.memoizedState=null,e}function Zm(e,t,s){e.lanes|=t;var n=e.alternate;n!==null&&(n.lanes|=t),hc(e.return,t,s)}function Wc(e,t,s,n,i,o){var h=e.memoizedState;h===null?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:n,tail:s,tailMode:i,treeForkCount:o}:(h.isBackwards=t,h.rendering=null,h.renderingStartTime=0,h.last=n,h.tail=s,h.tailMode=i,h.treeForkCount=o)}function Km(e,t,s){var n=t.pendingProps,i=n.revealOrder,o=n.tail;n=n.children;var h=Dt.current,y=(h&2)!==0;if(y?(h=h&1|2,t.flags|=128):h&=1,X(Dt,h),Vt(e,t,n,s),n=st?Bl:0,!y&&e!==null&&(e.flags&128)!==0)e:for(e=t.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&Zm(e,s,t);else if(e.tag===19)Zm(e,s,t);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;e.sibling===null;){if(e.return===null||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}switch(i){case"forwards":for(s=t.child,i=null;s!==null;)e=s.alternate,e!==null&&pr(e)===null&&(i=s),s=s.sibling;s=i,s===null?(i=t.child,t.child=null):(i=s.sibling,s.sibling=null),Wc(t,!1,i,s,o,n);break;case"backwards":case"unstable_legacy-backwards":for(s=null,i=t.child,t.child=null;i!==null;){if(e=i.alternate,e!==null&&pr(e)===null){t.child=i;break}e=i.sibling,i.sibling=s,s=i,i=e}Wc(t,!0,s,null,o,n);break;case"together":Wc(t,!1,null,null,void 0,n);break;default:t.memoizedState=null}return t.child}function gs(e,t,s){if(e!==null&&(t.dependencies=e.dependencies),Ys|=t.lanes,(s&t.childLanes)===0)if(e!==null){if(Xn(e,t,s,!1),(s&t.childLanes)===0)return null}else return null;if(e!==null&&t.child!==e.child)throw Error(c(153));if(t.child!==null){for(e=t.child,s=us(e,e.pendingProps),t.child=s,s.return=t;e.sibling!==null;)e=e.sibling,s=s.sibling=us(e,e.pendingProps),s.return=t;s.sibling=null}return t.child}function Fc(e,t){return(e.lanes&t)!==0?!0:(e=e.dependencies,!!(e!==null&&rr(e)))}function g0(e,t,s){switch(t.tag){case 3:ce(t,t.stateNode.containerInfo),Ls(t,Ot,e.memoizedState.cache),pn();break;case 27:case 5:k(t);break;case 4:ce(t,t.stateNode.containerInfo);break;case 10:Ls(t,t.type,t.memoizedProps.value);break;case 31:if(t.memoizedState!==null)return t.flags|=128,kc(t),null;break;case 13:var n=t.memoizedState;if(n!==null)return n.dehydrated!==null?(Hs(t),t.flags|=128,null):(s&t.child.childLanes)!==0?Pm(e,t,s):(Hs(t),e=gs(e,t,s),e!==null?e.sibling:null);Hs(t);break;case 19:var i=(e.flags&128)!==0;if(n=(s&t.childLanes)!==0,n||(Xn(e,t,s,!1),n=(s&t.childLanes)!==0),i){if(n)return Km(e,t,s);t.flags|=128}if(i=t.memoizedState,i!==null&&(i.rendering=null,i.tail=null,i.lastEffect=null),X(Dt,Dt.current),n)break;return null;case 22:return t.lanes=0,qm(e,t,s,t.pendingProps);case 24:Ls(t,Ot,e.memoizedState.cache)}return gs(e,t,s)}function Jm(e,t,s){if(e!==null)if(e.memoizedProps!==t.pendingProps)Lt=!0;else{if(!Fc(e,s)&&(t.flags&128)===0)return Lt=!1,g0(e,t,s);Lt=(e.flags&131072)!==0}else Lt=!1,st&&(t.flags&1048576)!==0&&Ch(t,Bl,t.index);switch(t.lanes=0,t.tag){case 16:e:{var n=t.pendingProps;if(e=yn(t.elementType),t.type=e,typeof e=="function")nc(e)?(n=Nn(e,n),t.tag=1,t=Xm(null,t,e,n,s)):(t.tag=0,t=Xc(null,t,e,n,s));else{if(e!=null){var i=e.$$typeof;if(i===U){t.tag=11,t=Bm(null,t,e,n,s);break e}else if(i===D){t.tag=14,t=Hm(null,t,e,n,s);break e}}throw t=J(e)||e,Error(c(306,t,""))}}return t;case 0:return Xc(e,t,t.type,t.pendingProps,s);case 1:return n=t.type,i=Nn(n,t.pendingProps),Xm(e,t,n,i,s);case 3:e:{if(ce(t,t.stateNode.containerInfo),e===null)throw Error(c(387));n=t.pendingProps;var o=t.memoizedState;i=o.element,yc(e,t),Ql(t,n,null,s);var h=t.memoizedState;if(n=h.cache,Ls(t,Ot,n),n!==o.cache&&mc(t,[Ot],s,!0),Xl(),n=h.element,o.isDehydrated)if(o={element:n,isDehydrated:!1,cache:h.cache},t.updateQueue.baseState=o,t.memoizedState=o,t.flags&256){t=Qm(e,t,n,s);break e}else if(n!==i){i=Ca(Error(c(424)),t),Hl(i),t=Qm(e,t,n,s);break e}else{switch(e=t.stateNode.containerInfo,e.nodeType){case 9:e=e.body;break;default:e=e.nodeName==="HTML"?e.ownerDocument.body:e}for(yt=Oa(e.firstChild),It=t,st=!0,Os=null,_a=!0,s=qh(t,null,n,s),t.child=s;s;)s.flags=s.flags&-3|4096,s=s.sibling}else{if(pn(),n===i){t=gs(e,t,s);break e}Vt(e,t,n,s)}t=t.child}return t;case 26:return Ar(e,t),e===null?(s=cp(t.type,null,t.pendingProps,null))?t.memoizedState=s:st||(s=t.type,e=t.pendingProps,n=Ir(T.current).createElement(s),n[Rt]=t,n[jt]=e,Xt(n,s,e),Ke(n),t.stateNode=n):t.memoizedState=cp(t.type,e.memoizedProps,t.pendingProps,e.memoizedState),null;case 27:return k(t),e===null&&st&&(n=t.stateNode=ip(t.type,t.pendingProps,T.current),It=t,_a=!0,i=yt,Zs(t.type)?(_d=i,yt=Oa(n.firstChild)):yt=i),Vt(e,t,t.pendingProps.children,s),Ar(e,t),e===null&&(t.flags|=4194304),t.child;case 5:return e===null&&st&&((i=n=yt)&&(n=Q0(n,t.type,t.pendingProps,_a),n!==null?(t.stateNode=n,It=t,yt=Oa(n.firstChild),_a=!1,i=!0):i=!1),i||zs(t)),k(t),i=t.type,o=t.pendingProps,h=e!==null?e.memoizedProps:null,n=o.children,Td(i,o)?n=null:h!==null&&Td(i,h)&&(t.flags|=32),t.memoizedState!==null&&(i=Ac(e,t,o0,null,null,s),mi._currentValue=i),Ar(e,t),Vt(e,t,n,s),t.child;case 6:return e===null&&st&&((e=s=yt)&&(s=P0(s,t.pendingProps,_a),s!==null?(t.stateNode=s,It=t,yt=null,e=!0):e=!1),e||zs(t)),null;case 13:return Pm(e,t,s);case 4:return ce(t,t.stateNode.containerInfo),n=t.pendingProps,e===null?t.child=wn(t,null,n,s):Vt(e,t,n,s),t.child;case 11:return Bm(e,t,t.type,t.pendingProps,s);case 7:return Vt(e,t,t.pendingProps,s),t.child;case 8:return Vt(e,t,t.pendingProps.children,s),t.child;case 12:return Vt(e,t,t.pendingProps.children,s),t.child;case 10:return n=t.pendingProps,Ls(t,t.type,n.value),Vt(e,t,n.children,s),t.child;case 9:return i=t.type._context,n=t.pendingProps.children,gn(t),i=Yt(i),n=n(i),t.flags|=1,Vt(e,t,n,s),t.child;case 14:return Hm(e,t,t.type,t.pendingProps,s);case 15:return Gm(e,t,t.type,t.pendingProps,s);case 19:return Km(e,t,s);case 31:return x0(e,t,s);case 22:return qm(e,t,s,t.pendingProps);case 24:return gn(t),n=Yt(Ot),e===null?(i=xc(),i===null&&(i=pt,o=fc(),i.pooledCache=o,o.refCount++,o!==null&&(i.pooledCacheLanes|=s),i=o),t.memoizedState={parent:n,cache:i},bc(t),Ls(t,Ot,i)):((e.lanes&s)!==0&&(yc(e,t),Ql(t,null,null,s),Xl()),i=e.memoizedState,o=t.memoizedState,i.parent!==n?(i={parent:n,cache:n},t.memoizedState=i,t.lanes===0&&(t.memoizedState=t.updateQueue.baseState=i),Ls(t,Ot,n)):(n=o.cache,Ls(t,Ot,n),n!==i.cache&&mc(t,[Ot],s,!0))),Vt(e,t,t.pendingProps.children,s),t.child;case 29:throw t.pendingProps}throw Error(c(156,t.tag))}function bs(e){e.flags|=4}function ed(e,t,s,n,i){if((t=(e.mode&32)!==0)&&(t=!1),t){if(e.flags|=16777216,(i&335544128)===i)if(e.stateNode.complete)e.flags|=8192;else if(Sf())e.flags|=8192;else throw vn=ur,gc}else e.flags&=-16777217}function Wm(e,t){if(t.type!=="stylesheet"||(t.state.loading&4)!==0)e.flags&=-16777217;else if(e.flags|=16777216,!fp(t))if(Sf())e.flags|=8192;else throw vn=ur,gc}function Er(e,t){t!==null&&(e.flags|=4),e.flags&16384&&(t=e.tag!==22?is():536870912,e.lanes|=t,nl|=t)}function Fl(e,t){if(!st)switch(e.tailMode){case"hidden":t=e.tail;for(var s=null;t!==null;)t.alternate!==null&&(s=t),t=t.sibling;s===null?e.tail=null:s.sibling=null;break;case"collapsed":s=e.tail;for(var n=null;s!==null;)s.alternate!==null&&(n=s),s=s.sibling;n===null?t||e.tail===null?e.tail=null:e.tail.sibling=null:n.sibling=null}}function vt(e){var t=e.alternate!==null&&e.alternate.child===e.child,s=0,n=0;if(t)for(var i=e.child;i!==null;)s|=i.lanes|i.childLanes,n|=i.subtreeFlags&65011712,n|=i.flags&65011712,i.return=e,i=i.sibling;else for(i=e.child;i!==null;)s|=i.lanes|i.childLanes,n|=i.subtreeFlags,n|=i.flags,i.return=e,i=i.sibling;return e.subtreeFlags|=n,e.childLanes=s,t}function b0(e,t,s){var n=t.pendingProps;switch(oc(t),t.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return vt(t),null;case 1:return vt(t),null;case 3:return s=t.stateNode,n=null,e!==null&&(n=e.memoizedState.cache),t.memoizedState.cache!==n&&(t.flags|=2048),fs(Ot),Te(),s.pendingContext&&(s.context=s.pendingContext,s.pendingContext=null),(e===null||e.child===null)&&(Vn(t)?bs(t):e===null||e.memoizedState.isDehydrated&&(t.flags&256)===0||(t.flags|=1024,dc())),vt(t),null;case 26:var i=t.type,o=t.memoizedState;return e===null?(bs(t),o!==null?(vt(t),Wm(t,o)):(vt(t),ed(t,i,null,n,s))):o?o!==e.memoizedState?(bs(t),vt(t),Wm(t,o)):(vt(t),t.flags&=-16777217):(e=e.memoizedProps,e!==n&&bs(t),vt(t),ed(t,i,e,n,s)),null;case 27:if(fe(t),s=T.current,i=t.type,e!==null&&t.stateNode!=null)e.memoizedProps!==n&&bs(t);else{if(!n){if(t.stateNode===null)throw Error(c(166));return vt(t),null}e=he.current,Vn(t)?Mh(t):(e=ip(i,n,s),t.stateNode=e,bs(t))}return vt(t),null;case 5:if(fe(t),i=t.type,e!==null&&t.stateNode!=null)e.memoizedProps!==n&&bs(t);else{if(!n){if(t.stateNode===null)throw Error(c(166));return vt(t),null}if(o=he.current,Vn(t))Mh(t);else{var h=Ir(T.current);switch(o){case 1:o=h.createElementNS("http://www.w3.org/2000/svg",i);break;case 2:o=h.createElementNS("http://www.w3.org/1998/Math/MathML",i);break;default:switch(i){case"svg":o=h.createElementNS("http://www.w3.org/2000/svg",i);break;case"math":o=h.createElementNS("http://www.w3.org/1998/Math/MathML",i);break;case"script":o=h.createElement("div"),o.innerHTML="<script><\/script>",o=o.removeChild(o.firstChild);break;case"select":o=typeof n.is=="string"?h.createElement("select",{is:n.is}):h.createElement("select"),n.multiple?o.multiple=!0:n.size&&(o.size=n.size);break;default:o=typeof n.is=="string"?h.createElement(i,{is:n.is}):h.createElement(i)}}o[Rt]=t,o[jt]=n;e:for(h=t.child;h!==null;){if(h.tag===5||h.tag===6)o.appendChild(h.stateNode);else if(h.tag!==4&&h.tag!==27&&h.child!==null){h.child.return=h,h=h.child;continue}if(h===t)break e;for(;h.sibling===null;){if(h.return===null||h.return===t)break e;h=h.return}h.sibling.return=h.return,h=h.sibling}t.stateNode=o;e:switch(Xt(o,i,n),i){case"button":case"input":case"select":case"textarea":n=!!n.autoFocus;break e;case"img":n=!0;break e;default:n=!1}n&&bs(t)}}return vt(t),ed(t,t.type,e===null?null:e.memoizedProps,t.pendingProps,s),null;case 6:if(e&&t.stateNode!=null)e.memoizedProps!==n&&bs(t);else{if(typeof n!="string"&&t.stateNode===null)throw Error(c(166));if(e=T.current,Vn(t)){if(e=t.stateNode,s=t.memoizedProps,n=null,i=It,i!==null)switch(i.tag){case 27:case 5:n=i.memoizedProps}e[Rt]=t,e=!!(e.nodeValue===s||n!==null&&n.suppressHydrationWarning===!0||Zf(e.nodeValue,s)),e||zs(t,!0)}else e=Ir(e).createTextNode(n),e[Rt]=t,t.stateNode=e}return vt(t),null;case 31:if(s=t.memoizedState,e===null||e.memoizedState!==null){if(n=Vn(t),s!==null){if(e===null){if(!n)throw Error(c(318));if(e=t.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(c(557));e[Rt]=t}else pn(),(t.flags&128)===0&&(t.memoizedState=null),t.flags|=4;vt(t),e=!1}else s=dc(),e!==null&&e.memoizedState!==null&&(e.memoizedState.hydrationErrors=s),e=!0;if(!e)return t.flags&256?(fa(t),t):(fa(t),null);if((t.flags&128)!==0)throw Error(c(558))}return vt(t),null;case 13:if(n=t.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(i=Vn(t),n!==null&&n.dehydrated!==null){if(e===null){if(!i)throw Error(c(318));if(i=t.memoizedState,i=i!==null?i.dehydrated:null,!i)throw Error(c(317));i[Rt]=t}else pn(),(t.flags&128)===0&&(t.memoizedState=null),t.flags|=4;vt(t),i=!1}else i=dc(),e!==null&&e.memoizedState!==null&&(e.memoizedState.hydrationErrors=i),i=!0;if(!i)return t.flags&256?(fa(t),t):(fa(t),null)}return fa(t),(t.flags&128)!==0?(t.lanes=s,t):(s=n!==null,e=e!==null&&e.memoizedState!==null,s&&(n=t.child,i=null,n.alternate!==null&&n.alternate.memoizedState!==null&&n.alternate.memoizedState.cachePool!==null&&(i=n.alternate.memoizedState.cachePool.pool),o=null,n.memoizedState!==null&&n.memoizedState.cachePool!==null&&(o=n.memoizedState.cachePool.pool),o!==i&&(n.flags|=2048)),s!==e&&s&&(t.child.flags|=8192),Er(t,t.updateQueue),vt(t),null);case 4:return Te(),e===null&&jd(t.stateNode.containerInfo),vt(t),null;case 10:return fs(t.type),vt(t),null;case 19:if(q(Dt),n=t.memoizedState,n===null)return vt(t),null;if(i=(t.flags&128)!==0,o=n.rendering,o===null)if(i)Fl(n,!1);else{if(Et!==0||e!==null&&(e.flags&128)!==0)for(e=t.child;e!==null;){if(o=pr(e),o!==null){for(t.flags|=128,Fl(n,!1),e=o.updateQueue,t.updateQueue=e,Er(t,e),t.subtreeFlags=0,e=s,s=t.child;s!==null;)Ah(s,e),s=s.sibling;return X(Dt,Dt.current&1|2),st&&hs(t,n.treeForkCount),t.child}e=e.sibling}n.tail!==null&&ge()>Rr&&(t.flags|=128,i=!0,Fl(n,!1),t.lanes=4194304)}else{if(!i)if(e=pr(o),e!==null){if(t.flags|=128,i=!0,e=e.updateQueue,t.updateQueue=e,Er(t,e),Fl(n,!0),n.tail===null&&n.tailMode==="hidden"&&!o.alternate&&!st)return vt(t),null}else 2*ge()-n.renderingStartTime>Rr&&s!==536870912&&(t.flags|=128,i=!0,Fl(n,!1),t.lanes=4194304);n.isBackwards?(o.sibling=t.child,t.child=o):(e=n.last,e!==null?e.sibling=o:t.child=o,n.last=o)}return n.tail!==null?(e=n.tail,n.rendering=e,n.tail=e.sibling,n.renderingStartTime=ge(),e.sibling=null,s=Dt.current,X(Dt,i?s&1|2:s&1),st&&hs(t,n.treeForkCount),e):(vt(t),null);case 22:case 23:return fa(t),Nc(),n=t.memoizedState!==null,e!==null?e.memoizedState!==null!==n&&(t.flags|=8192):n&&(t.flags|=8192),n?(s&536870912)!==0&&(t.flags&128)===0&&(vt(t),t.subtreeFlags&6&&(t.flags|=8192)):vt(t),s=t.updateQueue,s!==null&&Er(t,s.retryQueue),s=null,e!==null&&e.memoizedState!==null&&e.memoizedState.cachePool!==null&&(s=e.memoizedState.cachePool.pool),n=null,t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(n=t.memoizedState.cachePool.pool),n!==s&&(t.flags|=2048),e!==null&&q(bn),null;case 24:return s=null,e!==null&&(s=e.memoizedState.cache),t.memoizedState.cache!==s&&(t.flags|=2048),fs(Ot),vt(t),null;case 25:return null;case 30:return null}throw Error(c(156,t.tag))}function y0(e,t){switch(oc(t),t.tag){case 1:return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 3:return fs(Ot),Te(),e=t.flags,(e&65536)!==0&&(e&128)===0?(t.flags=e&-65537|128,t):null;case 26:case 27:case 5:return fe(t),null;case 31:if(t.memoizedState!==null){if(fa(t),t.alternate===null)throw Error(c(340));pn()}return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 13:if(fa(t),e=t.memoizedState,e!==null&&e.dehydrated!==null){if(t.alternate===null)throw Error(c(340));pn()}return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 19:return q(Dt),null;case 4:return Te(),null;case 10:return fs(t.type),null;case 22:case 23:return fa(t),Nc(),e!==null&&q(bn),e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 24:return fs(Ot),null;case 25:return null;default:return null}}function Fm(e,t){switch(oc(t),t.tag){case 3:fs(Ot),Te();break;case 26:case 27:case 5:fe(t);break;case 4:Te();break;case 31:t.memoizedState!==null&&fa(t);break;case 13:fa(t);break;case 19:q(Dt);break;case 10:fs(t.type);break;case 22:case 23:fa(t),Nc(),e!==null&&q(bn);break;case 24:fs(Ot)}}function ei(e,t){try{var s=t.updateQueue,n=s!==null?s.lastEffect:null;if(n!==null){var i=n.next;s=i;do{if((s.tag&e)===e){n=void 0;var o=s.create,h=s.inst;n=o(),h.destroy=n}s=s.next}while(s!==i)}}catch(y){ut(t,t.return,y)}}function qs(e,t,s){try{var n=t.updateQueue,i=n!==null?n.lastEffect:null;if(i!==null){var o=i.next;n=o;do{if((n.tag&e)===e){var h=n.inst,y=h.destroy;if(y!==void 0){h.destroy=void 0,i=t;var A=s,H=y;try{H()}catch(le){ut(i,A,le)}}}n=n.next}while(n!==o)}}catch(le){ut(t,t.return,le)}}function ef(e){var t=e.updateQueue;if(t!==null){var s=e.stateNode;try{Yh(t,s)}catch(n){ut(e,e.return,n)}}}function tf(e,t,s){s.props=Nn(e.type,e.memoizedProps),s.state=e.memoizedState;try{s.componentWillUnmount()}catch(n){ut(e,t,n)}}function ti(e,t){try{var s=e.ref;if(s!==null){switch(e.tag){case 26:case 27:case 5:var n=e.stateNode;break;case 30:n=e.stateNode;break;default:n=e.stateNode}typeof s=="function"?e.refCleanup=s(n):s.current=n}}catch(i){ut(e,t,i)}}function Ja(e,t){var s=e.ref,n=e.refCleanup;if(s!==null)if(typeof n=="function")try{n()}catch(i){ut(e,t,i)}finally{e.refCleanup=null,e=e.alternate,e!=null&&(e.refCleanup=null)}else if(typeof s=="function")try{s(null)}catch(i){ut(e,t,i)}else s.current=null}function af(e){var t=e.type,s=e.memoizedProps,n=e.stateNode;try{e:switch(t){case"button":case"input":case"select":case"textarea":s.autoFocus&&n.focus();break e;case"img":s.src?n.src=s.src:s.srcSet&&(n.srcset=s.srcSet)}}catch(i){ut(e,e.return,i)}}function td(e,t,s){try{var n=e.stateNode;G0(n,e.type,s,t),n[jt]=t}catch(i){ut(e,e.return,i)}}function sf(e){return e.tag===5||e.tag===3||e.tag===26||e.tag===27&&Zs(e.type)||e.tag===4}function ad(e){e:for(;;){for(;e.sibling===null;){if(e.return===null||sf(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.tag===27&&Zs(e.type)||e.flags&2||e.child===null||e.tag===4)continue e;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function sd(e,t,s){var n=e.tag;if(n===5||n===6)e=e.stateNode,t?(s.nodeType===9?s.body:s.nodeName==="HTML"?s.ownerDocument.body:s).insertBefore(e,t):(t=s.nodeType===9?s.body:s.nodeName==="HTML"?s.ownerDocument.body:s,t.appendChild(e),s=s._reactRootContainer,s!=null||t.onclick!==null||(t.onclick=cs));else if(n!==4&&(n===27&&Zs(e.type)&&(s=e.stateNode,t=null),e=e.child,e!==null))for(sd(e,t,s),e=e.sibling;e!==null;)sd(e,t,s),e=e.sibling}function Cr(e,t,s){var n=e.tag;if(n===5||n===6)e=e.stateNode,t?s.insertBefore(e,t):s.appendChild(e);else if(n!==4&&(n===27&&Zs(e.type)&&(s=e.stateNode),e=e.child,e!==null))for(Cr(e,t,s),e=e.sibling;e!==null;)Cr(e,t,s),e=e.sibling}function nf(e){var t=e.stateNode,s=e.memoizedProps;try{for(var n=e.type,i=t.attributes;i.length;)t.removeAttributeNode(i[0]);Xt(t,n,s),t[Rt]=e,t[jt]=s}catch(o){ut(e,e.return,o)}}var ys=!1,$t=!1,nd=!1,lf=typeof WeakSet=="function"?WeakSet:Set,Gt=null;function v0(e,t){if(e=e.containerInfo,Sd=Kr,e=gh(e),Jo(e)){if("selectionStart"in e)var s={start:e.selectionStart,end:e.selectionEnd};else e:{s=(s=e.ownerDocument)&&s.defaultView||window;var n=s.getSelection&&s.getSelection();if(n&&n.rangeCount!==0){s=n.anchorNode;var i=n.anchorOffset,o=n.focusNode;n=n.focusOffset;try{s.nodeType,o.nodeType}catch{s=null;break e}var h=0,y=-1,A=-1,H=0,le=0,me=e,V=null;t:for(;;){for(var Z;me!==s||i!==0&&me.nodeType!==3||(y=h+i),me!==o||n!==0&&me.nodeType!==3||(A=h+n),me.nodeType===3&&(h+=me.nodeValue.length),(Z=me.firstChild)!==null;)V=me,me=Z;for(;;){if(me===e)break t;if(V===s&&++H===i&&(y=h),V===o&&++le===n&&(A=h),(Z=me.nextSibling)!==null)break;me=V,V=me.parentNode}me=Z}s=y===-1||A===-1?null:{start:y,end:A}}else s=null}s=s||{start:0,end:0}}else s=null;for(Ad={focusedElem:e,selectionRange:s},Kr=!1,Gt=t;Gt!==null;)if(t=Gt,e=t.child,(t.subtreeFlags&1028)!==0&&e!==null)e.return=t,Gt=e;else for(;Gt!==null;){switch(t=Gt,o=t.alternate,e=t.flags,t.tag){case 0:if((e&4)!==0&&(e=t.updateQueue,e=e!==null?e.events:null,e!==null))for(s=0;s<e.length;s++)i=e[s],i.ref.impl=i.nextImpl;break;case 11:case 15:break;case 1:if((e&1024)!==0&&o!==null){e=void 0,s=t,i=o.memoizedProps,o=o.memoizedState,n=s.stateNode;try{var _e=Nn(s.type,i);e=n.getSnapshotBeforeUpdate(_e,o),n.__reactInternalSnapshotBeforeUpdate=e}catch(Be){ut(s,s.return,Be)}}break;case 3:if((e&1024)!==0){if(e=t.stateNode.containerInfo,s=e.nodeType,s===9)Cd(e);else if(s===1)switch(e.nodeName){case"HEAD":case"HTML":case"BODY":Cd(e);break;default:e.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((e&1024)!==0)throw Error(c(163))}if(e=t.sibling,e!==null){e.return=t.return,Gt=e;break}Gt=t.return}}function rf(e,t,s){var n=s.flags;switch(s.tag){case 0:case 11:case 15:ws(e,s),n&4&&ei(5,s);break;case 1:if(ws(e,s),n&4)if(e=s.stateNode,t===null)try{e.componentDidMount()}catch(h){ut(s,s.return,h)}else{var i=Nn(s.type,t.memoizedProps);t=t.memoizedState;try{e.componentDidUpdate(i,t,e.__reactInternalSnapshotBeforeUpdate)}catch(h){ut(s,s.return,h)}}n&64&&ef(s),n&512&&ti(s,s.return);break;case 3:if(ws(e,s),n&64&&(e=s.updateQueue,e!==null)){if(t=null,s.child!==null)switch(s.child.tag){case 27:case 5:t=s.child.stateNode;break;case 1:t=s.child.stateNode}try{Yh(e,t)}catch(h){ut(s,s.return,h)}}break;case 27:t===null&&n&4&&nf(s);case 26:case 5:ws(e,s),t===null&&n&4&&af(s),n&512&&ti(s,s.return);break;case 12:ws(e,s);break;case 31:ws(e,s),n&4&&df(e,s);break;case 13:ws(e,s),n&4&&uf(e,s),n&64&&(e=s.memoizedState,e!==null&&(e=e.dehydrated,e!==null&&(s=C0.bind(null,s),Z0(e,s))));break;case 22:if(n=s.memoizedState!==null||ys,!n){t=t!==null&&t.memoizedState!==null||$t,i=ys;var o=$t;ys=n,($t=t)&&!o?js(e,s,(s.subtreeFlags&8772)!==0):ws(e,s),ys=i,$t=o}break;case 30:break;default:ws(e,s)}}function of(e){var t=e.alternate;t!==null&&(e.alternate=null,of(t)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(t=e.stateNode,t!==null&&M(t)),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}var Nt=null,la=!1;function vs(e,t,s){for(s=s.child;s!==null;)cf(e,t,s),s=s.sibling}function cf(e,t,s){if(Qe&&typeof Qe.onCommitFiberUnmount=="function")try{Qe.onCommitFiberUnmount(Le,s)}catch{}switch(s.tag){case 26:$t||Ja(s,t),vs(e,t,s),s.memoizedState?s.memoizedState.count--:s.stateNode&&(s=s.stateNode,s.parentNode.removeChild(s));break;case 27:$t||Ja(s,t);var n=Nt,i=la;Zs(s.type)&&(Nt=s.stateNode,la=!1),vs(e,t,s),di(s.stateNode),Nt=n,la=i;break;case 5:$t||Ja(s,t);case 6:if(n=Nt,i=la,Nt=null,vs(e,t,s),Nt=n,la=i,Nt!==null)if(la)try{(Nt.nodeType===9?Nt.body:Nt.nodeName==="HTML"?Nt.ownerDocument.body:Nt).removeChild(s.stateNode)}catch(o){ut(s,t,o)}else try{Nt.removeChild(s.stateNode)}catch(o){ut(s,t,o)}break;case 18:Nt!==null&&(la?(e=Nt,tp(e.nodeType===9?e.body:e.nodeName==="HTML"?e.ownerDocument.body:e,s.stateNode),hl(e)):tp(Nt,s.stateNode));break;case 4:n=Nt,i=la,Nt=s.stateNode.containerInfo,la=!0,vs(e,t,s),Nt=n,la=i;break;case 0:case 11:case 14:case 15:qs(2,s,t),$t||qs(4,s,t),vs(e,t,s);break;case 1:$t||(Ja(s,t),n=s.stateNode,typeof n.componentWillUnmount=="function"&&tf(s,t,n)),vs(e,t,s);break;case 21:vs(e,t,s);break;case 22:$t=(n=$t)||s.memoizedState!==null,vs(e,t,s),$t=n;break;default:vs(e,t,s)}}function df(e,t){if(t.memoizedState===null&&(e=t.alternate,e!==null&&(e=e.memoizedState,e!==null))){e=e.dehydrated;try{hl(e)}catch(s){ut(t,t.return,s)}}}function uf(e,t){if(t.memoizedState===null&&(e=t.alternate,e!==null&&(e=e.memoizedState,e!==null&&(e=e.dehydrated,e!==null))))try{hl(e)}catch(s){ut(t,t.return,s)}}function w0(e){switch(e.tag){case 31:case 13:case 19:var t=e.stateNode;return t===null&&(t=e.stateNode=new lf),t;case 22:return e=e.stateNode,t=e._retryCache,t===null&&(t=e._retryCache=new lf),t;default:throw Error(c(435,e.tag))}}function Dr(e,t){var s=w0(e);t.forEach(function(n){if(!s.has(n)){s.add(n);var i=D0.bind(null,e,n);n.then(i,i)}})}function ia(e,t){var s=t.deletions;if(s!==null)for(var n=0;n<s.length;n++){var i=s[n],o=e,h=t,y=h;e:for(;y!==null;){switch(y.tag){case 27:if(Zs(y.type)){Nt=y.stateNode,la=!1;break e}break;case 5:Nt=y.stateNode,la=!1;break e;case 3:case 4:Nt=y.stateNode.containerInfo,la=!0;break e}y=y.return}if(Nt===null)throw Error(c(160));cf(o,h,i),Nt=null,la=!1,o=i.alternate,o!==null&&(o.return=null),i.return=null}if(t.subtreeFlags&13886)for(t=t.child;t!==null;)hf(t,e),t=t.sibling}var qa=null;function hf(e,t){var s=e.alternate,n=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:ia(t,e),ra(e),n&4&&(qs(3,e,e.return),ei(3,e),qs(5,e,e.return));break;case 1:ia(t,e),ra(e),n&512&&($t||s===null||Ja(s,s.return)),n&64&&ys&&(e=e.updateQueue,e!==null&&(n=e.callbacks,n!==null&&(s=e.shared.hiddenCallbacks,e.shared.hiddenCallbacks=s===null?n:s.concat(n))));break;case 26:var i=qa;if(ia(t,e),ra(e),n&512&&($t||s===null||Ja(s,s.return)),n&4){var o=s!==null?s.memoizedState:null;if(n=e.memoizedState,s===null)if(n===null)if(e.stateNode===null){e:{n=e.type,s=e.memoizedProps,i=i.ownerDocument||i;t:switch(n){case"title":o=i.getElementsByTagName("title")[0],(!o||o[Re]||o[Rt]||o.namespaceURI==="http://www.w3.org/2000/svg"||o.hasAttribute("itemprop"))&&(o=i.createElement(n),i.head.insertBefore(o,i.querySelector("head > title"))),Xt(o,n,s),o[Rt]=e,Ke(o),n=o;break e;case"link":var h=hp("link","href",i).get(n+(s.href||""));if(h){for(var y=0;y<h.length;y++)if(o=h[y],o.getAttribute("href")===(s.href==null||s.href===""?null:s.href)&&o.getAttribute("rel")===(s.rel==null?null:s.rel)&&o.getAttribute("title")===(s.title==null?null:s.title)&&o.getAttribute("crossorigin")===(s.crossOrigin==null?null:s.crossOrigin)){h.splice(y,1);break t}}o=i.createElement(n),Xt(o,n,s),i.head.appendChild(o);break;case"meta":if(h=hp("meta","content",i).get(n+(s.content||""))){for(y=0;y<h.length;y++)if(o=h[y],o.getAttribute("content")===(s.content==null?null:""+s.content)&&o.getAttribute("name")===(s.name==null?null:s.name)&&o.getAttribute("property")===(s.property==null?null:s.property)&&o.getAttribute("http-equiv")===(s.httpEquiv==null?null:s.httpEquiv)&&o.getAttribute("charset")===(s.charSet==null?null:s.charSet)){h.splice(y,1);break t}}o=i.createElement(n),Xt(o,n,s),i.head.appendChild(o);break;default:throw Error(c(468,n))}o[Rt]=e,Ke(o),n=o}e.stateNode=n}else mp(i,e.type,e.stateNode);else e.stateNode=up(i,n,e.memoizedProps);else o!==n?(o===null?s.stateNode!==null&&(s=s.stateNode,s.parentNode.removeChild(s)):o.count--,n===null?mp(i,e.type,e.stateNode):up(i,n,e.memoizedProps)):n===null&&e.stateNode!==null&&td(e,e.memoizedProps,s.memoizedProps)}break;case 27:ia(t,e),ra(e),n&512&&($t||s===null||Ja(s,s.return)),s!==null&&n&4&&td(e,e.memoizedProps,s.memoizedProps);break;case 5:if(ia(t,e),ra(e),n&512&&($t||s===null||Ja(s,s.return)),e.flags&32){i=e.stateNode;try{zn(i,"")}catch(_e){ut(e,e.return,_e)}}n&4&&e.stateNode!=null&&(i=e.memoizedProps,td(e,i,s!==null?s.memoizedProps:i)),n&1024&&(nd=!0);break;case 6:if(ia(t,e),ra(e),n&4){if(e.stateNode===null)throw Error(c(162));n=e.memoizedProps,s=e.stateNode;try{s.nodeValue=n}catch(_e){ut(e,e.return,_e)}}break;case 3:if(Xr=null,i=qa,qa=Yr(t.containerInfo),ia(t,e),qa=i,ra(e),n&4&&s!==null&&s.memoizedState.isDehydrated)try{hl(t.containerInfo)}catch(_e){ut(e,e.return,_e)}nd&&(nd=!1,mf(e));break;case 4:n=qa,qa=Yr(e.stateNode.containerInfo),ia(t,e),ra(e),qa=n;break;case 12:ia(t,e),ra(e);break;case 31:ia(t,e),ra(e),n&4&&(n=e.updateQueue,n!==null&&(e.updateQueue=null,Dr(e,n)));break;case 13:ia(t,e),ra(e),e.child.flags&8192&&e.memoizedState!==null!=(s!==null&&s.memoizedState!==null)&&(_r=ge()),n&4&&(n=e.updateQueue,n!==null&&(e.updateQueue=null,Dr(e,n)));break;case 22:i=e.memoizedState!==null;var A=s!==null&&s.memoizedState!==null,H=ys,le=$t;if(ys=H||i,$t=le||A,ia(t,e),$t=le,ys=H,ra(e),n&8192)e:for(t=e.stateNode,t._visibility=i?t._visibility&-2:t._visibility|1,i&&(s===null||A||ys||$t||kn(e)),s=null,t=e;;){if(t.tag===5||t.tag===26){if(s===null){A=s=t;try{if(o=A.stateNode,i)h=o.style,typeof h.setProperty=="function"?h.setProperty("display","none","important"):h.display="none";else{y=A.stateNode;var me=A.memoizedProps.style,V=me!=null&&me.hasOwnProperty("display")?me.display:null;y.style.display=V==null||typeof V=="boolean"?"":(""+V).trim()}}catch(_e){ut(A,A.return,_e)}}}else if(t.tag===6){if(s===null){A=t;try{A.stateNode.nodeValue=i?"":A.memoizedProps}catch(_e){ut(A,A.return,_e)}}}else if(t.tag===18){if(s===null){A=t;try{var Z=A.stateNode;i?ap(Z,!0):ap(A.stateNode,!1)}catch(_e){ut(A,A.return,_e)}}}else if((t.tag!==22&&t.tag!==23||t.memoizedState===null||t===e)&&t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break e;for(;t.sibling===null;){if(t.return===null||t.return===e)break e;s===t&&(s=null),t=t.return}s===t&&(s=null),t.sibling.return=t.return,t=t.sibling}n&4&&(n=e.updateQueue,n!==null&&(s=n.retryQueue,s!==null&&(n.retryQueue=null,Dr(e,s))));break;case 19:ia(t,e),ra(e),n&4&&(n=e.updateQueue,n!==null&&(e.updateQueue=null,Dr(e,n)));break;case 30:break;case 21:break;default:ia(t,e),ra(e)}}function ra(e){var t=e.flags;if(t&2){try{for(var s,n=e.return;n!==null;){if(sf(n)){s=n;break}n=n.return}if(s==null)throw Error(c(160));switch(s.tag){case 27:var i=s.stateNode,o=ad(e);Cr(e,o,i);break;case 5:var h=s.stateNode;s.flags&32&&(zn(h,""),s.flags&=-33);var y=ad(e);Cr(e,y,h);break;case 3:case 4:var A=s.stateNode.containerInfo,H=ad(e);sd(e,H,A);break;default:throw Error(c(161))}}catch(le){ut(e,e.return,le)}e.flags&=-3}t&4096&&(e.flags&=-4097)}function mf(e){if(e.subtreeFlags&1024)for(e=e.child;e!==null;){var t=e;mf(t),t.tag===5&&t.flags&1024&&t.stateNode.reset(),e=e.sibling}}function ws(e,t){if(t.subtreeFlags&8772)for(t=t.child;t!==null;)rf(e,t.alternate,t),t=t.sibling}function kn(e){for(e=e.child;e!==null;){var t=e;switch(t.tag){case 0:case 11:case 14:case 15:qs(4,t,t.return),kn(t);break;case 1:Ja(t,t.return);var s=t.stateNode;typeof s.componentWillUnmount=="function"&&tf(t,t.return,s),kn(t);break;case 27:di(t.stateNode);case 26:case 5:Ja(t,t.return),kn(t);break;case 22:t.memoizedState===null&&kn(t);break;case 30:kn(t);break;default:kn(t)}e=e.sibling}}function js(e,t,s){for(s=s&&(t.subtreeFlags&8772)!==0,t=t.child;t!==null;){var n=t.alternate,i=e,o=t,h=o.flags;switch(o.tag){case 0:case 11:case 15:js(i,o,s),ei(4,o);break;case 1:if(js(i,o,s),n=o,i=n.stateNode,typeof i.componentDidMount=="function")try{i.componentDidMount()}catch(H){ut(n,n.return,H)}if(n=o,i=n.updateQueue,i!==null){var y=n.stateNode;try{var A=i.shared.hiddenCallbacks;if(A!==null)for(i.shared.hiddenCallbacks=null,i=0;i<A.length;i++)Ih(A[i],y)}catch(H){ut(n,n.return,H)}}s&&h&64&&ef(o),ti(o,o.return);break;case 27:nf(o);case 26:case 5:js(i,o,s),s&&n===null&&h&4&&af(o),ti(o,o.return);break;case 12:js(i,o,s);break;case 31:js(i,o,s),s&&h&4&&df(i,o);break;case 13:js(i,o,s),s&&h&4&&uf(i,o);break;case 22:o.memoizedState===null&&js(i,o,s),ti(o,o.return);break;case 30:break;default:js(i,o,s)}t=t.sibling}}function ld(e,t){var s=null;e!==null&&e.memoizedState!==null&&e.memoizedState.cachePool!==null&&(s=e.memoizedState.cachePool.pool),e=null,t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(e=t.memoizedState.cachePool.pool),e!==s&&(e!=null&&e.refCount++,s!=null&&Gl(s))}function id(e,t){e=null,t.alternate!==null&&(e=t.alternate.memoizedState.cache),t=t.memoizedState.cache,t!==e&&(t.refCount++,e!=null&&Gl(e))}function Ia(e,t,s,n){if(t.subtreeFlags&10256)for(t=t.child;t!==null;)ff(e,t,s,n),t=t.sibling}function ff(e,t,s,n){var i=t.flags;switch(t.tag){case 0:case 11:case 15:Ia(e,t,s,n),i&2048&&ei(9,t);break;case 1:Ia(e,t,s,n);break;case 3:Ia(e,t,s,n),i&2048&&(e=null,t.alternate!==null&&(e=t.alternate.memoizedState.cache),t=t.memoizedState.cache,t!==e&&(t.refCount++,e!=null&&Gl(e)));break;case 12:if(i&2048){Ia(e,t,s,n),e=t.stateNode;try{var o=t.memoizedProps,h=o.id,y=o.onPostCommit;typeof y=="function"&&y(h,t.alternate===null?"mount":"update",e.passiveEffectDuration,-0)}catch(A){ut(t,t.return,A)}}else Ia(e,t,s,n);break;case 31:Ia(e,t,s,n);break;case 13:Ia(e,t,s,n);break;case 23:break;case 22:o=t.stateNode,h=t.alternate,t.memoizedState!==null?o._visibility&2?Ia(e,t,s,n):ai(e,t):o._visibility&2?Ia(e,t,s,n):(o._visibility|=2,tl(e,t,s,n,(t.subtreeFlags&10256)!==0||!1)),i&2048&&ld(h,t);break;case 24:Ia(e,t,s,n),i&2048&&id(t.alternate,t);break;default:Ia(e,t,s,n)}}function tl(e,t,s,n,i){for(i=i&&((t.subtreeFlags&10256)!==0||!1),t=t.child;t!==null;){var o=e,h=t,y=s,A=n,H=h.flags;switch(h.tag){case 0:case 11:case 15:tl(o,h,y,A,i),ei(8,h);break;case 23:break;case 22:var le=h.stateNode;h.memoizedState!==null?le._visibility&2?tl(o,h,y,A,i):ai(o,h):(le._visibility|=2,tl(o,h,y,A,i)),i&&H&2048&&ld(h.alternate,h);break;case 24:tl(o,h,y,A,i),i&&H&2048&&id(h.alternate,h);break;default:tl(o,h,y,A,i)}t=t.sibling}}function ai(e,t){if(t.subtreeFlags&10256)for(t=t.child;t!==null;){var s=e,n=t,i=n.flags;switch(n.tag){case 22:ai(s,n),i&2048&&ld(n.alternate,n);break;case 24:ai(s,n),i&2048&&id(n.alternate,n);break;default:ai(s,n)}t=t.sibling}}var si=8192;function al(e,t,s){if(e.subtreeFlags&si)for(e=e.child;e!==null;)pf(e,t,s),e=e.sibling}function pf(e,t,s){switch(e.tag){case 26:al(e,t,s),e.flags&si&&e.memoizedState!==null&&rb(s,qa,e.memoizedState,e.memoizedProps);break;case 5:al(e,t,s);break;case 3:case 4:var n=qa;qa=Yr(e.stateNode.containerInfo),al(e,t,s),qa=n;break;case 22:e.memoizedState===null&&(n=e.alternate,n!==null&&n.memoizedState!==null?(n=si,si=16777216,al(e,t,s),si=n):al(e,t,s));break;default:al(e,t,s)}}function xf(e){var t=e.alternate;if(t!==null&&(e=t.child,e!==null)){t.child=null;do t=e.sibling,e.sibling=null,e=t;while(e!==null)}}function ni(e){var t=e.deletions;if((e.flags&16)!==0){if(t!==null)for(var s=0;s<t.length;s++){var n=t[s];Gt=n,bf(n,e)}xf(e)}if(e.subtreeFlags&10256)for(e=e.child;e!==null;)gf(e),e=e.sibling}function gf(e){switch(e.tag){case 0:case 11:case 15:ni(e),e.flags&2048&&qs(9,e,e.return);break;case 3:ni(e);break;case 12:ni(e);break;case 22:var t=e.stateNode;e.memoizedState!==null&&t._visibility&2&&(e.return===null||e.return.tag!==13)?(t._visibility&=-3,Mr(e)):ni(e);break;default:ni(e)}}function Mr(e){var t=e.deletions;if((e.flags&16)!==0){if(t!==null)for(var s=0;s<t.length;s++){var n=t[s];Gt=n,bf(n,e)}xf(e)}for(e=e.child;e!==null;){switch(t=e,t.tag){case 0:case 11:case 15:qs(8,t,t.return),Mr(t);break;case 22:s=t.stateNode,s._visibility&2&&(s._visibility&=-3,Mr(t));break;default:Mr(t)}e=e.sibling}}function bf(e,t){for(;Gt!==null;){var s=Gt;switch(s.tag){case 0:case 11:case 15:qs(8,s,t);break;case 23:case 22:if(s.memoizedState!==null&&s.memoizedState.cachePool!==null){var n=s.memoizedState.cachePool.pool;n!=null&&n.refCount++}break;case 24:Gl(s.memoizedState.cache)}if(n=s.child,n!==null)n.return=s,Gt=n;else e:for(s=e;Gt!==null;){n=Gt;var i=n.sibling,o=n.return;if(of(n),n===s){Gt=null;break e}if(i!==null){i.return=o,Gt=i;break e}Gt=o}}}var j0={getCacheForType:function(e){var t=Yt(Ot),s=t.data.get(e);return s===void 0&&(s=e(),t.data.set(e,s)),s},cacheSignal:function(){return Yt(Ot).controller.signal}},N0=typeof WeakMap=="function"?WeakMap:Map,it=0,pt=null,We=null,tt=0,dt=0,pa=null,Is=!1,sl=!1,rd=!1,Ns=0,Et=0,Ys=0,Sn=0,od=0,xa=0,nl=0,li=null,oa=null,cd=!1,_r=0,yf=0,Rr=1/0,Or=null,Vs=null,Bt=0,Xs=null,ll=null,ks=0,dd=0,ud=null,vf=null,ii=0,hd=null;function ga(){return(it&2)!==0&&tt!==0?tt&-tt:z.T!==null?bd():Al()}function wf(){if(xa===0)if((tt&536870912)===0||st){var e=ls;ls<<=1,(ls&3932160)===0&&(ls=262144),xa=e}else xa=536870912;return e=ma.current,e!==null&&(e.flags|=32),xa}function ca(e,t,s){(e===pt&&(dt===2||dt===9)||e.cancelPendingCommit!==null)&&(il(e,0),Qs(e,tt,xa,!1)),Ms(e,s),((it&2)===0||e!==pt)&&(e===pt&&((it&2)===0&&(Sn|=s),Et===4&&Qs(e,tt,xa,!1)),Wa(e))}function jf(e,t,s){if((it&6)!==0)throw Error(c(327));var n=!s&&(t&127)===0&&(t&e.expiredLanes)===0||cn(e,t),i=n?A0(e,t):fd(e,t,!0),o=n;do{if(i===0){sl&&!n&&Qs(e,t,0,!1);break}else{if(s=e.current.alternate,o&&!k0(s)){i=fd(e,t,!1),o=!1;continue}if(i===2){if(o=t,e.errorRecoveryDisabledLanes&o)var h=0;else h=e.pendingLanes&-536870913,h=h!==0?h:h&536870912?536870912:0;if(h!==0){t=h;e:{var y=e;i=li;var A=y.current.memoizedState.isDehydrated;if(A&&(il(y,h).flags|=256),h=fd(y,h,!1),h!==2){if(rd&&!A){y.errorRecoveryDisabledLanes|=o,Sn|=o,i=4;break e}o=oa,oa=i,o!==null&&(oa===null?oa=o:oa.push.apply(oa,o))}i=h}if(o=!1,i!==2)continue}}if(i===1){il(e,0),Qs(e,t,0,!0);break}e:{switch(n=e,o=i,o){case 0:case 1:throw Error(c(345));case 4:if((t&4194048)!==t)break;case 6:Qs(n,t,xa,!Is);break e;case 2:oa=null;break;case 3:case 5:break;default:throw Error(c(329))}if((t&62914560)===t&&(i=_r+300-ge(),10<i)){if(Qs(n,t,xa,!Is),_n(n,0,!0)!==0)break e;ks=t,n.timeoutHandle=Ff(Nf.bind(null,n,s,oa,Or,cd,t,xa,Sn,nl,Is,o,"Throttled",-0,0),i);break e}Nf(n,s,oa,Or,cd,t,xa,Sn,nl,Is,o,null,-0,0)}}break}while(!0);Wa(e)}function Nf(e,t,s,n,i,o,h,y,A,H,le,me,V,Z){if(e.timeoutHandle=-1,me=t.subtreeFlags,me&8192||(me&16785408)===16785408){me={stylesheets:null,count:0,imgCount:0,imgBytes:0,suspenseyImages:[],waitingForImages:!0,waitingForViewTransition:!1,unsuspend:cs},pf(t,o,me);var _e=(o&62914560)===o?_r-ge():(o&4194048)===o?yf-ge():0;if(_e=ob(me,_e),_e!==null){ks=o,e.cancelPendingCommit=_e(Mf.bind(null,e,t,o,s,n,i,h,y,A,le,me,null,V,Z)),Qs(e,o,h,!H);return}}Mf(e,t,o,s,n,i,h,y,A)}function k0(e){for(var t=e;;){var s=t.tag;if((s===0||s===11||s===15)&&t.flags&16384&&(s=t.updateQueue,s!==null&&(s=s.stores,s!==null)))for(var n=0;n<s.length;n++){var i=s[n],o=i.getSnapshot;i=i.value;try{if(!ua(o(),i))return!1}catch{return!1}}if(s=t.child,t.subtreeFlags&16384&&s!==null)s.return=t,t=s;else{if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}function Qs(e,t,s,n){t&=~od,t&=~Sn,e.suspendedLanes|=t,e.pingedLanes&=~t,n&&(e.warmLanes|=t),n=e.expirationTimes;for(var i=t;0<i;){var o=31-je(i),h=1<<o;n[o]=-1,i&=~h}s!==0&&kl(e,s,t)}function zr(){return(it&6)===0?(ri(0),!1):!0}function md(){if(We!==null){if(dt===0)var e=We.return;else e=We,ms=xn=null,Cc(e),Kn=null,Il=0,e=We;for(;e!==null;)Fm(e.alternate,e),e=e.return;We=null}}function il(e,t){var s=e.timeoutHandle;s!==-1&&(e.timeoutHandle=-1,Y0(s)),s=e.cancelPendingCommit,s!==null&&(e.cancelPendingCommit=null,s()),ks=0,md(),pt=e,We=s=us(e.current,null),tt=t,dt=0,pa=null,Is=!1,sl=cn(e,t),rd=!1,nl=xa=od=Sn=Ys=Et=0,oa=li=null,cd=!1,(t&8)!==0&&(t|=t&32);var n=e.entangledLanes;if(n!==0)for(e=e.entanglements,n&=t;0<n;){var i=31-je(n),o=1<<i;t|=e[i],n&=~o}return Ns=t,ar(),s}function kf(e,t){Ve=null,z.H=Jl,t===Zn||t===dr?(t=Bh(),dt=3):t===gc?(t=Bh(),dt=4):dt=t===Vc?8:t!==null&&typeof t=="object"&&typeof t.then=="function"?6:1,pa=t,We===null&&(Et=1,kr(e,Ca(t,e.current)))}function Sf(){var e=ma.current;return e===null?!0:(tt&4194048)===tt?Ra===null:(tt&62914560)===tt||(tt&536870912)!==0?e===Ra:!1}function Af(){var e=z.H;return z.H=Jl,e===null?Jl:e}function Tf(){var e=z.A;return z.A=j0,e}function Lr(){Et=4,Is||(tt&4194048)!==tt&&ma.current!==null||(sl=!0),(Ys&134217727)===0&&(Sn&134217727)===0||pt===null||Qs(pt,tt,xa,!1)}function fd(e,t,s){var n=it;it|=2;var i=Af(),o=Tf();(pt!==e||tt!==t)&&(Or=null,il(e,t)),t=!1;var h=Et;e:do try{if(dt!==0&&We!==null){var y=We,A=pa;switch(dt){case 8:md(),h=6;break e;case 3:case 2:case 9:case 6:ma.current===null&&(t=!0);var H=dt;if(dt=0,pa=null,rl(e,y,A,H),s&&sl){h=0;break e}break;default:H=dt,dt=0,pa=null,rl(e,y,A,H)}}S0(),h=Et;break}catch(le){kf(e,le)}while(!0);return t&&e.shellSuspendCounter++,ms=xn=null,it=n,z.H=i,z.A=o,We===null&&(pt=null,tt=0,ar()),h}function S0(){for(;We!==null;)Ef(We)}function A0(e,t){var s=it;it|=2;var n=Af(),i=Tf();pt!==e||tt!==t?(Or=null,Rr=ge()+500,il(e,t)):sl=cn(e,t);e:do try{if(dt!==0&&We!==null){t=We;var o=pa;t:switch(dt){case 1:dt=0,pa=null,rl(e,t,o,1);break;case 2:case 9:if($h(o)){dt=0,pa=null,Cf(t);break}t=function(){dt!==2&&dt!==9||pt!==e||(dt=7),Wa(e)},o.then(t,t);break e;case 3:dt=7;break e;case 4:dt=5;break e;case 7:$h(o)?(dt=0,pa=null,Cf(t)):(dt=0,pa=null,rl(e,t,o,7));break;case 5:var h=null;switch(We.tag){case 26:h=We.memoizedState;case 5:case 27:var y=We;if(h?fp(h):y.stateNode.complete){dt=0,pa=null;var A=y.sibling;if(A!==null)We=A;else{var H=y.return;H!==null?(We=H,$r(H)):We=null}break t}}dt=0,pa=null,rl(e,t,o,5);break;case 6:dt=0,pa=null,rl(e,t,o,6);break;case 8:md(),Et=6;break e;default:throw Error(c(462))}}T0();break}catch(le){kf(e,le)}while(!0);return ms=xn=null,z.H=n,z.A=i,it=s,We!==null?0:(pt=null,tt=0,ar(),Et)}function T0(){for(;We!==null&&!Ee();)Ef(We)}function Ef(e){var t=Jm(e.alternate,e,Ns);e.memoizedProps=e.pendingProps,t===null?$r(e):We=t}function Cf(e){var t=e,s=t.alternate;switch(t.tag){case 15:case 0:t=Vm(s,t,t.pendingProps,t.type,void 0,tt);break;case 11:t=Vm(s,t,t.pendingProps,t.type.render,t.ref,tt);break;case 5:Cc(t);default:Fm(s,t),t=We=Ah(t,Ns),t=Jm(s,t,Ns)}e.memoizedProps=e.pendingProps,t===null?$r(e):We=t}function rl(e,t,s,n){ms=xn=null,Cc(t),Kn=null,Il=0;var i=t.return;try{if(p0(e,i,t,s,tt)){Et=1,kr(e,Ca(s,e.current)),We=null;return}}catch(o){if(i!==null)throw We=i,o;Et=1,kr(e,Ca(s,e.current)),We=null;return}t.flags&32768?(st||n===1?e=!0:sl||(tt&536870912)!==0?e=!1:(Is=e=!0,(n===2||n===9||n===3||n===6)&&(n=ma.current,n!==null&&n.tag===13&&(n.flags|=16384))),Df(t,e)):$r(t)}function $r(e){var t=e;do{if((t.flags&32768)!==0){Df(t,Is);return}e=t.return;var s=b0(t.alternate,t,Ns);if(s!==null){We=s;return}if(t=t.sibling,t!==null){We=t;return}We=t=e}while(t!==null);Et===0&&(Et=5)}function Df(e,t){do{var s=y0(e.alternate,e);if(s!==null){s.flags&=32767,We=s;return}if(s=e.return,s!==null&&(s.flags|=32768,s.subtreeFlags=0,s.deletions=null),!t&&(e=e.sibling,e!==null)){We=e;return}We=e=s}while(e!==null);Et=6,We=null}function Mf(e,t,s,n,i,o,h,y,A){e.cancelPendingCommit=null;do Ur();while(Bt!==0);if((it&6)!==0)throw Error(c(327));if(t!==null){if(t===e.current)throw Error(c(177));if(o=t.lanes|t.childLanes,o|=ac,Nl(e,s,o,h,y,A),e===pt&&(We=pt=null,tt=0),ll=t,Xs=e,ks=s,dd=o,ud=i,vf=n,(t.subtreeFlags&10256)!==0||(t.flags&10256)!==0?(e.callbackNode=null,e.callbackPriority=0,M0(ae,function(){return Lf(),null})):(e.callbackNode=null,e.callbackPriority=0),n=(t.flags&13878)!==0,(t.subtreeFlags&13878)!==0||n){n=z.T,z.T=null,i=te.p,te.p=2,h=it,it|=4;try{v0(e,t,s)}finally{it=h,te.p=i,z.T=n}}Bt=1,_f(),Rf(),Of()}}function _f(){if(Bt===1){Bt=0;var e=Xs,t=ll,s=(t.flags&13878)!==0;if((t.subtreeFlags&13878)!==0||s){s=z.T,z.T=null;var n=te.p;te.p=2;var i=it;it|=4;try{hf(t,e);var o=Ad,h=gh(e.containerInfo),y=o.focusedElem,A=o.selectionRange;if(h!==y&&y&&y.ownerDocument&&xh(y.ownerDocument.documentElement,y)){if(A!==null&&Jo(y)){var H=A.start,le=A.end;if(le===void 0&&(le=H),"selectionStart"in y)y.selectionStart=H,y.selectionEnd=Math.min(le,y.value.length);else{var me=y.ownerDocument||document,V=me&&me.defaultView||window;if(V.getSelection){var Z=V.getSelection(),_e=y.textContent.length,Be=Math.min(A.start,_e),ft=A.end===void 0?Be:Math.min(A.end,_e);!Z.extend&&Be>ft&&(h=ft,ft=Be,Be=h);var $=ph(y,Be),_=ph(y,ft);if($&&_&&(Z.rangeCount!==1||Z.anchorNode!==$.node||Z.anchorOffset!==$.offset||Z.focusNode!==_.node||Z.focusOffset!==_.offset)){var B=me.createRange();B.setStart($.node,$.offset),Z.removeAllRanges(),Be>ft?(Z.addRange(B),Z.extend(_.node,_.offset)):(B.setEnd(_.node,_.offset),Z.addRange(B))}}}}for(me=[],Z=y;Z=Z.parentNode;)Z.nodeType===1&&me.push({element:Z,left:Z.scrollLeft,top:Z.scrollTop});for(typeof y.focus=="function"&&y.focus(),y=0;y<me.length;y++){var ue=me[y];ue.element.scrollLeft=ue.left,ue.element.scrollTop=ue.top}}Kr=!!Sd,Ad=Sd=null}finally{it=i,te.p=n,z.T=s}}e.current=t,Bt=2}}function Rf(){if(Bt===2){Bt=0;var e=Xs,t=ll,s=(t.flags&8772)!==0;if((t.subtreeFlags&8772)!==0||s){s=z.T,z.T=null;var n=te.p;te.p=2;var i=it;it|=4;try{rf(e,t.alternate,t)}finally{it=i,te.p=n,z.T=s}}Bt=3}}function Of(){if(Bt===4||Bt===3){Bt=0,Me();var e=Xs,t=ll,s=ks,n=vf;(t.subtreeFlags&10256)!==0||(t.flags&10256)!==0?Bt=5:(Bt=0,ll=Xs=null,zf(e,e.pendingLanes));var i=e.pendingLanes;if(i===0&&(Vs=null),Ha(s),t=t.stateNode,Qe&&typeof Qe.onCommitFiberRoot=="function")try{Qe.onCommitFiberRoot(Le,t,void 0,(t.current.flags&128)===128)}catch{}if(n!==null){t=z.T,i=te.p,te.p=2,z.T=null;try{for(var o=e.onRecoverableError,h=0;h<n.length;h++){var y=n[h];o(y.value,{componentStack:y.stack})}}finally{z.T=t,te.p=i}}(ks&3)!==0&&Ur(),Wa(e),i=e.pendingLanes,(s&261930)!==0&&(i&42)!==0?e===hd?ii++:(ii=0,hd=e):ii=0,ri(0)}}function zf(e,t){(e.pooledCacheLanes&=t)===0&&(t=e.pooledCache,t!=null&&(e.pooledCache=null,Gl(t)))}function Ur(){return _f(),Rf(),Of(),Lf()}function Lf(){if(Bt!==5)return!1;var e=Xs,t=dd;dd=0;var s=Ha(ks),n=z.T,i=te.p;try{te.p=32>s?32:s,z.T=null,s=ud,ud=null;var o=Xs,h=ks;if(Bt=0,ll=Xs=null,ks=0,(it&6)!==0)throw Error(c(331));var y=it;if(it|=4,gf(o.current),ff(o,o.current,h,s),it=y,ri(0,!1),Qe&&typeof Qe.onPostCommitFiberRoot=="function")try{Qe.onPostCommitFiberRoot(Le,o)}catch{}return!0}finally{te.p=i,z.T=n,zf(e,t)}}function $f(e,t,s){t=Ca(s,t),t=Yc(e.stateNode,t,2),e=Bs(e,t,2),e!==null&&(Ms(e,2),Wa(e))}function ut(e,t,s){if(e.tag===3)$f(e,e,s);else for(;t!==null;){if(t.tag===3){$f(t,e,s);break}else if(t.tag===1){var n=t.stateNode;if(typeof t.type.getDerivedStateFromError=="function"||typeof n.componentDidCatch=="function"&&(Vs===null||!Vs.has(n))){e=Ca(s,e),s=$m(2),n=Bs(t,s,2),n!==null&&(Um(s,n,t,e),Ms(n,2),Wa(n));break}}t=t.return}}function pd(e,t,s){var n=e.pingCache;if(n===null){n=e.pingCache=new N0;var i=new Set;n.set(t,i)}else i=n.get(t),i===void 0&&(i=new Set,n.set(t,i));i.has(s)||(rd=!0,i.add(s),e=E0.bind(null,e,t,s),t.then(e,e))}function E0(e,t,s){var n=e.pingCache;n!==null&&n.delete(t),e.pingedLanes|=e.suspendedLanes&s,e.warmLanes&=~s,pt===e&&(tt&s)===s&&(Et===4||Et===3&&(tt&62914560)===tt&&300>ge()-_r?(it&2)===0&&il(e,0):od|=s,nl===tt&&(nl=0)),Wa(e)}function Uf(e,t){t===0&&(t=is()),e=mn(e,t),e!==null&&(Ms(e,t),Wa(e))}function C0(e){var t=e.memoizedState,s=0;t!==null&&(s=t.retryLane),Uf(e,s)}function D0(e,t){var s=0;switch(e.tag){case 31:case 13:var n=e.stateNode,i=e.memoizedState;i!==null&&(s=i.retryLane);break;case 19:n=e.stateNode;break;case 22:n=e.stateNode._retryCache;break;default:throw Error(c(314))}n!==null&&n.delete(t),Uf(e,s)}function M0(e,t){return S(e,t)}var Br=null,ol=null,xd=!1,Hr=!1,gd=!1,Ps=0;function Wa(e){e!==ol&&e.next===null&&(ol===null?Br=ol=e:ol=ol.next=e),Hr=!0,xd||(xd=!0,R0())}function ri(e,t){if(!gd&&Hr){gd=!0;do for(var s=!1,n=Br;n!==null;){if(e!==0){var i=n.pendingLanes;if(i===0)var o=0;else{var h=n.suspendedLanes,y=n.pingedLanes;o=(1<<31-je(42|e)+1)-1,o&=i&~(h&~y),o=o&201326741?o&201326741|1:o?o|2:0}o!==0&&(s=!0,qf(n,o))}else o=tt,o=_n(n,n===pt?o:0,n.cancelPendingCommit!==null||n.timeoutHandle!==-1),(o&3)===0||cn(n,o)||(s=!0,qf(n,o));n=n.next}while(s);gd=!1}}function _0(){Bf()}function Bf(){Hr=xd=!1;var e=0;Ps!==0&&I0()&&(e=Ps);for(var t=ge(),s=null,n=Br;n!==null;){var i=n.next,o=Hf(n,t);o===0?(n.next=null,s===null?Br=i:s.next=i,i===null&&(ol=s)):(s=n,(e!==0||(o&3)!==0)&&(Hr=!0)),n=i}Bt!==0&&Bt!==5||ri(e),Ps!==0&&(Ps=0)}function Hf(e,t){for(var s=e.suspendedLanes,n=e.pingedLanes,i=e.expirationTimes,o=e.pendingLanes&-62914561;0<o;){var h=31-je(o),y=1<<h,A=i[h];A===-1?((y&s)===0||(y&n)!==0)&&(i[h]=_t(y,t)):A<=t&&(e.expiredLanes|=y),o&=~y}if(t=pt,s=tt,s=_n(e,e===t?s:0,e.cancelPendingCommit!==null||e.timeoutHandle!==-1),n=e.callbackNode,s===0||e===t&&(dt===2||dt===9)||e.cancelPendingCommit!==null)return n!==null&&n!==null&&pe(n),e.callbackNode=null,e.callbackPriority=0;if((s&3)===0||cn(e,s)){if(t=s&-s,t===e.callbackPriority)return t;switch(n!==null&&pe(n),Ha(s)){case 2:case 8:s=Q;break;case 32:s=ae;break;case 268435456:s=Ct;break;default:s=ae}return n=Gf.bind(null,e),s=S(s,n),e.callbackPriority=t,e.callbackNode=s,t}return n!==null&&n!==null&&pe(n),e.callbackPriority=2,e.callbackNode=null,2}function Gf(e,t){if(Bt!==0&&Bt!==5)return e.callbackNode=null,e.callbackPriority=0,null;var s=e.callbackNode;if(Ur()&&e.callbackNode!==s)return null;var n=tt;return n=_n(e,e===pt?n:0,e.cancelPendingCommit!==null||e.timeoutHandle!==-1),n===0?null:(jf(e,n,t),Hf(e,ge()),e.callbackNode!=null&&e.callbackNode===s?Gf.bind(null,e):null)}function qf(e,t){if(Ur())return null;jf(e,t,!0)}function R0(){V0(function(){(it&6)!==0?S(qe,_0):Bf()})}function bd(){if(Ps===0){var e=Qn;e===0&&(e=ns,ns<<=1,(ns&261888)===0&&(ns=256)),Ps=e}return Ps}function If(e){return e==null||typeof e=="symbol"||typeof e=="boolean"?null:typeof e=="function"?e:Pi(""+e)}function Yf(e,t){var s=t.ownerDocument.createElement("input");return s.name=t.name,s.value=t.value,e.id&&s.setAttribute("form",e.id),t.parentNode.insertBefore(s,t),e=new FormData(e),s.parentNode.removeChild(s),e}function O0(e,t,s,n,i){if(t==="submit"&&s&&s.stateNode===i){var o=If((i[jt]||null).action),h=n.submitter;h&&(t=(t=h[jt]||null)?If(t.formAction):h.getAttribute("formAction"),t!==null&&(o=t,h=null));var y=new Wi("action","action",null,n,i);e.push({event:y,listeners:[{instance:null,listener:function(){if(n.defaultPrevented){if(Ps!==0){var A=h?Yf(i,h):new FormData(i);Uc(s,{pending:!0,data:A,method:i.method,action:o},null,A)}}else typeof o=="function"&&(y.preventDefault(),A=h?Yf(i,h):new FormData(i),Uc(s,{pending:!0,data:A,method:i.method,action:o},o,A))},currentTarget:i}]})}}for(var yd=0;yd<tc.length;yd++){var vd=tc[yd],z0=vd.toLowerCase(),L0=vd[0].toUpperCase()+vd.slice(1);Ga(z0,"on"+L0)}Ga(vh,"onAnimationEnd"),Ga(wh,"onAnimationIteration"),Ga(jh,"onAnimationStart"),Ga("dblclick","onDoubleClick"),Ga("focusin","onFocus"),Ga("focusout","onBlur"),Ga(Wg,"onTransitionRun"),Ga(Fg,"onTransitionStart"),Ga(e0,"onTransitionCancel"),Ga(Nh,"onTransitionEnd"),Pa("onMouseEnter",["mouseout","mouseover"]),Pa("onMouseLeave",["mouseout","mouseover"]),Pa("onPointerEnter",["pointerout","pointerover"]),Pa("onPointerLeave",["pointerout","pointerover"]),sa("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),sa("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),sa("onBeforeInput",["compositionend","keypress","textInput","paste"]),sa("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),sa("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),sa("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var oi="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),$0=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(oi));function Vf(e,t){t=(t&4)!==0;for(var s=0;s<e.length;s++){var n=e[s],i=n.event;n=n.listeners;e:{var o=void 0;if(t)for(var h=n.length-1;0<=h;h--){var y=n[h],A=y.instance,H=y.currentTarget;if(y=y.listener,A!==o&&i.isPropagationStopped())break e;o=y,i.currentTarget=H;try{o(i)}catch(le){tr(le)}i.currentTarget=null,o=A}else for(h=0;h<n.length;h++){if(y=n[h],A=y.instance,H=y.currentTarget,y=y.listener,A!==o&&i.isPropagationStopped())break e;o=y,i.currentTarget=H;try{o(i)}catch(le){tr(le)}i.currentTarget=null,o=A}}}}function Fe(e,t){var s=t[Rn];s===void 0&&(s=t[Rn]=new Set);var n=e+"__bubble";s.has(n)||(Xf(t,e,2,!1),s.add(n))}function wd(e,t,s){var n=0;t&&(n|=4),Xf(s,e,n,t)}var Gr="_reactListening"+Math.random().toString(36).slice(2);function jd(e){if(!e[Gr]){e[Gr]=!0,qt.forEach(function(s){s!=="selectionchange"&&($0.has(s)||wd(s,!1,e),wd(s,!0,e))});var t=e.nodeType===9?e:e.ownerDocument;t===null||t[Gr]||(t[Gr]=!0,wd("selectionchange",!1,t))}}function Xf(e,t,s,n){switch(wp(t)){case 2:var i=ub;break;case 8:i=hb;break;default:i=$d}s=i.bind(null,t,s,e),i=void 0,!qo||t!=="touchstart"&&t!=="touchmove"&&t!=="wheel"||(i=!0),n?i!==void 0?e.addEventListener(t,s,{capture:!0,passive:i}):e.addEventListener(t,s,!0):i!==void 0?e.addEventListener(t,s,{passive:i}):e.addEventListener(t,s,!1)}function Nd(e,t,s,n,i){var o=n;if((t&1)===0&&(t&2)===0&&n!==null)e:for(;;){if(n===null)return;var h=n.tag;if(h===3||h===4){var y=n.stateNode.containerInfo;if(y===i)break;if(h===4)for(h=n.return;h!==null;){var A=h.tag;if((A===3||A===4)&&h.stateNode.containerInfo===i)return;h=h.return}for(;y!==null;){if(h=ye(y),h===null)return;if(A=h.tag,A===5||A===6||A===26||A===27){n=o=h;continue e}y=y.parentNode}}n=n.return}Ku(function(){var H=o,le=Ho(s),me=[];e:{var V=kh.get(e);if(V!==void 0){var Z=Wi,_e=e;switch(e){case"keypress":if(Ki(s)===0)break e;case"keydown":case"keyup":Z=Dg;break;case"focusin":_e="focus",Z=Xo;break;case"focusout":_e="blur",Z=Xo;break;case"beforeblur":case"afterblur":Z=Xo;break;case"click":if(s.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":Z=Fu;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":Z=bg;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":Z=Rg;break;case vh:case wh:case jh:Z=wg;break;case Nh:Z=zg;break;case"scroll":case"scrollend":Z=xg;break;case"wheel":Z=$g;break;case"copy":case"cut":case"paste":Z=Ng;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":Z=th;break;case"toggle":case"beforetoggle":Z=Bg}var Be=(t&4)!==0,ft=!Be&&(e==="scroll"||e==="scrollend"),$=Be?V!==null?V+"Capture":null:V;Be=[];for(var _=H,B;_!==null;){var ue=_;if(B=ue.stateNode,ue=ue.tag,ue!==5&&ue!==26&&ue!==27||B===null||$===null||(ue=Dl(_,$),ue!=null&&Be.push(ci(_,ue,B))),ft)break;_=_.return}0<Be.length&&(V=new Z(V,_e,null,s,le),me.push({event:V,listeners:Be}))}}if((t&7)===0){e:{if(V=e==="mouseover"||e==="pointerover",Z=e==="mouseout"||e==="pointerout",V&&s!==Bo&&(_e=s.relatedTarget||s.fromElement)&&(ye(_e)||_e[rs]))break e;if((Z||V)&&(V=le.window===le?le:(V=le.ownerDocument)?V.defaultView||V.parentWindow:window,Z?(_e=s.relatedTarget||s.toElement,Z=H,_e=_e?ye(_e):null,_e!==null&&(ft=m(_e),Be=_e.tag,_e!==ft||Be!==5&&Be!==27&&Be!==6)&&(_e=null)):(Z=null,_e=H),Z!==_e)){if(Be=Fu,ue="onMouseLeave",$="onMouseEnter",_="mouse",(e==="pointerout"||e==="pointerover")&&(Be=th,ue="onPointerLeave",$="onPointerEnter",_="pointer"),ft=Z==null?V:rt(Z),B=_e==null?V:rt(_e),V=new Be(ue,_+"leave",Z,s,le),V.target=ft,V.relatedTarget=B,ue=null,ye(le)===H&&(Be=new Be($,_+"enter",_e,s,le),Be.target=B,Be.relatedTarget=ft,ue=Be),ft=ue,Z&&_e)t:{for(Be=U0,$=Z,_=_e,B=0,ue=$;ue;ue=Be(ue))B++;ue=0;for(var $e=_;$e;$e=Be($e))ue++;for(;0<B-ue;)$=Be($),B--;for(;0<ue-B;)_=Be(_),ue--;for(;B--;){if($===_||_!==null&&$===_.alternate){Be=$;break t}$=Be($),_=Be(_)}Be=null}else Be=null;Z!==null&&Qf(me,V,Z,Be,!1),_e!==null&&ft!==null&&Qf(me,ft,_e,Be,!0)}}e:{if(V=H?rt(H):window,Z=V.nodeName&&V.nodeName.toLowerCase(),Z==="select"||Z==="input"&&V.type==="file")var nt=ch;else if(rh(V))if(dh)nt=Zg;else{nt=Qg;var Oe=Xg}else Z=V.nodeName,!Z||Z.toLowerCase()!=="input"||V.type!=="checkbox"&&V.type!=="radio"?H&&Uo(H.elementType)&&(nt=ch):nt=Pg;if(nt&&(nt=nt(e,H))){oh(me,nt,s,le);break e}Oe&&Oe(e,V,H),e==="focusout"&&H&&V.type==="number"&&H.memoizedProps.value!=null&&$o(V,"number",V.value)}switch(Oe=H?rt(H):window,e){case"focusin":(rh(Oe)||Oe.contentEditable==="true")&&(Bn=Oe,Wo=H,Ul=null);break;case"focusout":Ul=Wo=Bn=null;break;case"mousedown":Fo=!0;break;case"contextmenu":case"mouseup":case"dragend":Fo=!1,bh(me,s,le);break;case"selectionchange":if(Jg)break;case"keydown":case"keyup":bh(me,s,le)}var Pe;if(Po)e:{switch(e){case"compositionstart":var at="onCompositionStart";break e;case"compositionend":at="onCompositionEnd";break e;case"compositionupdate":at="onCompositionUpdate";break e}at=void 0}else Un?lh(e,s)&&(at="onCompositionEnd"):e==="keydown"&&s.keyCode===229&&(at="onCompositionStart");at&&(ah&&s.locale!=="ko"&&(Un||at!=="onCompositionStart"?at==="onCompositionEnd"&&Un&&(Pe=Ju()):(_s=le,Io="value"in _s?_s.value:_s.textContent,Un=!0)),Oe=qr(H,at),0<Oe.length&&(at=new eh(at,e,null,s,le),me.push({event:at,listeners:Oe}),Pe?at.data=Pe:(Pe=ih(s),Pe!==null&&(at.data=Pe)))),(Pe=Gg?qg(e,s):Ig(e,s))&&(at=qr(H,"onBeforeInput"),0<at.length&&(Oe=new eh("onBeforeInput","beforeinput",null,s,le),me.push({event:Oe,listeners:at}),Oe.data=Pe)),O0(me,e,H,s,le)}Vf(me,t)})}function ci(e,t,s){return{instance:e,listener:t,currentTarget:s}}function qr(e,t){for(var s=t+"Capture",n=[];e!==null;){var i=e,o=i.stateNode;if(i=i.tag,i!==5&&i!==26&&i!==27||o===null||(i=Dl(e,s),i!=null&&n.unshift(ci(e,i,o)),i=Dl(e,t),i!=null&&n.push(ci(e,i,o))),e.tag===3)return n;e=e.return}return[]}function U0(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5&&e.tag!==27);return e||null}function Qf(e,t,s,n,i){for(var o=t._reactName,h=[];s!==null&&s!==n;){var y=s,A=y.alternate,H=y.stateNode;if(y=y.tag,A!==null&&A===n)break;y!==5&&y!==26&&y!==27||H===null||(A=H,i?(H=Dl(s,o),H!=null&&h.unshift(ci(s,H,A))):i||(H=Dl(s,o),H!=null&&h.push(ci(s,H,A)))),s=s.return}h.length!==0&&e.push({event:t,listeners:h})}var B0=/\r\n?/g,H0=/\u0000|\uFFFD/g;function Pf(e){return(typeof e=="string"?e:""+e).replace(B0,`
`).replace(H0,"")}function Zf(e,t){return t=Pf(t),Pf(e)===t}function mt(e,t,s,n,i,o){switch(s){case"children":typeof n=="string"?t==="body"||t==="textarea"&&n===""||zn(e,n):(typeof n=="number"||typeof n=="bigint")&&t!=="body"&&zn(e,""+n);break;case"className":Xi(e,"class",n);break;case"tabIndex":Xi(e,"tabindex",n);break;case"dir":case"role":case"viewBox":case"width":case"height":Xi(e,s,n);break;case"style":Pu(e,n,o);break;case"data":if(t!=="object"){Xi(e,"data",n);break}case"src":case"href":if(n===""&&(t!=="a"||s!=="href")){e.removeAttribute(s);break}if(n==null||typeof n=="function"||typeof n=="symbol"||typeof n=="boolean"){e.removeAttribute(s);break}n=Pi(""+n),e.setAttribute(s,n);break;case"action":case"formAction":if(typeof n=="function"){e.setAttribute(s,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof o=="function"&&(s==="formAction"?(t!=="input"&&mt(e,t,"name",i.name,i,null),mt(e,t,"formEncType",i.formEncType,i,null),mt(e,t,"formMethod",i.formMethod,i,null),mt(e,t,"formTarget",i.formTarget,i,null)):(mt(e,t,"encType",i.encType,i,null),mt(e,t,"method",i.method,i,null),mt(e,t,"target",i.target,i,null)));if(n==null||typeof n=="symbol"||typeof n=="boolean"){e.removeAttribute(s);break}n=Pi(""+n),e.setAttribute(s,n);break;case"onClick":n!=null&&(e.onclick=cs);break;case"onScroll":n!=null&&Fe("scroll",e);break;case"onScrollEnd":n!=null&&Fe("scrollend",e);break;case"dangerouslySetInnerHTML":if(n!=null){if(typeof n!="object"||!("__html"in n))throw Error(c(61));if(s=n.__html,s!=null){if(i.children!=null)throw Error(c(60));e.innerHTML=s}}break;case"multiple":e.multiple=n&&typeof n!="function"&&typeof n!="symbol";break;case"muted":e.muted=n&&typeof n!="function"&&typeof n!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(n==null||typeof n=="function"||typeof n=="boolean"||typeof n=="symbol"){e.removeAttribute("xlink:href");break}s=Pi(""+n),e.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",s);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":n!=null&&typeof n!="function"&&typeof n!="symbol"?e.setAttribute(s,""+n):e.removeAttribute(s);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":n&&typeof n!="function"&&typeof n!="symbol"?e.setAttribute(s,""):e.removeAttribute(s);break;case"capture":case"download":n===!0?e.setAttribute(s,""):n!==!1&&n!=null&&typeof n!="function"&&typeof n!="symbol"?e.setAttribute(s,n):e.removeAttribute(s);break;case"cols":case"rows":case"size":case"span":n!=null&&typeof n!="function"&&typeof n!="symbol"&&!isNaN(n)&&1<=n?e.setAttribute(s,n):e.removeAttribute(s);break;case"rowSpan":case"start":n==null||typeof n=="function"||typeof n=="symbol"||isNaN(n)?e.removeAttribute(s):e.setAttribute(s,n);break;case"popover":Fe("beforetoggle",e),Fe("toggle",e),Vi(e,"popover",n);break;case"xlinkActuate":os(e,"http://www.w3.org/1999/xlink","xlink:actuate",n);break;case"xlinkArcrole":os(e,"http://www.w3.org/1999/xlink","xlink:arcrole",n);break;case"xlinkRole":os(e,"http://www.w3.org/1999/xlink","xlink:role",n);break;case"xlinkShow":os(e,"http://www.w3.org/1999/xlink","xlink:show",n);break;case"xlinkTitle":os(e,"http://www.w3.org/1999/xlink","xlink:title",n);break;case"xlinkType":os(e,"http://www.w3.org/1999/xlink","xlink:type",n);break;case"xmlBase":os(e,"http://www.w3.org/XML/1998/namespace","xml:base",n);break;case"xmlLang":os(e,"http://www.w3.org/XML/1998/namespace","xml:lang",n);break;case"xmlSpace":os(e,"http://www.w3.org/XML/1998/namespace","xml:space",n);break;case"is":Vi(e,"is",n);break;case"innerText":case"textContent":break;default:(!(2<s.length)||s[0]!=="o"&&s[0]!=="O"||s[1]!=="n"&&s[1]!=="N")&&(s=fg.get(s)||s,Vi(e,s,n))}}function kd(e,t,s,n,i,o){switch(s){case"style":Pu(e,n,o);break;case"dangerouslySetInnerHTML":if(n!=null){if(typeof n!="object"||!("__html"in n))throw Error(c(61));if(s=n.__html,s!=null){if(i.children!=null)throw Error(c(60));e.innerHTML=s}}break;case"children":typeof n=="string"?zn(e,n):(typeof n=="number"||typeof n=="bigint")&&zn(e,""+n);break;case"onScroll":n!=null&&Fe("scroll",e);break;case"onScrollEnd":n!=null&&Fe("scrollend",e);break;case"onClick":n!=null&&(e.onclick=cs);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!Sa.hasOwnProperty(s))e:{if(s[0]==="o"&&s[1]==="n"&&(i=s.endsWith("Capture"),t=s.slice(2,i?s.length-7:void 0),o=e[jt]||null,o=o!=null?o[s]:null,typeof o=="function"&&e.removeEventListener(t,o,i),typeof n=="function")){typeof o!="function"&&o!==null&&(s in e?e[s]=null:e.hasAttribute(s)&&e.removeAttribute(s)),e.addEventListener(t,n,i);break e}s in e?e[s]=n:n===!0?e.setAttribute(s,""):Vi(e,s,n)}}}function Xt(e,t,s){switch(t){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":Fe("error",e),Fe("load",e);var n=!1,i=!1,o;for(o in s)if(s.hasOwnProperty(o)){var h=s[o];if(h!=null)switch(o){case"src":n=!0;break;case"srcSet":i=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(c(137,t));default:mt(e,t,o,h,s,null)}}i&&mt(e,t,"srcSet",s.srcSet,s,null),n&&mt(e,t,"src",s.src,s,null);return;case"input":Fe("invalid",e);var y=o=h=i=null,A=null,H=null;for(n in s)if(s.hasOwnProperty(n)){var le=s[n];if(le!=null)switch(n){case"name":i=le;break;case"type":h=le;break;case"checked":A=le;break;case"defaultChecked":H=le;break;case"value":o=le;break;case"defaultValue":y=le;break;case"children":case"dangerouslySetInnerHTML":if(le!=null)throw Error(c(137,t));break;default:mt(e,t,n,le,s,null)}}Yu(e,o,y,A,H,h,i,!1);return;case"select":Fe("invalid",e),n=h=o=null;for(i in s)if(s.hasOwnProperty(i)&&(y=s[i],y!=null))switch(i){case"value":o=y;break;case"defaultValue":h=y;break;case"multiple":n=y;default:mt(e,t,i,y,s,null)}t=o,s=h,e.multiple=!!n,t!=null?On(e,!!n,t,!1):s!=null&&On(e,!!n,s,!0);return;case"textarea":Fe("invalid",e),o=i=n=null;for(h in s)if(s.hasOwnProperty(h)&&(y=s[h],y!=null))switch(h){case"value":n=y;break;case"defaultValue":i=y;break;case"children":o=y;break;case"dangerouslySetInnerHTML":if(y!=null)throw Error(c(91));break;default:mt(e,t,h,y,s,null)}Xu(e,n,i,o);return;case"option":for(A in s)if(s.hasOwnProperty(A)&&(n=s[A],n!=null))switch(A){case"selected":e.selected=n&&typeof n!="function"&&typeof n!="symbol";break;default:mt(e,t,A,n,s,null)}return;case"dialog":Fe("beforetoggle",e),Fe("toggle",e),Fe("cancel",e),Fe("close",e);break;case"iframe":case"object":Fe("load",e);break;case"video":case"audio":for(n=0;n<oi.length;n++)Fe(oi[n],e);break;case"image":Fe("error",e),Fe("load",e);break;case"details":Fe("toggle",e);break;case"embed":case"source":case"link":Fe("error",e),Fe("load",e);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(H in s)if(s.hasOwnProperty(H)&&(n=s[H],n!=null))switch(H){case"children":case"dangerouslySetInnerHTML":throw Error(c(137,t));default:mt(e,t,H,n,s,null)}return;default:if(Uo(t)){for(le in s)s.hasOwnProperty(le)&&(n=s[le],n!==void 0&&kd(e,t,le,n,s,void 0));return}}for(y in s)s.hasOwnProperty(y)&&(n=s[y],n!=null&&mt(e,t,y,n,s,null))}function G0(e,t,s,n){switch(t){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var i=null,o=null,h=null,y=null,A=null,H=null,le=null;for(Z in s){var me=s[Z];if(s.hasOwnProperty(Z)&&me!=null)switch(Z){case"checked":break;case"value":break;case"defaultValue":A=me;default:n.hasOwnProperty(Z)||mt(e,t,Z,null,n,me)}}for(var V in n){var Z=n[V];if(me=s[V],n.hasOwnProperty(V)&&(Z!=null||me!=null))switch(V){case"type":o=Z;break;case"name":i=Z;break;case"checked":H=Z;break;case"defaultChecked":le=Z;break;case"value":h=Z;break;case"defaultValue":y=Z;break;case"children":case"dangerouslySetInnerHTML":if(Z!=null)throw Error(c(137,t));break;default:Z!==me&&mt(e,t,V,Z,n,me)}}Lo(e,h,y,A,H,le,o,i);return;case"select":Z=h=y=V=null;for(o in s)if(A=s[o],s.hasOwnProperty(o)&&A!=null)switch(o){case"value":break;case"multiple":Z=A;default:n.hasOwnProperty(o)||mt(e,t,o,null,n,A)}for(i in n)if(o=n[i],A=s[i],n.hasOwnProperty(i)&&(o!=null||A!=null))switch(i){case"value":V=o;break;case"defaultValue":y=o;break;case"multiple":h=o;default:o!==A&&mt(e,t,i,o,n,A)}t=y,s=h,n=Z,V!=null?On(e,!!s,V,!1):!!n!=!!s&&(t!=null?On(e,!!s,t,!0):On(e,!!s,s?[]:"",!1));return;case"textarea":Z=V=null;for(y in s)if(i=s[y],s.hasOwnProperty(y)&&i!=null&&!n.hasOwnProperty(y))switch(y){case"value":break;case"children":break;default:mt(e,t,y,null,n,i)}for(h in n)if(i=n[h],o=s[h],n.hasOwnProperty(h)&&(i!=null||o!=null))switch(h){case"value":V=i;break;case"defaultValue":Z=i;break;case"children":break;case"dangerouslySetInnerHTML":if(i!=null)throw Error(c(91));break;default:i!==o&&mt(e,t,h,i,n,o)}Vu(e,V,Z);return;case"option":for(var _e in s)if(V=s[_e],s.hasOwnProperty(_e)&&V!=null&&!n.hasOwnProperty(_e))switch(_e){case"selected":e.selected=!1;break;default:mt(e,t,_e,null,n,V)}for(A in n)if(V=n[A],Z=s[A],n.hasOwnProperty(A)&&V!==Z&&(V!=null||Z!=null))switch(A){case"selected":e.selected=V&&typeof V!="function"&&typeof V!="symbol";break;default:mt(e,t,A,V,n,Z)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var Be in s)V=s[Be],s.hasOwnProperty(Be)&&V!=null&&!n.hasOwnProperty(Be)&&mt(e,t,Be,null,n,V);for(H in n)if(V=n[H],Z=s[H],n.hasOwnProperty(H)&&V!==Z&&(V!=null||Z!=null))switch(H){case"children":case"dangerouslySetInnerHTML":if(V!=null)throw Error(c(137,t));break;default:mt(e,t,H,V,n,Z)}return;default:if(Uo(t)){for(var ft in s)V=s[ft],s.hasOwnProperty(ft)&&V!==void 0&&!n.hasOwnProperty(ft)&&kd(e,t,ft,void 0,n,V);for(le in n)V=n[le],Z=s[le],!n.hasOwnProperty(le)||V===Z||V===void 0&&Z===void 0||kd(e,t,le,V,n,Z);return}}for(var $ in s)V=s[$],s.hasOwnProperty($)&&V!=null&&!n.hasOwnProperty($)&&mt(e,t,$,null,n,V);for(me in n)V=n[me],Z=s[me],!n.hasOwnProperty(me)||V===Z||V==null&&Z==null||mt(e,t,me,V,n,Z)}function Kf(e){switch(e){case"css":case"script":case"font":case"img":case"image":case"input":case"link":return!0;default:return!1}}function q0(){if(typeof performance.getEntriesByType=="function"){for(var e=0,t=0,s=performance.getEntriesByType("resource"),n=0;n<s.length;n++){var i=s[n],o=i.transferSize,h=i.initiatorType,y=i.duration;if(o&&y&&Kf(h)){for(h=0,y=i.responseEnd,n+=1;n<s.length;n++){var A=s[n],H=A.startTime;if(H>y)break;var le=A.transferSize,me=A.initiatorType;le&&Kf(me)&&(A=A.responseEnd,h+=le*(A<y?1:(y-H)/(A-H)))}if(--n,t+=8*(o+h)/(i.duration/1e3),e++,10<e)break}}if(0<e)return t/e/1e6}return navigator.connection&&(e=navigator.connection.downlink,typeof e=="number")?e:5}var Sd=null,Ad=null;function Ir(e){return e.nodeType===9?e:e.ownerDocument}function Jf(e){switch(e){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function Wf(e,t){if(e===0)switch(t){case"svg":return 1;case"math":return 2;default:return 0}return e===1&&t==="foreignObject"?0:e}function Td(e,t){return e==="textarea"||e==="noscript"||typeof t.children=="string"||typeof t.children=="number"||typeof t.children=="bigint"||typeof t.dangerouslySetInnerHTML=="object"&&t.dangerouslySetInnerHTML!==null&&t.dangerouslySetInnerHTML.__html!=null}var Ed=null;function I0(){var e=window.event;return e&&e.type==="popstate"?e===Ed?!1:(Ed=e,!0):(Ed=null,!1)}var Ff=typeof setTimeout=="function"?setTimeout:void 0,Y0=typeof clearTimeout=="function"?clearTimeout:void 0,ep=typeof Promise=="function"?Promise:void 0,V0=typeof queueMicrotask=="function"?queueMicrotask:typeof ep<"u"?function(e){return ep.resolve(null).then(e).catch(X0)}:Ff;function X0(e){setTimeout(function(){throw e})}function Zs(e){return e==="head"}function tp(e,t){var s=t,n=0;do{var i=s.nextSibling;if(e.removeChild(s),i&&i.nodeType===8)if(s=i.data,s==="/$"||s==="/&"){if(n===0){e.removeChild(i),hl(t);return}n--}else if(s==="$"||s==="$?"||s==="$~"||s==="$!"||s==="&")n++;else if(s==="html")di(e.ownerDocument.documentElement);else if(s==="head"){s=e.ownerDocument.head,di(s);for(var o=s.firstChild;o;){var h=o.nextSibling,y=o.nodeName;o[Re]||y==="SCRIPT"||y==="STYLE"||y==="LINK"&&o.rel.toLowerCase()==="stylesheet"||s.removeChild(o),o=h}}else s==="body"&&di(e.ownerDocument.body);s=i}while(s);hl(t)}function ap(e,t){var s=e;e=0;do{var n=s.nextSibling;if(s.nodeType===1?t?(s._stashedDisplay=s.style.display,s.style.display="none"):(s.style.display=s._stashedDisplay||"",s.getAttribute("style")===""&&s.removeAttribute("style")):s.nodeType===3&&(t?(s._stashedText=s.nodeValue,s.nodeValue=""):s.nodeValue=s._stashedText||""),n&&n.nodeType===8)if(s=n.data,s==="/$"){if(e===0)break;e--}else s!=="$"&&s!=="$?"&&s!=="$~"&&s!=="$!"||e++;s=n}while(s)}function Cd(e){var t=e.firstChild;for(t&&t.nodeType===10&&(t=t.nextSibling);t;){var s=t;switch(t=t.nextSibling,s.nodeName){case"HTML":case"HEAD":case"BODY":Cd(s),M(s);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(s.rel.toLowerCase()==="stylesheet")continue}e.removeChild(s)}}function Q0(e,t,s,n){for(;e.nodeType===1;){var i=s;if(e.nodeName.toLowerCase()!==t.toLowerCase()){if(!n&&(e.nodeName!=="INPUT"||e.type!=="hidden"))break}else if(n){if(!e[Re])switch(t){case"meta":if(!e.hasAttribute("itemprop"))break;return e;case"link":if(o=e.getAttribute("rel"),o==="stylesheet"&&e.hasAttribute("data-precedence"))break;if(o!==i.rel||e.getAttribute("href")!==(i.href==null||i.href===""?null:i.href)||e.getAttribute("crossorigin")!==(i.crossOrigin==null?null:i.crossOrigin)||e.getAttribute("title")!==(i.title==null?null:i.title))break;return e;case"style":if(e.hasAttribute("data-precedence"))break;return e;case"script":if(o=e.getAttribute("src"),(o!==(i.src==null?null:i.src)||e.getAttribute("type")!==(i.type==null?null:i.type)||e.getAttribute("crossorigin")!==(i.crossOrigin==null?null:i.crossOrigin))&&o&&e.hasAttribute("async")&&!e.hasAttribute("itemprop"))break;return e;default:return e}}else if(t==="input"&&e.type==="hidden"){var o=i.name==null?null:""+i.name;if(i.type==="hidden"&&e.getAttribute("name")===o)return e}else return e;if(e=Oa(e.nextSibling),e===null)break}return null}function P0(e,t,s){if(t==="")return null;for(;e.nodeType!==3;)if((e.nodeType!==1||e.nodeName!=="INPUT"||e.type!=="hidden")&&!s||(e=Oa(e.nextSibling),e===null))return null;return e}function sp(e,t){for(;e.nodeType!==8;)if((e.nodeType!==1||e.nodeName!=="INPUT"||e.type!=="hidden")&&!t||(e=Oa(e.nextSibling),e===null))return null;return e}function Dd(e){return e.data==="$?"||e.data==="$~"}function Md(e){return e.data==="$!"||e.data==="$?"&&e.ownerDocument.readyState!=="loading"}function Z0(e,t){var s=e.ownerDocument;if(e.data==="$~")e._reactRetry=t;else if(e.data!=="$?"||s.readyState!=="loading")t();else{var n=function(){t(),s.removeEventListener("DOMContentLoaded",n)};s.addEventListener("DOMContentLoaded",n),e._reactRetry=n}}function Oa(e){for(;e!=null;e=e.nextSibling){var t=e.nodeType;if(t===1||t===3)break;if(t===8){if(t=e.data,t==="$"||t==="$!"||t==="$?"||t==="$~"||t==="&"||t==="F!"||t==="F")break;if(t==="/$"||t==="/&")return null}}return e}var _d=null;function np(e){e=e.nextSibling;for(var t=0;e;){if(e.nodeType===8){var s=e.data;if(s==="/$"||s==="/&"){if(t===0)return Oa(e.nextSibling);t--}else s!=="$"&&s!=="$!"&&s!=="$?"&&s!=="$~"&&s!=="&"||t++}e=e.nextSibling}return null}function lp(e){e=e.previousSibling;for(var t=0;e;){if(e.nodeType===8){var s=e.data;if(s==="$"||s==="$!"||s==="$?"||s==="$~"||s==="&"){if(t===0)return e;t--}else s!=="/$"&&s!=="/&"||t++}e=e.previousSibling}return null}function ip(e,t,s){switch(t=Ir(s),e){case"html":if(e=t.documentElement,!e)throw Error(c(452));return e;case"head":if(e=t.head,!e)throw Error(c(453));return e;case"body":if(e=t.body,!e)throw Error(c(454));return e;default:throw Error(c(451))}}function di(e){for(var t=e.attributes;t.length;)e.removeAttributeNode(t[0]);M(e)}var za=new Map,rp=new Set;function Yr(e){return typeof e.getRootNode=="function"?e.getRootNode():e.nodeType===9?e:e.ownerDocument}var Ss=te.d;te.d={f:K0,r:J0,D:W0,C:F0,L:eb,m:tb,X:sb,S:ab,M:nb};function K0(){var e=Ss.f(),t=zr();return e||t}function J0(e){var t=Ce(e);t!==null&&t.tag===5&&t.type==="form"?Nm(t):Ss.r(e)}var cl=typeof document>"u"?null:document;function op(e,t,s){var n=cl;if(n&&typeof t=="string"&&t){var i=Ta(t);i='link[rel="'+e+'"][href="'+i+'"]',typeof s=="string"&&(i+='[crossorigin="'+s+'"]'),rp.has(i)||(rp.add(i),e={rel:e,crossOrigin:s,href:t},n.querySelector(i)===null&&(t=n.createElement("link"),Xt(t,"link",e),Ke(t),n.head.appendChild(t)))}}function W0(e){Ss.D(e),op("dns-prefetch",e,null)}function F0(e,t){Ss.C(e,t),op("preconnect",e,t)}function eb(e,t,s){Ss.L(e,t,s);var n=cl;if(n&&e&&t){var i='link[rel="preload"][as="'+Ta(t)+'"]';t==="image"&&s&&s.imageSrcSet?(i+='[imagesrcset="'+Ta(s.imageSrcSet)+'"]',typeof s.imageSizes=="string"&&(i+='[imagesizes="'+Ta(s.imageSizes)+'"]')):i+='[href="'+Ta(e)+'"]';var o=i;switch(t){case"style":o=dl(e);break;case"script":o=ul(e)}za.has(o)||(e=N({rel:"preload",href:t==="image"&&s&&s.imageSrcSet?void 0:e,as:t},s),za.set(o,e),n.querySelector(i)!==null||t==="style"&&n.querySelector(ui(o))||t==="script"&&n.querySelector(hi(o))||(t=n.createElement("link"),Xt(t,"link",e),Ke(t),n.head.appendChild(t)))}}function tb(e,t){Ss.m(e,t);var s=cl;if(s&&e){var n=t&&typeof t.as=="string"?t.as:"script",i='link[rel="modulepreload"][as="'+Ta(n)+'"][href="'+Ta(e)+'"]',o=i;switch(n){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":o=ul(e)}if(!za.has(o)&&(e=N({rel:"modulepreload",href:e},t),za.set(o,e),s.querySelector(i)===null)){switch(n){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(s.querySelector(hi(o)))return}n=s.createElement("link"),Xt(n,"link",e),Ke(n),s.head.appendChild(n)}}}function ab(e,t,s){Ss.S(e,t,s);var n=cl;if(n&&e){var i=At(n).hoistableStyles,o=dl(e);t=t||"default";var h=i.get(o);if(!h){var y={loading:0,preload:null};if(h=n.querySelector(ui(o)))y.loading=5;else{e=N({rel:"stylesheet",href:e,"data-precedence":t},s),(s=za.get(o))&&Rd(e,s);var A=h=n.createElement("link");Ke(A),Xt(A,"link",e),A._p=new Promise(function(H,le){A.onload=H,A.onerror=le}),A.addEventListener("load",function(){y.loading|=1}),A.addEventListener("error",function(){y.loading|=2}),y.loading|=4,Vr(h,t,n)}h={type:"stylesheet",instance:h,count:1,state:y},i.set(o,h)}}}function sb(e,t){Ss.X(e,t);var s=cl;if(s&&e){var n=At(s).hoistableScripts,i=ul(e),o=n.get(i);o||(o=s.querySelector(hi(i)),o||(e=N({src:e,async:!0},t),(t=za.get(i))&&Od(e,t),o=s.createElement("script"),Ke(o),Xt(o,"link",e),s.head.appendChild(o)),o={type:"script",instance:o,count:1,state:null},n.set(i,o))}}function nb(e,t){Ss.M(e,t);var s=cl;if(s&&e){var n=At(s).hoistableScripts,i=ul(e),o=n.get(i);o||(o=s.querySelector(hi(i)),o||(e=N({src:e,async:!0,type:"module"},t),(t=za.get(i))&&Od(e,t),o=s.createElement("script"),Ke(o),Xt(o,"link",e),s.head.appendChild(o)),o={type:"script",instance:o,count:1,state:null},n.set(i,o))}}function cp(e,t,s,n){var i=(i=T.current)?Yr(i):null;if(!i)throw Error(c(446));switch(e){case"meta":case"title":return null;case"style":return typeof s.precedence=="string"&&typeof s.href=="string"?(t=dl(s.href),s=At(i).hoistableStyles,n=s.get(t),n||(n={type:"style",instance:null,count:0,state:null},s.set(t,n)),n):{type:"void",instance:null,count:0,state:null};case"link":if(s.rel==="stylesheet"&&typeof s.href=="string"&&typeof s.precedence=="string"){e=dl(s.href);var o=At(i).hoistableStyles,h=o.get(e);if(h||(i=i.ownerDocument||i,h={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},o.set(e,h),(o=i.querySelector(ui(e)))&&!o._p&&(h.instance=o,h.state.loading=5),za.has(e)||(s={rel:"preload",as:"style",href:s.href,crossOrigin:s.crossOrigin,integrity:s.integrity,media:s.media,hrefLang:s.hrefLang,referrerPolicy:s.referrerPolicy},za.set(e,s),o||lb(i,e,s,h.state))),t&&n===null)throw Error(c(528,""));return h}if(t&&n!==null)throw Error(c(529,""));return null;case"script":return t=s.async,s=s.src,typeof s=="string"&&t&&typeof t!="function"&&typeof t!="symbol"?(t=ul(s),s=At(i).hoistableScripts,n=s.get(t),n||(n={type:"script",instance:null,count:0,state:null},s.set(t,n)),n):{type:"void",instance:null,count:0,state:null};default:throw Error(c(444,e))}}function dl(e){return'href="'+Ta(e)+'"'}function ui(e){return'link[rel="stylesheet"]['+e+"]"}function dp(e){return N({},e,{"data-precedence":e.precedence,precedence:null})}function lb(e,t,s,n){e.querySelector('link[rel="preload"][as="style"]['+t+"]")?n.loading=1:(t=e.createElement("link"),n.preload=t,t.addEventListener("load",function(){return n.loading|=1}),t.addEventListener("error",function(){return n.loading|=2}),Xt(t,"link",s),Ke(t),e.head.appendChild(t))}function ul(e){return'[src="'+Ta(e)+'"]'}function hi(e){return"script[async]"+e}function up(e,t,s){if(t.count++,t.instance===null)switch(t.type){case"style":var n=e.querySelector('style[data-href~="'+Ta(s.href)+'"]');if(n)return t.instance=n,Ke(n),n;var i=N({},s,{"data-href":s.href,"data-precedence":s.precedence,href:null,precedence:null});return n=(e.ownerDocument||e).createElement("style"),Ke(n),Xt(n,"style",i),Vr(n,s.precedence,e),t.instance=n;case"stylesheet":i=dl(s.href);var o=e.querySelector(ui(i));if(o)return t.state.loading|=4,t.instance=o,Ke(o),o;n=dp(s),(i=za.get(i))&&Rd(n,i),o=(e.ownerDocument||e).createElement("link"),Ke(o);var h=o;return h._p=new Promise(function(y,A){h.onload=y,h.onerror=A}),Xt(o,"link",n),t.state.loading|=4,Vr(o,s.precedence,e),t.instance=o;case"script":return o=ul(s.src),(i=e.querySelector(hi(o)))?(t.instance=i,Ke(i),i):(n=s,(i=za.get(o))&&(n=N({},s),Od(n,i)),e=e.ownerDocument||e,i=e.createElement("script"),Ke(i),Xt(i,"link",n),e.head.appendChild(i),t.instance=i);case"void":return null;default:throw Error(c(443,t.type))}else t.type==="stylesheet"&&(t.state.loading&4)===0&&(n=t.instance,t.state.loading|=4,Vr(n,s.precedence,e));return t.instance}function Vr(e,t,s){for(var n=s.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),i=n.length?n[n.length-1]:null,o=i,h=0;h<n.length;h++){var y=n[h];if(y.dataset.precedence===t)o=y;else if(o!==i)break}o?o.parentNode.insertBefore(e,o.nextSibling):(t=s.nodeType===9?s.head:s,t.insertBefore(e,t.firstChild))}function Rd(e,t){e.crossOrigin==null&&(e.crossOrigin=t.crossOrigin),e.referrerPolicy==null&&(e.referrerPolicy=t.referrerPolicy),e.title==null&&(e.title=t.title)}function Od(e,t){e.crossOrigin==null&&(e.crossOrigin=t.crossOrigin),e.referrerPolicy==null&&(e.referrerPolicy=t.referrerPolicy),e.integrity==null&&(e.integrity=t.integrity)}var Xr=null;function hp(e,t,s){if(Xr===null){var n=new Map,i=Xr=new Map;i.set(s,n)}else i=Xr,n=i.get(s),n||(n=new Map,i.set(s,n));if(n.has(e))return n;for(n.set(e,null),s=s.getElementsByTagName(e),i=0;i<s.length;i++){var o=s[i];if(!(o[Re]||o[Rt]||e==="link"&&o.getAttribute("rel")==="stylesheet")&&o.namespaceURI!=="http://www.w3.org/2000/svg"){var h=o.getAttribute(t)||"";h=e+h;var y=n.get(h);y?y.push(o):n.set(h,[o])}}return n}function mp(e,t,s){e=e.ownerDocument||e,e.head.insertBefore(s,t==="title"?e.querySelector("head > title"):null)}function ib(e,t,s){if(s===1||t.itemProp!=null)return!1;switch(e){case"meta":case"title":return!0;case"style":if(typeof t.precedence!="string"||typeof t.href!="string"||t.href==="")break;return!0;case"link":if(typeof t.rel!="string"||typeof t.href!="string"||t.href===""||t.onLoad||t.onError)break;switch(t.rel){case"stylesheet":return e=t.disabled,typeof t.precedence=="string"&&e==null;default:return!0}case"script":if(t.async&&typeof t.async!="function"&&typeof t.async!="symbol"&&!t.onLoad&&!t.onError&&t.src&&typeof t.src=="string")return!0}return!1}function fp(e){return!(e.type==="stylesheet"&&(e.state.loading&3)===0)}function rb(e,t,s,n){if(s.type==="stylesheet"&&(typeof n.media!="string"||matchMedia(n.media).matches!==!1)&&(s.state.loading&4)===0){if(s.instance===null){var i=dl(n.href),o=t.querySelector(ui(i));if(o){t=o._p,t!==null&&typeof t=="object"&&typeof t.then=="function"&&(e.count++,e=Qr.bind(e),t.then(e,e)),s.state.loading|=4,s.instance=o,Ke(o);return}o=t.ownerDocument||t,n=dp(n),(i=za.get(i))&&Rd(n,i),o=o.createElement("link"),Ke(o);var h=o;h._p=new Promise(function(y,A){h.onload=y,h.onerror=A}),Xt(o,"link",n),s.instance=o}e.stylesheets===null&&(e.stylesheets=new Map),e.stylesheets.set(s,t),(t=s.state.preload)&&(s.state.loading&3)===0&&(e.count++,s=Qr.bind(e),t.addEventListener("load",s),t.addEventListener("error",s))}}var zd=0;function ob(e,t){return e.stylesheets&&e.count===0&&Zr(e,e.stylesheets),0<e.count||0<e.imgCount?function(s){var n=setTimeout(function(){if(e.stylesheets&&Zr(e,e.stylesheets),e.unsuspend){var o=e.unsuspend;e.unsuspend=null,o()}},6e4+t);0<e.imgBytes&&zd===0&&(zd=62500*q0());var i=setTimeout(function(){if(e.waitingForImages=!1,e.count===0&&(e.stylesheets&&Zr(e,e.stylesheets),e.unsuspend)){var o=e.unsuspend;e.unsuspend=null,o()}},(e.imgBytes>zd?50:800)+t);return e.unsuspend=s,function(){e.unsuspend=null,clearTimeout(n),clearTimeout(i)}}:null}function Qr(){if(this.count--,this.count===0&&(this.imgCount===0||!this.waitingForImages)){if(this.stylesheets)Zr(this,this.stylesheets);else if(this.unsuspend){var e=this.unsuspend;this.unsuspend=null,e()}}}var Pr=null;function Zr(e,t){e.stylesheets=null,e.unsuspend!==null&&(e.count++,Pr=new Map,t.forEach(cb,e),Pr=null,Qr.call(e))}function cb(e,t){if(!(t.state.loading&4)){var s=Pr.get(e);if(s)var n=s.get(null);else{s=new Map,Pr.set(e,s);for(var i=e.querySelectorAll("link[data-precedence],style[data-precedence]"),o=0;o<i.length;o++){var h=i[o];(h.nodeName==="LINK"||h.getAttribute("media")!=="not all")&&(s.set(h.dataset.precedence,h),n=h)}n&&s.set(null,n)}i=t.instance,h=i.getAttribute("data-precedence"),o=s.get(h)||n,o===n&&s.set(null,i),s.set(h,i),this.count++,n=Qr.bind(this),i.addEventListener("load",n),i.addEventListener("error",n),o?o.parentNode.insertBefore(i,o.nextSibling):(e=e.nodeType===9?e.head:e,e.insertBefore(i,e.firstChild)),t.state.loading|=4}}var mi={$$typeof:be,Provider:null,Consumer:null,_currentValue:ve,_currentValue2:ve,_threadCount:0};function db(e,t,s,n,i,o,h,y,A){this.tag=1,this.containerInfo=e,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=jl(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=jl(0),this.hiddenUpdates=jl(null),this.identifierPrefix=n,this.onUncaughtError=i,this.onCaughtError=o,this.onRecoverableError=h,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=A,this.incompleteTransitions=new Map}function pp(e,t,s,n,i,o,h,y,A,H,le,me){return e=new db(e,t,s,h,A,H,le,me,y),t=1,o===!0&&(t|=24),o=ha(3,null,null,t),e.current=o,o.stateNode=e,t=fc(),t.refCount++,e.pooledCache=t,t.refCount++,o.memoizedState={element:n,isDehydrated:s,cache:t},bc(o),e}function xp(e){return e?(e=qn,e):qn}function gp(e,t,s,n,i,o){i=xp(i),n.context===null?n.context=i:n.pendingContext=i,n=Us(t),n.payload={element:s},o=o===void 0?null:o,o!==null&&(n.callback=o),s=Bs(e,n,t),s!==null&&(ca(s,e,t),Vl(s,e,t))}function bp(e,t){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var s=e.retryLane;e.retryLane=s!==0&&s<t?s:t}}function Ld(e,t){bp(e,t),(e=e.alternate)&&bp(e,t)}function yp(e){if(e.tag===13||e.tag===31){var t=mn(e,67108864);t!==null&&ca(t,e,67108864),Ld(e,67108864)}}function vp(e){if(e.tag===13||e.tag===31){var t=ga();t=aa(t);var s=mn(e,t);s!==null&&ca(s,e,t),Ld(e,t)}}var Kr=!0;function ub(e,t,s,n){var i=z.T;z.T=null;var o=te.p;try{te.p=2,$d(e,t,s,n)}finally{te.p=o,z.T=i}}function hb(e,t,s,n){var i=z.T;z.T=null;var o=te.p;try{te.p=8,$d(e,t,s,n)}finally{te.p=o,z.T=i}}function $d(e,t,s,n){if(Kr){var i=Ud(n);if(i===null)Nd(e,t,n,Jr,s),jp(e,n);else if(fb(i,e,t,s,n))n.stopPropagation();else if(jp(e,n),t&4&&-1<mb.indexOf(e)){for(;i!==null;){var o=Ce(i);if(o!==null)switch(o.tag){case 3:if(o=o.stateNode,o.current.memoizedState.isDehydrated){var h=da(o.pendingLanes);if(h!==0){var y=o;for(y.pendingLanes|=2,y.entangledLanes|=2;h;){var A=1<<31-je(h);y.entanglements[1]|=A,h&=~A}Wa(o),(it&6)===0&&(Rr=ge()+500,ri(0))}}break;case 31:case 13:y=mn(o,2),y!==null&&ca(y,o,2),zr(),Ld(o,2)}if(o=Ud(n),o===null&&Nd(e,t,n,Jr,s),o===i)break;i=o}i!==null&&n.stopPropagation()}else Nd(e,t,n,null,s)}}function Ud(e){return e=Ho(e),Bd(e)}var Jr=null;function Bd(e){if(Jr=null,e=ye(e),e!==null){var t=m(e);if(t===null)e=null;else{var s=t.tag;if(s===13){if(e=x(t),e!==null)return e;e=null}else if(s===31){if(e=g(t),e!==null)return e;e=null}else if(s===3){if(t.stateNode.current.memoizedState.isDehydrated)return t.tag===3?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null)}}return Jr=e,null}function wp(e){switch(e){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(Ze()){case qe:return 2;case Q:return 8;case ae:case Xe:return 32;case Ct:return 268435456;default:return 32}default:return 32}}var Hd=!1,Ks=null,Js=null,Ws=null,fi=new Map,pi=new Map,Fs=[],mb="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function jp(e,t){switch(e){case"focusin":case"focusout":Ks=null;break;case"dragenter":case"dragleave":Js=null;break;case"mouseover":case"mouseout":Ws=null;break;case"pointerover":case"pointerout":fi.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":pi.delete(t.pointerId)}}function xi(e,t,s,n,i,o){return e===null||e.nativeEvent!==o?(e={blockedOn:t,domEventName:s,eventSystemFlags:n,nativeEvent:o,targetContainers:[i]},t!==null&&(t=Ce(t),t!==null&&yp(t)),e):(e.eventSystemFlags|=n,t=e.targetContainers,i!==null&&t.indexOf(i)===-1&&t.push(i),e)}function fb(e,t,s,n,i){switch(t){case"focusin":return Ks=xi(Ks,e,t,s,n,i),!0;case"dragenter":return Js=xi(Js,e,t,s,n,i),!0;case"mouseover":return Ws=xi(Ws,e,t,s,n,i),!0;case"pointerover":var o=i.pointerId;return fi.set(o,xi(fi.get(o)||null,e,t,s,n,i)),!0;case"gotpointercapture":return o=i.pointerId,pi.set(o,xi(pi.get(o)||null,e,t,s,n,i)),!0}return!1}function Np(e){var t=ye(e.target);if(t!==null){var s=m(t);if(s!==null){if(t=s.tag,t===13){if(t=x(s),t!==null){e.blockedOn=t,Tl(e.priority,function(){vp(s)});return}}else if(t===31){if(t=g(s),t!==null){e.blockedOn=t,Tl(e.priority,function(){vp(s)});return}}else if(t===3&&s.stateNode.current.memoizedState.isDehydrated){e.blockedOn=s.tag===3?s.stateNode.containerInfo:null;return}}}e.blockedOn=null}function Wr(e){if(e.blockedOn!==null)return!1;for(var t=e.targetContainers;0<t.length;){var s=Ud(e.nativeEvent);if(s===null){s=e.nativeEvent;var n=new s.constructor(s.type,s);Bo=n,s.target.dispatchEvent(n),Bo=null}else return t=Ce(s),t!==null&&yp(t),e.blockedOn=s,!1;t.shift()}return!0}function kp(e,t,s){Wr(e)&&s.delete(t)}function pb(){Hd=!1,Ks!==null&&Wr(Ks)&&(Ks=null),Js!==null&&Wr(Js)&&(Js=null),Ws!==null&&Wr(Ws)&&(Ws=null),fi.forEach(kp),pi.forEach(kp)}function Fr(e,t){e.blockedOn===t&&(e.blockedOn=null,Hd||(Hd=!0,l.unstable_scheduleCallback(l.unstable_NormalPriority,pb)))}var eo=null;function Sp(e){eo!==e&&(eo=e,l.unstable_scheduleCallback(l.unstable_NormalPriority,function(){eo===e&&(eo=null);for(var t=0;t<e.length;t+=3){var s=e[t],n=e[t+1],i=e[t+2];if(typeof n!="function"){if(Bd(n||s)===null)continue;break}var o=Ce(s);o!==null&&(e.splice(t,3),t-=3,Uc(o,{pending:!0,data:i,method:s.method,action:n},n,i))}}))}function hl(e){function t(A){return Fr(A,e)}Ks!==null&&Fr(Ks,e),Js!==null&&Fr(Js,e),Ws!==null&&Fr(Ws,e),fi.forEach(t),pi.forEach(t);for(var s=0;s<Fs.length;s++){var n=Fs[s];n.blockedOn===e&&(n.blockedOn=null)}for(;0<Fs.length&&(s=Fs[0],s.blockedOn===null);)Np(s),s.blockedOn===null&&Fs.shift();if(s=(e.ownerDocument||e).$$reactFormReplay,s!=null)for(n=0;n<s.length;n+=3){var i=s[n],o=s[n+1],h=i[jt]||null;if(typeof o=="function")h||Sp(s);else if(h){var y=null;if(o&&o.hasAttribute("formAction")){if(i=o,h=o[jt]||null)y=h.formAction;else if(Bd(i)!==null)continue}else y=h.action;typeof y=="function"?s[n+1]=y:(s.splice(n,3),n-=3),Sp(s)}}}function Ap(){function e(o){o.canIntercept&&o.info==="react-transition"&&o.intercept({handler:function(){return new Promise(function(h){return i=h})},focusReset:"manual",scroll:"manual"})}function t(){i!==null&&(i(),i=null),n||setTimeout(s,20)}function s(){if(!n&&!navigation.transition){var o=navigation.currentEntry;o&&o.url!=null&&navigation.navigate(o.url,{state:o.getState(),info:"react-transition",history:"replace"})}}if(typeof navigation=="object"){var n=!1,i=null;return navigation.addEventListener("navigate",e),navigation.addEventListener("navigatesuccess",t),navigation.addEventListener("navigateerror",t),setTimeout(s,100),function(){n=!0,navigation.removeEventListener("navigate",e),navigation.removeEventListener("navigatesuccess",t),navigation.removeEventListener("navigateerror",t),i!==null&&(i(),i=null)}}}function Gd(e){this._internalRoot=e}to.prototype.render=Gd.prototype.render=function(e){var t=this._internalRoot;if(t===null)throw Error(c(409));var s=t.current,n=ga();gp(s,n,e,t,null,null)},to.prototype.unmount=Gd.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var t=e.containerInfo;gp(e.current,2,null,e,null,null),zr(),t[rs]=null}};function to(e){this._internalRoot=e}to.prototype.unstable_scheduleHydration=function(e){if(e){var t=Al();e={blockedOn:null,target:e,priority:t};for(var s=0;s<Fs.length&&t!==0&&t<Fs[s].priority;s++);Fs.splice(s,0,e),s===0&&Np(e)}};var Tp=r.version;if(Tp!=="19.2.0")throw Error(c(527,Tp,"19.2.0"));te.findDOMNode=function(e){var t=e._reactInternals;if(t===void 0)throw typeof e.render=="function"?Error(c(188)):(e=Object.keys(e).join(","),Error(c(268,e)));return e=f(t),e=e!==null?b(e):null,e=e===null?null:e.stateNode,e};var xb={bundleType:0,version:"19.2.0",rendererPackageName:"react-dom",currentDispatcherRef:z,reconcilerVersion:"19.2.0"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var ao=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!ao.isDisabled&&ao.supportsFiber)try{Le=ao.inject(xb),Qe=ao}catch{}}return bi.createRoot=function(e,t){if(!u(e))throw Error(c(299));var s=!1,n="",i=Rm,o=Om,h=zm;return t!=null&&(t.unstable_strictMode===!0&&(s=!0),t.identifierPrefix!==void 0&&(n=t.identifierPrefix),t.onUncaughtError!==void 0&&(i=t.onUncaughtError),t.onCaughtError!==void 0&&(o=t.onCaughtError),t.onRecoverableError!==void 0&&(h=t.onRecoverableError)),t=pp(e,1,!1,null,null,s,n,null,i,o,h,Ap),e[rs]=t.current,jd(e),new Gd(t)},bi.hydrateRoot=function(e,t,s){if(!u(e))throw Error(c(299));var n=!1,i="",o=Rm,h=Om,y=zm,A=null;return s!=null&&(s.unstable_strictMode===!0&&(n=!0),s.identifierPrefix!==void 0&&(i=s.identifierPrefix),s.onUncaughtError!==void 0&&(o=s.onUncaughtError),s.onCaughtError!==void 0&&(h=s.onCaughtError),s.onRecoverableError!==void 0&&(y=s.onRecoverableError),s.formState!==void 0&&(A=s.formState)),t=pp(e,1,!0,t,s??null,n,i,A,o,h,y,Ap),t.context=xp(null),s=t.current,n=ga(),n=aa(n),i=Us(n),i.callback=null,Bs(s,i,n),s=n,t.current.lanes=s,Ms(t,s),Wa(t),e[rs]=t.current,jd(e),new to(t)},bi.version="19.2.0",bi}var $p;function Eb(){if($p)return Yd.exports;$p=1;function l(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(l)}catch(r){console.error(r)}}return l(),Yd.exports=Tb(),Yd.exports}var Cb=Eb();const Db=xx(Cb),Mb="modulepreload",_b=function(l){return"/"+l},Up={},La=function(r,d,c){let u=Promise.resolve();if(d&&d.length>0){let x=function(f){return Promise.all(f.map(b=>Promise.resolve(b).then(N=>({status:"fulfilled",value:N}),N=>({status:"rejected",reason:N}))))};document.getElementsByTagName("link");const g=document.querySelector("meta[property=csp-nonce]"),p=(g==null?void 0:g.nonce)||(g==null?void 0:g.getAttribute("nonce"));u=x(d.map(f=>{if(f=_b(f),f in Up)return;Up[f]=!0;const b=f.endsWith(".css"),N=b?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${f}"]${N}`))return;const w=document.createElement("link");if(w.rel=b?"stylesheet":Mb,b||(w.as="script"),w.crossOrigin="",w.href=f,p&&w.setAttribute("nonce",p),document.head.appendChild(w),b)return new Promise((C,L)=>{w.addEventListener("load",C),w.addEventListener("error",()=>L(new Error(`Unable to preload CSS for ${f}`)))})}))}function m(x){const g=new Event("vite:preloadError",{cancelable:!0});if(g.payload=x,window.dispatchEvent(g),!g.defaultPrevented)throw x}return u.then(x=>{for(const g of x||[])g.status==="rejected"&&m(g.reason);return r().catch(m)})};var An=(l=>(l.USER="user",l.AI="ai",l))(An||{}),Ge=(l=>(l.CHAT="chat",l.SETTINGS="settings",l.BRAND="brand",l.PEOPLE="people",l.CONCEPTS="concepts",l.JOURNAL="journal",l.AGENDA="agenda",l.CALENDAR="calendar",l.POMODORO="pomodoro",l.GAMIFICATION="gamification",l.POLARIS="polaris",l.SEARCH="search",l))(Ge||{});const Rb="ChatPlatformDB",Ob=6,Qa="threads",Ds="messages",Tn="settings",sn="jit_snippets",wu="journal_entries",ju="agenda_items",Nu="calendar_events",ku="pomodoro_sessions",Su="brand_records",Au="client_records",Tu="people_records",Eu="concept_records",gl="xp_events",Ti="deliverables",Ei="agenda_sessions",Ci="post_mortems",Di="goal_records",Mi="vendor_tasks";let so=null;async function Ht(){return so||new Promise((l,r)=>{const d=indexedDB.open(Rb,Ob);d.onerror=()=>r(d.error),d.onsuccess=()=>{so=d.result,l(so)},d.onupgradeneeded=c=>{const u=c.target.result;if(u.objectStoreNames.contains(Qa)||u.createObjectStore(Qa,{keyPath:"id",autoIncrement:!1}).createIndex("updatedAt","updatedAt",{unique:!1}),!u.objectStoreNames.contains(Ds)){const x=u.createObjectStore(Ds,{keyPath:"id",autoIncrement:!1});x.createIndex("threadId","threadId",{unique:!1}),x.createIndex("createdAt","createdAt",{unique:!1})}u.objectStoreNames.contains(Tn)||u.createObjectStore(Tn,{keyPath:"key"});const m=(x,g)=>{u.objectStoreNames.contains(x)||u.createObjectStore(x,{keyPath:"id"})};m(sn),m(wu),m(ju),m(Nu),m(ku),m(Su),m(Au),m(Tu),m(Eu),m(gl),m(Ti),m(Ei),m(Ci),m(Di),m(Mi)}})}async function tn(l){const r=await Ht();return new Promise((d,c)=>{const x=r.transaction([Qa],"readwrite").objectStore(Qa).put(l);x.onsuccess=()=>d(),x.onerror=()=>c(x.error)})}async function Ai(l){const r=await Ht();return new Promise((d,c)=>{const x=r.transaction([Qa],"readonly").objectStore(Qa).get(l);x.onsuccess=()=>d(x.result||null),x.onerror=()=>c(x.error)})}async function gx(){const l=await Ht();return new Promise((r,d)=>{const x=l.transaction([Qa],"readonly").objectStore(Qa).index("updatedAt").openCursor(null,"prev"),g=[];x.onsuccess=p=>{const f=p.target.result;f?(g.push(f.value),f.continue()):r(g)},x.onerror=()=>d(x.error)})}async function bx(l){const r=await Ht();return new Promise((d,c)=>{const u=r.transaction([Qa,Ds],"readwrite"),x=u.objectStore(Qa).delete(l),f=u.objectStore(Ds).index("threadId").openCursor(IDBKeyRange.only(l));f.onsuccess=b=>{const N=b.target.result;N&&(N.delete(),N.continue())},x.onsuccess=()=>d(),x.onerror=()=>c(x.error),f.onerror=()=>c(f.error)})}async function fl(l){const r=await Ht();return new Promise((d,c)=>{const x=r.transaction([Ds],"readwrite").objectStore(Ds).put(l);x.onsuccess=()=>d(),x.onerror=()=>c(x.error)})}async function mo(l){const r=await Ht();return new Promise((d,c)=>{const g=r.transaction([Ds],"readonly").objectStore(Ds).index("threadId").getAll(l);g.onsuccess=()=>{const p=g.result||[];p.sort((f,b)=>f.createdAt-b.createdAt),d(p)},g.onerror=()=>c(g.error)})}async function nn(l,r){const d=await Ht();return new Promise((c,u)=>{const g=d.transaction([Tn],"readwrite").objectStore(Tn).put({key:l,value:r});g.onsuccess=()=>c(),g.onerror=()=>u(g.error)})}async function gt(l,r){const d=await Ht();return new Promise((c,u)=>{const g=d.transaction([Tn],"readonly").objectStore(Tn).get(l);g.onsuccess=()=>{const p=g.result;c(p?p.value:r)},g.onerror=()=>u(g.error)})}async function yx(l){const r=await Ht();return new Promise((d,c)=>{const x=r.transaction([sn],"readwrite").objectStore(sn).put(l);x.onsuccess=()=>d(),x.onerror=()=>c(x.error)})}async function vx(l,r=10){const d=await Ht();return new Promise((c,u)=>{const g=d.transaction([sn],"readonly").objectStore(sn).getAll();g.onsuccess=()=>{const f=(g.result||[]).map(b=>{const w=b.tags.filter(C=>l.includes(C)).length/Math.max(b.tags.length,1);return{snippet:b,relevance:b.relevance+w}}).filter(b=>b.relevance>0);f.sort((b,N)=>N.relevance-b.relevance),c(f.slice(0,r).map(b=>b.snippet))},g.onerror=()=>u(g.error)})}async function wx(l=5){const r=await Ht();return new Promise((d,c)=>{const x=r.transaction([sn],"readonly").objectStore(sn).getAll();x.onsuccess=()=>{const p=(x.result||[]).sort((f,b)=>b.createdAt-f.createdAt);d(p.slice(0,l))},x.onerror=()=>c(x.error)})}const kt={journal:wu,agenda:ju,calendar:Nu,pomodoro:ku,brand:Su,client:Au,people:Tu,concept:Eu};async function ba(l,r){const d=await Ht();return new Promise((c,u)=>{const g=d.transaction([l],"readwrite").objectStore(l).put(r);g.onsuccess=()=>c(),g.onerror=()=>u(g.error)})}async function ya(l,r){const d=await Ht();return new Promise((c,u)=>{const g=d.transaction([l],"readwrite").objectStore(l).delete(r);g.onsuccess=()=>c(),g.onerror=()=>u(g.error)})}async function va(l){const r=await Ht();return new Promise((d,c)=>{const x=r.transaction([l],"readonly").objectStore(l).getAll();x.onsuccess=()=>d(x.result||[]),x.onerror=()=>c(x.error)})}async function zb(l){const r=await Ht();return new Promise((d,c)=>{const x=r.transaction([l],"readwrite").objectStore(l).clear();x.onsuccess=()=>d(),x.onerror=()=>c(x.error)})}const I={saveJournalEntry:l=>ba(kt.journal,l),getJournalEntries:()=>va(kt.journal),deleteJournalEntry:l=>ya(kt.journal,l),saveAgendaItem:l=>ba(kt.agenda,l),getAgendaItems:()=>va(kt.agenda),deleteAgendaItem:l=>ya(kt.agenda,l),saveCalendarEvent:l=>ba(kt.calendar,l),getCalendarEvents:()=>va(kt.calendar),deleteCalendarEvent:l=>ya(kt.calendar,l),savePomodoroSession:l=>ba(kt.pomodoro,l),getPomodoroSessions:()=>va(kt.pomodoro),deletePomodoroSession:l=>ya(kt.pomodoro,l),saveBrandRecord:l=>ba(kt.brand,l),getBrandRecords:()=>va(kt.brand),deleteBrandRecord:l=>ya(kt.brand,l),saveClientRecord:l=>ba(kt.client,l),getClientRecords:()=>va(kt.client),deleteClientRecord:l=>ya(kt.client,l),savePeopleRecord:l=>ba(kt.people,l),getPeopleRecords:()=>va(kt.people),deletePeopleRecord:l=>ya(kt.people,l),saveConceptRecord:l=>ba(kt.concept,l),getConceptRecords:()=>va(kt.concept),deleteConceptRecord:l=>ya(kt.concept,l),saveDeliverable:l=>ba(Ti,l),getDeliverables:()=>va(Ti),deleteDeliverable:l=>ya(Ti,l),saveAgendaSession:l=>ba(Ei,l),getAgendaSessions:()=>va(Ei),deleteAgendaSession:l=>ya(Ei,l),savePostMortem:l=>ba(Ci,l),getPostMortems:()=>va(Ci),deletePostMortem:l=>ya(Ci,l),saveGoal:l=>ba(Di,l),getGoals:()=>va(Di),deleteGoal:l=>ya(Di,l),saveVendorTask:l=>ba(Mi,l),getVendorTasks:()=>va(Mi),deleteVendorTask:l=>ya(Mi,l)};async function jx(l=!1){const r=[Qa,Ds,sn,wu,ju,Nu,ku,Su,Au,Tu,Eu,gl,Ti,Ei,Ci,Di,Mi];l&&r.push(Tn),await Promise.all(r.map(d=>zb(d)))}async function Nx(l){const r=await Ht();return new Promise((d,c)=>{const x=r.transaction([gl],"readwrite").objectStore(gl).put(l);x.onsuccess=()=>d(),x.onerror=()=>c(x.error)})}async function kx(l=20){const r=await Ht();return new Promise((d,c)=>{const x=r.transaction([gl],"readonly").objectStore(gl).getAll();x.onsuccess=()=>{const g=x.result||[];d(g.sort((p,f)=>f.createdAt-p.createdAt).slice(0,l))},x.onerror=()=>c(x.error)})}const fo=Object.freeze(Object.defineProperty({__proto__:null,clearAllData:jx,deleteThread:bx,entityStorage:I,getAllThreads:gx,getMessagesForThread:mo,getRecentSnippets:wx,getSetting:gt,getSnippetsByTags:vx,getThread:Ai,getXpEvents:kx,initDB:Ht,logXpEvent:Nx,saveJITSnippet:yx,saveMessage:fl,saveSetting:nn,saveThread:tn},Symbol.toStringTag,{value:"Module"})),Lb=l=>l.toLowerCase().replace(/[^a-z0-9\s]/g," "),Sx=(l,r=6)=>{const d=Lb(l).split(/\s+/).filter(Boolean),c=d.filter(x=>x.length>4),u=new Map;c.forEach(x=>{u.set(x,(u.get(x)||0)+1)});const m=Array.from(u.entries()).sort((x,g)=>g[1]-x[1]).slice(0,r).map(([x])=>x);return m.length>0?m:d.slice(0,r)},$b=()=>typeof crypto<"u"&&"randomUUID"in crypto?crypto.randomUUID():`jit-${Date.now()}`,iu=async(l,r)=>{const d=Sx(r),c={id:$b(),threadId:l,tags:d,text:r,relevance:.5,createdAt:Date.now()};return await yx(c),c},Yw=async(l,r=5)=>{const d=Sx(l,8);return vx(d,r)},ru=new Map,Ub=new Set,Bp=()=>{Ub.forEach(l=>l())},ja=l=>(ru.set(l.id,l),Bp(),()=>{ru.delete(l.id),Bp()}),bl=async(l,r)=>{const d=ru.get(l);if(!d)return{handled:!1,message:`Unknown action ${l}`};const{logSylviaEvent:c}=await La(async()=>{const{logSylviaEvent:m}=await Promise.resolve().then(()=>Hb);return{logSylviaEvent:m}},void 0),u=l.split(".")[0];c({kind:u||"system",summary:`Executed: ${d.label}`,detail:r?`Payload: ${r.substring(0,200)}${r.length>200?"...":""}`:void 0,actionId:l,payload:r});try{return await d.handler(r),{handled:!0,message:`${d.label} completed`}}catch(m){throw c({kind:"system",summary:`Error executing: ${d.label}`,detail:m instanceof Error?m.message:String(m),actionId:l}),m}},Ax=async l=>{if(!l.startsWith("/"))return{handled:!1};const r=l.match(/^\/([\\w.:-]+)\\s*(.*)$/);if(!r)return{handled:!1};const[,d,c=""]=r;return bl(d,c.trim())},Bb=Object.freeze(Object.defineProperty({__proto__:null,executeAction:bl,registerAction:ja,tryHandleActionCommand:Ax},Symbol.toStringTag,{value:"Module"})),ou="sylvia-entity-update",Ba=l=>{typeof window>"u"||window.dispatchEvent(new CustomEvent(ou,{detail:{entity:l}}))},on=(l,r)=>{if(typeof window>"u")return()=>{};const d=Array.isArray(l)?l:[l],c=u=>{var g;const x=(g=u.detail)==null?void 0:g.entity;x&&d.includes(x)&&r()};return window.addEventListener(ou,c),()=>window.removeEventListener(ou,c)},Hp="__SYLVIA_LOG__",_i="__SYLVIA_EVENT_QUEUE__",Tx=()=>{if(!(typeof window>"u"))return window},Na=l=>{const r={id:l.id||`sylvia-event-${Date.now()}`,timestamp:l.timestamp||Date.now(),summary:l.summary,detail:l.detail,link:l.link,kind:l.kind,rating:l.rating,actionId:l.actionId,payload:l.payload},d=Tx();if(!d)return r;if(typeof d[Hp]=="function")d[Hp](r);else{const c=d[_i]||[];c.push(r),d[_i]=c}return r},Ex=()=>{const l=Tx();if(!l||!Array.isArray(l[_i]))return[];const r=l[_i];return l[_i]=[],r},Hb=Object.freeze(Object.defineProperty({__proto__:null,drainSylviaEventQueue:Ex,logSylviaEvent:Na},Symbol.toStringTag,{value:"Module"})),cu="xp_total",Gb="xp_last_level",vo=200,no=[{name:"Seedling",description:"Just beginning your journey",iconName:"Sprout"},{name:"Novice Operator",description:"Learning the ropes",iconName:"User"},{name:"Resonance Seeker",description:"Finding your frequency",iconName:"Radio"},{name:"Context Weaver",description:"Connecting the dots",iconName:"Network"},{name:"Memory Architect",description:"Building your knowledge base",iconName:"Building"},{name:"Flow Catalyst",description:"Accelerating momentum",iconName:"Zap"},{name:"Sylvia Collaborator",description:"Working in harmony",iconName:"Handshake"},{name:"Resonance Navigator",description:"Charting new territories",iconName:"Compass"},{name:"Context Master",description:"Owning your domain",iconName:"Crown"},{name:"Memory Virtuoso",description:"Perfect recall",iconName:"Target"},{name:"Flow Architect",description:"Designing systems",iconName:"Building"},{name:"Sylvia Partner",description:"Deep collaboration",iconName:"Gem"},{name:"Resonance Commander",description:"Leading the charge",iconName:"Rocket"},{name:"Context Sage",description:"Wisdom through experience",iconName:"Brain"},{name:"Memory Oracle",description:"Seeing patterns others miss",iconName:"Gem"},{name:"Flow Sovereign",description:"Master of momentum",iconName:"Wand2"},{name:"Sylvia Co-Pilot",description:"Seamless integration",iconName:"Plane"},{name:"Resonance Legend",description:"Stories told of your work",iconName:"Scroll"},{name:"Context Deity",description:"Transcendent understanding",iconName:"Star"},{name:"Memory Titan",description:"Unstoppable knowledge",iconName:"Brain"},{name:"Flow Deity",description:"Divine momentum",iconName:"Sparkle"},{name:"Sylvia Unity",description:"One mind, one purpose",iconName:"Sparkles"}],wo=l=>{if(l<no.length)return no[l];const r=Math.floor(l/10),d=l%no.length,c=no[d];return{name:`${c.name} ${r>0?`(Tier ${r+1})`:""}`,description:c.description,iconName:c.iconName}},du=async()=>{const l=await gt(cu,0),r=Math.floor(l/vo),d=(r+1)*vo,c=wo(r);return{total:l,level:r,nextLevel:d,levelName:c.name,levelDescription:c.description}},qb={"journal.entry":15,"journal.grade":6,"agenda.add":10,"pomodoro.session":8,"agenda.session":12},Cs=async(l,r)=>{const d=qb[l]??0,c=await gt(cu,0),u=Math.floor(c/vo),m=c+Math.max(d,0),x=Math.floor(m/vo);await nn(cu,m),await Nx({id:`xp-${Date.now()}`,reason:l,points:d,metadata:r,createdAt:Date.now()});const g=await du();return x>u&&(await nn(Gb,x),window.dispatchEvent(new CustomEvent("levelUp",{detail:{level:x,levelName:g.levelName,levelDescription:g.levelDescription,iconName:wo(x).iconName}}))),g},Ib=async()=>kx(30),uu=async(l,r,d={})=>{await iu(d.sourceThreadId||"global",r);const c={id:`journal-${Date.now()}`,title:l,content:r,createdAt:Date.now(),autoGenerated:d.autoGenerated,scope:d.scope,sentiment:d.sentiment,sourceThreadId:d.sourceThreadId,tags:d.tags,metadata:d.metadata};await I.saveJournalEntry(c)};let Gp=!1;const hu=l=>{if(!l)return;const r=Date.parse(l);return Number.isNaN(r)?void 0:r},Cx=l=>l&&l.trim().toLowerCase().startsWith("pers")?"personal":"professional",Dx=l=>{if(!l)return"medium";const r=l.trim().toLowerCase();return r.startsWith("low")?"low":r.startsWith("high")?"high":"medium"},Yb=()=>ja({id:"journal.add",label:"Add journal entry",handler:async(l="")=>{const[r,...d]=l.split(`
`),c=d.join(`
`).trim()||l,u={id:`journal-${Date.now()}`,title:(r==null?void 0:r.trim())||"Untitled entry",content:c,createdAt:Date.now(),autoGenerated:!0};await I.saveJournalEntry(u),await Cs("journal.entry"),Ba("journal"),Na({kind:"journal",summary:`Journal: ${u.title}`,detail:u.content.substring(0,280)})}}),Vb=()=>ja({id:"people.add",label:"Add person",handler:async(l="")=>{var R,K,ie,re,be,U,Y,O,D,oe,Ne;const r=l.split("|"),d=((R=r[0])==null?void 0:R.trim())||"",c=((K=r[1])==null?void 0:K.trim())||"",u=((ie=r[2])==null?void 0:ie.trim())||"",m=((re=r[3])==null?void 0:re.trim())||"",x=((be=r[4])==null?void 0:be.trim())||"",g=((U=r[5])==null?void 0:U.trim())||"",p=((Y=r[6])==null?void 0:Y.trim())||"",f=((O=r[7])==null?void 0:O.trim())||"",b=((D=r[8])==null?void 0:D.trim())||"",N=((oe=r[9])==null?void 0:oe.trim())||"",w=p?p.split(",").map(P=>P.trim()).filter(Boolean):void 0,C=N?N.split(",").map(P=>P.trim()).filter(Boolean):void 0,L={id:`people-${Date.now()}`,name:d||"Unnamed person",role:c||void 0,company:u||void 0,location:m||void 0,email:x||void 0,phone:g||void 0,attributes:w,profile:f||void 0,notes:b||void 0,tags:C,createdAt:Date.now()};await I.savePeopleRecord(L),Ba("people"),Na({kind:"people",summary:`Person logged: ${L.name}`,detail:[L.role,L.company,(Ne=L.attributes)==null?void 0:Ne.join(", ")].filter(Boolean).join("  ")})}}),Xb=()=>ja({id:"client.add",label:"Add client",handler:async(l="")=>{const[r,...d]=l.split("|"),c={id:`client-${Date.now()}`,name:(r==null?void 0:r.trim())||"Unnamed client",notes:d.join("|").trim(),createdAt:Date.now()};await I.saveClientRecord(c),Ba("client"),Na({kind:"client",summary:`Client logged: ${c.name}`,detail:c.notes||void 0})}}),Qb=()=>ja({id:"brand.add",label:"Add brand atom",handler:async(l="")=>{const[r,...d]=l.split("|"),c={id:`brand-${Date.now()}`,name:(r==null?void 0:r.trim())||"Brand element",description:d.join("|").trim(),createdAt:Date.now()};await I.saveBrandRecord(c),Ba("brand"),Na({kind:"brand",summary:`Brand atom: ${c.name}`,detail:c.description})}}),Pb=()=>ja({id:"concept.add",label:"Add concept",handler:async(l="")=>{var p;const r=l.split("|").map(f=>f.trim()),d=r[0]||"New concept",c=r[1]||"",u=r[2]||void 0,m=r[3]?r[3].split(",").map(f=>f.trim()).filter(Boolean):void 0,x=r[4]||void 0,g={id:`concept-${Date.now()}`,name:d,description:c||void 0,category:u||void 0,tags:m,notes:x||void 0,createdAt:Date.now()};await I.saveConceptRecord(g),Ba("concept"),Na({kind:"concept",summary:`Concept: ${g.name}`,detail:[g.category,(p=g.description)==null?void 0:p.substring(0,100)].filter(Boolean).join("  ")})}}),Zb=()=>ja({id:"deliverable.add",label:"Add deliverable",handler:async(l="")=>{const[r,d,c,u,m,x,g]=l.split("|").map(f=>f.trim()),p={id:`deliverable-${Date.now()}`,title:r||"New deliverable",description:d||"",guardrails:c||"",successCriteria:u||"",scope:Cx(m),priority:Dx(x),tags:(g||"").split(",").map(f=>f.trim()).filter(Boolean),createdAt:Date.now()};await I.saveDeliverable(p),Ba("deliverable"),Na({kind:"deliverable",summary:`Deliverable: ${p.title}`,detail:`${p.scope}  ${p.priority}${p.tags.length?`  #${p.tags.join(" #")}`:""}`})}}),Kb=()=>ja({id:"agenda.add",label:"Add agenda item",handler:async(l="")=>{const[r,d,c]=l.split("|").map(m=>m.trim()),u={id:`agenda-${Date.now()}`,title:r||"Agenda task",status:"todo",dueAt:hu(d),createdAt:Date.now(),deliverableId:c||void 0};await I.saveAgendaItem(u),await Cs("agenda.add"),await uu("Agenda item created",u.title,{scope:"professional",tags:["agenda",...u.deliverableId?["deliverable"]:[]],metadata:{dueAt:d||"",deliverableId:u.deliverableId||""},autoGenerated:!0}),Ba("agenda"),Na({kind:"agenda",summary:`Agenda: ${u.title}`,detail:u.dueAt?`Due ${new Date(u.dueAt).toLocaleString()}`:void 0})}}),Jb=()=>ja({id:"calendar.add",label:"Schedule event",handler:async(l="")=>{const[r,d,c,...u]=l.split("|"),m={id:`calendar-${Date.now()}`,title:(r||"Calendar block").trim(),startAt:hu(d==null?void 0:d.trim())||Date.now(),endAt:hu(c==null?void 0:c.trim())||Date.now(),description:u.join("|").trim()};await I.saveCalendarEvent(m),Ba("calendar"),Na({kind:"calendar",summary:`Calendar: ${m.title}`,detail:`${new Date(m.startAt).toLocaleString()}  ${new Date(m.endAt).toLocaleTimeString()}`})}}),Wb=()=>ja({id:"pomodoro.log",label:"Log pomodoro session",handler:async(l="")=>{const[r,d]=l.split("|").map(m=>m.trim()),c=Number(d)||25,u={id:`pomodoro-${Date.now()}`,label:r||"Focus block",startedAt:Date.now(),durationMinutes:c};await I.savePomodoroSession(u),await Cs("pomodoro.session"),Ba("pomodoro"),Na({kind:"pomodoro",summary:`Pomodoro: ${u.label}`,detail:`${c} min`})}}),Fb=()=>ja({id:"polaris.goal",label:"Add goal",handler:async(l="")=>{const r=l.split("|").map(f=>f.trim()),d=r[0]||"New goal",c=r[1]||"",u=r[2]==="big"?"big":"small",m=r[3]||"",x=Cx(r[4]),g=Dx(r[5]),p={id:`goal-${Date.now()}`,title:d,description:c,goalType:u,metrics:m,scope:x,priority:g,createdAt:Date.now()};await I.saveGoal(p),Ba("goal"),Na({kind:"goal",summary:`Goal: ${p.title}`,detail:`${p.goalType}  ${p.scope}  ${p.priority}`})}}),ey=()=>ja({id:"polaris.task",label:"Add vendor task",handler:async(l="")=>{var f,b;const r=l.split("|").map(N=>N.trim()),d=r[0]||"",c=r[1]||"New task",u=r[2]||"",m=r[3]||"",x=["very-low","low","medium","high"].includes((f=r[4])==null?void 0:f.toLowerCase())?r[4].toLowerCase():"medium",g=["very-low","low","medium","high","very-high"].includes((b=r[5])==null?void 0:b.toLowerCase())?r[5].toLowerCase():"medium",p={id:`task-${Date.now()}-${Math.random().toString(36).substr(2,9)}`,goalId:d,title:c,description:u,rationale:m||void 0,estimatedEffort:x,estimatedImpact:g,status:"pending",generatedAt:Date.now(),createdAt:Date.now()};await I.saveVendorTask(p),Ba("goal"),Na({kind:"goal",summary:`Task generated: ${p.title}`,detail:`Effort: ${p.estimatedEffort}  Impact: ${p.estimatedImpact}`})}}),ty=()=>[{id:"people.delete",entityType:"people",storageFn:I.deletePeopleRecord.bind(I)},{id:"brand.delete",entityType:"brand",storageFn:I.deleteBrandRecord.bind(I)},{id:"concept.delete",entityType:"concept",storageFn:I.deleteConceptRecord.bind(I)},{id:"journal.delete",entityType:"journal",storageFn:I.deleteJournalEntry.bind(I)},{id:"calendar.delete",entityType:"calendar",storageFn:I.deleteCalendarEvent.bind(I)},{id:"agenda.delete",entityType:"agenda",storageFn:I.deleteAgendaItem.bind(I)},{id:"deliverable.delete",entityType:"deliverable",storageFn:I.deleteDeliverable.bind(I)},{id:"goal.delete",entityType:"goal",storageFn:I.deleteGoal.bind(I)},{id:"task.delete",entityType:"task",storageFn:I.deleteVendorTask.bind(I)}].map(({id:r,entityType:d,storageFn:c})=>ja({id:r,label:`Delete ${d}`,handler:async(u="")=>{const m=u.trim();if(!m)throw new Error(`No ${d} ID provided`);await c(m),Ba(d),Na({kind:d,summary:`Deleted ${d}: ${m}`,detail:`Entity ID: ${m}`,actionId:r,payload:m})}})),ay=()=>{Gp||([Yb(),Vb(),Xb(),Qb(),Pb(),Zb(),Kb(),Jb(),Wb(),Fb(),ey(),...ty()],Gp=!0)},sy=`You are Sylvia, Polaris' embedded operator inside Jake's Resonance Cockpit.

Your core function is POST-PROCESSING and automatic entity extraction. You automatically categorize and organize everything mentioned in conversations without being asked.

CRITICAL: PEOPLE vs CONCEPTS DISTINCTION
This is the MOST IMPORTANT rule. The People section is critical for Polaris goal execution and must ONLY contain actual humans.

**PEOPLE**: Actual humans with names that you can meet, email, call, or have a relationship with
- Examples: "John Smith", "Sarah Johnson", "Blair Hallett", "Jake Aaron"
- Indicators: Real person names, can be contacted, has relationships, can collaborate
- NEVER add concepts, ideas, technologies, or applications here

**CONCEPTS**: Ideas, technologies, applications, systems, platforms, tools, models, frameworks
- Examples: "Resonance Cockpit", "Preflection", "AI Application", "Machine Learning Model", "Weighted Prompt System", "Glass Box Mode"
- Indicators: Abstract ideas, technologies, systems, products, features, methods
- These are NOT people - they cannot be contacted or have relationships

When classifying an entity, ask yourself:
1. "Is this a real human I can meet or contact?"  If YES, it's a PERSON
2. "Is this an idea, technology, or application?"  If YES, it's a CONCEPT
3. When in doubt, choose CONCEPT (better to miss a person than misclassify a concept as a person)

AUTOMATIC EXTRACTION RULES:
- PEOPLE: Actual humans ONLY (names, roles, relationships)  People section
- CONCEPTS: Ideas, concepts, AI applications, technologies, systems, platforms, tools, models, frameworks, algorithms, methods, strategies, processes, workflows, solutions, products, services, features  Concepts section
- BRAND: Brand elements, voice notes, positioning, business identity  Brand section
- CALENDAR: Meetings, events, appointments, time-bound commitments  Calendar with parsed dates/times
- JOURNAL: Reflections, insights, learnings, important notes  Journal
- AGENDA/DELIVERABLES: Tasks, commitments, work items  Agenda
- POLARIS/GOALS: Strategic goals, objectives, high-leverage moves  Polaris

You operate headlesslyextract entities automatically as conversations happen. Don't wait for explicit instructions.

When you extract entities, use this format in your response:
[ACTION:people.add|Blair Hallett|Masonry business owner|Key contact for website project]
[ACTION:concept.add|Resonance Cockpit|AI workspace platform|AI Application|productivity,ai]
[ACTION:calendar.add|Meeting with Blair|2025-11-09T10:30|2025-11-09T11:30|Discussing new website]

After each message, scan for extractable entities and automatically categorize them. Keep your conversational response natural, but ensure all entities are captured.

Every time you make a change, narrate what happened, which workspace is affected, and any follow-up the user should know. Keep answers concise, structured, and markdown-friendly.`,Mx=v.createContext(void 0),ny=({children:l})=>{const[r,d]=v.useState(!0),[c,u]=v.useState(Ge.POLARIS),[m,x]=v.useState([]),[g,p]=v.useState(null),[f,b]=v.useState([]),[N,w]=v.useState(!1),[C,L]=v.useState({}),[R,K]=v.useState(null),[ie,re]=v.useState({type:null,id:""}),[be,U]=v.useState({type:null,id:""}),Y=v.useCallback(async G=>{const J=await Ai(G);if(!J)return;p(J);const E=await mo(G);b(E),J.updatedAt=Date.now(),await tn(J)},[]);v.useEffect(()=>{(async()=>{try{await Ht(),ay();const J=await gx();x(J);const E=await gt("apiKey",""),z=await gt("secondaryApiKey",""),te=await gt("auditApiKey",""),ve=await gt("mainModel","openrouter/polaris-alpha"),De=await gt("backupModel","x-ai/grok-4-fast"),Ue=await gt("embeddingModel","qwen/qwen3-embedding-8b"),j=await gt("auditInterval",60),q=await gt("weightedPrompts",[]);let X=await gt("systemInstruction","");(!X||!X.trim())&&(X=sy,await nn("systemInstruction",X));const he=await gt("temperature",.7),ee=await gt("maxTokens",128e3),T=await gt("preflectionEnabled",!1);L({apiKey:E,secondaryApiKey:z,auditApiKey:te,mainModel:ve,backupModel:De,embeddingModel:Ue,systemInstruction:X,weightedPrompts:q,temperature:he,maxTokens:ee,auditInterval:j,preflectionEnabled:T});try{const{stopAuditSchedule:W}=await La(async()=>{const{stopAuditSchedule:ce}=await import("./auditAgent-BUrp5RxH.js");return{stopAuditSchedule:ce}},[]);W()}catch{}if(J.length>0){const W=await Ai(J[0].id);if(W){p(W);const ce=await mo(J[0].id);b(ce)}}}catch(J){console.error("Failed to initialize database:",J)}})()},[]);const O=v.useCallback(async()=>{const G={id:`thread-${Date.now()}`,title:"New conversation",createdAt:Date.now(),updatedAt:Date.now()};return await tn(G),x(J=>[G,...J]),await Y(G.id),G.id},[Y]),D=v.useCallback(G=>{if(!G.type||!G.data)return"";const{type:J,data:E}=G;switch(J){case"goal":return`[CONTEXT: USER IS VIEWING/WORKING ON THIS GOAL]
Type: ${E.goalType==="big"?"Big Goal (Long-term, strategic)":"Small Goal (Quick wins, short-term)"}
Title: ${E.title}
Description: ${E.description}
Scope: ${E.scope}
Priority: ${E.priority}
Metrics: ${E.metrics||"Not specified"}
Created: ${new Date(E.createdAt).toLocaleDateString()}
${E.updatedAt?`Updated: ${new Date(E.updatedAt).toLocaleDateString()}`:""}

The user is currently focused on this goal. When they ask questions or give instructions, assume they're referring to this goal unless they specify otherwise.`;case"task":const z=E.goalId?`Goal ID: ${E.goalId}`:"";return`[CONTEXT: USER IS VIEWING/WORKING ON THIS TASK]
Title: ${E.title}
Description: ${E.description}
${E.rationale?`Rationale: ${E.rationale}`:""}
Status: ${E.status}
Estimated Effort: ${E.estimatedEffort}
Estimated Impact: ${E.estimatedImpact}
${z}
${E.completedAt?`Completed: ${new Date(E.completedAt).toLocaleDateString()}`:""}
${E.completionNotes?`Completion Notes: ${E.completionNotes}`:""}
${E.outcome?`Outcome: ${E.outcome}`:""}

The user is currently focused on this task. When they ask questions or give instructions, assume they're referring to this task unless they specify otherwise.`;case"person":return`[CONTEXT: USER IS VIEWING/WORKING ON THIS PERSON]
Name: ${E.name}
${E.role?`Role: ${E.role}`:""}
${E.company?`Company: ${E.company}`:""}
${E.location?`Location: ${E.location}`:""}
${E.email?`Email: ${E.email}`:""}
${E.phone?`Phone: ${E.phone}`:""}
${E.attributes&&E.attributes.length>0?`Attributes: ${E.attributes.join(", ")}`:""}
${E.tags&&E.tags.length>0?`Tags: ${E.tags.join(", ")}`:""}
${E.profile?`Profile: ${E.profile}`:""}
${E.notes?`Notes: ${E.notes}`:""}
${E.connections&&E.connections.length>0?`Connections: ${E.connections.length} connection(s)`:""}

The user is currently focused on this person. When they ask questions or give instructions, assume they're referring to this person unless they specify otherwise.`;case"journal":return`[CONTEXT: USER IS VIEWING/WORKING ON THIS JOURNAL ENTRY]
Title: ${E.title}
Content: ${E.content}
Created: ${new Date(E.createdAt).toLocaleDateString()}
${E.grade?`Grade: ${E.grade}/5`:""}
${E.tags&&E.tags.length>0?`Tags: ${E.tags.join(", ")}`:""}

The user is currently focused on this journal entry. When they ask questions or give instructions, assume they're referring to this entry unless they specify otherwise.`;case"calendar":return`[CONTEXT: USER IS VIEWING/WORKING ON THIS CALENDAR EVENT]
Title: ${E.title}
${E.description?`Description: ${E.description}`:""}
Start: ${new Date(E.startAt).toLocaleString()}
End: ${new Date(E.endAt).toLocaleString()}
${E.location?`Location: ${E.location}`:""}
${E.meetingLink?`Meeting Link: ${E.meetingLink}`:""}
${E.eventType?`Type: ${E.eventType}`:""}
${E.participants&&E.participants.length>0?`Participants: ${E.participants.join(", ")}`:""}
${E.tags&&E.tags.length>0?`Tags: ${E.tags.join(", ")}`:""}

The user is currently focused on this calendar event. When they ask questions or give instructions, assume they're referring to this event unless they specify otherwise.`;case"agenda":return`[CONTEXT: USER IS VIEWING/WORKING ON THIS AGENDA ITEM]
Title: ${E.title}
${E.description?`Description: ${E.description}`:""}
Status: ${E.status}
${E.priority?`Priority: ${E.priority}`:""}
${E.estimatedTime?`Estimated Time: ${E.estimatedTime} minutes`:""}
${E.deliverableId?`Deliverable ID: ${E.deliverableId}`:""}

The user is currently focused on this agenda item. When they ask questions or give instructions, assume they're referring to this item unless they specify otherwise.`;case"deliverable":return`[CONTEXT: USER IS VIEWING/WORKING ON THIS DELIVERABLE]
Title: ${E.title}
Description: ${E.description}
${E.guardrails?`Guardrails: ${E.guardrails}`:""}
${E.successCriteria?`Success Criteria: ${E.successCriteria}`:""}
Status: ${E.status}

The user is currently focused on this deliverable. When they ask questions or give instructions, assume they're referring to this deliverable unless they specify otherwise.`;case"brand":return`[CONTEXT: USER IS VIEWING/WORKING ON THIS BRAND ELEMENT]
Name: ${E.name}
${E.category?`Category: ${E.category}`:""}
${E.content?`Content: ${E.content}`:""}
${E.notes?`Notes: ${E.notes}`:""}
${E.tags&&E.tags.length>0?`Tags: ${E.tags.join(", ")}`:""}

The user is currently focused on this brand element. When they ask questions or give instructions, assume they're referring to this element unless they specify otherwise.`;case"concept":return`[CONTEXT: USER IS VIEWING/WORKING ON THIS CONCEPT]
Name: ${E.name}
${E.description?`Description: ${E.description}`:""}
${E.category?`Category: ${E.category}`:""}
${E.notes?`Notes: ${E.notes}`:""}
${E.tags&&E.tags.length>0?`Tags: ${E.tags.join(", ")}`:""}

The user is currently focused on this concept. When they ask questions or give instructions, assume they're referring to this concept unless they specify otherwise.`;default:return""}},[]),oe=v.useCallback(async G=>{if(await bx(G),x(J=>J.filter(E=>E.id!==G)),(g==null?void 0:g.id)===G){const J=m.filter(E=>E.id!==G);J.length>0?await Y(J[0].id):(p(null),b([]))}},[g,m,Y]),Ne=v.useCallback(async(G,J,E)=>{let z=g==null?void 0:g.id,te=g;if(te||(z=await O(),te=await Ai(z),te&&p(te)),!z)return;const ve=await mo(z),De={id:`msg-${Date.now()}`,threadId:z,sender:An.USER,text:G,file:J,createdAt:Date.now()};await fl(De),iu(z,G).catch(console.error);const Ue=[...ve,De];if(b(Ue),te&&te.title==="New conversation"&&!J){const X=G.length>50?G.substring(0,50)+"...":G;te.title=X,te.updatedAt=Date.now(),await tn(te),p({...te}),x(he=>he.map(ee=>ee.id===z?te:ee))}else te&&(te.updatedAt=Date.now(),await tn(te),x(X=>X.map(he=>he.id===z?te:he)));const j=R;if(j){const{executeAction:X}=await La(async()=>{const{executeAction:ee}=await Promise.resolve().then(()=>Bb);return{executeAction:ee}},void 0),he=await X(j,G.trim());if(K(null),he.handled){const ee=he.message||"Action completed.",T={id:`msg-${Date.now()+1}`,threadId:z,sender:An.AI,text:ee,createdAt:Date.now()};await fl(T),b(W=>[...W,T]);return}}const q=await Ax(G.trim());if(q.handled){const X=q.message||"Action completed.",he={id:`msg-${Date.now()+1}`,threadId:z,sender:An.AI,text:X,createdAt:Date.now()};await fl(he),b(ee=>[...ee,he]);return}w(!0);try{const{sendMessage:X}=await La(async()=>{const{sendMessage:xe}=await Promise.resolve().then(()=>tg);return{sendMessage:xe}},void 0);let he=Ue.map(xe=>({role:xe.sender===An.USER?"user":"assistant",content:xe.text})),ee=null,T=C.systemInstruction;if(C.preflectionEnabled)try{const{performPreflection:xe}=await La(async()=>{const{performPreflection:we}=await import("./preflection-CoPvlPPC.js");return{performPreflection:we}},[]);if(ee=await xe(z,G,ie,C.systemInstruction,C.weightedPrompts||[],C.apiKey||C.secondaryApiKey||"",C.mainModel||"openrouter/polaris-alpha"),ee.dynamicInstructions){const we=ee.instructionWeight||.7,ze=we>.7?"HIGH PRIORITY":we>.5?"MODERATE PRIORITY":"SUPPLEMENTARY";T=`${C.systemInstruction}

[DYNAMIC INSTRUCTIONS - Query-Specific | ${ze} | Weight: ${(we*100).toFixed(0)}%]
${ee.dynamicInstructions}`}if(ee.dynamicInstructions)try{await X([{role:"system",content:T},{role:"user",content:" "}],{apiKey:C.apiKey||C.secondaryApiKey,mainModel:C.mainModel,temperature:.3,maxTokens:10})}catch(we){console.warn("Preflection priming failed, continuing anyway:",we)}}catch(xe){console.error("Preflection failed, continuing with base instructions:",xe)}if(ie.type&&ie.data){const xe=D(ie);he=[...he.slice(0,-1),{role:"system",content:xe},he[he.length-1]]}if(E!=null&&E.audioBase64||E!=null&&E.videoBase64){const xe=he[he.length-1],we=[];G.trim()&&we.push({type:"text",text:G.trim()}),E.audioBase64&&we.push({type:"input_audio",input_audio:{data:E.audioBase64.data,format:E.audioBase64.format}}),E.videoBase64&&we.push({type:"input_video",video_url:{url:E.videoBase64}}),he=[...he.slice(0,-1),{...xe,content:we}]}const W={apiKey:C.apiKey,secondaryApiKey:C.secondaryApiKey,mainModel:(E==null?void 0:E.modelOverride)||C.mainModel,backupModel:C.backupModel,embeddingModel:C.embeddingModel,systemInstruction:T,weightedPrompts:C.weightedPrompts,temperature:C.temperature,maxTokens:C.maxTokens,inferenceParameters:ee==null?void 0:ee.inferenceParameters,useImageGeneration:E==null?void 0:E.useImageGeneration,useWebSearch:E==null?void 0:E.useWebSearch,useAudioVideo:E==null?void 0:E.useAudioVideo},ce=await X(he,W);if(ee&&te){const xe=`# Preflection Analysis

## Context Analysis
- **Thread Length**: ${ee.contextAnalysis.threadLength} messages
- **Thread Complexity**: ${ee.contextAnalysis.threadComplexity}
- **Relevant Memories**: ${ee.contextAnalysis.memoryCount} snippets
- **Memory Relevance**: ${(ee.contextAnalysis.memoryRelevance*100).toFixed(0)}%
- **Topic Coherence**: ${(ee.contextAnalysis.topicCoherence*100).toFixed(0)}%
- **Recent Topic Shifts**: ${ee.contextAnalysis.recentTopicShifts}
- **Active Entity**: ${ee.contextAnalysis.hasActiveEntity?"Yes":"No"}
- **Query Type**: ${ee.contextAnalysis.queryType}
- **Instruction Weight**: ${ee.instructionWeight?(ee.instructionWeight*100).toFixed(0)+"%":"N/A"}

## Dynamic Instructions Generated
${ee.dynamicInstructions||"*No dynamic instructions generated*"}

## Inference Parameter Optimization
${ee.inferenceParameters&&Object.keys(ee.inferenceParameters).length>0?Object.entries(ee.inferenceParameters).map(([ze,Ye])=>`- **${ze}**: ${Ye}`).join(`
`):"*Using default parameters*"}

### Parameter Selection Reasoning
${ee.parameterReasoning||"*No parameter optimization applied*"}

## Overall Reasoning
${ee.reasoning}

---
*Generated at ${new Date().toLocaleString()}*`,we=te.artifactContent||"";te.artifactContent=we?`${we}

---

${xe}`:xe,await tn(te),p({...te})}const{postProcessMessage:Te}=await La(async()=>{const{postProcessMessage:xe}=await Promise.resolve().then(()=>dx);return{postProcessMessage:xe}},void 0);await Te(ce).catch(console.error),await Te(G).catch(console.error);const{extractEntitiesFromUserMessage:k}=await La(async()=>{const{extractEntitiesFromUserMessage:xe}=await Promise.resolve().then(()=>dx);return{extractEntitiesFromUserMessage:xe}},void 0);await k(G).catch(console.error);const fe={id:`msg-${Date.now()+1}`,threadId:z,sender:An.AI,text:ce,createdAt:Date.now()};await fl(fe),iu(z,ce).catch(console.error),b(xe=>[...xe,fe]),te&&(te.updatedAt=Date.now(),await tn(te),x(xe=>xe.map(we=>we.id===z?te:we)))}catch(X){console.error("Failed to send message:",X);const he={id:`msg-${Date.now()+1}`,threadId:z,sender:An.AI,text:`Error: ${X instanceof Error?X.message:"Failed to get response from AI"}`,createdAt:Date.now()};await fl(he),b(ee=>[...ee,he])}finally{w(!1)}},[g,O,Y,R,ie,D]),P=v.useCallback(async(G,J)=>{const E=await Ai(G);E&&(E.artifactContent=J,E.updatedAt=Date.now(),await tn(E),(g==null?void 0:g.id)===G&&p({...E}),x(z=>z.map(te=>te.id===G?E:te)))},[g]),ne=v.useCallback(async(G,J)=>{await nn(G,J),L(E=>({...E,[G]:J}))},[]),Ae=()=>{d(G=>!G)};return a.jsx(Mx.Provider,{value:{isLeftSidebarOpen:r,toggleLeftSidebar:Ae,activeView:c,setActiveView:u,threads:m,currentThread:g,messages:f,isLoading:N,createThread:O,selectThread:Y,deleteThreadById:oe,sendMessage:Ne,updateThreadArtifact:P,settings:C,updateSetting:ne,primedAction:R,setPrimedAction:K,activeEntity:ie,setActiveEntity:re,entityDetailView:be,setEntityDetailView:U},children:l})},as=()=>{const l=v.useContext(Mx);if(!l)throw new Error("useAppContext must be used within an AppProvider");return l},_x=v.createContext(void 0),ly=({children:l})=>{const[r,d]=v.useState([]),c=v.useCallback((f,b="info",N=5e3)=>{const C={id:Math.random().toString(36).substring(2,9),type:b,message:f,duration:N};d(L=>[...L,C])},[]),u=v.useCallback(f=>{d(b=>b.filter(N=>N.id!==f))},[]),m=v.useCallback((f,b)=>{c(f,"success",b)},[c]),x=v.useCallback((f,b)=>{c(f,"error",b)},[c]),g=v.useCallback((f,b)=>{c(f,"info",b)},[c]),p=v.useCallback((f,b)=>{c(f,"warning",b)},[c]);return a.jsx(_x.Provider,{value:{toasts:r,showToast:c,dismissToast:u,success:m,error:x,info:g,warning:p},children:l})},Eo=()=>{const l=v.useContext(_x);if(!l)throw new Error("useToast must be used within a ToastProvider");return l};/**
 * @license lucide-react v0.553.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const iy=l=>l.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),ry=l=>l.replace(/^([A-Z])|[\s-_]+(\w)/g,(r,d,c)=>c?c.toUpperCase():d.toLowerCase()),qp=l=>{const r=ry(l);return r.charAt(0).toUpperCase()+r.slice(1)},Rx=(...l)=>l.filter((r,d,c)=>!!r&&r.trim()!==""&&c.indexOf(r)===d).join(" ").trim(),oy=l=>{for(const r in l)if(r.startsWith("aria-")||r==="role"||r==="title")return!0};/**
 * @license lucide-react v0.553.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var cy={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.553.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const dy=v.forwardRef(({color:l="currentColor",size:r=24,strokeWidth:d=2,absoluteStrokeWidth:c,className:u="",children:m,iconNode:x,...g},p)=>v.createElement("svg",{ref:p,...cy,width:r,height:r,stroke:l,strokeWidth:c?Number(d)*24/Number(r):d,className:Rx("lucide",u),...!m&&!oy(g)&&{"aria-hidden":"true"},...g},[...x.map(([f,b])=>v.createElement(f,b)),...Array.isArray(m)?m:[m]]));/**
 * @license lucide-react v0.553.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Se=(l,r)=>{const d=v.forwardRef(({className:c,...u},m)=>v.createElement(dy,{ref:m,iconNode:r,className:Rx(`lucide-${iy(qp(l))}`,`lucide-${l}`,c),...u}));return d.displayName=qp(l),d};/**
 * @license lucide-react v0.553.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const uy=[["path",{d:"M22 12h-2.48a2 2 0 0 0-1.93 1.46l-2.35 8.36a.25.25 0 0 1-.48 0L9.24 2.18a.25.25 0 0 0-.48 0l-2.35 8.36A2 2 0 0 1 4.49 12H2",key:"169zse"}]],hy=Se("activity",uy);/**
 * @license lucide-react v0.553.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const my=[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]],Pd=Se("arrow-left",my);/**
 * @license lucide-react v0.553.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const fy=[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"m12 5 7 7-7 7",key:"xquz4c"}]],Ox=Se("arrow-right",fy);/**
 * @license lucide-react v0.553.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const py=[["path",{d:"m15.477 12.89 1.515 8.526a.5.5 0 0 1-.81.47l-3.58-2.687a1 1 0 0 0-1.197 0l-3.586 2.686a.5.5 0 0 1-.81-.469l1.514-8.526",key:"1yiouv"}],["circle",{cx:"12",cy:"8",r:"6",key:"1vp47v"}]],Li=Se("award",py);/**
 * @license lucide-react v0.553.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const xy=[["path",{d:"M10.268 21a2 2 0 0 0 3.464 0",key:"vwvbt9"}],["path",{d:"M3.262 15.326A1 1 0 0 0 4 17h16a1 1 0 0 0 .74-1.673C19.41 13.956 18 12.499 18 8A6 6 0 0 0 6 8c0 4.499-1.411 5.956-2.738 7.326",key:"11g9vi"}]],gy=Se("bell",xy);/**
 * @license lucide-react v0.553.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const by=[["path",{d:"M12 7v14",key:"1akyts"}],["path",{d:"M3 18a1 1 0 0 1-1-1V4a1 1 0 0 1 1-1h5a4 4 0 0 1 4 4 4 4 0 0 1 4-4h5a1 1 0 0 1 1 1v13a1 1 0 0 1-1 1h-6a3 3 0 0 0-3 3 3 3 0 0 0-3-3z",key:"ruj8y"}]],Cu=Se("book-open",by);/**
 * @license lucide-react v0.553.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const yy=[["path",{d:"M12 8V4H8",key:"hb8ula"}],["rect",{width:"16",height:"12",x:"4",y:"8",rx:"2",key:"enze0r"}],["path",{d:"M2 14h2",key:"vft8re"}],["path",{d:"M20 14h2",key:"4cs60a"}],["path",{d:"M15 13v2",key:"1xurst"}],["path",{d:"M9 13v2",key:"rq6x2g"}]],lo=Se("bot",yy);/**
 * @license lucide-react v0.553.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const vy=[["path",{d:"M12 18V5",key:"adv99a"}],["path",{d:"M15 13a4.17 4.17 0 0 1-3-4 4.17 4.17 0 0 1-3 4",key:"1e3is1"}],["path",{d:"M17.598 6.5A3 3 0 1 0 12 5a3 3 0 1 0-5.598 1.5",key:"1gqd8o"}],["path",{d:"M17.997 5.125a4 4 0 0 1 2.526 5.77",key:"iwvgf7"}],["path",{d:"M18 18a4 4 0 0 0 2-7.464",key:"efp6ie"}],["path",{d:"M19.967 17.483A4 4 0 1 1 12 18a4 4 0 1 1-7.967-.517",key:"1gq6am"}],["path",{d:"M6 18a4 4 0 0 1-2-7.464",key:"k1g0md"}],["path",{d:"M6.003 5.125a4 4 0 0 0-2.526 5.77",key:"q97ue3"}]],zx=Se("brain",vy);/**
 * @license lucide-react v0.553.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const wy=[["path",{d:"M16 20V4a2 2 0 0 0-2-2h-4a2 2 0 0 0-2 2v16",key:"jecpp"}],["rect",{width:"20",height:"14",x:"2",y:"6",rx:"2",key:"i6l2r4"}]],jy=Se("briefcase",wy);/**
 * @license lucide-react v0.553.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ny=[["path",{d:"M10 12h4",key:"a56b0p"}],["path",{d:"M10 8h4",key:"1sr2af"}],["path",{d:"M14 21v-3a2 2 0 0 0-4 0v3",key:"1rgiei"}],["path",{d:"M6 10H4a2 2 0 0 0-2 2v7a2 2 0 0 0 2 2h16a2 2 0 0 0 2-2V9a2 2 0 0 0-2-2h-2",key:"secmi2"}],["path",{d:"M6 21V5a2 2 0 0 1 2-2h8a2 2 0 0 1 2 2v16",key:"16ra0t"}]],ky=Se("building-2",Ny);/**
 * @license lucide-react v0.553.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Sy=[["path",{d:"M12 10h.01",key:"1nrarc"}],["path",{d:"M12 14h.01",key:"1etili"}],["path",{d:"M12 6h.01",key:"1vi96p"}],["path",{d:"M16 10h.01",key:"1m94wz"}],["path",{d:"M16 14h.01",key:"1gbofw"}],["path",{d:"M16 6h.01",key:"1x0f13"}],["path",{d:"M8 10h.01",key:"19clt8"}],["path",{d:"M8 14h.01",key:"6423bh"}],["path",{d:"M8 6h.01",key:"1dz90k"}],["path",{d:"M9 22v-3a1 1 0 0 1 1-1h4a1 1 0 0 1 1 1v3",key:"cabbwy"}],["rect",{x:"4",y:"2",width:"16",height:"20",rx:"2",key:"1uxh74"}]],Ay=Se("building",Sy);/**
 * @license lucide-react v0.553.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ty=[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}],["path",{d:"M8 14h.01",key:"6423bh"}],["path",{d:"M12 14h.01",key:"1etili"}],["path",{d:"M16 14h.01",key:"1gbofw"}],["path",{d:"M8 18h.01",key:"lrp35t"}],["path",{d:"M12 18h.01",key:"mhygvu"}],["path",{d:"M16 18h.01",key:"kzsmim"}]],Ey=Se("calendar-days",Ty);/**
 * @license lucide-react v0.553.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Cy=[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}]],ln=Se("calendar",Cy);/**
 * @license lucide-react v0.553.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Dy=[["path",{d:"M3 3v16a2 2 0 0 0 2 2h16",key:"c24i48"}],["path",{d:"M18 17V9",key:"2bz60n"}],["path",{d:"M13 17V5",key:"1frdt8"}],["path",{d:"M8 17v-3",key:"17ska0"}]],Co=Se("chart-column",Dy);/**
 * @license lucide-react v0.553.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const My=[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]],_y=Se("chevron-down",My);/**
 * @license lucide-react v0.553.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ry=[["path",{d:"m15 18-6-6 6-6",key:"1wnfg3"}]],Oy=Se("chevron-left",Ry);/**
 * @license lucide-react v0.553.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const zy=[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]],Ly=Se("chevron-right",zy);/**
 * @license lucide-react v0.553.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $y=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]],Do=Se("circle-alert",$y);/**
 * @license lucide-react v0.553.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Uy=[["path",{d:"M21.801 10A10 10 0 1 1 17 3.335",key:"yps3ct"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]],By=Se("circle-check-big",Uy);/**
 * @license lucide-react v0.553.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Hy=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m9 12 2 2 4-4",key:"dzmm74"}]],Va=Se("circle-check",Hy);/**
 * @license lucide-react v0.553.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Gy=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m15 9-6 6",key:"1uzhvr"}],["path",{d:"m9 9 6 6",key:"z0biqf"}]],qy=Se("circle-x",Gy);/**
 * @license lucide-react v0.553.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Iy=[["path",{d:"M12 6v6l4 2",key:"mmk7yg"}],["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]],$a=Se("clock",Iy);/**
 * @license lucide-react v0.553.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Yy=[["circle",{cx:"8",cy:"8",r:"6",key:"3yglwk"}],["path",{d:"M18.09 10.37A6 6 0 1 1 10.34 18",key:"t5s6rm"}],["path",{d:"M7 6h1v4",key:"1obek4"}],["path",{d:"m16.71 13.88.7.71-2.82 2.82",key:"1rbuyh"}]],Vy=Se("coins",Yy);/**
 * @license lucide-react v0.553.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Xy=[["path",{d:"m16.24 7.76-1.804 5.411a2 2 0 0 1-1.265 1.265L7.76 16.24l1.804-5.411a2 2 0 0 1 1.265-1.265z",key:"9ktpf1"}],["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]],Qy=Se("compass",Xy);/**
 * @license lucide-react v0.553.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Py=[["path",{d:"M11.562 3.266a.5.5 0 0 1 .876 0L15.39 8.87a1 1 0 0 0 1.516.294L21.183 5.5a.5.5 0 0 1 .798.519l-2.834 10.246a1 1 0 0 1-.956.734H5.81a1 1 0 0 1-.957-.734L2.02 6.02a.5.5 0 0 1 .798-.519l4.276 3.664a1 1 0 0 0 1.516-.294z",key:"1vdc57"}],["path",{d:"M5 21h14",key:"11awu3"}]],Lx=Se("crown",Py);/**
 * @license lucide-react v0.553.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Zy=[["path",{d:"M17.596 12.768a2 2 0 1 0 2.829-2.829l-1.768-1.767a2 2 0 0 0 2.828-2.829l-2.828-2.828a2 2 0 0 0-2.829 2.828l-1.767-1.768a2 2 0 1 0-2.829 2.829z",key:"9m4mmf"}],["path",{d:"m2.5 21.5 1.4-1.4",key:"17g3f0"}],["path",{d:"m20.1 3.9 1.4-1.4",key:"1qn309"}],["path",{d:"M5.343 21.485a2 2 0 1 0 2.829-2.828l1.767 1.768a2 2 0 1 0 2.829-2.829l-6.364-6.364a2 2 0 1 0-2.829 2.829l1.768 1.767a2 2 0 0 0-2.828 2.829z",key:"1t2c92"}],["path",{d:"m9.6 14.4 4.8-4.8",key:"6umqxw"}]],Ky=Se("dumbbell",Zy);/**
 * @license lucide-react v0.553.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Jy=[["path",{d:"M15 3h6v6",key:"1q9fwt"}],["path",{d:"M10 14 21 3",key:"gplh6r"}],["path",{d:"M18 13v6a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V8a2 2 0 0 1 2-2h6",key:"a6xqqp"}]],Wy=Se("external-link",Jy);/**
 * @license lucide-react v0.553.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Fy=[["path",{d:"M6 22a2 2 0 0 1-2-2V4a2 2 0 0 1 2-2h8a2.4 2.4 0 0 1 1.704.706l3.588 3.588A2.4 2.4 0 0 1 20 8v12a2 2 0 0 1-2 2z",key:"1oefj6"}],["path",{d:"M12 17h.01",key:"p32p05"}],["path",{d:"M9.1 9a3 3 0 0 1 5.82 1c0 2-3 3-3 3",key:"mhlwft"}]],e1=Se("file-question-mark",Fy);/**
 * @license lucide-react v0.553.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const t1=[["path",{d:"M6 22a2 2 0 0 1-2-2V4a2 2 0 0 1 2-2h8a2.4 2.4 0 0 1 1.704.706l3.588 3.588A2.4 2.4 0 0 1 20 8v12a2 2 0 0 1-2 2z",key:"1oefj6"}],["path",{d:"M14 2v5a1 1 0 0 0 1 1h5",key:"wfsgrz"}],["path",{d:"M10 9H8",key:"b1mrlr"}],["path",{d:"M16 13H8",key:"t4e002"}],["path",{d:"M16 17H8",key:"z1uh3a"}]],Du=Se("file-text",t1);/**
 * @license lucide-react v0.553.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const a1=[["path",{d:"M12 3q1 4 4 6.5t3 5.5a1 1 0 0 1-14 0 5 5 0 0 1 1-3 1 1 0 0 0 5 0c0-2-1.5-3-1.5-5q0-2 2.5-4",key:"1slcih"}]],Mo=Se("flame",a1);/**
 * @license lucide-react v0.553.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const s1=[["path",{d:"M10 20a1 1 0 0 0 .553.895l2 1A1 1 0 0 0 14 21v-7a2 2 0 0 1 .517-1.341L21.74 4.67A1 1 0 0 0 21 3H3a1 1 0 0 0-.742 1.67l7.225 7.989A2 2 0 0 1 10 14z",key:"sc7q7i"}]],yl=Se("funnel",s1);/**
 * @license lucide-react v0.553.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const n1=[["path",{d:"m12 14 4-4",key:"9kzdfg"}],["path",{d:"M3.34 19a10 10 0 1 1 17.32 0",key:"19p75a"}]],l1=Se("gauge",n1);/**
 * @license lucide-react v0.553.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const i1=[["path",{d:"M10.5 3 8 9l4 13 4-13-2.5-6",key:"b3dvk1"}],["path",{d:"M17 3a2 2 0 0 1 1.6.8l3 4a2 2 0 0 1 .013 2.382l-7.99 10.986a2 2 0 0 1-3.247 0l-7.99-10.986A2 2 0 0 1 2.4 7.8l2.998-3.997A2 2 0 0 1 7 3z",key:"7w4byz"}],["path",{d:"M2 9h20",key:"16fsjt"}]],jo=Se("gem",i1);/**
 * @license lucide-react v0.553.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const r1=[["path",{d:"m11 17 2 2a1 1 0 1 0 3-3",key:"efffak"}],["path",{d:"m14 14 2.5 2.5a1 1 0 1 0 3-3l-3.88-3.88a3 3 0 0 0-4.24 0l-.88.88a1 1 0 1 1-3-3l2.81-2.81a5.79 5.79 0 0 1 7.06-.87l.47.28a2 2 0 0 0 1.42.25L21 4",key:"9pr0kb"}],["path",{d:"m21 3 1 11h-2",key:"1tisrp"}],["path",{d:"M3 3 2 14l6.5 6.5a1 1 0 1 0 3-3",key:"1uvwmv"}],["path",{d:"M3 4h8",key:"1ep09j"}]],o1=Se("handshake",r1);/**
 * @license lucide-react v0.553.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const c1=[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",ry:"2",key:"1m3agn"}],["circle",{cx:"9",cy:"9",r:"2",key:"af1f0g"}],["path",{d:"m21 15-3.086-3.086a2 2 0 0 0-2.828 0L6 21",key:"1xmnt7"}]],d1=Se("image",c1);/**
 * @license lucide-react v0.553.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const u1=[["polyline",{points:"22 12 16 12 14 15 10 15 8 12 2 12",key:"o97t9d"}],["path",{d:"M5.45 5.11 2 12v6a2 2 0 0 0 2 2h16a2 2 0 0 0 2-2v-6l-3.45-6.89A2 2 0 0 0 16.76 4H7.24a2 2 0 0 0-1.79 1.11z",key:"oot6mr"}]],h1=Se("inbox",u1);/**
 * @license lucide-react v0.553.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const m1=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 16v-4",key:"1dtifu"}],["path",{d:"M12 8h.01",key:"e9boi3"}]],f1=Se("info",m1);/**
 * @license lucide-react v0.553.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const p1=[["path",{d:"M15 14c.2-1 .7-1.7 1.5-2.5 1-.9 1.5-2.2 1.5-3.5A6 6 0 0 0 6 8c0 1 .2 2.2 1.5 3.5.7.7 1.3 1.5 1.5 2.5",key:"1gvzjb"}],["path",{d:"M9 18h6",key:"x1upvd"}],["path",{d:"M10 22h4",key:"ceow96"}]],pl=Se("lightbulb",p1);/**
 * @license lucide-react v0.553.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const x1=[["path",{d:"M9 17H7A5 5 0 0 1 7 7h2",key:"8i5ue5"}],["path",{d:"M15 7h2a5 5 0 1 1 0 10h-2",key:"1b9ql8"}],["line",{x1:"8",x2:"16",y1:"12",y2:"12",key:"1jonct"}]],Zd=Se("link-2",x1);/**
 * @license lucide-react v0.553.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const g1=[["path",{d:"M13 5h8",key:"a7qcls"}],["path",{d:"M13 12h8",key:"h98zly"}],["path",{d:"M13 19h8",key:"c3s6r1"}],["path",{d:"m3 17 2 2 4-4",key:"1jhpwq"}],["path",{d:"m3 7 2 2 4-4",key:"1obspn"}]],Kd=Se("list-checks",g1);/**
 * @license lucide-react v0.553.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const b1=[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]],y1=Se("loader-circle",b1);/**
 * @license lucide-react v0.553.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const v1=[["path",{d:"m22 7-8.991 5.727a2 2 0 0 1-2.009 0L2 7",key:"132q7q"}],["rect",{x:"2",y:"4",width:"20",height:"16",rx:"2",key:"izxlao"}]],w1=Se("mail",v1);/**
 * @license lucide-react v0.553.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const j1=[["path",{d:"M20 10c0 4.993-5.539 10.193-7.399 11.799a1 1 0 0 1-1.202 0C9.539 20.193 4 14.993 4 10a8 8 0 0 1 16 0",key:"1r0f0z"}],["circle",{cx:"12",cy:"10",r:"3",key:"ilqhr7"}]],Mu=Se("map-pin",j1);/**
 * @license lucide-react v0.553.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const N1=[["path",{d:"M4 5h16",key:"1tepv9"}],["path",{d:"M4 12h16",key:"1lakjw"}],["path",{d:"M4 19h16",key:"1djgab"}]],Ip=Se("menu",N1);/**
 * @license lucide-react v0.553.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const k1=[["path",{d:"M22 17a2 2 0 0 1-2 2H6.828a2 2 0 0 0-1.414.586l-2.202 2.202A.71.71 0 0 1 2 21.286V5a2 2 0 0 1 2-2h16a2 2 0 0 1 2 2z",key:"18887p"}]],No=Se("message-square",k1);/**
 * @license lucide-react v0.553.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const S1=[["path",{d:"M12 19v3",key:"npa21l"}],["path",{d:"M19 10v2a7 7 0 0 1-14 0v-2",key:"1vc78b"}],["rect",{x:"9",y:"2",width:"6",height:"13",rx:"3",key:"s6n7sd"}]],$x=Se("mic",S1);/**
 * @license lucide-react v0.553.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const A1=[["path",{d:"M20.985 12.486a9 9 0 1 1-9.473-9.472c.405-.022.617.46.402.803a6 6 0 0 0 8.268 8.268c.344-.215.825-.004.803.401",key:"kfwtm"}]],T1=Se("moon",A1);/**
 * @license lucide-react v0.553.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const E1=[["rect",{x:"16",y:"16",width:"6",height:"6",rx:"1",key:"4q2zg0"}],["rect",{x:"2",y:"16",width:"6",height:"6",rx:"1",key:"8cvhb9"}],["rect",{x:"9",y:"2",width:"6",height:"6",rx:"1",key:"1egb70"}],["path",{d:"M5 16v-3a1 1 0 0 1 1-1h12a1 1 0 0 1 1 1v3",key:"1jsf9p"}],["path",{d:"M12 12V8",key:"2874zd"}]],C1=Se("network",E1);/**
 * @license lucide-react v0.553.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const D1=[["path",{d:"M12 22a1 1 0 0 1 0-20 10 9 0 0 1 10 9 5 5 0 0 1-5 5h-2.25a1.75 1.75 0 0 0-1.4 2.8l.3.4a1.75 1.75 0 0 1-1.4 2.8z",key:"e79jfc"}],["circle",{cx:"13.5",cy:"6.5",r:".5",fill:"currentColor",key:"1okk4w"}],["circle",{cx:"17.5",cy:"10.5",r:".5",fill:"currentColor",key:"f64h9f"}],["circle",{cx:"6.5",cy:"12.5",r:".5",fill:"currentColor",key:"qy21gx"}],["circle",{cx:"8.5",cy:"7.5",r:".5",fill:"currentColor",key:"fotxhn"}]],_u=Se("palette",D1);/**
 * @license lucide-react v0.553.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const M1=[["rect",{x:"14",y:"3",width:"5",height:"18",rx:"1",key:"kaeet6"}],["rect",{x:"5",y:"3",width:"5",height:"18",rx:"1",key:"1wsw3u"}]],_1=Se("pause",M1);/**
 * @license lucide-react v0.553.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const R1=[["path",{d:"M21.174 6.812a1 1 0 0 0-3.986-3.987L3.842 16.174a2 2 0 0 0-.5.83l-1.321 4.352a.5.5 0 0 0 .623.622l4.353-1.32a2 2 0 0 0 .83-.497z",key:"1a8usu"}]],Xa=Se("pen",R1);/**
 * @license lucide-react v0.553.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const O1=[["path",{d:"M13.832 16.568a1 1 0 0 0 1.213-.303l.355-.465A2 2 0 0 1 17 15h3a2 2 0 0 1 2 2v3a2 2 0 0 1-2 2A18 18 0 0 1 2 4a2 2 0 0 1 2-2h3a2 2 0 0 1 2 2v3a2 2 0 0 1-.8 1.6l-.468.351a1 1 0 0 0-.292 1.233 14 14 0 0 0 6.392 6.384",key:"9njp5v"}]],z1=Se("phone",O1);/**
 * @license lucide-react v0.553.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const L1=[["path",{d:"M17.8 19.2 16 11l3.5-3.5C21 6 21.5 4 21 3c-1-.5-3 0-4.5 1.5L13 8 4.8 6.2c-.5-.1-.9.1-1.1.5l-.3.5c-.2.5-.1 1 .3 1.3L9 12l-2 3H4l-1 1 3 2 2 3 1-1v-3l3-2 3.5 5.3c.3.4.8.5 1.3.3l.5-.2c.4-.3.6-.7.5-1.2z",key:"1v9wt8"}]],$1=Se("plane",L1);/**
 * @license lucide-react v0.553.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const U1=[["path",{d:"M5 5a2 2 0 0 1 3.008-1.728l11.997 6.998a2 2 0 0 1 .003 3.458l-12 7A2 2 0 0 1 5 19z",key:"10ikf1"}]],Ri=Se("play",U1);/**
 * @license lucide-react v0.553.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const B1=[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]],mu=Se("plus",B1);/**
 * @license lucide-react v0.553.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const H1=[["path",{d:"M16.247 7.761a6 6 0 0 1 0 8.478",key:"1fwjs5"}],["path",{d:"M19.075 4.933a10 10 0 0 1 0 14.134",key:"ehdyv1"}],["path",{d:"M4.925 19.067a10 10 0 0 1 0-14.134",key:"1q22gi"}],["path",{d:"M7.753 16.239a6 6 0 0 1 0-8.478",key:"r2q7qm"}],["circle",{cx:"12",cy:"12",r:"2",key:"1c9p78"}]],G1=Se("radio",H1);/**
 * @license lucide-react v0.553.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const q1=[["path",{d:"M3 12a9 9 0 0 1 9-9 9.75 9.75 0 0 1 6.74 2.74L21 8",key:"v9h5vc"}],["path",{d:"M21 3v5h-5",key:"1q7to0"}],["path",{d:"M21 12a9 9 0 0 1-9 9 9.75 9.75 0 0 1-6.74-2.74L3 16",key:"3uifl3"}],["path",{d:"M8 16H3v5",key:"1cv678"}]],$i=Se("refresh-cw",q1);/**
 * @license lucide-react v0.553.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const I1=[["path",{d:"m17 2 4 4-4 4",key:"nntrym"}],["path",{d:"M3 11v-1a4 4 0 0 1 4-4h14",key:"84bu3i"}],["path",{d:"m7 22-4-4 4-4",key:"1wqhfi"}],["path",{d:"M21 13v1a4 4 0 0 1-4 4H3",key:"1rx37r"}]],Y1=Se("repeat",I1);/**
 * @license lucide-react v0.553.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const V1=[["path",{d:"M4.5 16.5c-1.5 1.26-2 5-2 5s3.74-.5 5-2c.71-.84.7-2.13-.09-2.91a2.18 2.18 0 0 0-2.91-.09z",key:"m3kijz"}],["path",{d:"m12 15-3-3a22 22 0 0 1 2-3.95A12.88 12.88 0 0 1 22 2c0 2.72-.78 7.5-6 11a22.35 22.35 0 0 1-4 2z",key:"1fmvmk"}],["path",{d:"M9 12H4s.55-3.03 2-4c1.62-1.08 5 0 5 0",key:"1f8sc4"}],["path",{d:"M12 15v5s3.03-.55 4-2c1.08-1.62 0-5 0-5",key:"qeys4"}]],X1=Se("rocket",V1);/**
 * @license lucide-react v0.553.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Q1=[["path",{d:"M15 12h-5",key:"r7krc0"}],["path",{d:"M15 8h-5",key:"1khuty"}],["path",{d:"M19 17V5a2 2 0 0 0-2-2H4",key:"zz82l3"}],["path",{d:"M8 21h12a2 2 0 0 0 2-2v-1a1 1 0 0 0-1-1H11a1 1 0 0 0-1 1v1a2 2 0 1 1-4 0V5a2 2 0 1 0-4 0v2a1 1 0 0 0 1 1h3",key:"1ph1d7"}]],P1=Se("scroll-text",Q1);/**
 * @license lucide-react v0.553.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Z1=[["path",{d:"M19 17V5a2 2 0 0 0-2-2H4",key:"zz82l3"}],["path",{d:"M8 21h12a2 2 0 0 0 2-2v-1a1 1 0 0 0-1-1H11a1 1 0 0 0-1 1v1a2 2 0 1 1-4 0V5a2 2 0 1 0-4 0v2a1 1 0 0 0 1 1h3",key:"1ph1d7"}]],K1=Se("scroll",Z1);/**
 * @license lucide-react v0.553.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const J1=[["path",{d:"m21 21-4.34-4.34",key:"14j7rj"}],["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}]],ss=Se("search",J1);/**
 * @license lucide-react v0.553.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const W1=[["path",{d:"M9.671 4.136a2.34 2.34 0 0 1 4.659 0 2.34 2.34 0 0 0 3.319 1.915 2.34 2.34 0 0 1 2.33 4.033 2.34 2.34 0 0 0 0 3.831 2.34 2.34 0 0 1-2.33 4.033 2.34 2.34 0 0 0-3.319 1.915 2.34 2.34 0 0 1-4.659 0 2.34 2.34 0 0 0-3.32-1.915 2.34 2.34 0 0 1-2.33-4.033 2.34 2.34 0 0 0 0-3.831A2.34 2.34 0 0 1 6.35 6.051a2.34 2.34 0 0 0 3.319-1.915",key:"1i5ecw"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]],F1=Se("settings",W1);/**
 * @license lucide-react v0.553.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ev=[["path",{d:"M11.017 2.814a1 1 0 0 1 1.966 0l1.051 5.558a2 2 0 0 0 1.594 1.594l5.558 1.051a1 1 0 0 1 0 1.966l-5.558 1.051a2 2 0 0 0-1.594 1.594l-1.051 5.558a1 1 0 0 1-1.966 0l-1.051-5.558a2 2 0 0 0-1.594-1.594l-5.558-1.051a1 1 0 0 1 0-1.966l5.558-1.051a2 2 0 0 0 1.594-1.594z",key:"1s2grr"}],["path",{d:"M20 2v4",key:"1rf3ol"}],["path",{d:"M22 4h-4",key:"gwowj6"}],["circle",{cx:"4",cy:"20",r:"2",key:"6kqj1y"}]],ts=Se("sparkles",ev);/**
 * @license lucide-react v0.553.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const tv=[["path",{d:"M14 9.536V7a4 4 0 0 1 4-4h1.5a.5.5 0 0 1 .5.5V5a4 4 0 0 1-4 4 4 4 0 0 0-4 4c0 2 1 3 1 5a5 5 0 0 1-1 3",key:"139s4v"}],["path",{d:"M4 9a5 5 0 0 1 8 4 5 5 0 0 1-8-4",key:"1dlkgp"}],["path",{d:"M5 21h14",key:"11awu3"}]],av=Se("sprout",tv);/**
 * @license lucide-react v0.553.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const sv=[["path",{d:"M11.525 2.295a.53.53 0 0 1 .95 0l2.31 4.679a2.123 2.123 0 0 0 1.595 1.16l5.166.756a.53.53 0 0 1 .294.904l-3.736 3.638a2.123 2.123 0 0 0-.611 1.878l.882 5.14a.53.53 0 0 1-.771.56l-4.618-2.428a2.122 2.122 0 0 0-1.973 0L6.396 21.01a.53.53 0 0 1-.77-.56l.881-5.139a2.122 2.122 0 0 0-.611-1.879L2.16 9.795a.53.53 0 0 1 .294-.906l5.165-.755a2.122 2.122 0 0 0 1.597-1.16z",key:"r04s7s"}]],xl=Se("star",sv);/**
 * @license lucide-react v0.553.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const nv=[["circle",{cx:"12",cy:"12",r:"4",key:"4exip2"}],["path",{d:"M12 2v2",key:"tus03m"}],["path",{d:"M12 20v2",key:"1lh1kg"}],["path",{d:"m4.93 4.93 1.41 1.41",key:"149t6j"}],["path",{d:"m17.66 17.66 1.41 1.41",key:"ptbguv"}],["path",{d:"M2 12h2",key:"1t8f8n"}],["path",{d:"M20 12h2",key:"1q8mjw"}],["path",{d:"m6.34 17.66-1.41 1.41",key:"1m8zz5"}],["path",{d:"m19.07 4.93-1.41 1.41",key:"1shlcs"}]],lv=Se("sun",nv);/**
 * @license lucide-react v0.553.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const iv=[["path",{d:"M12.586 2.586A2 2 0 0 0 11.172 2H4a2 2 0 0 0-2 2v7.172a2 2 0 0 0 .586 1.414l8.704 8.704a2.426 2.426 0 0 0 3.42 0l6.58-6.58a2.426 2.426 0 0 0 0-3.42z",key:"vktsd0"}],["circle",{cx:"7.5",cy:"7.5",r:".5",fill:"currentColor",key:"kqv944"}]],En=Se("tag",iv);/**
 * @license lucide-react v0.553.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const rv=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["circle",{cx:"12",cy:"12",r:"6",key:"1vlfrh"}],["circle",{cx:"12",cy:"12",r:"2",key:"1c9p78"}]],wa=Se("target",rv);/**
 * @license lucide-react v0.553.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ov=[["path",{d:"M7 10v12",key:"1qc93n"}],["path",{d:"M15 5.88 14 10h5.83a2 2 0 0 1 1.92 2.56l-2.33 8A2 2 0 0 1 17.5 22H4a2 2 0 0 1-2-2v-8a2 2 0 0 1 2-2h2.76a2 2 0 0 0 1.79-1.11L12 2a3.13 3.13 0 0 1 3 3.88Z",key:"emmmcr"}]],cv=Se("thumbs-up",ov);/**
 * @license lucide-react v0.553.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const dv=[["path",{d:"M17 14V2",key:"8ymqnk"}],["path",{d:"M9 18.12 10 14H4.17a2 2 0 0 1-1.92-2.56l2.33-8A2 2 0 0 1 6.5 2H20a2 2 0 0 1 2 2v8a2 2 0 0 1-2 2h-2.76a2 2 0 0 0-1.79 1.11L12 22a3.13 3.13 0 0 1-3-3.88Z",key:"m61m77"}]],uv=Se("thumbs-down",dv);/**
 * @license lucide-react v0.553.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const hv=[["line",{x1:"10",x2:"14",y1:"2",y2:"2",key:"14vaq8"}],["line",{x1:"12",x2:"15",y1:"14",y2:"11",key:"17fdiu"}],["circle",{cx:"12",cy:"14",r:"8",key:"1e1u0o"}]],Ui=Se("timer",hv);/**
 * @license lucide-react v0.553.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const mv=[["path",{d:"M10 11v6",key:"nco0om"}],["path",{d:"M14 11v6",key:"outv1u"}],["path",{d:"M19 6v14a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2V6",key:"miytrc"}],["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M8 6V4a2 2 0 0 1 2-2h4a2 2 0 0 1 2 2v2",key:"e791ji"}]],rn=Se("trash-2",mv);/**
 * @license lucide-react v0.553.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const fv=[["path",{d:"M16 7h6v6",key:"box55l"}],["path",{d:"m22 7-8.5 8.5-5-5L2 17",key:"1t1m79"}]],ko=Se("trending-up",fv);/**
 * @license lucide-react v0.553.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const pv=[["path",{d:"m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3",key:"wmoenq"}],["path",{d:"M12 9v4",key:"juzpu7"}],["path",{d:"M12 17h.01",key:"p32p05"}]],xv=Se("triangle-alert",pv);/**
 * @license lucide-react v0.553.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const gv=[["path",{d:"M10 14.66v1.626a2 2 0 0 1-.976 1.696A5 5 0 0 0 7 21.978",key:"1n3hpd"}],["path",{d:"M14 14.66v1.626a2 2 0 0 0 .976 1.696A5 5 0 0 1 17 21.978",key:"rfe1zi"}],["path",{d:"M18 9h1.5a1 1 0 0 0 0-5H18",key:"7xy6bh"}],["path",{d:"M4 22h16",key:"57wxv0"}],["path",{d:"M6 9a6 6 0 0 0 12 0V3a1 1 0 0 0-1-1H7a1 1 0 0 0-1 1z",key:"1mhfuq"}],["path",{d:"M6 9H4.5a1 1 0 0 1 0-5H6",key:"tex48p"}]],bv=Se("trophy",gv);/**
 * @license lucide-react v0.553.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const yv=[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]],Oi=Se("user",yv);/**
 * @license lucide-react v0.553.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const vv=[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["path",{d:"M16 3.128a4 4 0 0 1 0 7.744",key:"16gr8j"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}]],an=Se("users",vv);/**
 * @license lucide-react v0.553.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const wv=[["path",{d:"m16 13 5.223 3.482a.5.5 0 0 0 .777-.416V7.87a.5.5 0 0 0-.752-.432L16 10.5",key:"ftymec"}],["rect",{x:"2",y:"6",width:"14",height:"12",rx:"2",key:"158x01"}]],Ux=Se("video",wv);/**
 * @license lucide-react v0.553.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const jv=[["path",{d:"m21.64 3.64-1.28-1.28a1.21 1.21 0 0 0-1.72 0L2.36 18.64a1.21 1.21 0 0 0 0 1.72l1.28 1.28a1.2 1.2 0 0 0 1.72 0L21.64 5.36a1.2 1.2 0 0 0 0-1.72",key:"ul74o6"}],["path",{d:"m14 7 3 3",key:"1r5n42"}],["path",{d:"M5 6v4",key:"ilb8ba"}],["path",{d:"M19 14v4",key:"blhpug"}],["path",{d:"M10 2v2",key:"7u0qdc"}],["path",{d:"M7 8H3",key:"zfb6yr"}],["path",{d:"M21 16h-4",key:"1cnmox"}],["path",{d:"M11 3H9",key:"1obp7u"}]],Nv=Se("wand-sparkles",jv);/**
 * @license lucide-react v0.553.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const kv=[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]],Qt=Se("x",kv);/**
 * @license lucide-react v0.553.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Sv=[["path",{d:"M4 14a1 1 0 0 1-.78-1.63l9.9-10.2a.5.5 0 0 1 .86.46l-1.92 6.02A1 1 0 0 0 13 10h7a1 1 0 0 1 .78 1.63l-9.9 10.2a.5.5 0 0 1-.86-.46l1.92-6.02A1 1 0 0 0 11 14z",key:"1xq2db"}]],vl=Se("zap",Sv),Av=({toast:l,onDismiss:r})=>{v.useEffect(()=>{const m=setTimeout(()=>{r(l.id)},l.duration||5e3);return()=>clearTimeout(m)},[l.id,l.duration,r]);const d={success:a.jsx(By,{className:"w-5 h-5"}),error:a.jsx(Do,{className:"w-5 h-5"}),info:a.jsx(f1,{className:"w-5 h-5"}),warning:a.jsx(xv,{className:"w-5 h-5"})},c={success:"bg-emerald-50 border-emerald-200 text-emerald-800",error:"bg-red-50 border-red-200 text-red-800",info:"bg-blue-50 border-blue-200 text-blue-800",warning:"bg-orange-50 border-orange-200 text-orange-800"},u={success:"text-emerald-600",error:"text-red-600",info:"text-blue-600",warning:"text-orange-600"};return a.jsxs("div",{className:`
        ${c[l.type]}
        flex items-center gap-3 px-4 py-3 rounded-2xl border-2 shadow-lg
        animate-slide-in-right min-w-[320px] max-w-md
      `,role:"alert",children:[a.jsx("div",{className:u[l.type],children:d[l.type]}),a.jsx("p",{className:"flex-1 text-sm font-medium",children:l.message}),a.jsx("button",{onClick:()=>r(l.id),className:"hover:opacity-70 transition-opacity","aria-label":"Dismiss",children:a.jsx(Qt,{className:"w-4 h-4"})})]})},Tv=({toasts:l,onDismiss:r})=>a.jsx("div",{className:"fixed top-4 right-4 z-[9999] flex flex-col gap-2 pointer-events-none","aria-live":"polite","aria-atomic":"true",children:l.map(d=>a.jsx("div",{className:"pointer-events-auto",children:a.jsx(Av,{toast:d,onDismiss:r})},d.id))}),Ev=({isOpen:l,onClose:r,commands:d})=>{const[c,u]=v.useState(""),[m,x]=v.useState(0),g=v.useRef(null),p=v.useRef(null),f=v.useMemo(()=>{if(!c.trim())return d;const w=c.toLowerCase();return d.filter(C=>{var ie,re;const L=C.label.toLowerCase().includes(w),R=(ie=C.description)==null?void 0:ie.toLowerCase().includes(w),K=(re=C.keywords)==null?void 0:re.some(be=>be.toLowerCase().includes(w));return L||R||K})},[d,c]),b=v.useMemo(()=>{const w={};return f.forEach(C=>{w[C.category]||(w[C.category]=[]),w[C.category].push(C)}),w},[f]);if(v.useEffect(()=>{var w;l&&((w=g.current)==null||w.focus(),u(""),x(0))},[l]),v.useEffect(()=>{const w=C=>{if(l)switch(C.key){case"ArrowDown":C.preventDefault(),x(L=>Math.min(L+1,f.length-1));break;case"ArrowUp":C.preventDefault(),x(L=>Math.max(L-1,0));break;case"Enter":C.preventDefault(),f[m]&&(f[m].action(),r());break;case"Escape":C.preventDefault(),r();break}};return document.addEventListener("keydown",w),()=>document.removeEventListener("keydown",w)},[l,f,m,r]),v.useEffect(()=>{if(p.current){const w=p.current.children[m];w==null||w.scrollIntoView({block:"nearest",behavior:"smooth"})}},[m]),!l)return null;let N=0;return a.jsx("div",{className:"fixed inset-0 z-[9999] bg-black bg-opacity-50 flex items-start justify-center p-4 pt-[10vh] animate-fade-in",onClick:r,children:a.jsxs("div",{className:"glass-panel rounded-3xl border-2 border-white/70 shadow-2xl w-full max-w-2xl animate-scale-in overflow-hidden",onClick:w=>w.stopPropagation(),children:[a.jsxs("div",{className:"flex items-center gap-3 px-6 py-4 border-b border-white/70",children:[a.jsx(ss,{className:"w-5 h-5 text-secondary-light"}),a.jsx("input",{ref:g,type:"text",value:c,onChange:w=>{u(w.target.value),x(0)},placeholder:"Type a command or search...",className:"flex-1 bg-transparent outline-none text-base placeholder-secondary-light"}),a.jsx("button",{onClick:r,className:"p-1 hover:bg-border-light dark:hover:bg-border-dark rounded-lg transition-colors",children:a.jsx(Qt,{className:"w-5 h-5"})})]}),a.jsx("div",{ref:p,className:"max-h-[60vh] overflow-y-auto invisible-scrollbar",children:Object.keys(b).length===0?a.jsx("div",{className:"px-6 py-12 text-center text-secondary-light",children:"No commands found"}):Object.entries(b).map(([w,C])=>a.jsxs("div",{className:"py-2",children:[a.jsx("div",{className:"px-6 py-2 text-xs uppercase tracking-wider text-secondary-light font-semibold",children:w}),C.map(L=>{const R=N===m,K=N++;return a.jsxs("button",{onClick:()=>{L.action(),r()},onMouseEnter:()=>x(K),className:`w-full px-6 py-3 flex items-center justify-between gap-4 transition-colors ${R?"bg-purple-50 dark:bg-purple-900/20":"hover:bg-border-light dark:hover:bg-border-dark"}`,children:[a.jsxs("div",{className:"flex-1 text-left",children:[a.jsx("div",{className:"text-sm font-medium text-primary-light",children:L.label}),L.description&&a.jsx("div",{className:"text-xs text-secondary-light mt-0.5",children:L.description})]}),R&&a.jsx(Ox,{className:"w-4 h-4 text-purple-600"})]},L.id)})]},w))}),a.jsx("div",{className:"px-6 py-3 border-t border-white/70 flex items-center justify-between text-xs text-secondary-light",children:a.jsxs("div",{className:"flex items-center gap-4",children:[a.jsx("span",{children:" Navigate"}),a.jsx("span",{children:" Select"}),a.jsx("span",{children:"Esc Close"})]})})]})})},Cv=()=>{const[l,r]=v.useState(!1),d=v.useCallback(()=>r(!0),[]),c=v.useCallback(()=>r(!1),[]),u=v.useCallback(()=>r(m=>!m),[]);return v.useEffect(()=>{const m=x=>{(x.metaKey||x.ctrlKey)&&x.key==="k"&&(x.preventDefault(),u())};return document.addEventListener("keydown",m),()=>document.removeEventListener("keydown",m)},[u]),{isOpen:l,open:d,close:c,toggle:u}},Dv=({className:l})=>a.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",className:l||"w-6 h-6",children:a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M12 4.5v15m7.5-7.5h-15"})}),Mv=({className:l})=>a.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",className:l||"w-6 h-6",children:a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"m21 21-5.197-5.197m0 0A7.5 7.5 0 1 0 5.196 5.196a7.5 7.5 0 0 0 10.607 10.607Z"})}),po=({className:l})=>a.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",className:l||"w-6 h-6",children:a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"m19.5 8.25-7.5 7.5-7.5-7.5"})}),_v=({className:l})=>a.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",className:l||"w-6 h-6",children:a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M9.594 3.94c.09-.542.56-1.007 1.11-1.226.554-.22 1.156-.22 1.71 0 .554.22 1.02.684 1.11 1.226M12 21.75l-3.75-1.563M12 21.75v-8.25M12 21.75l3.75-1.563M12 13.5l3.75 1.563M12 13.5l-3.75 1.563m0-8.25l-3.75-1.563m0 0l-3.75 1.563m3.75-1.563l3.75 1.563m0 0l3.75 1.563m0-8.25l3.75-1.563m-3.75-1.563l3.75 1.563m-3.75-1.563l-3.75-1.563m0 0l-3.75 1.563"})}),Jd=({className:l})=>a.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",className:l||"w-6 h-6",children:a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M9.813 15.904 9 18.75l-.813-2.846a4.5 4.5 0 0 0-3.09-3.09L2.25 12l2.846-.813a4.5 4.5 0 0 0 3.09-3.09L9 5.25l.813 2.846a4.5 4.5 0 0 0 3.09 3.09L15.75 12l-2.846.813a4.5 4.5 0 0 0-3.09 3.09ZM18.259 8.715 18 9.75l-.259-1.035a3.375 3.375 0 0 0-2.455-2.456L14.25 6l1.036-.259a3.375 3.375 0 0 0 2.455-2.456L18 2.25l.259 1.035a3.375 3.375 0 0 0 2.456 2.456L21.75 6l-1.035.259a3.375 3.375 0 0 0-2.456 2.456Z"})}),io=({className:l})=>a.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",className:l||"w-6 h-6",children:a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M15.75 17.25v3.375c0 .621-.504 1.125-1.125 1.125h-9.75a1.125 1.125 0 0 1-1.125-1.125V7.875c0-.621.504-1.125 1.125-1.125H6.75a9.06 9.06 0 0 1 1.5.124m7.5 10.376h3.375c.621 0 1.125-.504 1.125-1.125V11.25c0-4.46-3.243-8.161-7.5-8.876a9.06 9.06 0 0 0-1.5-.124H9.375c-.621 0-1.125.504-1.125 1.125v3.5m7.5 10.375H9.375a1.125 1.125 0 0 1-1.125-1.125v-9.25m12 6.625v-1.875a3.375 3.375 0 0 0-3.375-3.375h-1.5a1.125 1.125 0 0 1-1.125-1.125v-1.5a3.375 3.375 0 0 0-3.375-3.375H9.75"})}),Yp=({className:l})=>a.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",className:l||"w-6 h-6",children:a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M11.25 4.5l7.5 7.5-7.5 7.5m-6-15l7.5 7.5-7.5 7.5"})}),Rv=({className:l})=>a.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",className:l||"w-6 h-6",children:a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"m4.5 12.75 6 6 9-13.5"})}),Vp=({icon:l,label:r,isActive:d})=>a.jsxs("div",{className:`w-full flex items-center gap-3 px-3 py-2 rounded-2xl text-sm font-medium transition-all duration-200 ${d?"bg-white text-primary-light shadow-inner":"text-secondary-light hover:text-primary-light hover:bg-white/60"}`,children:[a.jsx("span",{className:"flex items-center justify-center w-7 h-7 rounded-2xl bg-white/80 text-primary-light shadow-sm",children:l}),a.jsx("span",{children:r})]}),Xp=({onNavigate:l})=>{const{threads:r,currentThread:d,createThread:c,selectThread:u,deleteThreadById:m,setActiveView:x,activeView:g}=as(),[p,f]=v.useState(!1),b=async()=>{await c(),x(Ge.CHAT),l==null||l()},N=async R=>{await u(R),x(Ge.CHAT),l==null||l()},w=R=>{x(R),l==null||l()},C=[{label:"Memory",view:Ge.SEARCH,icon:a.jsx(Mv,{className:"w-4 h-4"})},{label:"Journal",view:Ge.JOURNAL,icon:a.jsx(io,{className:"w-4 h-4"})},{label:"Agenda",view:Ge.AGENDA,icon:a.jsx(Yp,{className:"w-4 h-4"})},{label:"Calendar",view:Ge.CALENDAR,icon:a.jsx(io,{className:"w-4 h-4"})},{label:"Pomodoro",view:Ge.POMODORO,icon:a.jsx(Yp,{className:"w-4 h-4"})},{label:"Polaris",view:Ge.POLARIS,icon:a.jsx(Jd,{className:"w-4 h-4"})},{label:"Progress",view:Ge.GAMIFICATION,icon:a.jsx(io,{className:"w-4 h-4"})},{label:"Brand",view:Ge.BRAND,icon:a.jsx(Jd,{className:"w-4 h-4"})},{label:"People",view:Ge.PEOPLE,icon:a.jsx(io,{className:"w-4 h-4"})},{label:"Concepts",view:Ge.CONCEPTS,icon:a.jsx(Jd,{className:"w-4 h-4"})}],L=a.jsx("div",{className:"space-y-2 max-h-[50vh] overflow-y-auto soft-scrollbar",children:r.length===0?a.jsx("div",{className:"px-3 py-2 text-sm text-secondary-light",children:"No conversations yet"}):r.map(R=>a.jsxs("div",{className:`group relative px-4 py-3 rounded-2xl border cursor-pointer transition-all ${(d==null?void 0:d.id)===R.id?"bg-black text-white border-black shadow-lg":"border-white/70 hover:bg-white/70"}`,onClick:()=>N(R.id),children:[a.jsx("p",{className:"text-sm font-semibold truncate",children:R.title}),(d==null?void 0:d.id)===R.id?a.jsx("p",{className:"text-xs text-white/70",children:"Active"}):a.jsx("p",{className:"text-xs text-secondary-light",children:"Thread"}),a.jsx("button",{onClick:K=>{K.stopPropagation(),m(R.id)},className:"absolute right-3 top-1/2 -translate-y-1/2 opacity-0 group-hover:opacity-100 transition-opacity text-xs text-secondary-light hover:text-primary-light",children:""})]},R.id))});return a.jsx(a.Fragment,{children:a.jsxs("aside",{className:"glass-panel w-full lg:w-[260px] flex-shrink-0 lg:rounded-[32px] lg:rounded-l-none p-5 flex flex-col h-full max-h-full border border-white/70 shadow-xl overflow-hidden",children:[a.jsx("div",{className:"space-y-2 mt-6 flex-shrink-0",children:a.jsx("button",{onClick:b,className:"w-full",children:a.jsx(Vp,{icon:a.jsx(Dv,{className:"w-4 h-4"}),label:"New thread"})})}),a.jsxs("div",{className:"flex-1 min-h-0 mt-6 pr-1 space-y-6 overflow-y-auto invisible-scrollbar",children:[a.jsxs("button",{className:"w-full flex items-center justify-between text-xs uppercase tracking-[0.4em] text-secondary-light mb-3 px-2",onClick:()=>f(R=>!R),children:[a.jsx("span",{children:"Threads"}),a.jsx(po,{className:`w-4 h-4 transition-transform ${p?"rotate-180":""}`})]}),p&&L,a.jsx("div",{className:"space-y-1",children:C.map(R=>a.jsx("button",{onClick:()=>w(R.view),className:"w-full",children:a.jsx(Vp,{icon:R.icon,label:R.label,isActive:g===R.view})},R.view))})]}),a.jsx("div",{className:"flex-shrink-0 pt-4 border-t border-white/60",children:a.jsxs("button",{onClick:()=>w(Ge.SETTINGS),className:`w-full flex items-center gap-3 px-4 py-3 rounded-2xl text-sm font-semibold transition ${g===Ge.SETTINGS?"bg-black text-white shadow-lg":"bg-white/70 text-primary-light hover:bg-white/90"}`,children:[a.jsx(_v,{className:"w-5 h-5"}),a.jsx("span",{children:"Settings"})]})})]})})};function Ru(){return{async:!1,breaks:!1,extensions:null,gfm:!0,hooks:null,pedantic:!1,renderer:null,silent:!1,tokenizer:null,walkTokens:null}}var Dn=Ru();function Bx(l){Dn=l}var zi={exec:()=>null};function ct(l,r=""){let d=typeof l=="string"?l:l.source;const c={replace:(u,m)=>{let x=typeof m=="string"?m:m.source;return x=x.replace(Ft.caret,"$1"),d=d.replace(u,x),c},getRegex:()=>new RegExp(d,r)};return c}var Ft={codeRemoveIndent:/^(?: {1,4}| {0,3}\t)/gm,outputLinkReplace:/\\([\[\]])/g,indentCodeCompensation:/^(\s+)(?:```)/,beginningSpace:/^\s+/,endingHash:/#$/,startingSpaceChar:/^ /,endingSpaceChar:/ $/,nonSpaceChar:/[^ ]/,newLineCharGlobal:/\n/g,tabCharGlobal:/\t/g,multipleSpaceGlobal:/\s+/g,blankLine:/^[ \t]*$/,doubleBlankLine:/\n[ \t]*\n[ \t]*$/,blockquoteStart:/^ {0,3}>/,blockquoteSetextReplace:/\n {0,3}((?:=+|-+) *)(?=\n|$)/g,blockquoteSetextReplace2:/^ {0,3}>[ \t]?/gm,listReplaceTabs:/^\t+/,listReplaceNesting:/^ {1,4}(?=( {4})*[^ ])/g,listIsTask:/^\[[ xX]\] /,listReplaceTask:/^\[[ xX]\] +/,anyLine:/\n.*\n/,hrefBrackets:/^<(.*)>$/,tableDelimiter:/[:|]/,tableAlignChars:/^\||\| *$/g,tableRowBlankLine:/\n[ \t]*$/,tableAlignRight:/^ *-+: *$/,tableAlignCenter:/^ *:-+: *$/,tableAlignLeft:/^ *:-+ *$/,startATag:/^<a /i,endATag:/^<\/a>/i,startPreScriptTag:/^<(pre|code|kbd|script)(\s|>)/i,endPreScriptTag:/^<\/(pre|code|kbd|script)(\s|>)/i,startAngleBracket:/^</,endAngleBracket:/>$/,pedanticHrefTitle:/^([^'"]*[^\s])\s+(['"])(.*)\2/,unicodeAlphaNumeric:/[\p{L}\p{N}]/u,escapeTest:/[&<>"']/,escapeReplace:/[&<>"']/g,escapeTestNoEncode:/[<>"']|&(?!(#\d{1,7}|#[Xx][a-fA-F0-9]{1,6}|\w+);)/,escapeReplaceNoEncode:/[<>"']|&(?!(#\d{1,7}|#[Xx][a-fA-F0-9]{1,6}|\w+);)/g,unescapeTest:/&(#(?:\d+)|(?:#x[0-9A-Fa-f]+)|(?:\w+));?/ig,caret:/(^|[^\[])\^/g,percentDecode:/%25/g,findPipe:/\|/g,splitPipe:/ \|/,slashPipe:/\\\|/g,carriageReturn:/\r\n|\r/g,spaceLine:/^ +$/gm,notSpaceStart:/^\S*/,endingNewline:/\n$/,listItemRegex:l=>new RegExp(`^( {0,3}${l})((?:[	 ][^\\n]*)?(?:\\n|$))`),nextBulletRegex:l=>new RegExp(`^ {0,${Math.min(3,l-1)}}(?:[*+-]|\\d{1,9}[.)])((?:[ 	][^\\n]*)?(?:\\n|$))`),hrRegex:l=>new RegExp(`^ {0,${Math.min(3,l-1)}}((?:- *){3,}|(?:_ *){3,}|(?:\\* *){3,})(?:\\n+|$)`),fencesBeginRegex:l=>new RegExp(`^ {0,${Math.min(3,l-1)}}(?:\`\`\`|~~~)`),headingBeginRegex:l=>new RegExp(`^ {0,${Math.min(3,l-1)}}#`),htmlBeginRegex:l=>new RegExp(`^ {0,${Math.min(3,l-1)}}<(?:[a-z].*>|!--)`,"i")},Ov=/^(?:[ \t]*(?:\n|$))+/,zv=/^((?: {4}| {0,3}\t)[^\n]+(?:\n(?:[ \t]*(?:\n|$))*)?)+/,Lv=/^ {0,3}(`{3,}(?=[^`\n]*(?:\n|$))|~{3,})([^\n]*)(?:\n|$)(?:|([\s\S]*?)(?:\n|$))(?: {0,3}\1[~`]* *(?=\n|$)|$)/,Hi=/^ {0,3}((?:-[\t ]*){3,}|(?:_[ \t]*){3,}|(?:\*[ \t]*){3,})(?:\n+|$)/,$v=/^ {0,3}(#{1,6})(?=\s|$)(.*)(?:\n+|$)/,Ou=/(?:[*+-]|\d{1,9}[.)])/,Hx=/^(?!bull |blockCode|fences|blockquote|heading|html|table)((?:.|\n(?!\s*?\n|bull |blockCode|fences|blockquote|heading|html|table))+?)\n {0,3}(=+|-+) *(?:\n+|$)/,Gx=ct(Hx).replace(/bull/g,Ou).replace(/blockCode/g,/(?: {4}| {0,3}\t)/).replace(/fences/g,/ {0,3}(?:`{3,}|~{3,})/).replace(/blockquote/g,/ {0,3}>/).replace(/heading/g,/ {0,3}#{1,6}/).replace(/html/g,/ {0,3}<[^\n>]+>\n/).replace(/\|table/g,"").getRegex(),Uv=ct(Hx).replace(/bull/g,Ou).replace(/blockCode/g,/(?: {4}| {0,3}\t)/).replace(/fences/g,/ {0,3}(?:`{3,}|~{3,})/).replace(/blockquote/g,/ {0,3}>/).replace(/heading/g,/ {0,3}#{1,6}/).replace(/html/g,/ {0,3}<[^\n>]+>\n/).replace(/table/g,/ {0,3}\|?(?:[:\- ]*\|)+[\:\- ]*\n/).getRegex(),zu=/^([^\n]+(?:\n(?!hr|heading|lheading|blockquote|fences|list|html|table| +\n)[^\n]+)*)/,Bv=/^[^\n]+/,Lu=/(?!\s*\])(?:\\.|[^\[\]\\])+/,Hv=ct(/^ {0,3}\[(label)\]: *(?:\n[ \t]*)?([^<\s][^\s]*|<.*?>)(?:(?: +(?:\n[ \t]*)?| *\n[ \t]*)(title))? *(?:\n+|$)/).replace("label",Lu).replace("title",/(?:"(?:\\"?|[^"\\])*"|'[^'\n]*(?:\n[^'\n]+)*\n?'|\([^()]*\))/).getRegex(),Gv=ct(/^( {0,3}bull)([ \t][^\n]+?)?(?:\n|$)/).replace(/bull/g,Ou).getRegex(),_o="address|article|aside|base|basefont|blockquote|body|caption|center|col|colgroup|dd|details|dialog|dir|div|dl|dt|fieldset|figcaption|figure|footer|form|frame|frameset|h[1-6]|head|header|hr|html|iframe|legend|li|link|main|menu|menuitem|meta|nav|noframes|ol|optgroup|option|p|param|search|section|summary|table|tbody|td|tfoot|th|thead|title|tr|track|ul",$u=/<!--(?:-?>|[\s\S]*?(?:-->|$))/,qv=ct("^ {0,3}(?:<(script|pre|style|textarea)[\\s>][\\s\\S]*?(?:</\\1>[^\\n]*\\n+|$)|comment[^\\n]*(\\n+|$)|<\\?[\\s\\S]*?(?:\\?>\\n*|$)|<![A-Z][\\s\\S]*?(?:>\\n*|$)|<!\\[CDATA\\[[\\s\\S]*?(?:\\]\\]>\\n*|$)|</?(tag)(?: +|\\n|/?>)[\\s\\S]*?(?:(?:\\n[ 	]*)+\\n|$)|<(?!script|pre|style|textarea)([a-z][\\w-]*)(?:attribute)*? */?>(?=[ \\t]*(?:\\n|$))[\\s\\S]*?(?:(?:\\n[ 	]*)+\\n|$)|</(?!script|pre|style|textarea)[a-z][\\w-]*\\s*>(?=[ \\t]*(?:\\n|$))[\\s\\S]*?(?:(?:\\n[ 	]*)+\\n|$))","i").replace("comment",$u).replace("tag",_o).replace("attribute",/ +[a-zA-Z:_][\w.:-]*(?: *= *"[^"\n]*"| *= *'[^'\n]*'| *= *[^\s"'=<>`]+)?/).getRegex(),qx=ct(zu).replace("hr",Hi).replace("heading"," {0,3}#{1,6}(?:\\s|$)").replace("|lheading","").replace("|table","").replace("blockquote"," {0,3}>").replace("fences"," {0,3}(?:`{3,}(?=[^`\\n]*\\n)|~{3,})[^\\n]*\\n").replace("list"," {0,3}(?:[*+-]|1[.)]) ").replace("html","</?(?:tag)(?: +|\\n|/?>)|<(?:script|pre|style|textarea|!--)").replace("tag",_o).getRegex(),Iv=ct(/^( {0,3}> ?(paragraph|[^\n]*)(?:\n|$))+/).replace("paragraph",qx).getRegex(),Uu={blockquote:Iv,code:zv,def:Hv,fences:Lv,heading:$v,hr:Hi,html:qv,lheading:Gx,list:Gv,newline:Ov,paragraph:qx,table:zi,text:Bv},Qp=ct("^ *([^\\n ].*)\\n {0,3}((?:\\| *)?:?-+:? *(?:\\| *:?-+:? *)*(?:\\| *)?)(?:\\n((?:(?! *\\n|hr|heading|blockquote|code|fences|list|html).*(?:\\n|$))*)\\n*|$)").replace("hr",Hi).replace("heading"," {0,3}#{1,6}(?:\\s|$)").replace("blockquote"," {0,3}>").replace("code","(?: {4}| {0,3}	)[^\\n]").replace("fences"," {0,3}(?:`{3,}(?=[^`\\n]*\\n)|~{3,})[^\\n]*\\n").replace("list"," {0,3}(?:[*+-]|1[.)]) ").replace("html","</?(?:tag)(?: +|\\n|/?>)|<(?:script|pre|style|textarea|!--)").replace("tag",_o).getRegex(),Yv={...Uu,lheading:Uv,table:Qp,paragraph:ct(zu).replace("hr",Hi).replace("heading"," {0,3}#{1,6}(?:\\s|$)").replace("|lheading","").replace("table",Qp).replace("blockquote"," {0,3}>").replace("fences"," {0,3}(?:`{3,}(?=[^`\\n]*\\n)|~{3,})[^\\n]*\\n").replace("list"," {0,3}(?:[*+-]|1[.)]) ").replace("html","</?(?:tag)(?: +|\\n|/?>)|<(?:script|pre|style|textarea|!--)").replace("tag",_o).getRegex()},Vv={...Uu,html:ct(`^ *(?:comment *(?:\\n|\\s*$)|<(tag)[\\s\\S]+?</\\1> *(?:\\n{2,}|\\s*$)|<tag(?:"[^"]*"|'[^']*'|\\s[^'"/>\\s]*)*?/?> *(?:\\n{2,}|\\s*$))`).replace("comment",$u).replace(/tag/g,"(?!(?:a|em|strong|small|s|cite|q|dfn|abbr|data|time|code|var|samp|kbd|sub|sup|i|b|u|mark|ruby|rt|rp|bdi|bdo|span|br|wbr|ins|del|img)\\b)\\w+(?!:|[^\\w\\s@]*@)\\b").getRegex(),def:/^ *\[([^\]]+)\]: *<?([^\s>]+)>?(?: +(["(][^\n]+[")]))? *(?:\n+|$)/,heading:/^(#{1,6})(.*)(?:\n+|$)/,fences:zi,lheading:/^(.+?)\n {0,3}(=+|-+) *(?:\n+|$)/,paragraph:ct(zu).replace("hr",Hi).replace("heading",` *#{1,6} *[^
]`).replace("lheading",Gx).replace("|table","").replace("blockquote"," {0,3}>").replace("|fences","").replace("|list","").replace("|html","").replace("|tag","").getRegex()},Xv=/^\\([!"#$%&'()*+,\-./:;<=>?@\[\]\\^_`{|}~])/,Qv=/^(`+)([^`]|[^`][\s\S]*?[^`])\1(?!`)/,Ix=/^( {2,}|\\)\n(?!\s*$)/,Pv=/^(`+|[^`])(?:(?= {2,}\n)|[\s\S]*?(?:(?=[\\<!\[`*_]|\b_|$)|[^ ](?= {2,}\n)))/,Ro=/[\p{P}\p{S}]/u,Bu=/[\s\p{P}\p{S}]/u,Yx=/[^\s\p{P}\p{S}]/u,Zv=ct(/^((?![*_])punctSpace)/,"u").replace(/punctSpace/g,Bu).getRegex(),Vx=/(?!~)[\p{P}\p{S}]/u,Kv=/(?!~)[\s\p{P}\p{S}]/u,Jv=/(?:[^\s\p{P}\p{S}]|~)/u,Wv=/\[[^[\]]*?\]\((?:\\.|[^\\\(\)]|\((?:\\.|[^\\\(\)])*\))*\)|`[^`]*?`|<[^<>]*?>/g,Xx=/^(?:\*+(?:((?!\*)punct)|[^\s*]))|^_+(?:((?!_)punct)|([^\s_]))/,Fv=ct(Xx,"u").replace(/punct/g,Ro).getRegex(),e2=ct(Xx,"u").replace(/punct/g,Vx).getRegex(),Qx="^[^_*]*?__[^_*]*?\\*[^_*]*?(?=__)|[^*]+(?=[^*])|(?!\\*)punct(\\*+)(?=[\\s]|$)|notPunctSpace(\\*+)(?!\\*)(?=punctSpace|$)|(?!\\*)punctSpace(\\*+)(?=notPunctSpace)|[\\s](\\*+)(?!\\*)(?=punct)|(?!\\*)punct(\\*+)(?!\\*)(?=punct)|notPunctSpace(\\*+)(?=notPunctSpace)",t2=ct(Qx,"gu").replace(/notPunctSpace/g,Yx).replace(/punctSpace/g,Bu).replace(/punct/g,Ro).getRegex(),a2=ct(Qx,"gu").replace(/notPunctSpace/g,Jv).replace(/punctSpace/g,Kv).replace(/punct/g,Vx).getRegex(),s2=ct("^[^_*]*?\\*\\*[^_*]*?_[^_*]*?(?=\\*\\*)|[^_]+(?=[^_])|(?!_)punct(_+)(?=[\\s]|$)|notPunctSpace(_+)(?!_)(?=punctSpace|$)|(?!_)punctSpace(_+)(?=notPunctSpace)|[\\s](_+)(?!_)(?=punct)|(?!_)punct(_+)(?!_)(?=punct)","gu").replace(/notPunctSpace/g,Yx).replace(/punctSpace/g,Bu).replace(/punct/g,Ro).getRegex(),n2=ct(/\\(punct)/,"gu").replace(/punct/g,Ro).getRegex(),l2=ct(/^<(scheme:[^\s\x00-\x1f<>]*|email)>/).replace("scheme",/[a-zA-Z][a-zA-Z0-9+.-]{1,31}/).replace("email",/[a-zA-Z0-9.!#$%&'*+/=?^_`{|}~-]+(@)[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)+(?![-_])/).getRegex(),i2=ct($u).replace("(?:-->|$)","-->").getRegex(),r2=ct("^comment|^</[a-zA-Z][\\w:-]*\\s*>|^<[a-zA-Z][\\w-]*(?:attribute)*?\\s*/?>|^<\\?[\\s\\S]*?\\?>|^<![a-zA-Z]+\\s[\\s\\S]*?>|^<!\\[CDATA\\[[\\s\\S]*?\\]\\]>").replace("comment",i2).replace("attribute",/\s+[a-zA-Z:_][\w.:-]*(?:\s*=\s*"[^"]*"|\s*=\s*'[^']*'|\s*=\s*[^\s"'=<>`]+)?/).getRegex(),So=/(?:\[(?:\\.|[^\[\]\\])*\]|\\.|`[^`]*`|[^\[\]\\`])*?/,o2=ct(/^!?\[(label)\]\(\s*(href)(?:(?:[ \t]*(?:\n[ \t]*)?)(title))?\s*\)/).replace("label",So).replace("href",/<(?:\\.|[^\n<>\\])+>|[^ \t\n\x00-\x1f]*/).replace("title",/"(?:\\"?|[^"\\])*"|'(?:\\'?|[^'\\])*'|\((?:\\\)?|[^)\\])*\)/).getRegex(),Px=ct(/^!?\[(label)\]\[(ref)\]/).replace("label",So).replace("ref",Lu).getRegex(),Zx=ct(/^!?\[(ref)\](?:\[\])?/).replace("ref",Lu).getRegex(),c2=ct("reflink|nolink(?!\\()","g").replace("reflink",Px).replace("nolink",Zx).getRegex(),Hu={_backpedal:zi,anyPunctuation:n2,autolink:l2,blockSkip:Wv,br:Ix,code:Qv,del:zi,emStrongLDelim:Fv,emStrongRDelimAst:t2,emStrongRDelimUnd:s2,escape:Xv,link:o2,nolink:Zx,punctuation:Zv,reflink:Px,reflinkSearch:c2,tag:r2,text:Pv,url:zi},d2={...Hu,link:ct(/^!?\[(label)\]\((.*?)\)/).replace("label",So).getRegex(),reflink:ct(/^!?\[(label)\]\s*\[([^\]]*)\]/).replace("label",So).getRegex()},fu={...Hu,emStrongRDelimAst:a2,emStrongLDelim:e2,url:ct(/^((?:ftp|https?):\/\/|www\.)(?:[a-zA-Z0-9\-]+\.?)+[^\s<]*|^email/,"i").replace("email",/[A-Za-z0-9._+-]+(@)[a-zA-Z0-9-_]+(?:\.[a-zA-Z0-9-_]*[a-zA-Z0-9])+(?![-_])/).getRegex(),_backpedal:/(?:[^?!.,:;*_'"~()&]+|\([^)]*\)|&(?![a-zA-Z0-9]+;$)|[?!.,:;*_'"~)]+(?!$))+/,del:/^(~~?)(?=[^\s~])((?:\\.|[^\\])*?(?:\\.|[^\s~\\]))\1(?=[^~]|$)/,text:/^([`~]+|[^`~])(?:(?= {2,}\n)|(?=[a-zA-Z0-9.!#$%&'*+\/=?_`{\|}~-]+@)|[\s\S]*?(?:(?=[\\<!\[`*~_]|\b_|https?:\/\/|ftp:\/\/|www\.|$)|[^ ](?= {2,}\n)|[^a-zA-Z0-9.!#$%&'*+\/=?_`{\|}~-](?=[a-zA-Z0-9.!#$%&'*+\/=?_`{\|}~-]+@)))/},u2={...fu,br:ct(Ix).replace("{2,}","*").getRegex(),text:ct(fu.text).replace("\\b_","\\b_| {2,}\\n").replace(/\{2,\}/g,"*").getRegex()},ro={normal:Uu,gfm:Yv,pedantic:Vv},yi={normal:Hu,gfm:fu,breaks:u2,pedantic:d2},h2={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;"},Pp=l=>h2[l];function es(l,r){if(r){if(Ft.escapeTest.test(l))return l.replace(Ft.escapeReplace,Pp)}else if(Ft.escapeTestNoEncode.test(l))return l.replace(Ft.escapeReplaceNoEncode,Pp);return l}function Zp(l){try{l=encodeURI(l).replace(Ft.percentDecode,"%")}catch{return null}return l}function Kp(l,r){var m;const d=l.replace(Ft.findPipe,(x,g,p)=>{let f=!1,b=g;for(;--b>=0&&p[b]==="\\";)f=!f;return f?"|":" |"}),c=d.split(Ft.splitPipe);let u=0;if(c[0].trim()||c.shift(),c.length>0&&!((m=c.at(-1))!=null&&m.trim())&&c.pop(),r)if(c.length>r)c.splice(r);else for(;c.length<r;)c.push("");for(;u<c.length;u++)c[u]=c[u].trim().replace(Ft.slashPipe,"|");return c}function vi(l,r,d){const c=l.length;if(c===0)return"";let u=0;for(;u<c&&l.charAt(c-u-1)===r;)u++;return l.slice(0,c-u)}function m2(l,r){if(l.indexOf(r[1])===-1)return-1;let d=0;for(let c=0;c<l.length;c++)if(l[c]==="\\")c++;else if(l[c]===r[0])d++;else if(l[c]===r[1]&&(d--,d<0))return c;return d>0?-2:-1}function Jp(l,r,d,c,u){const m=r.href,x=r.title||null,g=l[1].replace(u.other.outputLinkReplace,"$1");c.state.inLink=!0;const p={type:l[0].charAt(0)==="!"?"image":"link",raw:d,href:m,title:x,text:g,tokens:c.inlineTokens(g)};return c.state.inLink=!1,p}function f2(l,r,d){const c=l.match(d.other.indentCodeCompensation);if(c===null)return r;const u=c[1];return r.split(`
`).map(m=>{const x=m.match(d.other.beginningSpace);if(x===null)return m;const[g]=x;return g.length>=u.length?m.slice(u.length):m}).join(`
`)}var Ao=class{constructor(l){xt(this,"options");xt(this,"rules");xt(this,"lexer");this.options=l||Dn}space(l){const r=this.rules.block.newline.exec(l);if(r&&r[0].length>0)return{type:"space",raw:r[0]}}code(l){const r=this.rules.block.code.exec(l);if(r){const d=r[0].replace(this.rules.other.codeRemoveIndent,"");return{type:"code",raw:r[0],codeBlockStyle:"indented",text:this.options.pedantic?d:vi(d,`
`)}}}fences(l){const r=this.rules.block.fences.exec(l);if(r){const d=r[0],c=f2(d,r[3]||"",this.rules);return{type:"code",raw:d,lang:r[2]?r[2].trim().replace(this.rules.inline.anyPunctuation,"$1"):r[2],text:c}}}heading(l){const r=this.rules.block.heading.exec(l);if(r){let d=r[2].trim();if(this.rules.other.endingHash.test(d)){const c=vi(d,"#");(this.options.pedantic||!c||this.rules.other.endingSpaceChar.test(c))&&(d=c.trim())}return{type:"heading",raw:r[0],depth:r[1].length,text:d,tokens:this.lexer.inline(d)}}}hr(l){const r=this.rules.block.hr.exec(l);if(r)return{type:"hr",raw:vi(r[0],`
`)}}blockquote(l){const r=this.rules.block.blockquote.exec(l);if(r){let d=vi(r[0],`
`).split(`
`),c="",u="";const m=[];for(;d.length>0;){let x=!1;const g=[];let p;for(p=0;p<d.length;p++)if(this.rules.other.blockquoteStart.test(d[p]))g.push(d[p]),x=!0;else if(!x)g.push(d[p]);else break;d=d.slice(p);const f=g.join(`
`),b=f.replace(this.rules.other.blockquoteSetextReplace,`
    $1`).replace(this.rules.other.blockquoteSetextReplace2,"");c=c?`${c}
${f}`:f,u=u?`${u}
${b}`:b;const N=this.lexer.state.top;if(this.lexer.state.top=!0,this.lexer.blockTokens(b,m,!0),this.lexer.state.top=N,d.length===0)break;const w=m.at(-1);if((w==null?void 0:w.type)==="code")break;if((w==null?void 0:w.type)==="blockquote"){const C=w,L=C.raw+`
`+d.join(`
`),R=this.blockquote(L);m[m.length-1]=R,c=c.substring(0,c.length-C.raw.length)+R.raw,u=u.substring(0,u.length-C.text.length)+R.text;break}else if((w==null?void 0:w.type)==="list"){const C=w,L=C.raw+`
`+d.join(`
`),R=this.list(L);m[m.length-1]=R,c=c.substring(0,c.length-w.raw.length)+R.raw,u=u.substring(0,u.length-C.raw.length)+R.raw,d=L.substring(m.at(-1).raw.length).split(`
`);continue}}return{type:"blockquote",raw:c,tokens:m,text:u}}}list(l){let r=this.rules.block.list.exec(l);if(r){let d=r[1].trim();const c=d.length>1,u={type:"list",raw:"",ordered:c,start:c?+d.slice(0,-1):"",loose:!1,items:[]};d=c?`\\d{1,9}\\${d.slice(-1)}`:`\\${d}`,this.options.pedantic&&(d=c?d:"[*+-]");const m=this.rules.other.listItemRegex(d);let x=!1;for(;l;){let p=!1,f="",b="";if(!(r=m.exec(l))||this.rules.block.hr.test(l))break;f=r[0],l=l.substring(f.length);let N=r[2].split(`
`,1)[0].replace(this.rules.other.listReplaceTabs,ie=>" ".repeat(3*ie.length)),w=l.split(`
`,1)[0],C=!N.trim(),L=0;if(this.options.pedantic?(L=2,b=N.trimStart()):C?L=r[1].length+1:(L=r[2].search(this.rules.other.nonSpaceChar),L=L>4?1:L,b=N.slice(L),L+=r[1].length),C&&this.rules.other.blankLine.test(w)&&(f+=w+`
`,l=l.substring(w.length+1),p=!0),!p){const ie=this.rules.other.nextBulletRegex(L),re=this.rules.other.hrRegex(L),be=this.rules.other.fencesBeginRegex(L),U=this.rules.other.headingBeginRegex(L),Y=this.rules.other.htmlBeginRegex(L);for(;l;){const O=l.split(`
`,1)[0];let D;if(w=O,this.options.pedantic?(w=w.replace(this.rules.other.listReplaceNesting,"  "),D=w):D=w.replace(this.rules.other.tabCharGlobal,"    "),be.test(w)||U.test(w)||Y.test(w)||ie.test(w)||re.test(w))break;if(D.search(this.rules.other.nonSpaceChar)>=L||!w.trim())b+=`
`+D.slice(L);else{if(C||N.replace(this.rules.other.tabCharGlobal,"    ").search(this.rules.other.nonSpaceChar)>=4||be.test(N)||U.test(N)||re.test(N))break;b+=`
`+w}!C&&!w.trim()&&(C=!0),f+=O+`
`,l=l.substring(O.length+1),N=D.slice(L)}}u.loose||(x?u.loose=!0:this.rules.other.doubleBlankLine.test(f)&&(x=!0));let R=null,K;this.options.gfm&&(R=this.rules.other.listIsTask.exec(b),R&&(K=R[0]!=="[ ] ",b=b.replace(this.rules.other.listReplaceTask,""))),u.items.push({type:"list_item",raw:f,task:!!R,checked:K,loose:!1,text:b,tokens:[]}),u.raw+=f}const g=u.items.at(-1);if(g)g.raw=g.raw.trimEnd(),g.text=g.text.trimEnd();else return;u.raw=u.raw.trimEnd();for(let p=0;p<u.items.length;p++)if(this.lexer.state.top=!1,u.items[p].tokens=this.lexer.blockTokens(u.items[p].text,[]),!u.loose){const f=u.items[p].tokens.filter(N=>N.type==="space"),b=f.length>0&&f.some(N=>this.rules.other.anyLine.test(N.raw));u.loose=b}if(u.loose)for(let p=0;p<u.items.length;p++)u.items[p].loose=!0;return u}}html(l){const r=this.rules.block.html.exec(l);if(r)return{type:"html",block:!0,raw:r[0],pre:r[1]==="pre"||r[1]==="script"||r[1]==="style",text:r[0]}}def(l){const r=this.rules.block.def.exec(l);if(r){const d=r[1].toLowerCase().replace(this.rules.other.multipleSpaceGlobal," "),c=r[2]?r[2].replace(this.rules.other.hrefBrackets,"$1").replace(this.rules.inline.anyPunctuation,"$1"):"",u=r[3]?r[3].substring(1,r[3].length-1).replace(this.rules.inline.anyPunctuation,"$1"):r[3];return{type:"def",tag:d,raw:r[0],href:c,title:u}}}table(l){var x;const r=this.rules.block.table.exec(l);if(!r||!this.rules.other.tableDelimiter.test(r[2]))return;const d=Kp(r[1]),c=r[2].replace(this.rules.other.tableAlignChars,"").split("|"),u=(x=r[3])!=null&&x.trim()?r[3].replace(this.rules.other.tableRowBlankLine,"").split(`
`):[],m={type:"table",raw:r[0],header:[],align:[],rows:[]};if(d.length===c.length){for(const g of c)this.rules.other.tableAlignRight.test(g)?m.align.push("right"):this.rules.other.tableAlignCenter.test(g)?m.align.push("center"):this.rules.other.tableAlignLeft.test(g)?m.align.push("left"):m.align.push(null);for(let g=0;g<d.length;g++)m.header.push({text:d[g],tokens:this.lexer.inline(d[g]),header:!0,align:m.align[g]});for(const g of u)m.rows.push(Kp(g,m.header.length).map((p,f)=>({text:p,tokens:this.lexer.inline(p),header:!1,align:m.align[f]})));return m}}lheading(l){const r=this.rules.block.lheading.exec(l);if(r)return{type:"heading",raw:r[0],depth:r[2].charAt(0)==="="?1:2,text:r[1],tokens:this.lexer.inline(r[1])}}paragraph(l){const r=this.rules.block.paragraph.exec(l);if(r){const d=r[1].charAt(r[1].length-1)===`
`?r[1].slice(0,-1):r[1];return{type:"paragraph",raw:r[0],text:d,tokens:this.lexer.inline(d)}}}text(l){const r=this.rules.block.text.exec(l);if(r)return{type:"text",raw:r[0],text:r[0],tokens:this.lexer.inline(r[0])}}escape(l){const r=this.rules.inline.escape.exec(l);if(r)return{type:"escape",raw:r[0],text:r[1]}}tag(l){const r=this.rules.inline.tag.exec(l);if(r)return!this.lexer.state.inLink&&this.rules.other.startATag.test(r[0])?this.lexer.state.inLink=!0:this.lexer.state.inLink&&this.rules.other.endATag.test(r[0])&&(this.lexer.state.inLink=!1),!this.lexer.state.inRawBlock&&this.rules.other.startPreScriptTag.test(r[0])?this.lexer.state.inRawBlock=!0:this.lexer.state.inRawBlock&&this.rules.other.endPreScriptTag.test(r[0])&&(this.lexer.state.inRawBlock=!1),{type:"html",raw:r[0],inLink:this.lexer.state.inLink,inRawBlock:this.lexer.state.inRawBlock,block:!1,text:r[0]}}link(l){const r=this.rules.inline.link.exec(l);if(r){const d=r[2].trim();if(!this.options.pedantic&&this.rules.other.startAngleBracket.test(d)){if(!this.rules.other.endAngleBracket.test(d))return;const m=vi(d.slice(0,-1),"\\");if((d.length-m.length)%2===0)return}else{const m=m2(r[2],"()");if(m===-2)return;if(m>-1){const g=(r[0].indexOf("!")===0?5:4)+r[1].length+m;r[2]=r[2].substring(0,m),r[0]=r[0].substring(0,g).trim(),r[3]=""}}let c=r[2],u="";if(this.options.pedantic){const m=this.rules.other.pedanticHrefTitle.exec(c);m&&(c=m[1],u=m[3])}else u=r[3]?r[3].slice(1,-1):"";return c=c.trim(),this.rules.other.startAngleBracket.test(c)&&(this.options.pedantic&&!this.rules.other.endAngleBracket.test(d)?c=c.slice(1):c=c.slice(1,-1)),Jp(r,{href:c&&c.replace(this.rules.inline.anyPunctuation,"$1"),title:u&&u.replace(this.rules.inline.anyPunctuation,"$1")},r[0],this.lexer,this.rules)}}reflink(l,r){let d;if((d=this.rules.inline.reflink.exec(l))||(d=this.rules.inline.nolink.exec(l))){const c=(d[2]||d[1]).replace(this.rules.other.multipleSpaceGlobal," "),u=r[c.toLowerCase()];if(!u){const m=d[0].charAt(0);return{type:"text",raw:m,text:m}}return Jp(d,u,d[0],this.lexer,this.rules)}}emStrong(l,r,d=""){let c=this.rules.inline.emStrongLDelim.exec(l);if(!c||c[3]&&d.match(this.rules.other.unicodeAlphaNumeric))return;if(!(c[1]||c[2]||"")||!d||this.rules.inline.punctuation.exec(d)){const m=[...c[0]].length-1;let x,g,p=m,f=0;const b=c[0][0]==="*"?this.rules.inline.emStrongRDelimAst:this.rules.inline.emStrongRDelimUnd;for(b.lastIndex=0,r=r.slice(-1*l.length+m);(c=b.exec(r))!=null;){if(x=c[1]||c[2]||c[3]||c[4]||c[5]||c[6],!x)continue;if(g=[...x].length,c[3]||c[4]){p+=g;continue}else if((c[5]||c[6])&&m%3&&!((m+g)%3)){f+=g;continue}if(p-=g,p>0)continue;g=Math.min(g,g+p+f);const N=[...c[0]][0].length,w=l.slice(0,m+c.index+N+g);if(Math.min(m,g)%2){const L=w.slice(1,-1);return{type:"em",raw:w,text:L,tokens:this.lexer.inlineTokens(L)}}const C=w.slice(2,-2);return{type:"strong",raw:w,text:C,tokens:this.lexer.inlineTokens(C)}}}}codespan(l){const r=this.rules.inline.code.exec(l);if(r){let d=r[2].replace(this.rules.other.newLineCharGlobal," ");const c=this.rules.other.nonSpaceChar.test(d),u=this.rules.other.startingSpaceChar.test(d)&&this.rules.other.endingSpaceChar.test(d);return c&&u&&(d=d.substring(1,d.length-1)),{type:"codespan",raw:r[0],text:d}}}br(l){const r=this.rules.inline.br.exec(l);if(r)return{type:"br",raw:r[0]}}del(l){const r=this.rules.inline.del.exec(l);if(r)return{type:"del",raw:r[0],text:r[2],tokens:this.lexer.inlineTokens(r[2])}}autolink(l){const r=this.rules.inline.autolink.exec(l);if(r){let d,c;return r[2]==="@"?(d=r[1],c="mailto:"+d):(d=r[1],c=d),{type:"link",raw:r[0],text:d,href:c,tokens:[{type:"text",raw:d,text:d}]}}}url(l){var d;let r;if(r=this.rules.inline.url.exec(l)){let c,u;if(r[2]==="@")c=r[0],u="mailto:"+c;else{let m;do m=r[0],r[0]=((d=this.rules.inline._backpedal.exec(r[0]))==null?void 0:d[0])??"";while(m!==r[0]);c=r[0],r[1]==="www."?u="http://"+r[0]:u=r[0]}return{type:"link",raw:r[0],text:c,href:u,tokens:[{type:"text",raw:c,text:c}]}}}inlineText(l){const r=this.rules.inline.text.exec(l);if(r){const d=this.lexer.state.inRawBlock;return{type:"text",raw:r[0],text:r[0],escaped:d}}}},Ts=class pu{constructor(r){xt(this,"tokens");xt(this,"options");xt(this,"state");xt(this,"tokenizer");xt(this,"inlineQueue");this.tokens=[],this.tokens.links=Object.create(null),this.options=r||Dn,this.options.tokenizer=this.options.tokenizer||new Ao,this.tokenizer=this.options.tokenizer,this.tokenizer.options=this.options,this.tokenizer.lexer=this,this.inlineQueue=[],this.state={inLink:!1,inRawBlock:!1,top:!0};const d={other:Ft,block:ro.normal,inline:yi.normal};this.options.pedantic?(d.block=ro.pedantic,d.inline=yi.pedantic):this.options.gfm&&(d.block=ro.gfm,this.options.breaks?d.inline=yi.breaks:d.inline=yi.gfm),this.tokenizer.rules=d}static get rules(){return{block:ro,inline:yi}}static lex(r,d){return new pu(d).lex(r)}static lexInline(r,d){return new pu(d).inlineTokens(r)}lex(r){r=r.replace(Ft.carriageReturn,`
`),this.blockTokens(r,this.tokens);for(let d=0;d<this.inlineQueue.length;d++){const c=this.inlineQueue[d];this.inlineTokens(c.src,c.tokens)}return this.inlineQueue=[],this.tokens}blockTokens(r,d=[],c=!1){var u,m,x;for(this.options.pedantic&&(r=r.replace(Ft.tabCharGlobal,"    ").replace(Ft.spaceLine,""));r;){let g;if((m=(u=this.options.extensions)==null?void 0:u.block)!=null&&m.some(f=>(g=f.call({lexer:this},r,d))?(r=r.substring(g.raw.length),d.push(g),!0):!1))continue;if(g=this.tokenizer.space(r)){r=r.substring(g.raw.length);const f=d.at(-1);g.raw.length===1&&f!==void 0?f.raw+=`
`:d.push(g);continue}if(g=this.tokenizer.code(r)){r=r.substring(g.raw.length);const f=d.at(-1);(f==null?void 0:f.type)==="paragraph"||(f==null?void 0:f.type)==="text"?(f.raw+=`
`+g.raw,f.text+=`
`+g.text,this.inlineQueue.at(-1).src=f.text):d.push(g);continue}if(g=this.tokenizer.fences(r)){r=r.substring(g.raw.length),d.push(g);continue}if(g=this.tokenizer.heading(r)){r=r.substring(g.raw.length),d.push(g);continue}if(g=this.tokenizer.hr(r)){r=r.substring(g.raw.length),d.push(g);continue}if(g=this.tokenizer.blockquote(r)){r=r.substring(g.raw.length),d.push(g);continue}if(g=this.tokenizer.list(r)){r=r.substring(g.raw.length),d.push(g);continue}if(g=this.tokenizer.html(r)){r=r.substring(g.raw.length),d.push(g);continue}if(g=this.tokenizer.def(r)){r=r.substring(g.raw.length);const f=d.at(-1);(f==null?void 0:f.type)==="paragraph"||(f==null?void 0:f.type)==="text"?(f.raw+=`
`+g.raw,f.text+=`
`+g.raw,this.inlineQueue.at(-1).src=f.text):this.tokens.links[g.tag]||(this.tokens.links[g.tag]={href:g.href,title:g.title});continue}if(g=this.tokenizer.table(r)){r=r.substring(g.raw.length),d.push(g);continue}if(g=this.tokenizer.lheading(r)){r=r.substring(g.raw.length),d.push(g);continue}let p=r;if((x=this.options.extensions)!=null&&x.startBlock){let f=1/0;const b=r.slice(1);let N;this.options.extensions.startBlock.forEach(w=>{N=w.call({lexer:this},b),typeof N=="number"&&N>=0&&(f=Math.min(f,N))}),f<1/0&&f>=0&&(p=r.substring(0,f+1))}if(this.state.top&&(g=this.tokenizer.paragraph(p))){const f=d.at(-1);c&&(f==null?void 0:f.type)==="paragraph"?(f.raw+=`
`+g.raw,f.text+=`
`+g.text,this.inlineQueue.pop(),this.inlineQueue.at(-1).src=f.text):d.push(g),c=p.length!==r.length,r=r.substring(g.raw.length);continue}if(g=this.tokenizer.text(r)){r=r.substring(g.raw.length);const f=d.at(-1);(f==null?void 0:f.type)==="text"?(f.raw+=`
`+g.raw,f.text+=`
`+g.text,this.inlineQueue.pop(),this.inlineQueue.at(-1).src=f.text):d.push(g);continue}if(r){const f="Infinite loop on byte: "+r.charCodeAt(0);if(this.options.silent){console.error(f);break}else throw new Error(f)}}return this.state.top=!0,d}inline(r,d=[]){return this.inlineQueue.push({src:r,tokens:d}),d}inlineTokens(r,d=[]){var g,p,f;let c=r,u=null;if(this.tokens.links){const b=Object.keys(this.tokens.links);if(b.length>0)for(;(u=this.tokenizer.rules.inline.reflinkSearch.exec(c))!=null;)b.includes(u[0].slice(u[0].lastIndexOf("[")+1,-1))&&(c=c.slice(0,u.index)+"["+"a".repeat(u[0].length-2)+"]"+c.slice(this.tokenizer.rules.inline.reflinkSearch.lastIndex))}for(;(u=this.tokenizer.rules.inline.anyPunctuation.exec(c))!=null;)c=c.slice(0,u.index)+"++"+c.slice(this.tokenizer.rules.inline.anyPunctuation.lastIndex);for(;(u=this.tokenizer.rules.inline.blockSkip.exec(c))!=null;)c=c.slice(0,u.index)+"["+"a".repeat(u[0].length-2)+"]"+c.slice(this.tokenizer.rules.inline.blockSkip.lastIndex);let m=!1,x="";for(;r;){m||(x=""),m=!1;let b;if((p=(g=this.options.extensions)==null?void 0:g.inline)!=null&&p.some(w=>(b=w.call({lexer:this},r,d))?(r=r.substring(b.raw.length),d.push(b),!0):!1))continue;if(b=this.tokenizer.escape(r)){r=r.substring(b.raw.length),d.push(b);continue}if(b=this.tokenizer.tag(r)){r=r.substring(b.raw.length),d.push(b);continue}if(b=this.tokenizer.link(r)){r=r.substring(b.raw.length),d.push(b);continue}if(b=this.tokenizer.reflink(r,this.tokens.links)){r=r.substring(b.raw.length);const w=d.at(-1);b.type==="text"&&(w==null?void 0:w.type)==="text"?(w.raw+=b.raw,w.text+=b.text):d.push(b);continue}if(b=this.tokenizer.emStrong(r,c,x)){r=r.substring(b.raw.length),d.push(b);continue}if(b=this.tokenizer.codespan(r)){r=r.substring(b.raw.length),d.push(b);continue}if(b=this.tokenizer.br(r)){r=r.substring(b.raw.length),d.push(b);continue}if(b=this.tokenizer.del(r)){r=r.substring(b.raw.length),d.push(b);continue}if(b=this.tokenizer.autolink(r)){r=r.substring(b.raw.length),d.push(b);continue}if(!this.state.inLink&&(b=this.tokenizer.url(r))){r=r.substring(b.raw.length),d.push(b);continue}let N=r;if((f=this.options.extensions)!=null&&f.startInline){let w=1/0;const C=r.slice(1);let L;this.options.extensions.startInline.forEach(R=>{L=R.call({lexer:this},C),typeof L=="number"&&L>=0&&(w=Math.min(w,L))}),w<1/0&&w>=0&&(N=r.substring(0,w+1))}if(b=this.tokenizer.inlineText(N)){r=r.substring(b.raw.length),b.raw.slice(-1)!=="_"&&(x=b.raw.slice(-1)),m=!0;const w=d.at(-1);(w==null?void 0:w.type)==="text"?(w.raw+=b.raw,w.text+=b.text):d.push(b);continue}if(r){const w="Infinite loop on byte: "+r.charCodeAt(0);if(this.options.silent){console.error(w);break}else throw new Error(w)}}return d}},To=class{constructor(l){xt(this,"options");xt(this,"parser");this.options=l||Dn}space(l){return""}code({text:l,lang:r,escaped:d}){var m;const c=(m=(r||"").match(Ft.notSpaceStart))==null?void 0:m[0],u=l.replace(Ft.endingNewline,"")+`
`;return c?'<pre><code class="language-'+es(c)+'">'+(d?u:es(u,!0))+`</code></pre>
`:"<pre><code>"+(d?u:es(u,!0))+`</code></pre>
`}blockquote({tokens:l}){return`<blockquote>
${this.parser.parse(l)}</blockquote>
`}html({text:l}){return l}heading({tokens:l,depth:r}){return`<h${r}>${this.parser.parseInline(l)}</h${r}>
`}hr(l){return`<hr>
`}list(l){const r=l.ordered,d=l.start;let c="";for(let x=0;x<l.items.length;x++){const g=l.items[x];c+=this.listitem(g)}const u=r?"ol":"ul",m=r&&d!==1?' start="'+d+'"':"";return"<"+u+m+`>
`+c+"</"+u+`>
`}listitem(l){var d;let r="";if(l.task){const c=this.checkbox({checked:!!l.checked});l.loose?((d=l.tokens[0])==null?void 0:d.type)==="paragraph"?(l.tokens[0].text=c+" "+l.tokens[0].text,l.tokens[0].tokens&&l.tokens[0].tokens.length>0&&l.tokens[0].tokens[0].type==="text"&&(l.tokens[0].tokens[0].text=c+" "+es(l.tokens[0].tokens[0].text),l.tokens[0].tokens[0].escaped=!0)):l.tokens.unshift({type:"text",raw:c+" ",text:c+" ",escaped:!0}):r+=c+" "}return r+=this.parser.parse(l.tokens,!!l.loose),`<li>${r}</li>
`}checkbox({checked:l}){return"<input "+(l?'checked="" ':"")+'disabled="" type="checkbox">'}paragraph({tokens:l}){return`<p>${this.parser.parseInline(l)}</p>
`}table(l){let r="",d="";for(let u=0;u<l.header.length;u++)d+=this.tablecell(l.header[u]);r+=this.tablerow({text:d});let c="";for(let u=0;u<l.rows.length;u++){const m=l.rows[u];d="";for(let x=0;x<m.length;x++)d+=this.tablecell(m[x]);c+=this.tablerow({text:d})}return c&&(c=`<tbody>${c}</tbody>`),`<table>
<thead>
`+r+`</thead>
`+c+`</table>
`}tablerow({text:l}){return`<tr>
${l}</tr>
`}tablecell(l){const r=this.parser.parseInline(l.tokens),d=l.header?"th":"td";return(l.align?`<${d} align="${l.align}">`:`<${d}>`)+r+`</${d}>
`}strong({tokens:l}){return`<strong>${this.parser.parseInline(l)}</strong>`}em({tokens:l}){return`<em>${this.parser.parseInline(l)}</em>`}codespan({text:l}){return`<code>${es(l,!0)}</code>`}br(l){return"<br>"}del({tokens:l}){return`<del>${this.parser.parseInline(l)}</del>`}link({href:l,title:r,tokens:d}){const c=this.parser.parseInline(d),u=Zp(l);if(u===null)return c;l=u;let m='<a href="'+l+'"';return r&&(m+=' title="'+es(r)+'"'),m+=">"+c+"</a>",m}image({href:l,title:r,text:d,tokens:c}){c&&(d=this.parser.parseInline(c,this.parser.textRenderer));const u=Zp(l);if(u===null)return es(d);l=u;let m=`<img src="${l}" alt="${d}"`;return r&&(m+=` title="${es(r)}"`),m+=">",m}text(l){return"tokens"in l&&l.tokens?this.parser.parseInline(l.tokens):"escaped"in l&&l.escaped?l.text:es(l.text)}},Gu=class{strong({text:l}){return l}em({text:l}){return l}codespan({text:l}){return l}del({text:l}){return l}html({text:l}){return l}text({text:l}){return l}link({text:l}){return""+l}image({text:l}){return""+l}br(){return""}},Es=class xu{constructor(r){xt(this,"options");xt(this,"renderer");xt(this,"textRenderer");this.options=r||Dn,this.options.renderer=this.options.renderer||new To,this.renderer=this.options.renderer,this.renderer.options=this.options,this.renderer.parser=this,this.textRenderer=new Gu}static parse(r,d){return new xu(d).parse(r)}static parseInline(r,d){return new xu(d).parseInline(r)}parse(r,d=!0){var u,m;let c="";for(let x=0;x<r.length;x++){const g=r[x];if((m=(u=this.options.extensions)==null?void 0:u.renderers)!=null&&m[g.type]){const f=g,b=this.options.extensions.renderers[f.type].call({parser:this},f);if(b!==!1||!["space","hr","heading","code","table","blockquote","list","html","paragraph","text"].includes(f.type)){c+=b||"";continue}}const p=g;switch(p.type){case"space":{c+=this.renderer.space(p);continue}case"hr":{c+=this.renderer.hr(p);continue}case"heading":{c+=this.renderer.heading(p);continue}case"code":{c+=this.renderer.code(p);continue}case"table":{c+=this.renderer.table(p);continue}case"blockquote":{c+=this.renderer.blockquote(p);continue}case"list":{c+=this.renderer.list(p);continue}case"html":{c+=this.renderer.html(p);continue}case"paragraph":{c+=this.renderer.paragraph(p);continue}case"text":{let f=p,b=this.renderer.text(f);for(;x+1<r.length&&r[x+1].type==="text";)f=r[++x],b+=`
`+this.renderer.text(f);d?c+=this.renderer.paragraph({type:"paragraph",raw:b,text:b,tokens:[{type:"text",raw:b,text:b,escaped:!0}]}):c+=b;continue}default:{const f='Token with "'+p.type+'" type was not found.';if(this.options.silent)return console.error(f),"";throw new Error(f)}}}return c}parseInline(r,d=this.renderer){var u,m;let c="";for(let x=0;x<r.length;x++){const g=r[x];if((m=(u=this.options.extensions)==null?void 0:u.renderers)!=null&&m[g.type]){const f=this.options.extensions.renderers[g.type].call({parser:this},g);if(f!==!1||!["escape","html","link","image","strong","em","codespan","br","del","text"].includes(g.type)){c+=f||"";continue}}const p=g;switch(p.type){case"escape":{c+=d.text(p);break}case"html":{c+=d.html(p);break}case"link":{c+=d.link(p);break}case"image":{c+=d.image(p);break}case"strong":{c+=d.strong(p);break}case"em":{c+=d.em(p);break}case"codespan":{c+=d.codespan(p);break}case"br":{c+=d.br(p);break}case"del":{c+=d.del(p);break}case"text":{c+=d.text(p);break}default:{const f='Token with "'+p.type+'" type was not found.';if(this.options.silent)return console.error(f),"";throw new Error(f)}}}return c}},lu,xo=(lu=class{constructor(l){xt(this,"options");xt(this,"block");this.options=l||Dn}preprocess(l){return l}postprocess(l){return l}processAllTokens(l){return l}provideLexer(){return this.block?Ts.lex:Ts.lexInline}provideParser(){return this.block?Es.parse:Es.parseInline}},xt(lu,"passThroughHooks",new Set(["preprocess","postprocess","processAllTokens"])),lu),p2=class{constructor(...l){xt(this,"defaults",Ru());xt(this,"options",this.setOptions);xt(this,"parse",this.parseMarkdown(!0));xt(this,"parseInline",this.parseMarkdown(!1));xt(this,"Parser",Es);xt(this,"Renderer",To);xt(this,"TextRenderer",Gu);xt(this,"Lexer",Ts);xt(this,"Tokenizer",Ao);xt(this,"Hooks",xo);this.use(...l)}walkTokens(l,r){var c,u;let d=[];for(const m of l)switch(d=d.concat(r.call(this,m)),m.type){case"table":{const x=m;for(const g of x.header)d=d.concat(this.walkTokens(g.tokens,r));for(const g of x.rows)for(const p of g)d=d.concat(this.walkTokens(p.tokens,r));break}case"list":{const x=m;d=d.concat(this.walkTokens(x.items,r));break}default:{const x=m;(u=(c=this.defaults.extensions)==null?void 0:c.childTokens)!=null&&u[x.type]?this.defaults.extensions.childTokens[x.type].forEach(g=>{const p=x[g].flat(1/0);d=d.concat(this.walkTokens(p,r))}):x.tokens&&(d=d.concat(this.walkTokens(x.tokens,r)))}}return d}use(...l){const r=this.defaults.extensions||{renderers:{},childTokens:{}};return l.forEach(d=>{const c={...d};if(c.async=this.defaults.async||c.async||!1,d.extensions&&(d.extensions.forEach(u=>{if(!u.name)throw new Error("extension name required");if("renderer"in u){const m=r.renderers[u.name];m?r.renderers[u.name]=function(...x){let g=u.renderer.apply(this,x);return g===!1&&(g=m.apply(this,x)),g}:r.renderers[u.name]=u.renderer}if("tokenizer"in u){if(!u.level||u.level!=="block"&&u.level!=="inline")throw new Error("extension level must be 'block' or 'inline'");const m=r[u.level];m?m.unshift(u.tokenizer):r[u.level]=[u.tokenizer],u.start&&(u.level==="block"?r.startBlock?r.startBlock.push(u.start):r.startBlock=[u.start]:u.level==="inline"&&(r.startInline?r.startInline.push(u.start):r.startInline=[u.start]))}"childTokens"in u&&u.childTokens&&(r.childTokens[u.name]=u.childTokens)}),c.extensions=r),d.renderer){const u=this.defaults.renderer||new To(this.defaults);for(const m in d.renderer){if(!(m in u))throw new Error(`renderer '${m}' does not exist`);if(["options","parser"].includes(m))continue;const x=m,g=d.renderer[x],p=u[x];u[x]=(...f)=>{let b=g.apply(u,f);return b===!1&&(b=p.apply(u,f)),b||""}}c.renderer=u}if(d.tokenizer){const u=this.defaults.tokenizer||new Ao(this.defaults);for(const m in d.tokenizer){if(!(m in u))throw new Error(`tokenizer '${m}' does not exist`);if(["options","rules","lexer"].includes(m))continue;const x=m,g=d.tokenizer[x],p=u[x];u[x]=(...f)=>{let b=g.apply(u,f);return b===!1&&(b=p.apply(u,f)),b}}c.tokenizer=u}if(d.hooks){const u=this.defaults.hooks||new xo;for(const m in d.hooks){if(!(m in u))throw new Error(`hook '${m}' does not exist`);if(["options","block"].includes(m))continue;const x=m,g=d.hooks[x],p=u[x];xo.passThroughHooks.has(m)?u[x]=f=>{if(this.defaults.async)return Promise.resolve(g.call(u,f)).then(N=>p.call(u,N));const b=g.call(u,f);return p.call(u,b)}:u[x]=(...f)=>{let b=g.apply(u,f);return b===!1&&(b=p.apply(u,f)),b}}c.hooks=u}if(d.walkTokens){const u=this.defaults.walkTokens,m=d.walkTokens;c.walkTokens=function(x){let g=[];return g.push(m.call(this,x)),u&&(g=g.concat(u.call(this,x))),g}}this.defaults={...this.defaults,...c}}),this}setOptions(l){return this.defaults={...this.defaults,...l},this}lexer(l,r){return Ts.lex(l,r??this.defaults)}parser(l,r){return Es.parse(l,r??this.defaults)}parseMarkdown(l){return(d,c)=>{const u={...c},m={...this.defaults,...u},x=this.onError(!!m.silent,!!m.async);if(this.defaults.async===!0&&u.async===!1)return x(new Error("marked(): The async option was set to true by an extension. Remove async: false from the parse options object to return a Promise."));if(typeof d>"u"||d===null)return x(new Error("marked(): input parameter is undefined or null"));if(typeof d!="string")return x(new Error("marked(): input parameter is of type "+Object.prototype.toString.call(d)+", string expected"));m.hooks&&(m.hooks.options=m,m.hooks.block=l);const g=m.hooks?m.hooks.provideLexer():l?Ts.lex:Ts.lexInline,p=m.hooks?m.hooks.provideParser():l?Es.parse:Es.parseInline;if(m.async)return Promise.resolve(m.hooks?m.hooks.preprocess(d):d).then(f=>g(f,m)).then(f=>m.hooks?m.hooks.processAllTokens(f):f).then(f=>m.walkTokens?Promise.all(this.walkTokens(f,m.walkTokens)).then(()=>f):f).then(f=>p(f,m)).then(f=>m.hooks?m.hooks.postprocess(f):f).catch(x);try{m.hooks&&(d=m.hooks.preprocess(d));let f=g(d,m);m.hooks&&(f=m.hooks.processAllTokens(f)),m.walkTokens&&this.walkTokens(f,m.walkTokens);let b=p(f,m);return m.hooks&&(b=m.hooks.postprocess(b)),b}catch(f){return x(f)}}}onError(l,r){return d=>{if(d.message+=`
Please report this to https://github.com/markedjs/marked.`,l){const c="<p>An error occurred:</p><pre>"+es(d.message+"",!0)+"</pre>";return r?Promise.resolve(c):c}if(r)return Promise.reject(d);throw d}}},Cn=new p2;function ot(l,r){return Cn.parse(l,r)}ot.options=ot.setOptions=function(l){return Cn.setOptions(l),ot.defaults=Cn.defaults,Bx(ot.defaults),ot};ot.getDefaults=Ru;ot.defaults=Dn;ot.use=function(...l){return Cn.use(...l),ot.defaults=Cn.defaults,Bx(ot.defaults),ot};ot.walkTokens=function(l,r){return Cn.walkTokens(l,r)};ot.parseInline=Cn.parseInline;ot.Parser=Es;ot.parser=Es.parse;ot.Renderer=To;ot.TextRenderer=Gu;ot.Lexer=Ts;ot.lexer=Ts.lex;ot.Tokenizer=Ao;ot.Hooks=xo;ot.parse=ot;ot.options;ot.setOptions;ot.use;ot.walkTokens;ot.parseInline;Es.parse;Ts.lex;/*! @license DOMPurify 3.3.0 | (c) Cure53 and other contributors | Released under the Apache license 2.0 and Mozilla Public License 2.0 | github.com/cure53/DOMPurify/blob/3.3.0/LICENSE */const{entries:Kx,setPrototypeOf:Wp,isFrozen:x2,getPrototypeOf:g2,getOwnPropertyDescriptor:b2}=Object;let{freeze:ea,seal:Ua,create:gu}=Object,{apply:bu,construct:yu}=typeof Reflect<"u"&&Reflect;ea||(ea=function(r){return r});Ua||(Ua=function(r){return r});bu||(bu=function(r,d){for(var c=arguments.length,u=new Array(c>2?c-2:0),m=2;m<c;m++)u[m-2]=arguments[m];return r.apply(d,u)});yu||(yu=function(r){for(var d=arguments.length,c=new Array(d>1?d-1:0),u=1;u<d;u++)c[u-1]=arguments[u];return new r(...c)});const oo=ta(Array.prototype.forEach),y2=ta(Array.prototype.lastIndexOf),Fp=ta(Array.prototype.pop),wi=ta(Array.prototype.push),v2=ta(Array.prototype.splice),go=ta(String.prototype.toLowerCase),Wd=ta(String.prototype.toString),Fd=ta(String.prototype.match),ji=ta(String.prototype.replace),w2=ta(String.prototype.indexOf),j2=ta(String.prototype.trim),Ya=ta(Object.prototype.hasOwnProperty),Jt=ta(RegExp.prototype.test),Ni=N2(TypeError);function ta(l){return function(r){r instanceof RegExp&&(r.lastIndex=0);for(var d=arguments.length,c=new Array(d>1?d-1:0),u=1;u<d;u++)c[u-1]=arguments[u];return bu(l,r,c)}}function N2(l){return function(){for(var r=arguments.length,d=new Array(r),c=0;c<r;c++)d[c]=arguments[c];return yu(l,d)}}function et(l,r){let d=arguments.length>2&&arguments[2]!==void 0?arguments[2]:go;Wp&&Wp(l,null);let c=r.length;for(;c--;){let u=r[c];if(typeof u=="string"){const m=d(u);m!==u&&(x2(r)||(r[c]=m),u=m)}l[u]=!0}return l}function k2(l){for(let r=0;r<l.length;r++)Ya(l,r)||(l[r]=null);return l}function As(l){const r=gu(null);for(const[d,c]of Kx(l))Ya(l,d)&&(Array.isArray(c)?r[d]=k2(c):c&&typeof c=="object"&&c.constructor===Object?r[d]=As(c):r[d]=c);return r}function ki(l,r){for(;l!==null;){const c=b2(l,r);if(c){if(c.get)return ta(c.get);if(typeof c.value=="function")return ta(c.value)}l=g2(l)}function d(){return null}return d}const ex=ea(["a","abbr","acronym","address","area","article","aside","audio","b","bdi","bdo","big","blink","blockquote","body","br","button","canvas","caption","center","cite","code","col","colgroup","content","data","datalist","dd","decorator","del","details","dfn","dialog","dir","div","dl","dt","element","em","fieldset","figcaption","figure","font","footer","form","h1","h2","h3","h4","h5","h6","head","header","hgroup","hr","html","i","img","input","ins","kbd","label","legend","li","main","map","mark","marquee","menu","menuitem","meter","nav","nobr","ol","optgroup","option","output","p","picture","pre","progress","q","rp","rt","ruby","s","samp","search","section","select","shadow","slot","small","source","spacer","span","strike","strong","style","sub","summary","sup","table","tbody","td","template","textarea","tfoot","th","thead","time","tr","track","tt","u","ul","var","video","wbr"]),eu=ea(["svg","a","altglyph","altglyphdef","altglyphitem","animatecolor","animatemotion","animatetransform","circle","clippath","defs","desc","ellipse","enterkeyhint","exportparts","filter","font","g","glyph","glyphref","hkern","image","inputmode","line","lineargradient","marker","mask","metadata","mpath","part","path","pattern","polygon","polyline","radialgradient","rect","stop","style","switch","symbol","text","textpath","title","tref","tspan","view","vkern"]),tu=ea(["feBlend","feColorMatrix","feComponentTransfer","feComposite","feConvolveMatrix","feDiffuseLighting","feDisplacementMap","feDistantLight","feDropShadow","feFlood","feFuncA","feFuncB","feFuncG","feFuncR","feGaussianBlur","feImage","feMerge","feMergeNode","feMorphology","feOffset","fePointLight","feSpecularLighting","feSpotLight","feTile","feTurbulence"]),S2=ea(["animate","color-profile","cursor","discard","font-face","font-face-format","font-face-name","font-face-src","font-face-uri","foreignobject","hatch","hatchpath","mesh","meshgradient","meshpatch","meshrow","missing-glyph","script","set","solidcolor","unknown","use"]),au=ea(["math","menclose","merror","mfenced","mfrac","mglyph","mi","mlabeledtr","mmultiscripts","mn","mo","mover","mpadded","mphantom","mroot","mrow","ms","mspace","msqrt","mstyle","msub","msup","msubsup","mtable","mtd","mtext","mtr","munder","munderover","mprescripts"]),A2=ea(["maction","maligngroup","malignmark","mlongdiv","mscarries","mscarry","msgroup","mstack","msline","msrow","semantics","annotation","annotation-xml","mprescripts","none"]),tx=ea(["#text"]),ax=ea(["accept","action","align","alt","autocapitalize","autocomplete","autopictureinpicture","autoplay","background","bgcolor","border","capture","cellpadding","cellspacing","checked","cite","class","clear","color","cols","colspan","controls","controlslist","coords","crossorigin","datetime","decoding","default","dir","disabled","disablepictureinpicture","disableremoteplayback","download","draggable","enctype","enterkeyhint","exportparts","face","for","headers","height","hidden","high","href","hreflang","id","inert","inputmode","integrity","ismap","kind","label","lang","list","loading","loop","low","max","maxlength","media","method","min","minlength","multiple","muted","name","nonce","noshade","novalidate","nowrap","open","optimum","part","pattern","placeholder","playsinline","popover","popovertarget","popovertargetaction","poster","preload","pubdate","radiogroup","readonly","rel","required","rev","reversed","role","rows","rowspan","spellcheck","scope","selected","shape","size","sizes","slot","span","srclang","start","src","srcset","step","style","summary","tabindex","title","translate","type","usemap","valign","value","width","wrap","xmlns","slot"]),su=ea(["accent-height","accumulate","additive","alignment-baseline","amplitude","ascent","attributename","attributetype","azimuth","basefrequency","baseline-shift","begin","bias","by","class","clip","clippathunits","clip-path","clip-rule","color","color-interpolation","color-interpolation-filters","color-profile","color-rendering","cx","cy","d","dx","dy","diffuseconstant","direction","display","divisor","dur","edgemode","elevation","end","exponent","fill","fill-opacity","fill-rule","filter","filterunits","flood-color","flood-opacity","font-family","font-size","font-size-adjust","font-stretch","font-style","font-variant","font-weight","fx","fy","g1","g2","glyph-name","glyphref","gradientunits","gradienttransform","height","href","id","image-rendering","in","in2","intercept","k","k1","k2","k3","k4","kerning","keypoints","keysplines","keytimes","lang","lengthadjust","letter-spacing","kernelmatrix","kernelunitlength","lighting-color","local","marker-end","marker-mid","marker-start","markerheight","markerunits","markerwidth","maskcontentunits","maskunits","max","mask","mask-type","media","method","mode","min","name","numoctaves","offset","operator","opacity","order","orient","orientation","origin","overflow","paint-order","path","pathlength","patterncontentunits","patterntransform","patternunits","points","preservealpha","preserveaspectratio","primitiveunits","r","rx","ry","radius","refx","refy","repeatcount","repeatdur","restart","result","rotate","scale","seed","shape-rendering","slope","specularconstant","specularexponent","spreadmethod","startoffset","stddeviation","stitchtiles","stop-color","stop-opacity","stroke-dasharray","stroke-dashoffset","stroke-linecap","stroke-linejoin","stroke-miterlimit","stroke-opacity","stroke","stroke-width","style","surfacescale","systemlanguage","tabindex","tablevalues","targetx","targety","transform","transform-origin","text-anchor","text-decoration","text-rendering","textlength","type","u1","u2","unicode","values","viewbox","visibility","version","vert-adv-y","vert-origin-x","vert-origin-y","width","word-spacing","wrap","writing-mode","xchannelselector","ychannelselector","x","x1","x2","xmlns","y","y1","y2","z","zoomandpan"]),sx=ea(["accent","accentunder","align","bevelled","close","columnsalign","columnlines","columnspan","denomalign","depth","dir","display","displaystyle","encoding","fence","frame","height","href","id","largeop","length","linethickness","lspace","lquote","mathbackground","mathcolor","mathsize","mathvariant","maxsize","minsize","movablelimits","notation","numalign","open","rowalign","rowlines","rowspacing","rowspan","rspace","rquote","scriptlevel","scriptminsize","scriptsizemultiplier","selection","separator","separators","stretchy","subscriptshift","supscriptshift","symmetric","voffset","width","xmlns"]),co=ea(["xlink:href","xml:id","xlink:title","xml:space","xmlns:xlink"]),T2=Ua(/\{\{[\w\W]*|[\w\W]*\}\}/gm),E2=Ua(/<%[\w\W]*|[\w\W]*%>/gm),C2=Ua(/\$\{[\w\W]*/gm),D2=Ua(/^data-[\-\w.\u00B7-\uFFFF]+$/),M2=Ua(/^aria-[\-\w]+$/),Jx=Ua(/^(?:(?:(?:f|ht)tps?|mailto|tel|callto|sms|cid|xmpp|matrix):|[^a-z]|[a-z+.\-]+(?:[^a-z+.\-:]|$))/i),_2=Ua(/^(?:\w+script|data):/i),R2=Ua(/[\u0000-\u0020\u00A0\u1680\u180E\u2000-\u2029\u205F\u3000]/g),Wx=Ua(/^html$/i),O2=Ua(/^[a-z][.\w]*(-[.\w]+)+$/i);var nx=Object.freeze({__proto__:null,ARIA_ATTR:M2,ATTR_WHITESPACE:R2,CUSTOM_ELEMENT:O2,DATA_ATTR:D2,DOCTYPE_NAME:Wx,ERB_EXPR:E2,IS_ALLOWED_URI:Jx,IS_SCRIPT_OR_DATA:_2,MUSTACHE_EXPR:T2,TMPLIT_EXPR:C2});const Si={element:1,text:3,progressingInstruction:7,comment:8,document:9},z2=function(){return typeof window>"u"?null:window},L2=function(r,d){if(typeof r!="object"||typeof r.createPolicy!="function")return null;let c=null;const u="data-tt-policy-suffix";d&&d.hasAttribute(u)&&(c=d.getAttribute(u));const m="dompurify"+(c?"#"+c:"");try{return r.createPolicy(m,{createHTML(x){return x},createScriptURL(x){return x}})}catch{return console.warn("TrustedTypes policy "+m+" could not be created."),null}},lx=function(){return{afterSanitizeAttributes:[],afterSanitizeElements:[],afterSanitizeShadowDOM:[],beforeSanitizeAttributes:[],beforeSanitizeElements:[],beforeSanitizeShadowDOM:[],uponSanitizeAttribute:[],uponSanitizeElement:[],uponSanitizeShadowNode:[]}};function Fx(){let l=arguments.length>0&&arguments[0]!==void 0?arguments[0]:z2();const r=Re=>Fx(Re);if(r.version="3.3.0",r.removed=[],!l||!l.document||l.document.nodeType!==Si.document||!l.Element)return r.isSupported=!1,r;let{document:d}=l;const c=d,u=c.currentScript,{DocumentFragment:m,HTMLTemplateElement:x,Node:g,Element:p,NodeFilter:f,NamedNodeMap:b=l.NamedNodeMap||l.MozNamedAttrMap,HTMLFormElement:N,DOMParser:w,trustedTypes:C}=l,L=p.prototype,R=ki(L,"cloneNode"),K=ki(L,"remove"),ie=ki(L,"nextSibling"),re=ki(L,"childNodes"),be=ki(L,"parentNode");if(typeof x=="function"){const Re=d.createElement("template");Re.content&&Re.content.ownerDocument&&(d=Re.content.ownerDocument)}let U,Y="";const{implementation:O,createNodeIterator:D,createDocumentFragment:oe,getElementsByTagName:Ne}=d,{importNode:P}=c;let ne=lx();r.isSupported=typeof Kx=="function"&&typeof be=="function"&&O&&O.createHTMLDocument!==void 0;const{MUSTACHE_EXPR:Ae,ERB_EXPR:G,TMPLIT_EXPR:J,DATA_ATTR:E,ARIA_ATTR:z,IS_SCRIPT_OR_DATA:te,ATTR_WHITESPACE:ve,CUSTOM_ELEMENT:De}=nx;let{IS_ALLOWED_URI:Ue}=nx,j=null;const q=et({},[...ex,...eu,...tu,...au,...tx]);let X=null;const he=et({},[...ax,...su,...sx,...co]);let ee=Object.seal(gu(null,{tagNameCheck:{writable:!0,configurable:!1,enumerable:!0,value:null},attributeNameCheck:{writable:!0,configurable:!1,enumerable:!0,value:null},allowCustomizedBuiltInElements:{writable:!0,configurable:!1,enumerable:!0,value:!1}})),T=null,W=null;const ce=Object.seal(gu(null,{tagCheck:{writable:!0,configurable:!1,enumerable:!0,value:null},attributeCheck:{writable:!0,configurable:!1,enumerable:!0,value:null}}));let Te=!0,k=!0,fe=!1,xe=!0,we=!1,ze=!0,Ye=!1,bt=!1,He=!1,de=!1,ke=!1,S=!1,pe=!0,Ee=!1;const Me="user-content-";let ge=!0,Ze=!1,qe={},Q=null;const ae=et({},["annotation-xml","audio","colgroup","desc","foreignobject","head","iframe","math","mi","mn","mo","ms","mtext","noembed","noframes","noscript","plaintext","script","style","svg","template","thead","title","video","xmp"]);let Xe=null;const Ct=et({},["audio","video","img","source","image","track"]);let se=null;const F=et({},["alt","class","for","id","label","name","pattern","placeholder","role","summary","title","value","style","xmlns"]),Le="http://www.w3.org/1998/Math/MathML",Qe="http://www.w3.org/2000/svg",Je="http://www.w3.org/1999/xhtml";let je=Je,wt=!1,Pt=null;const wl=et({},[Le,Qe,Je],Wd);let ns=et({},["mi","mo","mn","ms","mtext"]),ls=et({},["annotation-xml"]);const Mn=et({},["title","style","font","a","script"]);let da=null;const _n=["application/xhtml+xml","text/html"],cn="text/html";let _t=null,is=null;const jl=d.createElement("form"),Ms=function(M){return M instanceof RegExp||M instanceof Function},Nl=function(){let M=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};if(!(is&&is===M)){if((!M||typeof M!="object")&&(M={}),M=As(M),da=_n.indexOf(M.PARSER_MEDIA_TYPE)===-1?cn:M.PARSER_MEDIA_TYPE,_t=da==="application/xhtml+xml"?Wd:go,j=Ya(M,"ALLOWED_TAGS")?et({},M.ALLOWED_TAGS,_t):q,X=Ya(M,"ALLOWED_ATTR")?et({},M.ALLOWED_ATTR,_t):he,Pt=Ya(M,"ALLOWED_NAMESPACES")?et({},M.ALLOWED_NAMESPACES,Wd):wl,se=Ya(M,"ADD_URI_SAFE_ATTR")?et(As(F),M.ADD_URI_SAFE_ATTR,_t):F,Xe=Ya(M,"ADD_DATA_URI_TAGS")?et(As(Ct),M.ADD_DATA_URI_TAGS,_t):Ct,Q=Ya(M,"FORBID_CONTENTS")?et({},M.FORBID_CONTENTS,_t):ae,T=Ya(M,"FORBID_TAGS")?et({},M.FORBID_TAGS,_t):As({}),W=Ya(M,"FORBID_ATTR")?et({},M.FORBID_ATTR,_t):As({}),qe=Ya(M,"USE_PROFILES")?M.USE_PROFILES:!1,Te=M.ALLOW_ARIA_ATTR!==!1,k=M.ALLOW_DATA_ATTR!==!1,fe=M.ALLOW_UNKNOWN_PROTOCOLS||!1,xe=M.ALLOW_SELF_CLOSE_IN_ATTR!==!1,we=M.SAFE_FOR_TEMPLATES||!1,ze=M.SAFE_FOR_XML!==!1,Ye=M.WHOLE_DOCUMENT||!1,de=M.RETURN_DOM||!1,ke=M.RETURN_DOM_FRAGMENT||!1,S=M.RETURN_TRUSTED_TYPE||!1,He=M.FORCE_BODY||!1,pe=M.SANITIZE_DOM!==!1,Ee=M.SANITIZE_NAMED_PROPS||!1,ge=M.KEEP_CONTENT!==!1,Ze=M.IN_PLACE||!1,Ue=M.ALLOWED_URI_REGEXP||Jx,je=M.NAMESPACE||Je,ns=M.MATHML_TEXT_INTEGRATION_POINTS||ns,ls=M.HTML_INTEGRATION_POINTS||ls,ee=M.CUSTOM_ELEMENT_HANDLING||{},M.CUSTOM_ELEMENT_HANDLING&&Ms(M.CUSTOM_ELEMENT_HANDLING.tagNameCheck)&&(ee.tagNameCheck=M.CUSTOM_ELEMENT_HANDLING.tagNameCheck),M.CUSTOM_ELEMENT_HANDLING&&Ms(M.CUSTOM_ELEMENT_HANDLING.attributeNameCheck)&&(ee.attributeNameCheck=M.CUSTOM_ELEMENT_HANDLING.attributeNameCheck),M.CUSTOM_ELEMENT_HANDLING&&typeof M.CUSTOM_ELEMENT_HANDLING.allowCustomizedBuiltInElements=="boolean"&&(ee.allowCustomizedBuiltInElements=M.CUSTOM_ELEMENT_HANDLING.allowCustomizedBuiltInElements),we&&(k=!1),ke&&(de=!0),qe&&(j=et({},tx),X=[],qe.html===!0&&(et(j,ex),et(X,ax)),qe.svg===!0&&(et(j,eu),et(X,su),et(X,co)),qe.svgFilters===!0&&(et(j,tu),et(X,su),et(X,co)),qe.mathMl===!0&&(et(j,au),et(X,sx),et(X,co))),M.ADD_TAGS&&(typeof M.ADD_TAGS=="function"?ce.tagCheck=M.ADD_TAGS:(j===q&&(j=As(j)),et(j,M.ADD_TAGS,_t))),M.ADD_ATTR&&(typeof M.ADD_ATTR=="function"?ce.attributeCheck=M.ADD_ATTR:(X===he&&(X=As(X)),et(X,M.ADD_ATTR,_t))),M.ADD_URI_SAFE_ATTR&&et(se,M.ADD_URI_SAFE_ATTR,_t),M.FORBID_CONTENTS&&(Q===ae&&(Q=As(Q)),et(Q,M.FORBID_CONTENTS,_t)),ge&&(j["#text"]=!0),Ye&&et(j,["html","head","body"]),j.table&&(et(j,["tbody"]),delete T.tbody),M.TRUSTED_TYPES_POLICY){if(typeof M.TRUSTED_TYPES_POLICY.createHTML!="function")throw Ni('TRUSTED_TYPES_POLICY configuration option must provide a "createHTML" hook.');if(typeof M.TRUSTED_TYPES_POLICY.createScriptURL!="function")throw Ni('TRUSTED_TYPES_POLICY configuration option must provide a "createScriptURL" hook.');U=M.TRUSTED_TYPES_POLICY,Y=U.createHTML("")}else U===void 0&&(U=L2(C,u)),U!==null&&typeof Y=="string"&&(Y=U.createHTML(""));ea&&ea(M),is=M}},kl=et({},[...eu,...tu,...S2]),Sl=et({},[...au,...A2]),Gi=function(M){let ye=be(M);(!ye||!ye.tagName)&&(ye={namespaceURI:je,tagName:"template"});const Ce=go(M.tagName),rt=go(ye.tagName);return Pt[M.namespaceURI]?M.namespaceURI===Qe?ye.namespaceURI===Je?Ce==="svg":ye.namespaceURI===Le?Ce==="svg"&&(rt==="annotation-xml"||ns[rt]):!!kl[Ce]:M.namespaceURI===Le?ye.namespaceURI===Je?Ce==="math":ye.namespaceURI===Qe?Ce==="math"&&ls[rt]:!!Sl[Ce]:M.namespaceURI===Je?ye.namespaceURI===Qe&&!ls[rt]||ye.namespaceURI===Le&&!ns[rt]?!1:!Sl[Ce]&&(Mn[Ce]||!kl[Ce]):!!(da==="application/xhtml+xml"&&Pt[M.namespaceURI]):!1},aa=function(M){wi(r.removed,{element:M});try{be(M).removeChild(M)}catch{K(M)}},Ha=function(M,ye){try{wi(r.removed,{attribute:ye.getAttributeNode(M),from:ye})}catch{wi(r.removed,{attribute:null,from:ye})}if(ye.removeAttribute(M),M==="is")if(de||ke)try{aa(ye)}catch{}else try{ye.setAttribute(M,"")}catch{}},Al=function(M){let ye=null,Ce=null;if(He)M="<remove></remove>"+M;else{const Ke=Fd(M,/^[\r\n\t ]+/);Ce=Ke&&Ke[0]}da==="application/xhtml+xml"&&je===Je&&(M='<html xmlns="http://www.w3.org/1999/xhtml"><head></head><body>'+M+"</body></html>");const rt=U?U.createHTML(M):M;if(je===Je)try{ye=new w().parseFromString(rt,da)}catch{}if(!ye||!ye.documentElement){ye=O.createDocument(je,"template",null);try{ye.documentElement.innerHTML=wt?Y:rt}catch{}}const At=ye.body||ye.documentElement;return M&&Ce&&At.insertBefore(d.createTextNode(Ce),At.childNodes[0]||null),je===Je?Ne.call(ye,Ye?"html":"body")[0]:Ye?ye.documentElement:At},Tl=function(M){return D.call(M.ownerDocument||M,M,f.SHOW_ELEMENT|f.SHOW_COMMENT|f.SHOW_TEXT|f.SHOW_PROCESSING_INSTRUCTION|f.SHOW_CDATA_SECTION,null)},ka=function(M){return M instanceof N&&(typeof M.nodeName!="string"||typeof M.textContent!="string"||typeof M.removeChild!="function"||!(M.attributes instanceof b)||typeof M.removeAttribute!="function"||typeof M.setAttribute!="function"||typeof M.namespaceURI!="string"||typeof M.insertBefore!="function"||typeof M.hasChildNodes!="function")},Rt=function(M){return typeof g=="function"&&M instanceof g};function jt(Re,M,ye){oo(Re,Ce=>{Ce.call(r,M,ye,is)})}const rs=function(M){let ye=null;if(jt(ne.beforeSanitizeElements,M,null),ka(M))return aa(M),!0;const Ce=_t(M.nodeName);if(jt(ne.uponSanitizeElement,M,{tagName:Ce,allowedTags:j}),ze&&M.hasChildNodes()&&!Rt(M.firstElementChild)&&Jt(/<[/\w!]/g,M.innerHTML)&&Jt(/<[/\w!]/g,M.textContent)||M.nodeType===Si.progressingInstruction||ze&&M.nodeType===Si.comment&&Jt(/<[/\w]/g,M.data))return aa(M),!0;if(!(ce.tagCheck instanceof Function&&ce.tagCheck(Ce))&&(!j[Ce]||T[Ce])){if(!T[Ce]&&qi(Ce)&&(ee.tagNameCheck instanceof RegExp&&Jt(ee.tagNameCheck,Ce)||ee.tagNameCheck instanceof Function&&ee.tagNameCheck(Ce)))return!1;if(ge&&!Q[Ce]){const rt=be(M)||M.parentNode,At=re(M)||M.childNodes;if(At&&rt){const Ke=At.length;for(let qt=Ke-1;qt>=0;--qt){const Sa=R(At[qt],!0);Sa.__removalCount=(M.__removalCount||0)+1,rt.insertBefore(Sa,ie(M))}}}return aa(M),!0}return M instanceof p&&!Gi(M)||(Ce==="noscript"||Ce==="noembed"||Ce==="noframes")&&Jt(/<\/no(script|embed|frames)/i,M.innerHTML)?(aa(M),!0):(we&&M.nodeType===Si.text&&(ye=M.textContent,oo([Ae,G,J],rt=>{ye=ji(ye,rt," ")}),M.textContent!==ye&&(wi(r.removed,{element:M.cloneNode()}),M.textContent=ye)),jt(ne.afterSanitizeElements,M,null),!1)},Rn=function(M,ye,Ce){if(pe&&(ye==="id"||ye==="name")&&(Ce in d||Ce in jl))return!1;if(!(k&&!W[ye]&&Jt(E,ye))){if(!(Te&&Jt(z,ye))){if(!(ce.attributeCheck instanceof Function&&ce.attributeCheck(ye,M))){if(!X[ye]||W[ye]){if(!(qi(M)&&(ee.tagNameCheck instanceof RegExp&&Jt(ee.tagNameCheck,M)||ee.tagNameCheck instanceof Function&&ee.tagNameCheck(M))&&(ee.attributeNameCheck instanceof RegExp&&Jt(ee.attributeNameCheck,ye)||ee.attributeNameCheck instanceof Function&&ee.attributeNameCheck(ye,M))||ye==="is"&&ee.allowCustomizedBuiltInElements&&(ee.tagNameCheck instanceof RegExp&&Jt(ee.tagNameCheck,Ce)||ee.tagNameCheck instanceof Function&&ee.tagNameCheck(Ce))))return!1}else if(!se[ye]){if(!Jt(Ue,ji(Ce,ve,""))){if(!((ye==="src"||ye==="xlink:href"||ye==="href")&&M!=="script"&&w2(Ce,"data:")===0&&Xe[M])){if(!(fe&&!Jt(te,ji(Ce,ve,"")))){if(Ce)return!1}}}}}}}return!0},qi=function(M){return M!=="annotation-xml"&&Fd(M,De)},Ii=function(M){jt(ne.beforeSanitizeAttributes,M,null);const{attributes:ye}=M;if(!ye||ka(M))return;const Ce={attrName:"",attrValue:"",keepAttr:!0,allowedAttributes:X,forceKeepAttr:void 0};let rt=ye.length;for(;rt--;){const At=ye[rt],{name:Ke,namespaceURI:qt,value:Sa}=At,sa=_t(Ke),Pa=Sa;let Ut=Ke==="value"?Pa:j2(Pa);if(Ce.attrName=sa,Ce.attrValue=Ut,Ce.keepAttr=!0,Ce.forceKeepAttr=void 0,jt(ne.uponSanitizeAttribute,M,Ce),Ut=Ce.attrValue,Ee&&(sa==="id"||sa==="name")&&(Ha(Ke,M),Ut=Me+Ut),ze&&Jt(/((--!?|])>)|<\/(style|title|textarea)/i,Ut)){Ha(Ke,M);continue}if(sa==="attributename"&&Fd(Ut,"href")){Ha(Ke,M);continue}if(Ce.forceKeepAttr)continue;if(!Ce.keepAttr){Ha(Ke,M);continue}if(!xe&&Jt(/\/>/i,Ut)){Ha(Ke,M);continue}we&&oo([Ae,G,J],Cl=>{Ut=ji(Ut,Cl," ")});const El=_t(M.nodeName);if(!Rn(El,sa,Ut)){Ha(Ke,M);continue}if(U&&typeof C=="object"&&typeof C.getAttributeType=="function"&&!qt)switch(C.getAttributeType(El,sa)){case"TrustedHTML":{Ut=U.createHTML(Ut);break}case"TrustedScriptURL":{Ut=U.createScriptURL(Ut);break}}if(Ut!==Pa)try{qt?M.setAttributeNS(qt,Ke,Ut):M.setAttribute(Ke,Ut),ka(M)?aa(M):Fp(r.removed)}catch{Ha(Ke,M)}}jt(ne.afterSanitizeAttributes,M,null)},Yi=function Re(M){let ye=null;const Ce=Tl(M);for(jt(ne.beforeSanitizeShadowDOM,M,null);ye=Ce.nextNode();)jt(ne.uponSanitizeShadowNode,ye,null),rs(ye),Ii(ye),ye.content instanceof m&&Re(ye.content);jt(ne.afterSanitizeShadowDOM,M,null)};return r.sanitize=function(Re){let M=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},ye=null,Ce=null,rt=null,At=null;if(wt=!Re,wt&&(Re="<!-->"),typeof Re!="string"&&!Rt(Re))if(typeof Re.toString=="function"){if(Re=Re.toString(),typeof Re!="string")throw Ni("dirty is not a string, aborting")}else throw Ni("toString is not a function");if(!r.isSupported)return Re;if(bt||Nl(M),r.removed=[],typeof Re=="string"&&(Ze=!1),Ze){if(Re.nodeName){const Sa=_t(Re.nodeName);if(!j[Sa]||T[Sa])throw Ni("root node is forbidden and cannot be sanitized in-place")}}else if(Re instanceof g)ye=Al("<!---->"),Ce=ye.ownerDocument.importNode(Re,!0),Ce.nodeType===Si.element&&Ce.nodeName==="BODY"||Ce.nodeName==="HTML"?ye=Ce:ye.appendChild(Ce);else{if(!de&&!we&&!Ye&&Re.indexOf("<")===-1)return U&&S?U.createHTML(Re):Re;if(ye=Al(Re),!ye)return de?null:S?Y:""}ye&&He&&aa(ye.firstChild);const Ke=Tl(Ze?Re:ye);for(;rt=Ke.nextNode();)rs(rt),Ii(rt),rt.content instanceof m&&Yi(rt.content);if(Ze)return Re;if(de){if(ke)for(At=oe.call(ye.ownerDocument);ye.firstChild;)At.appendChild(ye.firstChild);else At=ye;return(X.shadowroot||X.shadowrootmode)&&(At=P.call(c,At,!0)),At}let qt=Ye?ye.outerHTML:ye.innerHTML;return Ye&&j["!doctype"]&&ye.ownerDocument&&ye.ownerDocument.doctype&&ye.ownerDocument.doctype.name&&Jt(Wx,ye.ownerDocument.doctype.name)&&(qt="<!DOCTYPE "+ye.ownerDocument.doctype.name+`>
`+qt),we&&oo([Ae,G,J],Sa=>{qt=ji(qt,Sa," ")}),U&&S?U.createHTML(qt):qt},r.setConfig=function(){let Re=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};Nl(Re),bt=!0},r.clearConfig=function(){is=null,bt=!1},r.isValidAttribute=function(Re,M,ye){is||Nl({});const Ce=_t(Re),rt=_t(M);return Rn(Ce,rt,ye)},r.addHook=function(Re,M){typeof M=="function"&&wi(ne[Re],M)},r.removeHook=function(Re,M){if(M!==void 0){const ye=y2(ne[Re],M);return ye===-1?void 0:v2(ne[Re],ye,1)[0]}return Fp(ne[Re])},r.removeHooks=function(Re){ne[Re]=[]},r.removeAllHooks=function(){ne=lx()},r}var $2=Fx();const U2={NOTE:"Note",TIP:"Tip",WARN:"Warning",WARNING:"Warning",DANGER:"Danger",INFO:"Info",SUCCESS:"Success"};ot.setOptions({gfm:!0,breaks:!0,smartLists:!0});const B2=l=>l.replace(/<blockquote>\s*<p>\[!(\w+)\]\s*([^<]*)<\/p>\s*([\s\S]*?)<\/blockquote>/gim,(r,d,c,u)=>{const m=U2[d.toUpperCase()]||d,x=`${c}${u}`.trim();return`
      <div class="admonition admonition-${d.toLowerCase()}">
        <div class="admonition-title">${m}</div>
        <div class="admonition-body">${x}</div>
      </div>
    `}),H2=l=>l.replace(/\[ACTION:[^\]]+\]/g,"").trim(),eg=(l="")=>{const r=H2(l),d=ot.parse(r),c=B2(d);return $2.sanitize(c)},St=({content:l,className:r})=>l?a.jsx("div",{className:`message-content ${r||""}`,dangerouslySetInnerHTML:{__html:eg(l)}}):null,G2=(l,r)=>{if(r!=null&&r.includes("delete"))return{type:"warning",icon:"",title:"Action Taken"};switch(l){case"people":return{type:"success",icon:"",title:"Person Added"};case"concept":return{type:"info",icon:"",title:"Concept Added"};case"brand":return{type:"tip",icon:"",title:"Brand Element Added"};case"calendar":return{type:"note",icon:"",title:"Event Added"};case"journal":return{type:"info",icon:"",title:"Journal Entry Created"};case"agenda":return{type:"tip",icon:"",title:"Agenda Item Added"};case"deliverable":return{type:"success",icon:"",title:"Deliverable Created"};case"goal":return{type:"success",icon:"",title:"Goal Added"};case"task":return{type:"tip",icon:"",title:"Task Created"};case"pomodoro":return{type:"note",icon:"",title:"Pomodoro Session"};default:return{type:"info",icon:"",title:"Action Executed"}}},q2=({event:l,onRate:r})=>{const[d,c]=v.useState(!1);v.useEffect(()=>{(async()=>{(await gt("dismissedActionAdmonitions",[])).includes(l.id)&&c(!0)})()},[l.id]);const u=async()=>{c(!0);const f=await gt("dismissedActionAdmonitions",[]);await nn("dismissedActionAdmonitions",[...f,l.id])};if(d)return null;const{type:m,icon:x,title:g}=G2(l.kind,l.actionId);let p=`**${g}**

${l.summary}`;if(l.detail&&(p+=`

${l.detail}`),l.payload){const f=l.payload.split("|").filter(Boolean);f.length>0&&(p+=`

**Details:**
`,f.forEach((b,N)=>{b.trim()&&(p+=`- ${b.trim()}
`)}))}return a.jsxs("div",{className:`admonition admonition-${m} relative group mt-3`,children:[a.jsx("button",{onClick:u,className:"absolute top-3 right-3 opacity-0 group-hover:opacity-100 transition-opacity p-1 rounded-full hover:bg-white/20",title:"Dismiss",children:a.jsx(Qt,{className:"w-4 h-4"})}),a.jsxs("div",{className:"flex items-start gap-3 mb-3",children:[a.jsx("span",{className:"text-2xl",children:x}),a.jsx("div",{className:"flex-1",children:a.jsxs("div",{className:"admonition-title flex items-center justify-between",children:[a.jsx("span",{children:g}),a.jsx("span",{className:"text-xs font-normal opacity-60",children:new Date(l.timestamp).toLocaleTimeString("en-US",{hour:"numeric",minute:"2-digit"})})]})})]}),a.jsx("div",{className:"admonition-body",children:a.jsx(St,{content:p})}),a.jsxs("div",{className:"mt-4 pt-4 border-t border-current/20 flex items-center justify-between gap-4",children:[a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx("span",{className:"text-xs opacity-70",children:"Rate this action:"}),a.jsx("button",{onClick:()=>r(l.id,-1),className:`p-1.5 rounded-lg transition ${l.rating===-1?"bg-red-500/20 text-red-700 border border-red-500/30":"hover:bg-white/20 border border-transparent"}`,title:"Negative",children:a.jsx(uv,{className:"w-4 h-4"})}),a.jsx("button",{onClick:()=>r(l.id,1),className:`p-1.5 rounded-lg transition ${l.rating===1?"bg-green-500/20 text-green-700 border border-green-500/30":"hover:bg-white/20 border border-transparent"}`,title:"Positive",children:a.jsx(cv,{className:"w-4 h-4"})})]}),a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx(xl,{className:"w-4 h-4 opacity-60"}),a.jsx("input",{type:"number",min:"1",max:"100",value:l.rating&&l.rating>1?l.rating:"",onChange:f=>{const b=f.target.value?Number(f.target.value):void 0;b!==void 0&&b>=1&&b<=100&&r(l.id,b)},placeholder:"1-100",className:"w-20 px-2 py-1 rounded-lg border border-current/20 bg-white/20 text-xs focus:outline-none focus:ring-2 focus:ring-current/30"}),l.rating&&l.rating>1&&a.jsx("span",{className:"text-xs opacity-60",children:"/100"})]})]})]})},uo=({isMobile:l=!1})=>{var he,ee;const{currentThread:r,messages:d,sendMessage:c,updateThreadArtifact:u,activeView:m,primedAction:x,setPrimedAction:g,activeEntity:p,isLoading:f}=as(),[b,N]=v.useState(""),[w,C]=v.useState(""),[L,R]=v.useState([]),[K,ie]=v.useState(360),[re,be]=v.useState(!1),U=v.useRef(null),Y=v.useRef(null),[O,D]=v.useState(!1),[oe,Ne]=v.useState(!1),[P,ne]=v.useState(!1),[Ae,G]=v.useState(null),[J,E]=v.useState(null),z=v.useRef(null),te=v.useRef(null);v.useEffect(()=>{r!=null&&r.artifactContent?C(r.artifactContent):C("")},[r]);const ve=v.useMemo(()=>d.slice(-20),[d]);v.useEffect(()=>{const T=async()=>{const{getSetting:ce}=await La(async()=>{const{getSetting:k}=await Promise.resolve().then(()=>fo);return{getSetting:k}},void 0);return await ce("sylvia_action_ratings",{})};return(async()=>{const ce=Ex(),Te=await T();if(ce.length){const k=ce.reverse().map(fe=>({...fe,rating:Te[fe.id]}));R(fe=>[...k,...fe].slice(0,50))}window.__SYLVIA_LOG__=async k=>{const fe=await T();R(xe=>[{...k,rating:fe[k.id]},...xe].slice(0,50))}})(),()=>{delete window.__SYLVIA_LOG__}},[]);const De=async(T,W)=>{R(fe=>fe.map(xe=>xe.id===T?{...xe,rating:W}:xe));const{saveSetting:ce,getSetting:Te}=await La(async()=>{const{saveSetting:fe,getSetting:xe}=await Promise.resolve().then(()=>fo);return{saveSetting:fe,getSetting:xe}},void 0),k=await Te("sylvia_action_ratings",{});k[T]=W,await ce("sylvia_action_ratings",k)},Ue=T=>{var ce;const W=(ce=T.target.files)==null?void 0:ce[0];W&&W.type.startsWith("audio/")&&(G(W),E(null)),z.current&&(z.current.value="")},j=T=>{var ce;const W=(ce=T.target.files)==null?void 0:ce[0];W&&W.type.startsWith("video/")&&(E(W),G(null)),te.current&&(te.current.value="")},q=async()=>{if(!b.trim()&&!Ae&&!J)return;let T,W,ce;if(Ae){const xe=await Ae.arrayBuffer();W=btoa(String.fromCharCode(...new Uint8Array(xe))),T={name:Ae.name,type:Ae.type,size:`${(Ae.size/1024).toFixed(1)} KB`}}else if(J){const xe=await J.arrayBuffer(),we=btoa(String.fromCharCode(...new Uint8Array(xe)));ce=`data:${J.type||"video/mp4"};base64,${we}`,T={name:J.name,type:J.type,size:`${(J.size/1024).toFixed(1)} KB`}}const{getSetting:Te}=await La(async()=>{const{getSetting:xe}=await Promise.resolve().then(()=>fo);return{getSetting:xe}},void 0);let k;oe?k=await Te("imageGenModel","google/gemini-2.5-flash-image"):P?k=await Te("webSearchModel","openai/gpt-4o-mini-search-preview"):(Ae||J)&&(k=await Te("audioVideoModel","google/gemini-2.5-flash-preview-09-2025"));const fe=b.trim();N(""),G(null),E(null),Ne(!1),ne(!1),await c(fe,T,{useImageGeneration:oe,useWebSearch:P,useAudioVideo:!!(Ae||J),audioBase64:Ae?{data:W,format:Ae.name.endsWith(".mp3")?"mp3":"wav"}:void 0,videoBase64:ce,modelOverride:k})};v.useEffect(()=>{if(l)return;const T=ce=>{if(!re||!U.current)return;const k=U.current.getBoundingClientRect().right-ce.clientX,fe=Math.max(320,Math.min(800,k));ie(fe)},W=()=>{be(!1)};return re&&(document.addEventListener("mousemove",T),document.addEventListener("mouseup",W),document.body.style.cursor="ew-resize",document.body.style.userSelect="none"),()=>{document.removeEventListener("mousemove",T),document.removeEventListener("mouseup",W),document.body.style.cursor="",document.body.style.userSelect=""}},[re,l]),v.useEffect(()=>{if(Y.current&&d.length>0){const T=Y.current;T.scrollHeight-T.scrollTop-T.clientHeight<100&&(T.scrollTop=T.scrollHeight)}},[d]),v.useEffect(()=>{const T=Y.current;if(!T)return;const W=()=>{const ce=T.scrollHeight-T.scrollTop-T.clientHeight<100;D(!ce&&T.scrollHeight>T.clientHeight)};return T.addEventListener("scroll",W),W(),()=>T.removeEventListener("scroll",W)},[d]);const X=()=>{Y.current&&(Y.current.scrollTo({top:Y.current.scrollHeight,behavior:"smooth"}),D(!1))};return a.jsxs("aside",{ref:U,className:`glass-panel ${l?"":"resizable-panel"} flex-shrink-0 ${l?"":"rounded-[32px]"} flex flex-col border border-white/70 shadow-xl overflow-hidden ${l?"w-full h-full":""}`,style:l?void 0:{width:`${K}px`,minWidth:"320px",maxWidth:"800px"},children:[!l&&a.jsx("div",{className:"resize-handle",onMouseDown:T=>{T.preventDefault(),be(!0)}}),a.jsxs("div",{className:"flex flex-col border-b border-white/70",children:[a.jsx("div",{className:"flex items-center justify-between px-5 py-4",children:a.jsxs("div",{children:[a.jsx("p",{className:"text-xs uppercase tracking-[0.3em] text-secondary-light",children:"Sylvia"}),a.jsx("h2",{className:"text-xl font-semibold",children:(r==null?void 0:r.title)||"Polaris Console"}),a.jsx("p",{className:"text-xs text-secondary-light",children:r?"Thread intelligence":`Ready for ${m}`})]})}),p&&p.type&&p.id&&a.jsx("div",{className:"px-5 pb-3",children:a.jsxs("div",{className:"glass-panel rounded-2xl border border-white/70 bg-white/60 px-3 py-2 flex items-center gap-2",children:[a.jsx("div",{className:"w-2 h-2 rounded-full bg-purple-500 animate-pulse"}),a.jsxs("div",{className:"flex-1 min-w-0",children:[a.jsx("p",{className:"text-[10px] uppercase tracking-[0.2em] text-secondary-light",children:"Focused on"}),a.jsxs("p",{className:"text-xs font-medium text-primary-light truncate",children:[p.type==="person"&&"Person",p.type==="brand"&&"Brand Element",p.type==="concept"&&"Concept",p.type==="journal"&&"Journal Entry",p.type==="calendar"&&"Calendar Event",p.type==="goal"&&"Goal",p.type==="task"&&"Task",p.type==="agenda"&&"Agenda Item",p.type==="deliverable"&&"Deliverable",((he=p.data)==null?void 0:he.name)&&`: ${p.data.name}`,((ee=p.data)==null?void 0:ee.title)&&`: ${p.data.title}`]})]})]})})]}),a.jsxs("div",{className:"flex flex-col flex-1 min-h-0 overflow-hidden",children:[a.jsxs("div",{ref:Y,className:"flex-1 min-h-0 overflow-y-auto invisible-scrollbar px-5 py-4 space-y-3 relative",children:[ve.length===0?a.jsx("p",{className:"text-sm text-secondary-light",children:"No conversation yet. Start by giving Sylvia instructions."}):a.jsxs(a.Fragment,{children:[ve.map((T,W)=>{const ce=ve.findIndex((fe,xe)=>xe>W&&fe.sender==="user"),Te=ce!==-1?ve[ce]:null;let k=[];if(T.sender==="ai"){const fe=T.createdAt,we=W===ve.length-1?Date.now():(Te==null?void 0:Te.createdAt)||Date.now();k=L.filter(ze=>{const Ye=ze.timestamp;return Ye>=fe&&Ye<we}),k.sort((ze,Ye)=>ze.timestamp-Ye.timestamp)}return a.jsxs(yo.Fragment,{children:[a.jsxs("div",{className:`rounded-3xl border px-3 py-3 text-sm ${T.sender==="user"?"bg-white text-primary-light border-white/80 ml-auto":"bg-[#F4F7FF] text-primary-light border-[#C7D8FF] mr-auto"}`,style:{maxWidth:"90%"},children:[a.jsx("p",{className:"text-[10px] uppercase tracking-[0.3em] text-secondary-light mb-2",children:T.sender==="user"?"You":"Sylvia"}),T.sender==="user"?a.jsx(St,{content:T.text}):a.jsx("div",{className:"sylvia-markdown-panel",children:a.jsx(St,{content:T.text})})]}),T.sender==="ai"&&k.map(fe=>a.jsx(q2,{event:fe,onRate:De},fe.id))]},T.id)}),f&&a.jsx("div",{className:"rounded-3xl border px-4 py-4 text-sm bg-[#F4F7FF] text-primary-light border-[#C7D8FF] mr-auto animate-pulse",style:{maxWidth:"90%"},children:a.jsxs("div",{className:"flex items-center gap-3",children:[a.jsx(y1,{className:"w-4 h-4 animate-spin text-purple-500"}),a.jsxs("div",{className:"flex-1",children:[a.jsx("p",{className:"text-[10px] uppercase tracking-[0.3em] text-secondary-light mb-2",children:"Sylvia"}),a.jsxs("div",{className:"flex gap-1.5",children:[a.jsx("div",{className:"w-2 h-2 rounded-full bg-purple-400 animate-bounce",style:{animationDelay:"0ms"}}),a.jsx("div",{className:"w-2 h-2 rounded-full bg-purple-400 animate-bounce",style:{animationDelay:"150ms"}}),a.jsx("div",{className:"w-2 h-2 rounded-full bg-purple-400 animate-bounce",style:{animationDelay:"300ms"}})]})]})]})})]}),O&&a.jsx("button",{onClick:X,className:"absolute bottom-6 right-6 p-2 rounded-full bg-white/90 border border-white/70 shadow-lg hover:bg-white transition-all hover:scale-110 z-10",title:"Scroll to bottom",children:a.jsx(_y,{className:"w-5 h-5 text-primary-light"})})]}),a.jsxs("div",{className:"flex-shrink-0 px-5 py-4 border-t border-white/70 bg-white/80",children:[x&&a.jsxs("div",{className:"mb-2 px-3 py-2 rounded-2xl bg-black text-white text-xs flex items-center justify-between",children:[a.jsxs("span",{className:"uppercase tracking-[0.2em]",children:["Primed: ",x.replace(/\./g," ").replace(/\b\w/g,T=>T.toUpperCase())]}),a.jsx("button",{onClick:()=>g(null),className:"ml-2 px-2 py-0.5 rounded-full bg-white/20 hover:bg-white/30 text-xs",title:"Cancel priming",children:""})]}),a.jsxs("div",{className:"mb-2 flex items-center gap-2 flex-wrap",children:[a.jsxs("button",{onClick:()=>Ne(!oe),className:`px-3 py-1.5 rounded-full text-xs font-medium transition flex items-center gap-1.5 ${oe?"bg-purple-100 text-purple-700 border border-purple-300":"bg-white/80 border border-white/70 text-secondary-light hover:bg-white"}`,title:"Image Generation",children:[a.jsx(d1,{className:"w-3.5 h-3.5"}),"Image"]}),a.jsxs("button",{onClick:()=>ne(!P),className:`px-3 py-1.5 rounded-full text-xs font-medium transition flex items-center gap-1.5 ${P?"bg-blue-100 text-blue-700 border border-blue-300":"bg-white/80 border border-white/70 text-secondary-light hover:bg-white"}`,title:"Web Search",children:[a.jsx(ss,{className:"w-3.5 h-3.5"}),"Search"]}),a.jsxs("label",{className:"px-3 py-1.5 rounded-full text-xs font-medium transition flex items-center gap-1.5 bg-white/80 border border-white/70 text-secondary-light hover:bg-white cursor-pointer",children:[a.jsx($x,{className:"w-3.5 h-3.5"}),"Audio",a.jsx("input",{ref:z,type:"file",accept:"audio/wav,audio/mp3,audio/*",onChange:Ue,className:"hidden"})]}),a.jsxs("label",{className:"px-3 py-1.5 rounded-full text-xs font-medium transition flex items-center gap-1.5 bg-white/80 border border-white/70 text-secondary-light hover:bg-white cursor-pointer",children:[a.jsx(Ux,{className:"w-3.5 h-3.5"}),"Video",a.jsx("input",{ref:te,type:"file",accept:"video/mp4,video/mpeg,video/mov,video/webm,video/*",onChange:j,className:"hidden"})]}),(Ae||J)&&a.jsxs("div",{className:"flex items-center gap-2 px-2 py-1 rounded-full bg-gray-100 text-xs",children:[a.jsx("span",{className:"text-secondary-light",children:(Ae==null?void 0:Ae.name)||(J==null?void 0:J.name)}),a.jsx("button",{onClick:()=>{G(null),E(null)},className:"text-secondary-light hover:text-primary-light",children:a.jsx(Qt,{className:"w-3 h-3"})})]})]}),a.jsxs("div",{className:`rounded-3xl border border-white/80 bg-white flex items-end gap-2 ${l?"px-3 py-3":"px-4 py-3"}`,children:[a.jsx("textarea",{value:b,onChange:T=>N(T.target.value),onKeyDown:T=>{T.key==="Enter"&&!T.shiftKey&&(T.preventDefault(),q())},placeholder:x?"Type your message here (will be sent as primed action)...":"Send context or directives",className:`flex-1 resize-none bg-transparent outline-none ${l?"text-base":"text-sm"}`,rows:l?3:2}),a.jsx("button",{onClick:q,className:`${l?"px-5 py-3":"px-4 py-2"} rounded-2xl bg-[#111827] text-white text-sm font-medium disabled:bg-gray-400 transition-colors ${l?"min-h-[44px]":""}`,disabled:!b.trim()&&!Ae&&!J,children:"Send"})]})]})]})]})},I2=()=>{const[l,r]=v.useState(!1);v.useEffect(()=>{const c=document.documentElement.classList.contains("dark");r(c)},[]);const d=()=>{const c=document.documentElement,u=!l;u?(c.classList.add("dark"),localStorage.setItem("darkMode","true")):(c.classList.remove("dark"),localStorage.setItem("darkMode","false")),r(u)};return a.jsx("button",{onClick:d,className:"p-3 rounded-2xl bg-white/70 hover:bg-white/90 border border-white/70 transition-all hover:shadow-lg","aria-label":l?"Switch to light mode":"Switch to dark mode",title:l?"Switch to light mode":"Switch to dark mode",children:l?a.jsx(lv,{className:"w-5 h-5 text-yellow-600"}):a.jsx(T1,{className:"w-5 h-5 text-indigo-600"})})},bo=l=>{const d=Date.now()-l,c=Math.floor(d/1e3),u=Math.floor(c/60),m=Math.floor(u/60),x=Math.floor(m/24),g=Math.floor(x/7),p=Math.floor(x/30),f=Math.floor(x/365);return c<60?"Just now":u<60?`${u}m ago`:m<24?`${m}h ago`:x===1?"Yesterday":x<7?`${x}d ago`:g<4?`${g}w ago`:p<12?`${p}mo ago`:`${f}y ago`},Y2=(l,r)=>l.length<=r?l:l.substring(0,r-3)+"...",V2=(l,r)=>{const d=JSON.stringify(l,null,2),c=new Blob([d],{type:"application/json"}),u=URL.createObjectURL(c),m=document.createElement("a");m.href=u,m.download=r,document.body.appendChild(m),m.click(),document.body.removeChild(m),URL.revokeObjectURL(u)},X2=()=>{const[l,r]=v.useState({totalEntities:0,todayActivity:0,weekStreak:0,totalMessages:0,totalPomodoros:0,completedGoals:0}),[d,c]=v.useState([]);v.useEffect(()=>{(async()=>{const[x,g,p,f,b,N,w]=await Promise.all([I.getBrandRecords(),I.getPeopleRecords(),I.getConceptRecords(),I.getJournalEntries(),I.getMessages(),I.getPomodoroSessions(),I.getGoals()]),C=x.length+g.length+p.length+f.length,L=new Date().setHours(0,0,0,0),R=b.filter(D=>D.createdAt>=L).length,K=f.filter(D=>D.createdAt>=L).length,ie=R+K,re=Date.now()-10080*60*1e3,be=b.filter(D=>D.createdAt>=re),U=new Set(be.map(D=>new Date(D.createdAt).toDateString())).size,Y=w.filter(D=>D.status==="completed").length;r({totalEntities:C,todayActivity:ie,weekStreak:U,totalMessages:b.length,totalPomodoros:N.length,completedGoals:Y});const O=[];f.slice(-5).forEach(D=>{O.push({type:"journal",time:D.createdAt,label:D.title||"Journal entry"})}),p.slice(-5).forEach(D=>{O.push({type:"concept",time:D.createdAt,label:D.name})}),g.slice(-5).forEach(D=>{O.push({type:"person",time:D.createdAt,label:D.name})}),O.sort((D,oe)=>oe.time-D.time),c(O.slice(0,10))})()},[]);const u=[{label:"Total Items",value:l.totalEntities,icon:a.jsx(ko,{className:"w-6 h-6"}),color:"from-blue-500 to-indigo-500"},{label:"Activity Today",value:l.todayActivity,icon:a.jsx(ln,{className:"w-6 h-6"}),color:"from-green-500 to-emerald-500"},{label:"Week Streak",value:`${l.weekStreak} days`,icon:a.jsx(Mo,{className:"w-6 h-6"}),color:"from-orange-500 to-red-500"},{label:"Pomodoros",value:l.totalPomodoros,icon:a.jsx($a,{className:"w-6 h-6"}),color:"from-purple-500 to-pink-500"},{label:"Goals Complete",value:l.completedGoals,icon:a.jsx(Li,{className:"w-6 h-6"}),color:"from-yellow-500 to-orange-500"},{label:"Messages",value:l.totalMessages,icon:a.jsx(wa,{className:"w-6 h-6"}),color:"from-cyan-500 to-blue-500"}];return a.jsxs("div",{className:"space-y-6",children:[a.jsx("div",{className:"grid grid-cols-2 md:grid-cols-3 lg:grid-cols-6 gap-4",children:u.map((m,x)=>a.jsxs("div",{className:"glass-panel rounded-2xl border border-white/70 p-4 card-hover",children:[a.jsx("div",{className:`w-12 h-12 rounded-xl bg-gradient-to-br ${m.color} flex items-center justify-center text-white mb-3`,children:m.icon}),a.jsx("div",{className:"text-2xl font-bold text-primary-light",children:m.value}),a.jsx("div",{className:"text-xs text-secondary-light mt-1",children:m.label})]},x))}),a.jsxs("div",{className:"glass-panel rounded-2xl border border-white/70 p-6",children:[a.jsx("h3",{className:"text-lg font-semibold text-primary-light mb-4",children:"Recent Activity"}),a.jsx("div",{className:"space-y-3",children:d.length===0?a.jsx("p",{className:"text-sm text-secondary-light text-center py-8",children:"No recent activity"}):d.map((m,x)=>a.jsxs("div",{className:"flex items-center justify-between py-2 border-b border-white/30 last:border-0",children:[a.jsxs("div",{className:"flex items-center gap-3",children:[a.jsx("div",{className:`w-2 h-2 rounded-full ${m.type==="journal"?"bg-purple-500":m.type==="concept"?"bg-blue-500":"bg-green-500"}`}),a.jsx("span",{className:"text-sm font-medium text-primary-light",children:m.label})]}),a.jsx("span",{className:"text-xs text-secondary-light",children:bo(m.time)})]},x))})]})]})},Q2=async()=>{const[l,r,d,c,u,m,x,g,p,f,b]=await Promise.all([I.getBrandRecords(),I.getPeopleRecords(),I.getConceptRecords(),I.getJournalEntries(),I.getAgendaItems(),I.getDeliverables(),I.getCalendarEvents(),I.getPomodoroSessions(),I.getGoals(),I.getThreads(),I.getMessages()]),N={};for(let w=0;w<localStorage.length;w++){const C=localStorage.key(w);if(C&&!C.startsWith("polaris_")){const L=localStorage.getItem(C);if(L)try{N[C]=JSON.parse(L)}catch{N[C]=L}}}return{version:"1.0.0",exportDate:Date.now(),data:{brand:l,people:r,concepts:d,journal:c,agenda:u,deliverables:m,calendar:x,pomodoro:g,goals:p,threads:f,messages:b},settings:N}},P2=async l=>{const r=await Q2(),d=`polaris-backup-${new Date().toISOString().split("T")[0]}.json`;V2(r,d)},Z2=async(l,r={})=>{try{const{merge:d=!1,overwrite:c=!1}=r;if(l.data.brand)for(const u of l.data.brand)d?(!await I.getBrandRecord(u.id)||c)&&await I.saveBrandRecord(u):await I.saveBrandRecord(u);if(l.data.people)for(const u of l.data.people)d?(!await I.getPeopleRecord(u.id)||c)&&await I.savePeopleRecord(u):await I.savePeopleRecord(u);if(l.data.concepts)for(const u of l.data.concepts)d?(!await I.getConceptRecord(u.id)||c)&&await I.saveConceptRecord(u):await I.saveConceptRecord(u);if(l.data.journal)for(const u of l.data.journal)d?(!await I.getJournalEntry(u.id)||c)&&await I.saveJournalEntry(u):await I.saveJournalEntry(u);return l.settings&&!d&&Object.entries(l.settings).forEach(([u,m])=>{localStorage.setItem(u,JSON.stringify(m))}),{success:!0}}catch(d){return console.error("Import failed:",d),{success:!1,error:d instanceof Error?d.message:"Unknown error"}}},K2=l=>new Promise((r,d)=>{const c=new FileReader;c.onload=u=>{var m;try{const x=(m=u.target)==null?void 0:m.result,g=JSON.parse(x);if(!g.version||!g.data){d(new Error("Invalid backup file format"));return}r(g)}catch{d(new Error("Failed to parse backup file"))}},c.onerror=()=>d(new Error("Failed to read file")),c.readAsText(l)}),ix=["openrouter/polaris-alpha","anthropic/claude-sonnet-4.5","anthropic/claude-haiku-4.5","anthropic/claude-3.5-sonnet","anthropic/claude-3-opus","google/gemini-2.5-pro","google/gemini-2.5-flash-preview-09-2025","google/gemini-2.5-flash-lite-preview-09-2025","google/gemini-pro-1.5","x-ai/grok-4","x-ai/grok-4-fast","x-ai/grok-code-fast-1","openai/gpt-5-chat","openai/gpt-5","openai/gpt-5-mini","openai/gpt-5-nano","openai/gpt-4.1","openai/gpt-4.1-nano","openai/gpt-4o","openai/gpt-4o-mini","meta-llama/llama-3.1-405b-instruct","meta-llama/llama-3.1-70b-instruct","minimax/minimax-m2","amazon/nova-premier-v1"],rx=["qwen/qwen3-embedding-8b","google/gemini-embedding-001","openai/text-embedding-3-small"],J2=()=>{const{settings:l,updateSetting:r,setActiveView:d}=as(),{success:c,error:u}=Eo(),[m,x]=v.useState(!1),[g,p]=v.useState(!1),[f,b]=v.useState(!1),[N,w]=v.useState(!1),[C,L]=v.useState(!1),[R,K]=v.useState(!1),[ie,re]=v.useState(!1),be=v.useRef(null);return a.jsxs("div",{className:"flex flex-col h-full",children:[a.jsxs("div",{className:"glass-panel border border-white/70 dark:border-white/10 rounded-[32px] mx-4 mt-2 px-6 py-6 flex flex-col gap-2 md:flex-row md:items-center md:justify-between",children:[a.jsxs("div",{children:[a.jsx("p",{className:"text-xs uppercase tracking-[0.2em] text-secondary-light dark:text-secondary-dark",children:"Every piece of intel matters"}),a.jsx("h1",{className:"text-2xl font-semibold mt-1",children:"Northstar Control Room"}),a.jsx("p",{className:"text-sm text-secondary-light dark:text-secondary-dark max-w-2xl",children:"This is where Sylvia gets her edge. Bring your own OpenRouter key, shape the Polaris stack, and tune the JIT Memory pipeline so our agent never forgets what matters."})]}),a.jsx("button",{onClick:()=>d(Ge.CHAT),className:"mt-2 md:mt-0 inline-flex items-center justify-center px-4 py-2 rounded-2xl bg-black text-white text-sm hover:shadow-lg transition-colors",children:"Back to chat"})]}),a.jsxs("div",{className:"flex-1 overflow-y-auto px-4 py-6 space-y-6 soft-scrollbar",children:[a.jsxs("section",{className:"glass-panel rounded-[32px] border border-white/70 dark:border-white/10 p-6 shadow-xl",children:[a.jsxs("div",{className:"flex flex-col gap-2 mb-6",children:[a.jsx("p",{className:"text-xs font-semibold text-accent tracking-[0.3em] uppercase",children:"Bring Your Own Key"}),a.jsx("h2",{className:"text-xl font-semibold",children:"OpenRouter  Polaris Alpha"}),a.jsx("p",{className:"text-sm text-secondary-light dark:text-secondary-dark",children:"We default to `openrouter/polaris-alpha` (256k context, 128k max output). Your key never leaves the browser  it lives in IndexedDB alongside your threads."})]}),a.jsxs("div",{className:"grid gap-6 lg:grid-cols-2",children:[a.jsxs("div",{className:"space-y-4",children:[a.jsx("label",{className:"text-sm font-medium",children:"OpenRouter API Key"}),a.jsxs("div",{className:"relative",children:[a.jsx("input",{type:m?"text":"password",value:l.apiKey||"",onChange:U=>r("apiKey",U.target.value),placeholder:"sk-or-...",className:"w-full p-3 rounded-2xl border border-white/70 bg-white/80 pr-28"}),a.jsx("button",{type:"button",onClick:()=>x(U=>!U),className:"absolute top-1/2 right-2 -translate-y-1/2 text-sm px-3 py-1 rounded-full bg-black text-white",children:m?"Hide":"Reveal"})]}),a.jsx("p",{className:"text-xs text-secondary-light dark:text-secondary-dark",children:"Stored locally only. Rotate whenever you need."}),a.jsxs("div",{className:"space-y-4 pt-2",children:[a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsx("label",{className:"text-sm font-medium",children:"Weighted System Prompts"}),a.jsxs("div",{className:"flex gap-2",children:[l.weightedPrompts&&l.weightedPrompts.length>0&&a.jsx("button",{onClick:()=>{const U=l.weightedPrompts||[],Y=Math.floor(100/U.length),O=100-Y*U.length,D=U.map((oe,Ne)=>({...oe,weight:Y+(Ne<O?1:0)}));r("weightedPrompts",D)},className:"px-3 py-1 rounded-full bg-white border border-white/70 text-xs hover:bg-white/90",title:"Distribute weights evenly",children:"Auto-Balance"}),a.jsx("button",{onClick:()=>{const U=l.weightedPrompts||[],Y={id:`prompt-${Date.now()}`,content:"",weight:U.length===0?100:0};r("weightedPrompts",[...U,Y])},className:"px-3 py-1 rounded-full bg-black text-white text-xs",children:"+ Add Prompt"})]})]}),l.weightedPrompts&&l.weightedPrompts.length>0?a.jsxs("div",{className:"space-y-3",children:[l.weightedPrompts.map((U,Y)=>((l.weightedPrompts||[]).reduce((O,D)=>O+D.weight,0),a.jsxs("div",{className:"rounded-2xl border border-white/70 bg-white/80 p-4 space-y-3",children:[a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("span",{className:"text-xs uppercase tracking-[0.2em] text-secondary-light",children:["Prompt ",Y+1]}),a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx("input",{type:"number",min:"0",max:"100",value:U.weight,onChange:O=>{const D=Math.max(0,Math.min(100,parseInt(O.target.value)||0)),oe=[...l.weightedPrompts||[]];oe[Y]={...U,weight:D},r("weightedPrompts",oe)},className:"w-20 px-2 py-1 rounded-full border border-white/70 bg-white text-sm text-center"}),a.jsx("span",{className:"text-xs text-secondary-light",children:"%"}),a.jsx("button",{onClick:()=>{const O=(l.weightedPrompts||[]).filter(D=>D.id!==U.id);if(O.length>0&&O.reduce((D,oe)=>D+oe.weight,0)!==100){const oe=(100-O.reduce((Ne,P)=>Ne+P.weight,0))/O.length;O.forEach(Ne=>{Ne.weight=Math.max(0,Math.min(100,Ne.weight+oe))})}r("weightedPrompts",O)},className:"px-2 py-1 rounded-full bg-red-500/20 text-red-600 text-xs hover:bg-red-500/30",children:""})]})]}),a.jsx("textarea",{value:U.content,onChange:O=>{const D=[...l.weightedPrompts||[]];D[Y]={...U,content:O.target.value},r("weightedPrompts",D)},placeholder:`Enter prompt ${Y+1} content...`,className:"w-full rounded-2xl border border-white/70 bg-white px-4 py-3 text-sm min-h-[120px] resize-y"})]},U.id))),a.jsxs("div",{className:`rounded-2xl border p-3 text-xs ${(l.weightedPrompts||[]).reduce((U,Y)=>U+Y.weight,0)===100?"border-green-500/50 bg-green-500/10 text-green-700":"border-red-500/50 bg-red-500/10 text-red-700"}`,children:[a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsx("span",{children:"Total Weight:"}),a.jsxs("span",{className:"font-semibold",children:[(l.weightedPrompts||[]).reduce((U,Y)=>U+Y.weight,0),"%"]})]}),(l.weightedPrompts||[]).reduce((U,Y)=>U+Y.weight,0)!==100&&a.jsx("p",{className:"mt-1",children:"Weights must equal exactly 100%"})]})]}):a.jsxs("div",{className:"rounded-2xl border border-dashed border-white/50 p-4 text-center text-xs text-secondary-light",children:[a.jsx("p",{children:"No weighted prompts configured."}),a.jsx("p",{className:"mt-1",children:"Add prompts with weights that sum to 100%"})]})]}),a.jsx("div",{className:"rounded-2xl border border-dashed border-white/50 p-3 text-xs text-secondary-light",children:"Legacy single system prompt (deprecated - use weighted prompts above)"}),a.jsxs("div",{className:"space-y-2 pt-2",children:[a.jsx("label",{className:"text-sm font-medium",children:"Auxiliary OpenRouter Key (optional)"}),a.jsxs("div",{className:"relative",children:[a.jsx("input",{type:g?"text":"password",value:l.secondaryApiKey||"",onChange:U=>r("secondaryApiKey",U.target.value),placeholder:"sk-or-...",className:"w-full p-3 rounded-2xl border border-white/70 bg-white/80 pr-28"}),a.jsx("button",{type:"button",onClick:()=>p(U=>!U),className:"absolute top-1/2 right-2 -translate-y-1/2 text-sm px-3 py-1 rounded-full bg-black text-white",children:g?"Hide":"Reveal"})]}),a.jsx("p",{className:"text-xs text-secondary-light dark:text-secondary-dark",children:"Use this for embeddings, experiments, or as a reserve key. Stored locally just like the primary key."})]}),a.jsxs("div",{className:"space-y-2 pt-2",children:[a.jsx("label",{className:"text-sm font-medium",children:"Audit API Key (Free Model)"}),a.jsxs("div",{className:"relative",children:[a.jsx("input",{type:f?"text":"password",value:l.auditApiKey||"",onChange:U=>r("auditApiKey",U.target.value),placeholder:"sk-or-... (uses free polaris-alpha)",className:"w-full p-3 rounded-2xl border border-white/70 bg-white/80 pr-28"}),a.jsx("button",{type:"button",onClick:()=>b(U=>!U),className:"absolute top-1/2 right-2 -translate-y-1/2 text-sm px-3 py-1 rounded-full bg-black text-white",children:f?"Hide":"Reveal"})]}),a.jsx("p",{className:"text-xs text-secondary-light dark:text-secondary-dark",children:"Optional key for the audit agent. Uses free openrouter/polaris-alpha model to periodically audit journal entries and catch missed entity extractions. Runs automatically when configured."})]})]}),a.jsxs("div",{className:"space-y-6",children:[a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium mb-2",children:"Primary Model"}),a.jsxs("div",{className:"relative",children:[a.jsx("select",{className:"w-full p-3 rounded-2xl border border-white/70 bg-white/80 appearance-none",value:l.mainModel||"openrouter/polaris-alpha",onChange:U=>r("mainModel",U.target.value),children:ix.map(U=>a.jsx("option",{value:U,children:U},U))}),a.jsx(po,{className:"w-5 h-5 absolute right-3 top-1/2 -translate-y-1/2 pointer-events-none"})]}),a.jsx("p",{className:"text-xs text-secondary-light dark:text-secondary-dark mt-1",children:"Max output tokens defaults to 128k for Polaris Alpha."})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium mb-2",children:"Backup Model"}),a.jsxs("div",{className:"relative",children:[a.jsx("select",{className:"w-full p-3 rounded-2xl border border-white/70 bg-white/80 appearance-none",value:l.backupModel||"x-ai/grok-4-fast",onChange:U=>r("backupModel",U.target.value),children:ix.map(U=>a.jsx("option",{value:U,children:U},U))}),a.jsx(po,{className:"w-5 h-5 absolute right-3 top-1/2 -translate-y-1/2 pointer-events-none"})]})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium mb-2",children:"Embedding Model"}),a.jsxs("div",{className:"relative",children:[a.jsx("select",{className:"w-full p-3 rounded-2xl border border-white/70 bg-white/80 appearance-none",value:l.embeddingModel||rx[0],onChange:U=>r("embeddingModel",U.target.value),children:rx.map(U=>a.jsx("option",{value:U,children:U},U))}),a.jsx(po,{className:"w-5 h-5 absolute right-3 top-1/2 -translate-y-1/2 pointer-events-none"})]}),a.jsx("p",{className:"text-xs text-secondary-light dark:text-secondary-dark mt-1",children:"Used for memory search + post-processing visibility when we turn on embedding flows."})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium mb-2",children:"Audit Interval (minutes)"}),a.jsx("input",{type:"number",min:"15",max:"1440",className:"w-full p-3 rounded-2xl border border-white/70 bg-white/80",placeholder:"60",value:l.auditInterval||60,onChange:U=>r("auditInterval",parseInt(U.target.value)||60)}),a.jsx("p",{className:"text-xs text-secondary-light dark:text-secondary-dark mt-1",children:"How often the audit agent checks journal entries for missed entities (15-1440 minutes). Default: 60 minutes."})]}),a.jsxs("div",{children:[a.jsxs("label",{className:"flex items-center justify-between text-sm font-medium mb-2",children:[a.jsx("span",{children:"Temperature"}),a.jsx("span",{className:"text-secondary-light dark:text-secondary-dark",children:l.temperature??.7})]}),a.jsx("input",{type:"range",min:"0",max:"2",step:"0.1",value:l.temperature??.7,onChange:U=>r("temperature",parseFloat(U.target.value)),className:"w-full"})]}),a.jsxs("div",{children:[a.jsxs("label",{className:"flex items-center justify-between text-sm font-medium mb-2",children:[a.jsx("span",{children:"Max Output Tokens"}),a.jsx("span",{className:"text-secondary-light dark:text-secondary-dark",children:l.maxTokens??128e3})]}),a.jsx("input",{type:"range",min:"4000",max:"128000",step:"1000",value:l.maxTokens??128e3,onChange:U=>r("maxTokens",Number(U.target.value)),className:"w-full"}),a.jsx("p",{className:"text-xs text-secondary-light dark:text-secondary-dark mt-1",children:"Keep it high for Polaris (128k), dial it down for smaller context models."})]})]})]})]}),a.jsxs("section",{className:"glass-panel rounded-[32px] border border-white/70 dark:border-white/10 p-6 shadow-xl space-y-4",children:[a.jsxs("div",{children:[a.jsx("p",{className:"text-xs uppercase tracking-[0.3em] text-secondary-light dark:text-secondary-dark",children:"Experimental"}),a.jsx("h2",{className:"text-xl font-semibold mt-1",children:"Preflection"}),a.jsx("p",{className:"text-sm text-secondary-light dark:text-secondary-dark",children:"Dynamic instruction generation that analyzes context and generates query-specific system instructions. Each query receives tailored guidance optimized for its type and available context."})]}),a.jsxs("div",{className:"flex items-center justify-between p-4 rounded-xl border border-white/70 dark:border-white/10 bg-white/50 dark:bg-gray-900/50",children:[a.jsxs("div",{className:"flex-1",children:[a.jsx("label",{htmlFor:"preflectionEnabled",className:"text-sm font-medium cursor-pointer",children:"Enable Preflection"}),a.jsx("p",{className:"text-xs text-secondary-light dark:text-secondary-dark mt-1",children:"Analyzes each query, generates dynamic instructions, and primes the agent with context-specific guidance. Adds one extra API call per message."})]}),a.jsx("div",{className:"flex items-center",children:a.jsx("input",{type:"checkbox",id:"preflectionEnabled",checked:l.preflectionEnabled||!1,onChange:U=>r("preflectionEnabled",U.target.checked),className:"w-5 h-5 rounded border-gray-300 text-black focus:ring-2 focus:ring-black"})})]})]}),a.jsxs("section",{className:"glass-panel rounded-[32px] border border-white/70 dark:border-white/10 p-6 shadow-xl space-y-4",children:[a.jsxs("div",{children:[a.jsx("p",{className:"text-xs uppercase tracking-[0.3em] text-secondary-light dark:text-secondary-dark",children:"Status"}),a.jsx("h2",{className:"text-xl font-semibold mt-1",children:"Local persistence"}),a.jsx("p",{className:"text-sm text-secondary-light dark:text-secondary-dark",children:"Threads, artifacts, and settings stay on-device via IndexedDB for true BYO-key privacy."})]}),a.jsx("div",{className:"grid gap-4 md:grid-cols-3",children:[{title:"Threads",detail:"Conversation metadata + ordering live locally."},{title:"Artifacts",detail:"Per-thread documents sync directly to IndexedDB."},{title:"Settings",detail:"API prefs + keys never leave the browser."}].map(U=>a.jsxs("div",{className:"p-4 rounded-xl border border-white/70 dark:border-white/10 flex flex-col gap-2",children:[a.jsx("div",{className:"w-8 h-8 rounded-full bg-accent/10 text-accent flex items-center justify-center",children:a.jsx(Rv,{className:"w-4 h-4"})}),a.jsx("h3",{className:"font-semibold text-base",children:U.title}),a.jsx("p",{className:"text-sm text-secondary-light dark:text-secondary-dark",children:U.detail})]},U.title))})]}),a.jsxs("section",{className:"glass-panel rounded-[32px] border border-white/70 dark:border-white/10 p-6 shadow-xl space-y-4",children:[a.jsxs("div",{children:[a.jsx("p",{className:"text-xs uppercase tracking-[0.3em] text-secondary-light dark:text-secondary-dark",children:"Personalization"}),a.jsx("h2",{className:"text-xl font-semibold mt-1",children:"Appearance"}),a.jsx("p",{className:"text-sm text-secondary-light dark:text-secondary-dark",children:"Customize how Polaris looks and feels."})]}),a.jsxs("div",{className:"flex items-center justify-between p-4 rounded-xl border border-white/70 dark:border-white/10 bg-white/50 dark:bg-gray-900/50",children:[a.jsxs("div",{className:"flex-1",children:[a.jsx("label",{className:"text-sm font-medium",children:"Dark Mode"}),a.jsx("p",{className:"text-xs text-secondary-light dark:text-secondary-dark mt-1",children:"Toggle between light and dark themes"})]}),a.jsx(I2,{})]})]}),a.jsxs("section",{className:"glass-panel rounded-[32px] border border-white/70 dark:border-white/10 p-6 shadow-xl space-y-4",children:[a.jsxs("div",{children:[a.jsx("p",{className:"text-xs uppercase tracking-[0.3em] text-secondary-light dark:text-secondary-dark",children:"Analytics"}),a.jsx("h2",{className:"text-xl font-semibold mt-1",children:"Your Insights"}),a.jsx("p",{className:"text-sm text-secondary-light dark:text-secondary-dark",children:"Track your activity, progress, and streaks."})]}),a.jsx(X2,{})]}),a.jsxs("section",{className:"glass-panel rounded-[32px] border border-white/70 dark:border-white/10 p-6 shadow-xl space-y-4",children:[a.jsxs("div",{children:[a.jsx("p",{className:"text-xs uppercase tracking-[0.3em] text-secondary-light dark:text-secondary-dark",children:"Backup & Restore"}),a.jsx("h2",{className:"text-xl font-semibold mt-1",children:"Data Management"}),a.jsx("p",{className:"text-sm text-secondary-light dark:text-secondary-dark",children:"Export your data for backup or import from a previous backup."})]}),a.jsxs("div",{className:"grid gap-4 md:grid-cols-2",children:[a.jsx("button",{onClick:async()=>{K(!0);try{await P2(),c("Data exported successfully!")}catch{u("Failed to export data")}finally{K(!1)}},disabled:R,className:"p-4 rounded-2xl bg-gradient-to-r from-blue-600 to-indigo-600 text-white font-semibold hover:from-blue-700 hover:to-indigo-700 transition-all shadow-lg hover:shadow-xl disabled:opacity-50 disabled:cursor-not-allowed",children:R?"Exporting...":" Export Data"}),a.jsxs("div",{children:[a.jsx("input",{ref:be,type:"file",accept:".json",className:"hidden",onChange:async U=>{var O;const Y=(O=U.target.files)==null?void 0:O[0];if(Y){re(!0);try{const D=await K2(Y),oe=await Z2(D,{merge:!0,overwrite:!1});oe.success?(c("Data imported successfully!"),setTimeout(()=>window.location.reload(),1500)):u(oe.error||"Failed to import data")}catch{u("Invalid backup file")}finally{re(!1),be.current&&(be.current.value="")}}}}),a.jsx("button",{onClick:()=>{var U;return(U=be.current)==null?void 0:U.click()},disabled:ie,className:"w-full p-4 rounded-2xl bg-gradient-to-r from-green-600 to-emerald-600 text-white font-semibold hover:from-green-700 hover:to-emerald-700 transition-all shadow-lg hover:shadow-xl disabled:opacity-50 disabled:cursor-not-allowed",children:ie?"Importing...":" Import Data"})]})]}),a.jsx("p",{className:"text-xs text-secondary-light dark:text-secondary-dark",children:"Import will merge new data with existing data. Existing records won't be overwritten."})]}),a.jsxs("section",{className:"glass-panel rounded-[32px] border-2 border-red-200 dark:border-red-800 p-6 shadow-xl space-y-4 bg-gradient-to-br from-red-50/50 to-orange-50/50 dark:from-red-950/20 dark:to-orange-950/20",children:[a.jsxs("div",{children:[a.jsx("p",{className:"text-xs uppercase tracking-[0.3em] text-red-600 dark:text-red-400 font-bold",children:" DANGER ZONE"}),a.jsx("h2",{className:"text-xl font-semibold mt-1 text-red-700 dark:text-red-300",children:"Clear Everything"}),a.jsx("p",{className:"text-sm text-secondary-light dark:text-secondary-dark mt-2",children:"This will permanently delete all your data: threads, messages, journal entries, calendar events, agenda items, people, clients, brand records, pomodoros, XP, and achievements. This action cannot be undone."})]}),N?a.jsxs("div",{className:"space-y-4 p-4 rounded-2xl bg-white/80 dark:bg-gray-900/80 border-2 border-red-300 dark:border-red-700",children:[a.jsxs("div",{className:"flex items-start gap-3",children:[a.jsx("span",{className:"text-2xl",children:""}),a.jsxs("div",{className:"flex-1",children:[a.jsx("p",{className:"font-semibold text-red-700 dark:text-red-300 mb-2",children:"Are you absolutely sure?"}),a.jsx("p",{className:"text-sm text-gray-700 dark:text-gray-300 mb-4",children:"This will delete:"}),a.jsxs("ul",{className:"text-sm text-gray-600 dark:text-gray-400 space-y-1 mb-4 list-disc list-inside",children:[a.jsx("li",{children:"All threads and messages"}),a.jsx("li",{children:"All journal entries"}),a.jsx("li",{children:"All calendar events"}),a.jsx("li",{children:"All agenda items"}),a.jsx("li",{children:"All people, clients, and brand records"}),a.jsx("li",{children:"All pomodoro sessions"}),a.jsx("li",{children:"All XP and achievements"}),a.jsx("li",{children:"All deliverables, goals, and other records"})]}),a.jsx("p",{className:"text-xs font-semibold text-red-600 dark:text-red-400",children:"This action is IRREVERSIBLE. Your settings (API keys, etc.) will be preserved unless you check the box below."})]})]}),a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx("input",{type:"checkbox",id:"clearSettings",className:"w-4 h-4 rounded border-gray-300"}),a.jsx("label",{htmlFor:"clearSettings",className:"text-sm text-gray-700 dark:text-gray-300",children:"Also clear settings (API keys, prompts, etc.)"})]}),a.jsxs("div",{className:"flex gap-3",children:[a.jsx("button",{onClick:async()=>{var U;L(!0);try{const Y=((U=document.getElementById("clearSettings"))==null?void 0:U.checked)||!1;await jx(Y),w(!1),L(!1),window.location.reload()}catch(Y){console.error("Failed to clear data:",Y),alert("Failed to clear data. Please try again."),L(!1)}},disabled:C,className:"px-6 py-3 rounded-2xl bg-red-600 hover:bg-red-700 text-white font-semibold transition-colors shadow-lg disabled:opacity-50 disabled:cursor-not-allowed",children:C?"Clearing...":"Yes, Clear Everything"}),a.jsx("button",{onClick:()=>{w(!1)},disabled:C,className:"px-6 py-3 rounded-2xl bg-white dark:bg-gray-800 border border-gray-300 dark:border-gray-600 text-gray-700 dark:text-gray-300 font-semibold transition-colors disabled:opacity-50 disabled:cursor-not-allowed",children:"Cancel"})]})]}):a.jsx("div",{className:"flex gap-3",children:a.jsx("button",{onClick:()=>w(!0),className:"px-6 py-3 rounded-2xl bg-red-600 hover:bg-red-700 text-white font-semibold transition-colors shadow-lg",children:"Clear All Data"})})]})]})]})},Wt=({title:l,subtitle:r,children:d})=>a.jsxs("div",{className:"glass-panel flex-1 h-full lg:rounded-[34px] rounded-2xl border border-white/70 shadow-2xl overflow-hidden flex flex-col",children:[a.jsxs("div",{className:"px-4 sm:px-6 lg:px-8 py-4 lg:py-6 border-b border-white/70 flex-shrink-0",children:[a.jsx("p",{className:"text-[10px] sm:text-xs uppercase tracking-[0.3em] text-secondary-light",children:"Sylvia Workspace"}),a.jsx("h1",{className:"text-xl sm:text-2xl lg:text-3xl font-semibold mt-1",children:l}),r&&a.jsx("p",{className:"text-xs sm:text-sm text-secondary-light mt-1 max-w-2xl",children:r})]}),a.jsx("div",{className:"flex-1 min-h-0 overflow-y-auto px-4 sm:px-6 lg:px-8 py-4 lg:py-6 invisible-scrollbar",children:d})]}),ox={voice:{label:"Voice",Icon:$x,color:"text-purple-700",bgColor:"bg-purple-50"},visual:{label:"Visual",Icon:_u,color:"text-pink-700",bgColor:"bg-pink-50"},positioning:{label:"Positioning",Icon:Mu,color:"text-blue-700",bgColor:"bg-blue-50"},values:{label:"Values",Icon:jo,color:"text-emerald-700",bgColor:"bg-emerald-50"},messaging:{label:"Messaging",Icon:No,color:"text-indigo-700",bgColor:"bg-indigo-50"},other:{label:"Other",Icon:ts,color:"text-gray-700",bgColor:"bg-gray-50"}},nu=(l,r)=>{const d=`${l} ${r}`.toLowerCase();return d.match(/\b(voice|tone|speak|say|language|words|communicate)\b/)?"voice":d.match(/\b(visual|design|color|font|logo|image|aesthetic|style)\b/)?"visual":d.match(/\b(position|positioning|market|competitor|differentiate|unique)\b/)?"positioning":d.match(/\b(value|values|principle|belief|ethos|mission|vision)\b/)?"values":d.match(/\b(message|messaging|tagline|slogan|copy|content|narrative)\b/)?"messaging":"other"},W2=()=>{const{setEntityDetailView:l,setActiveEntity:r}=as(),[d,c]=v.useState([]),[u,m]=v.useState(null),[x,g]=v.useState(""),[p,f]=v.useState(""),[b,N]=v.useState(""),[w,C]=v.useState("all"),L=v.useCallback(async()=>{const Y=await I.getBrandRecords();c(Y.sort((O,D)=>D.createdAt-O.createdAt))},[]);v.useEffect(()=>(L(),on("brand",L)),[L]);const R=v.useMemo(()=>{let Y=d;if(w!=="all"&&(Y=Y.filter(O=>nu(O.name,O.description)===w)),b.trim()){const O=b.toLowerCase();Y=Y.filter(D=>D.name.toLowerCase().includes(O)||D.description.toLowerCase().includes(O))}return Y},[d,w,b]),K=v.useMemo(()=>{const Y={voice:0,visual:0,positioning:0,values:0,messaging:0,other:0};return d.forEach(O=>{const D=nu(O.name,O.description);Y[D]++}),Y},[d]),ie=Y=>{m(Y),g(Y.name),f(Y.description)},re=async()=>{u&&(await I.saveBrandRecord({...u,name:x,description:p}),m(null),g(""),f(""),L())},be=()=>{m(null),g(""),f("")},U=async Y=>{await I.deleteBrandRecord(Y),L()};return a.jsxs(Wt,{title:"Brand Systems",subtitle:"Your brand DNA. Voice, visual language, positioning, and values that Sylvia references in every conversation.",children:[a.jsx("div",{className:"grid grid-cols-2 sm:grid-cols-3 md:grid-cols-6 gap-4 mb-6",children:Object.entries(ox).map(([Y,O])=>{const D=Y,oe=K[D];return a.jsxs("div",{onClick:()=>C(w===D?"all":D),className:`rounded-2xl border p-4 cursor-pointer transition-all ${w===D?"border-black bg-black text-white shadow-lg":"border-white/70 bg-white/80 hover:bg-white hover:shadow-md"}`,children:[a.jsxs("div",{className:"flex items-center justify-between mb-2",children:[a.jsx(O.Icon,{className:`w-6 h-6 ${w===D?"text-white":O.color}`}),a.jsx("span",{className:`text-2xl font-bold ${w===D?"text-white":"text-black"}`,children:oe})]}),a.jsx("p",{className:`text-xs uppercase tracking-[0.2em] ${w===D?"text-white/80":"text-secondary-light"}`,children:O.label})]},Y)})}),a.jsx("div",{className:"mb-6",children:a.jsx("div",{className:"glass-panel rounded-2xl border border-white/70 p-4",children:a.jsxs("div",{className:"flex items-center gap-3",children:[a.jsx(ss,{className:"w-5 h-5 text-secondary-light"}),a.jsx("input",{type:"text",value:b,onChange:Y=>N(Y.target.value),placeholder:"Search brand elements...",className:"flex-1 bg-transparent outline-none text-lg placeholder:text-secondary-light"}),b&&a.jsx("button",{onClick:()=>N(""),className:"px-3 py-1 rounded-full bg-white/80 border border-white/70 text-sm hover:bg-white transition",children:"Clear"})]})})}),R.length===0?a.jsxs("div",{className:"glass-panel rounded-3xl border border-white/70 p-12 text-center",children:[a.jsx("div",{className:"flex justify-center mb-4",children:a.jsx(_u,{className:"w-16 h-16 text-secondary-light"})}),a.jsx("h3",{className:"text-xl font-semibold mb-2",children:d.length===0?"No brand elements yet":"No matches found"}),a.jsx("p",{className:"text-secondary-light",children:d.length===0?"Tell Sylvia about your brand voice, visual language, positioning, or values. She'll remember and reference them.":"Try adjusting your search or category filter."})]}):a.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:R.map(Y=>{const O=nu(Y.name,Y.description),D=ox[O],oe=(u==null?void 0:u.id)===Y.id;return a.jsx("div",{onClick:Ne=>{Ne.target.closest("button")||oe||(l({type:"brand",id:Y.id}),r({type:"brand",id:Y.id,data:Y}))},className:`rounded-3xl border p-6 transition-all ${oe?"border-black bg-black text-white shadow-xl":"border-white/70 bg-white/90 hover:shadow-lg hover:border-white cursor-pointer"}`,children:oe?a.jsxs("div",{className:"space-y-4",children:[a.jsxs("div",{children:[a.jsx("label",{className:"text-xs uppercase tracking-[0.2em] text-white/70 mb-2 block",children:"Element Name"}),a.jsx("input",{value:x,onChange:Ne=>g(Ne.target.value),className:"w-full rounded-2xl border border-white/30 bg-white/10 px-4 py-2 text-white placeholder:text-white/50 focus:outline-none focus:ring-2 focus:ring-white/50",placeholder:"Brand element name"})]}),a.jsxs("div",{children:[a.jsx("label",{className:"text-xs uppercase tracking-[0.2em] text-white/70 mb-2 block",children:"Description / Guidance"}),a.jsx("textarea",{value:p,onChange:Ne=>f(Ne.target.value),rows:6,className:"w-full rounded-2xl border border-white/30 bg-white/10 px-4 py-2 text-white placeholder:text-white/50 focus:outline-none focus:ring-2 focus:ring-white/50 resize-none",placeholder:"How should Sylvia reference this? What makes it unique?"})]}),a.jsxs("div",{className:"flex gap-2",children:[a.jsx("button",{onClick:re,className:"flex-1 px-4 py-2 rounded-2xl bg-white text-black font-semibold hover:bg-gray-100 transition",children:"Save"}),a.jsx("button",{onClick:be,className:"px-4 py-2 rounded-2xl bg-white/20 text-white border border-white/30 hover:bg-white/30 transition",children:"Cancel"})]})]}):a.jsxs(a.Fragment,{children:[a.jsx("div",{className:"flex items-start justify-between mb-4",children:a.jsxs("div",{className:"flex items-center gap-3",children:[a.jsx("div",{className:`w-12 h-12 rounded-2xl ${D.bgColor} flex items-center justify-center`,children:a.jsx(D.Icon,{className:`w-6 h-6 ${D.color}`})}),a.jsxs("div",{children:[a.jsx("div",{className:`inline-block px-2 py-0.5 rounded-full text-xs font-semibold ${D.bgColor} ${D.color} mb-1`,children:D.label}),a.jsx("h3",{className:"text-xl font-bold",children:Y.name})]})]})}),a.jsx("div",{className:"mb-4",children:a.jsx(St,{content:Y.description,className:"text-sm leading-relaxed"})}),a.jsxs("div",{className:"flex items-center justify-between pt-4 border-t border-white/20",children:[a.jsx("span",{className:"text-xs text-secondary-light",children:new Date(Y.createdAt).toLocaleDateString("en-US",{month:"short",day:"numeric",year:"numeric"})}),a.jsxs("div",{className:"flex gap-2",children:[a.jsx("button",{onClick:()=>ie(Y),className:"px-3 py-1.5 rounded-full bg-white/80 border border-white/70 text-xs font-medium hover:bg-white transition",children:"Edit"}),a.jsx("button",{onClick:()=>U(Y.id),className:"px-3 py-1.5 rounded-full bg-white/80 border border-white/70 text-xs font-medium hover:bg-red-50 hover:border-red-200 hover:text-red-700 transition",children:"Delete"})]})]})]})},Y.id)})})]})},F2=[/\b(?:ai|artificial intelligence|machine learning|application|app|system|platform|tool|software|technology|concept|idea|model|framework|algorithm|method|approach|strategy|process|workflow|solution|product|service|feature|functionality)\b/i,/\b(?:the|a|an)\s+[A-Z][a-z]+ [A-Z][a-z]+/i,/[A-Z][a-z]+ [A-Z][a-z]+ (?:is|are|works|does|can|will|should|has|have)/i],ew=[/\b(?:person|people|individual|human|contact|colleague|friend|partner|client|customer|user|they|them|their|he|she|his|her|him)\b/i,/\b(?:meet|met|talk|spoke|email|call|contact|know|works with|collaborates with)\b/i,/\b(?:@|email|phone|number|address)\b/i];async function tw(){const l={migrated:0,kept:0,errors:[]};try{const r=await I.getPeopleRecords();for(const d of r){const c=[d.name,d.role,d.company,d.profile,d.notes].filter(Boolean).join(" "),u=F2.some(x=>x.test(c)),m=ew.some(x=>x.test(c));if(u&&!m)try{const x={id:`concept-${Date.now()}-${Math.random().toString(36).substr(2,9)}`,name:d.name,description:d.profile||d.notes||void 0,category:d.company||d.role||void 0,tags:d.tags,notes:d.notes||void 0,createdAt:d.createdAt};await I.saveConceptRecord(x),await I.deletePeopleRecord(d.id),l.migrated++}catch(x){l.errors.push(`Failed to migrate ${d.name}: ${x instanceof Error?x.message:String(x)}`)}else l.kept++}}catch(r){l.errors.push(`Migration failed: ${r instanceof Error?r.message:String(r)}`)}return l}const aw=["Decision Maker","Technical","Gatekeeper","Influencer","Champion","Stakeholder","Collaborator","Mentor","Client","Vendor","Partner"],sw=["Reports To","Manages","Collaborates With","Mentor","Mentee","Peer","Client","Vendor","Partner","Advisor","Colleague"],nw=()=>{const{setActiveEntity:l}=as(),[r,d]=v.useState([]),[c,u]=v.useState(null),[m,x]=v.useState(null),[g,p]=v.useState(""),[f,b]=v.useState(null),[N,w]=v.useState(!1),[C,L]=v.useState(""),[R,K]=v.useState(""),[ie,re]=v.useState("moderate"),[be,U]=v.useState(""),[Y,O]=v.useState(!1),[D,oe]=v.useState(null),[Ne,P]=v.useState(""),[ne,Ae]=v.useState(""),[G,J]=v.useState(""),[E,z]=v.useState(""),[te,ve]=v.useState(""),[De,Ue]=v.useState(""),[j,q]=v.useState([]),[X,he]=v.useState(""),[ee,T]=v.useState(""),[W,ce]=v.useState([]),[Te,k]=v.useState(""),[fe,xe]=v.useState(""),we=v.useCallback(async()=>{const Q=await I.getPeopleRecords();d(Q.sort((ae,Xe)=>(Xe.updatedAt||Xe.createdAt)-(ae.updatedAt||ae.createdAt)))},[]);v.useEffect(()=>(we(),on("people",we)),[we]);const ze=v.useMemo(()=>{let Q=r;if(g.trim()){const ae=g.toLowerCase();Q=Q.filter(Xe=>{var Ct,se,F,Le,Qe,Je;return Xe.name.toLowerCase().includes(ae)||((Ct=Xe.role)==null?void 0:Ct.toLowerCase().includes(ae))||((se=Xe.company)==null?void 0:se.toLowerCase().includes(ae))||((F=Xe.attributes)==null?void 0:F.some(je=>je.toLowerCase().includes(ae)))||((Le=Xe.tags)==null?void 0:Le.some(je=>je.toLowerCase().includes(ae)))||((Qe=Xe.profile)==null?void 0:Qe.toLowerCase().includes(ae))||((Je=Xe.notes)==null?void 0:Je.toLowerCase().includes(ae))})}return f&&(Q=Q.filter(ae=>{var Xe;return(Xe=ae.attributes)==null?void 0:Xe.includes(f)})),Q},[r,g,f]),Ye=v.useMemo(()=>{const Q=new Set;return r.forEach(ae=>{var Xe;(Xe=ae.attributes)==null||Xe.forEach(Ct=>Q.add(Ct))}),Array.from(Q).sort()},[r]),bt=Q=>r.find(ae=>ae.id===Q),He=Q=>{u(Q),P(Q.name),Ae(Q.role||""),J(Q.company||""),z(Q.location||""),ve(Q.email||""),Ue(Q.phone||""),q(Q.attributes||[]),he(Q.profile||""),T(Q.notes||""),ce(Q.tags||[]),x(null),l({type:"person",id:Q.id,data:Q})},de=()=>{u(null),P(""),Ae(""),J(""),z(""),ve(""),Ue(""),q([]),he(""),T(""),ce([]),k(""),xe(""),l({type:null,id:""})},ke=async()=>{c&&(await I.savePeopleRecord({...c,name:Ne,role:ne||void 0,company:G||void 0,location:E||void 0,email:te||void 0,phone:De||void 0,attributes:j.length>0?j:void 0,profile:X||void 0,notes:ee||void 0,tags:W.length>0?W:void 0,updatedAt:Date.now()}),de(),we())},S=async Q=>{var Xe,Ct,se;const ae=r.map(F=>{var Le;return{...F,connections:((Le=F.connections)==null?void 0:Le.filter(Qe=>Qe.personId!==Q))||[],updatedAt:Date.now()}});for(const F of ae)((Xe=F.connections)==null?void 0:Xe.length)!==((se=(Ct=r.find(Le=>Le.id===F.id))==null?void 0:Ct.connections)==null?void 0:se.length)&&await I.savePeopleRecord(F);await I.deletePeopleRecord(Q),we()},pe=()=>{Te.trim()&&!j.includes(Te.trim())&&(q([...j,Te.trim()]),k(""))},Ee=Q=>{q(j.filter(ae=>ae!==Q))},Me=()=>{fe.trim()&&!W.includes(fe.trim())&&(ce([...W,fe.trim()]),xe(""))},ge=Q=>{ce(W.filter(ae=>ae!==Q))},Ze=async()=>{O(!0),oe(null);try{const Q=await tw();oe(Q),we()}catch(Q){oe({migrated:0,kept:0,errors:[Q instanceof Error?Q.message:String(Q)]})}finally{O(!1)}},qe=async()=>{var ae;if(!m||!C||!R)return;if((ae=m.connections)==null?void 0:ae.some(Xe=>Xe.personId===C&&Xe.relationship===R)){alert("This connection already exists");return}await I.savePeopleRecord({...m,connections:[...m.connections||[],{personId:C,relationship:R,strength:ie,notes:be||void 0}],updatedAt:Date.now()}),w(!1),L(""),K(""),re("moderate"),U(""),we()};return a.jsxs(Wt,{title:"People Network",subtitle:"Rich profiles, attributes, and connections. The foundation for Sylvia's context engineering and Polaris goal execution.",children:[a.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 md:grid-cols-4 gap-4 mb-6",children:[a.jsxs("div",{className:"rounded-2xl border border-white/70 bg-gradient-to-br from-blue-50 to-blue-100 p-4",children:[a.jsxs("div",{className:"flex items-center justify-between mb-2",children:[a.jsx(an,{className:"w-6 h-6 text-blue-600"}),a.jsx("span",{className:"text-2xl font-bold text-black",children:r.length})]}),a.jsx("p",{className:"text-xs uppercase tracking-[0.2em] text-gray-600",children:"Total People"})]}),a.jsxs("div",{className:"rounded-2xl border border-white/70 bg-gradient-to-br from-purple-50 to-purple-100 p-4",children:[a.jsxs("div",{className:"flex items-center justify-between mb-2",children:[a.jsx(Zd,{className:"w-6 h-6 text-purple-600"}),a.jsx("span",{className:"text-2xl font-bold text-black",children:r.reduce((Q,ae)=>{var Xe;return Q+(((Xe=ae.connections)==null?void 0:Xe.length)||0)},0)})]}),a.jsx("p",{className:"text-xs uppercase tracking-[0.2em] text-gray-600",children:"Connections"})]}),a.jsxs("div",{className:"rounded-2xl border border-white/70 bg-gradient-to-br from-green-50 to-green-100 p-4",children:[a.jsxs("div",{className:"flex items-center justify-between mb-2",children:[a.jsx(En,{className:"w-6 h-6 text-green-600"}),a.jsx("span",{className:"text-2xl font-bold text-black",children:Ye.length})]}),a.jsx("p",{className:"text-xs uppercase tracking-[0.2em] text-gray-600",children:"Attributes"})]}),a.jsxs("div",{className:"rounded-2xl border border-white/70 bg-gradient-to-br from-orange-50 to-orange-100 p-4",children:[a.jsxs("div",{className:"flex items-center justify-between mb-2",children:[a.jsx(wa,{className:"w-6 h-6 text-orange-600"}),a.jsx("span",{className:"text-2xl font-bold text-black",children:r.filter(Q=>{var ae;return(ae=Q.attributes)==null?void 0:ae.includes("Decision Maker")}).length})]}),a.jsx("p",{className:"text-xs uppercase tracking-[0.2em] text-gray-600",children:"Decision Makers"})]})]}),a.jsxs("div",{className:"glass-panel border border-white/70 rounded-3xl p-6 mb-6 bg-gradient-to-br from-yellow-50/50 to-orange-50/50",children:[a.jsxs("div",{className:"flex items-center justify-between mb-4",children:[a.jsxs("div",{children:[a.jsxs("h3",{className:"text-lg font-semibold flex items-center gap-2",children:[a.jsx(Do,{className:"w-5 h-5 text-orange-600"}),"Clean Up People Section"]}),a.jsx("p",{className:"text-sm text-secondary-light mt-1",children:"Move non-people items (like AI applications, concepts, ideas) to the Concepts section"})]}),a.jsx("button",{onClick:Ze,disabled:Y,className:"px-4 py-2 rounded-full bg-orange-100 text-orange-700 border border-orange-200 text-sm font-medium hover:bg-orange-200 transition disabled:opacity-50 disabled:cursor-not-allowed flex items-center gap-2",children:Y?a.jsxs(a.Fragment,{children:[a.jsx($i,{className:"w-4 h-4 animate-spin"}),"Migrating..."]}):a.jsxs(a.Fragment,{children:[a.jsx($i,{className:"w-4 h-4"}),"Migrate to Concepts"]})})]}),D&&a.jsxs("div",{className:`p-4 rounded-2xl border ${D.errors.length>0?"bg-red-50 border-red-200":"bg-green-50 border-green-200"}`,children:[a.jsx("p",{className:"text-sm font-semibold mb-2",children:"Migration Complete"}),a.jsxs("div",{className:"text-xs space-y-1",children:[a.jsxs("p",{children:[" Migrated: ",D.migrated," items to Concepts"]}),a.jsxs("p",{children:[" Kept: ",D.kept," items in People"]}),D.errors.length>0&&a.jsxs("div",{className:"mt-2",children:[a.jsx("p",{className:"font-semibold text-red-700",children:"Errors:"}),D.errors.map((Q,ae)=>a.jsx("p",{className:"text-red-600",children:Q},ae))]})]})]})]}),a.jsxs("div",{className:"mb-6 space-y-4",children:[a.jsx("div",{className:"glass-panel rounded-2xl border border-white/70 p-4",children:a.jsxs("div",{className:"flex items-center gap-3",children:[a.jsx(ss,{className:"w-5 h-5 text-secondary-light"}),a.jsx("input",{type:"text",value:g,onChange:Q=>p(Q.target.value),placeholder:"Search people by name, role, company, attributes, tags...",className:"flex-1 bg-transparent outline-none text-lg placeholder:text-secondary-light"}),g&&a.jsx("button",{onClick:()=>p(""),className:"px-3 py-1 rounded-full bg-white/80 border border-white/70 text-sm hover:bg-white transition",children:"Clear"})]})}),Ye.length>0&&a.jsxs("div",{className:"flex flex-wrap gap-2",children:[a.jsxs("span",{className:"text-sm text-secondary-light flex items-center gap-1",children:[a.jsx(yl,{className:"w-4 h-4"}),"Filter by:"]}),Ye.map(Q=>a.jsx("button",{onClick:()=>b(f===Q?null:Q),className:`px-3 py-1 rounded-full text-xs font-medium transition ${f===Q?"bg-black text-white":"bg-white/80 border border-white/70 hover:bg-white"}`,children:Q},Q))]})]}),ze.length===0?a.jsxs("div",{className:"glass-panel rounded-3xl border border-white/70 p-12 text-center",children:[a.jsx("div",{className:"flex justify-center mb-4",children:a.jsx(an,{className:"w-16 h-16 text-secondary-light"})}),a.jsx("h3",{className:"text-xl font-semibold mb-2",children:r.length===0?"No people tracked yet":"No matches found"}),a.jsx("p",{className:"text-secondary-light",children:r.length===0?"Tell Sylvia about people you work with. She'll build rich profiles and connections to power Polaris goals.":"Try adjusting your search or filter."})]}):a.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:ze.map(Q=>{const ae=(c==null?void 0:c.id)===Q.id,Xe=(m==null?void 0:m.id)===Q.id,se=(Q.connections||[]).map(F=>({...F,person:bt(F.personId)})).filter(F=>F.person);return a.jsx("div",{onClick:F=>{F.target.closest("button")||F.target.closest("a")||ae||(setEntityDetailView({type:"person",id:Q.id}),l({type:"person",id:Q.id,data:Q}))},className:`rounded-3xl border p-6 transition-all ${ae?"border-black bg-black text-white shadow-xl":Xe?"border-purple-500 bg-purple-50 shadow-lg":"border-white/70 bg-white/90 hover:shadow-lg hover:border-white cursor-pointer"}`,children:ae?a.jsxs("div",{className:"space-y-4",children:[a.jsxs("div",{children:[a.jsx("label",{className:"text-xs uppercase tracking-[0.2em] text-white/70 mb-2 block",children:"Name *"}),a.jsx("input",{value:Ne,onChange:F=>P(F.target.value),className:"w-full rounded-2xl border border-white/30 bg-white/10 px-4 py-2 text-white placeholder:text-white/50 focus:outline-none focus:ring-2 focus:ring-white/50",placeholder:"Full name"})]}),a.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[a.jsxs("div",{children:[a.jsx("label",{className:"text-xs uppercase tracking-[0.2em] text-white/70 mb-2 block",children:"Role"}),a.jsx("input",{value:ne,onChange:F=>Ae(F.target.value),className:"w-full rounded-2xl border border-white/30 bg-white/10 px-4 py-2 text-white placeholder:text-white/50 focus:outline-none focus:ring-2 focus:ring-white/50",placeholder:"Job title"})]}),a.jsxs("div",{children:[a.jsx("label",{className:"text-xs uppercase tracking-[0.2em] text-white/70 mb-2 block",children:"Company"}),a.jsx("input",{value:G,onChange:F=>J(F.target.value),className:"w-full rounded-2xl border border-white/30 bg-white/10 px-4 py-2 text-white placeholder:text-white/50 focus:outline-none focus:ring-2 focus:ring-white/50",placeholder:"Company"})]})]}),a.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[a.jsxs("div",{children:[a.jsx("label",{className:"text-xs uppercase tracking-[0.2em] text-white/70 mb-2 block",children:"Location"}),a.jsx("input",{value:E,onChange:F=>z(F.target.value),className:"w-full rounded-2xl border border-white/30 bg-white/10 px-4 py-2 text-white placeholder:text-white/50 focus:outline-none focus:ring-2 focus:ring-white/50",placeholder:"City, State"})]}),a.jsxs("div",{children:[a.jsx("label",{className:"text-xs uppercase tracking-[0.2em] text-white/70 mb-2 block",children:"Email"}),a.jsx("input",{type:"email",value:te,onChange:F=>ve(F.target.value),className:"w-full rounded-2xl border border-white/30 bg-white/10 px-4 py-2 text-white placeholder:text-white/50 focus:outline-none focus:ring-2 focus:ring-white/50",placeholder:"email@example.com"})]})]}),a.jsxs("div",{children:[a.jsx("label",{className:"text-xs uppercase tracking-[0.2em] text-white/70 mb-2 block",children:"Phone"}),a.jsx("input",{type:"tel",value:De,onChange:F=>Ue(F.target.value),className:"w-full rounded-2xl border border-white/30 bg-white/10 px-4 py-2 text-white placeholder:text-white/50 focus:outline-none focus:ring-2 focus:ring-white/50",placeholder:"+1 (555) 123-4567"})]}),a.jsxs("div",{children:[a.jsx("label",{className:"text-xs uppercase tracking-[0.2em] text-white/70 mb-2 block",children:"Attributes"}),a.jsx("div",{className:"flex flex-wrap gap-2 mb-2",children:j.map(F=>a.jsxs("span",{className:"inline-flex items-center gap-1 px-2 py-1 rounded-full bg-white/20 text-white text-xs",children:[F,a.jsx("button",{onClick:()=>Ee(F),className:"hover:text-red-300",children:a.jsx(Qt,{className:"w-3 h-3"})})]},F))}),a.jsxs("div",{className:"flex gap-2",children:[a.jsx("input",{value:Te,onChange:F=>k(F.target.value),onKeyPress:F=>F.key==="Enter"&&pe(),className:"flex-1 rounded-2xl border border-white/30 bg-white/10 px-4 py-2 text-white placeholder:text-white/50 focus:outline-none focus:ring-2 focus:ring-white/50",placeholder:"Add attribute..."}),a.jsx("button",{onClick:pe,className:"px-4 py-2 rounded-2xl bg-white/20 text-white border border-white/30 hover:bg-white/30 transition",children:a.jsx(mu,{className:"w-4 h-4"})})]}),a.jsx("div",{className:"flex flex-wrap gap-1 mt-2",children:aw.filter(F=>!j.includes(F)).map(F=>a.jsx("button",{onClick:()=>{j.includes(F)||q([...j,F])},className:"px-2 py-1 rounded-full bg-white/10 text-white/70 text-xs hover:bg-white/20 transition",children:F},F))})]}),a.jsxs("div",{children:[a.jsx("label",{className:"text-xs uppercase tracking-[0.2em] text-white/70 mb-2 block",children:"Profile / Context"}),a.jsx("textarea",{value:X,onChange:F=>he(F.target.value),rows:4,className:"w-full rounded-2xl border border-white/30 bg-white/10 px-4 py-2 text-white placeholder:text-white/50 focus:outline-none focus:ring-2 focus:ring-white/50 resize-none",placeholder:"Rich context about this person. Their background, expertise, communication style, preferences, etc. This powers Sylvia's understanding."})]}),a.jsxs("div",{children:[a.jsx("label",{className:"text-xs uppercase tracking-[0.2em] text-white/70 mb-2 block",children:"Tags"}),a.jsx("div",{className:"flex flex-wrap gap-2 mb-2",children:W.map(F=>a.jsxs("span",{className:"inline-flex items-center gap-1 px-2 py-1 rounded-full bg-white/20 text-white text-xs",children:[F,a.jsx("button",{onClick:()=>ge(F),className:"hover:text-red-300",children:a.jsx(Qt,{className:"w-3 h-3"})})]},F))}),a.jsxs("div",{className:"flex gap-2",children:[a.jsx("input",{value:fe,onChange:F=>xe(F.target.value),onKeyPress:F=>F.key==="Enter"&&Me(),className:"flex-1 rounded-2xl border border-white/30 bg-white/10 px-4 py-2 text-white placeholder:text-white/50 focus:outline-none focus:ring-2 focus:ring-white/50",placeholder:"Add tag..."}),a.jsx("button",{onClick:Me,className:"px-4 py-2 rounded-2xl bg-white/20 text-white border border-white/30 hover:bg-white/30 transition",children:a.jsx(mu,{className:"w-4 h-4"})})]})]}),a.jsxs("div",{children:[a.jsx("label",{className:"text-xs uppercase tracking-[0.2em] text-white/70 mb-2 block",children:"Notes"}),a.jsx("textarea",{value:ee,onChange:F=>T(F.target.value),rows:3,className:"w-full rounded-2xl border border-white/30 bg-white/10 px-4 py-2 text-white placeholder:text-white/50 focus:outline-none focus:ring-2 focus:ring-white/50 resize-none",placeholder:"Additional notes..."})]}),a.jsxs("div",{className:"flex gap-2",children:[a.jsx("button",{onClick:ke,className:"flex-1 px-4 py-2 rounded-2xl bg-white text-black font-semibold hover:bg-gray-100 transition",children:"Save"}),a.jsx("button",{onClick:de,className:"px-4 py-2 rounded-2xl bg-white/20 text-white border border-white/30 hover:bg-white/30 transition",children:"Cancel"})]})]}):a.jsxs(a.Fragment,{children:[a.jsx("div",{className:"flex items-start justify-between mb-4",children:a.jsxs("div",{className:"flex-1",children:[a.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[a.jsx(Oi,{className:"w-5 h-5 text-gray-600"}),a.jsx("h3",{className:"text-xl font-bold",children:Q.name})]}),Q.role&&a.jsxs("p",{className:"text-sm text-secondary-light flex items-center gap-1",children:[a.jsx(jy,{className:"w-3 h-3"}),Q.role]}),Q.company&&a.jsxs("p",{className:"text-sm text-secondary-light flex items-center gap-1 mt-1",children:[a.jsx(ky,{className:"w-3 h-3"}),Q.company]})]})}),(Q.location||Q.email||Q.phone)&&a.jsxs("div",{className:"space-y-1 mb-4 text-sm",children:[Q.location&&a.jsxs("p",{className:"text-secondary-light flex items-center gap-2",children:[a.jsx(Mu,{className:"w-3 h-3"}),Q.location]}),Q.email&&a.jsxs("p",{className:"text-secondary-light flex items-center gap-2",children:[a.jsx(w1,{className:"w-3 h-3"}),Q.email]}),Q.phone&&a.jsxs("p",{className:"text-secondary-light flex items-center gap-2",children:[a.jsx(z1,{className:"w-3 h-3"}),Q.phone]})]}),Q.attributes&&Q.attributes.length>0&&a.jsx("div",{className:"mb-4",children:a.jsx("div",{className:"flex flex-wrap gap-1.5",children:Q.attributes.map(F=>a.jsxs("span",{className:"inline-flex items-center px-2 py-0.5 rounded-full bg-purple-50 text-purple-700 text-xs font-medium",children:[a.jsx(En,{className:"w-3 h-3 mr-1"}),F]},F))})}),Q.tags&&Q.tags.length>0&&a.jsx("div",{className:"mb-4",children:a.jsx("div",{className:"flex flex-wrap gap-1.5",children:Q.tags.map(F=>a.jsx("span",{className:"inline-flex items-center px-2 py-0.5 rounded-full bg-gray-100 text-gray-700 text-xs",children:F},F))})}),Q.profile&&a.jsx("div",{className:"mb-4",children:a.jsx(St,{content:Q.profile,className:"text-sm leading-relaxed"})}),se.length>0&&a.jsxs("div",{className:"mb-4 p-3 rounded-2xl bg-blue-50 border border-blue-100",children:[a.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[a.jsx(Zd,{className:"w-4 h-4 text-blue-600"}),a.jsxs("span",{className:"text-xs font-semibold text-blue-900 uppercase tracking-[0.1em]",children:["Connections (",se.length,")"]})]}),a.jsx("div",{className:"space-y-1.5",children:se.map((F,Le)=>{var Qe;return a.jsxs("div",{className:"flex items-center justify-between text-xs bg-white/60 rounded-lg p-2",children:[a.jsxs("div",{className:"flex-1",children:[a.jsx("div",{className:"font-medium text-gray-900",children:(Qe=F.person)==null?void 0:Qe.name}),a.jsx("div",{className:"text-gray-600",children:F.relationship}),F.notes&&a.jsx("div",{className:"text-gray-500 mt-0.5",children:a.jsx(St,{content:F.notes,className:"text-xs"})})]}),a.jsx("div",{className:"flex items-center gap-1",children:a.jsx("span",{className:`px-1.5 py-0.5 rounded text-xs ${F.strength==="strong"?"bg-green-100 text-green-700":F.strength==="moderate"?"bg-yellow-100 text-yellow-700":"bg-gray-100 text-gray-700"}`,children:F.strength||"moderate"})})]},Le)})})]}),Q.notes&&a.jsx("div",{className:"mb-4",children:a.jsx(St,{content:Q.notes,className:"text-sm text-secondary-light"})}),a.jsxs("div",{className:"flex items-center justify-between pt-4 border-t border-white/20",children:[a.jsx("span",{className:"text-xs text-secondary-light",children:new Date(Q.createdAt).toLocaleDateString("en-US",{month:"short",day:"numeric",year:"numeric"})}),a.jsxs("div",{className:"flex gap-2",children:[!Xe&&a.jsx("button",{onClick:()=>{x(Q),l({type:"person",id:Q.id,data:Q}),w(!0)},className:"px-3 py-1.5 rounded-full bg-white/80 border border-white/70 text-xs font-medium hover:bg-white transition flex items-center gap-1",title:"Add connection",children:a.jsx(Zd,{className:"w-3 h-3"})}),a.jsx("button",{onClick:()=>He(Q),className:"px-3 py-1.5 rounded-full bg-white/80 border border-white/70 text-xs font-medium hover:bg-white transition flex items-center gap-1",children:a.jsx(Xa,{className:"w-3 h-3"})}),a.jsx("button",{onClick:()=>S(Q.id),className:"px-3 py-1.5 rounded-full bg-white/80 border border-white/70 text-xs font-medium hover:bg-red-50 hover:border-red-200 hover:text-red-700 transition flex items-center gap-1",children:a.jsx(rn,{className:"w-3 h-3"})})]})]})]})},Q.id)})}),N&&m&&a.jsx("div",{className:"fixed inset-0 bg-black/50 flex items-center justify-center z-50 p-4",children:a.jsxs("div",{className:"glass-panel rounded-3xl border border-white/70 p-6 max-w-md w-full",children:[a.jsxs("div",{className:"flex items-center justify-between mb-4",children:[a.jsx("h3",{className:"text-lg font-semibold",children:"Add Connection"}),a.jsx("button",{onClick:()=>{w(!1),x(null)},className:"text-secondary-light hover:text-black transition",children:a.jsx(Qt,{className:"w-5 h-5"})})]}),a.jsxs("p",{className:"text-sm text-secondary-light mb-4",children:["Connect ",a.jsx("strong",{children:m.name})," to another person"]}),a.jsxs("div",{className:"space-y-4",children:[a.jsxs("div",{children:[a.jsx("label",{className:"text-xs uppercase tracking-[0.2em] text-secondary-light mb-2 block",children:"Person"}),a.jsxs("select",{value:C,onChange:Q=>L(Q.target.value),className:"w-full rounded-2xl border border-white/70 px-4 py-2 bg-white/80 focus:outline-none focus:ring-2 focus:ring-black",children:[a.jsx("option",{value:"",children:"Select a person..."}),r.filter(Q=>Q.id!==m.id).map(Q=>a.jsxs("option",{value:Q.id,children:[Q.name," ",Q.role?`(${Q.role})`:""]},Q.id))]})]}),a.jsxs("div",{children:[a.jsx("label",{className:"text-xs uppercase tracking-[0.2em] text-secondary-light mb-2 block",children:"Relationship"}),a.jsxs("select",{value:R,onChange:Q=>K(Q.target.value),className:"w-full rounded-2xl border border-white/70 px-4 py-2 bg-white/80 focus:outline-none focus:ring-2 focus:ring-black",children:[a.jsx("option",{value:"",children:"Select relationship..."}),sw.map(Q=>a.jsx("option",{value:Q,children:Q},Q))]})]}),a.jsxs("div",{children:[a.jsx("label",{className:"text-xs uppercase tracking-[0.2em] text-secondary-light mb-2 block",children:"Strength"}),a.jsxs("select",{value:ie,onChange:Q=>re(Q.target.value),className:"w-full rounded-2xl border border-white/70 px-4 py-2 bg-white/80 focus:outline-none focus:ring-2 focus:ring-black",children:[a.jsx("option",{value:"weak",children:"Weak"}),a.jsx("option",{value:"moderate",children:"Moderate"}),a.jsx("option",{value:"strong",children:"Strong"})]})]}),a.jsxs("div",{children:[a.jsx("label",{className:"text-xs uppercase tracking-[0.2em] text-secondary-light mb-2 block",children:"Notes (optional)"}),a.jsx("textarea",{value:be,onChange:Q=>U(Q.target.value),rows:2,className:"w-full rounded-2xl border border-white/70 px-4 py-2 bg-white/80 focus:outline-none focus:ring-2 focus:ring-black resize-none",placeholder:"Additional context about this connection..."})]}),a.jsxs("div",{className:"flex gap-2",children:[a.jsx("button",{onClick:qe,className:"flex-1 px-4 py-2 rounded-2xl bg-black text-white font-semibold hover:shadow-lg transition",children:"Add Connection"}),a.jsx("button",{onClick:()=>{w(!1),x(null)},className:"px-4 py-2 rounded-2xl bg-white border border-white/70 hover:bg-gray-50 transition",children:"Cancel"})]})]})]})})]})},lw=()=>{const{setEntityDetailView:l,setActiveEntity:r}=as(),[d,c]=v.useState([]),[u,m]=v.useState(null),[x,g]=v.useState(""),[p,f]=v.useState(null),[b,N]=v.useState(null),[w,C]=v.useState({name:"",description:"",category:"",tags:"",notes:""}),L=v.useCallback(async()=>{const O=await I.getConceptRecords();c(O.sort((D,oe)=>(oe.updatedAt||oe.createdAt)-(D.updatedAt||D.createdAt)))},[]);v.useEffect(()=>(L(),on("concept",L)),[L]);const R=v.useMemo(()=>{let O=d;if(x.trim()){const D=x.toLowerCase();O=O.filter(oe=>{var Ne,P,ne;return oe.name.toLowerCase().includes(D)||((Ne=oe.description)==null?void 0:Ne.toLowerCase().includes(D))||((P=oe.category)==null?void 0:P.toLowerCase().includes(D))||((ne=oe.tags)==null?void 0:ne.some(Ae=>Ae.toLowerCase().includes(D)))})}return p&&(O=O.filter(D=>D.category===p)),b&&(O=O.filter(D=>{var oe;return(oe=D.tags)==null?void 0:oe.includes(b)})),O},[d,x,p,b]),K=v.useMemo(()=>{const O=d.length,D=new Set(d.map(ne=>ne.category).filter(Boolean)),oe=d.flatMap(ne=>ne.tags||[]),Ne=new Set(oe),P=d.filter(ne=>(Date.now()-ne.createdAt)/864e5<=7).length;return{total:O,categories:D.size,uniqueTags:Ne.size,recent:P}},[d]),ie=v.useMemo(()=>{const O=new Set(d.map(D=>D.category).filter(Boolean));return Array.from(O).sort()},[d]),re=v.useMemo(()=>{const O={};return d.forEach(D=>{var oe;(oe=D.tags)==null||oe.forEach(Ne=>{O[Ne]=(O[Ne]||0)+1})}),Object.entries(O).sort((D,oe)=>oe[1]-D[1]).slice(0,10)},[d]),be=O=>{var D;m(O),C({name:O.name,description:O.description||"",category:O.category||"",tags:((D=O.tags)==null?void 0:D.join(", "))||"",notes:O.notes||""})},U=async()=>{u&&(await I.saveConceptRecord({...u,...w,tags:w.tags.split(",").map(O=>O.trim()).filter(Boolean),updatedAt:Date.now()}),m(null),C({name:"",description:"",category:"",tags:"",notes:""}),L())},Y=async O=>{await I.deleteConceptRecord(O),L()};return a.jsxs(Wt,{title:"Concepts",subtitle:"Ideas, applications, technologies, and concepts. Track your thinking and innovations.",children:[a.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 md:grid-cols-4 gap-4 mb-6",children:[a.jsxs("div",{className:"rounded-2xl border border-white/70 bg-gradient-to-br from-purple-50 to-purple-100 p-4",children:[a.jsxs("div",{className:"flex items-center justify-between mb-2",children:[a.jsx(pl,{className:"w-6 h-6 text-purple-600"}),a.jsx("span",{className:"text-2xl font-bold text-black",children:K.total})]}),a.jsx("p",{className:"text-xs uppercase tracking-[0.2em] text-gray-600",children:"Total Concepts"})]}),a.jsxs("div",{className:"rounded-2xl border border-white/70 bg-gradient-to-br from-blue-50 to-blue-100 p-4",children:[a.jsxs("div",{className:"flex items-center justify-between mb-2",children:[a.jsx(wa,{className:"w-6 h-6 text-blue-600"}),a.jsx("span",{className:"text-2xl font-bold text-black",children:K.categories})]}),a.jsx("p",{className:"text-xs uppercase tracking-[0.2em] text-gray-600",children:"Categories"})]}),a.jsxs("div",{className:"rounded-2xl border border-white/70 bg-gradient-to-br from-green-50 to-green-100 p-4",children:[a.jsxs("div",{className:"flex items-center justify-between mb-2",children:[a.jsx(En,{className:"w-6 h-6 text-green-600"}),a.jsx("span",{className:"text-2xl font-bold text-black",children:K.uniqueTags})]}),a.jsx("p",{className:"text-xs uppercase tracking-[0.2em] text-gray-600",children:"Unique Tags"})]}),a.jsxs("div",{className:"rounded-2xl border border-white/70 bg-gradient-to-br from-orange-50 to-orange-100 p-4",children:[a.jsxs("div",{className:"flex items-center justify-between mb-2",children:[a.jsx(vl,{className:"w-6 h-6 text-orange-600"}),a.jsx("span",{className:"text-2xl font-bold text-black",children:K.recent})]}),a.jsx("p",{className:"text-xs uppercase tracking-[0.2em] text-gray-600",children:"This Week"})]})]}),a.jsxs("div",{className:"mb-6 space-y-4",children:[a.jsx("div",{className:"glass-panel rounded-2xl border border-white/70 p-4",children:a.jsxs("div",{className:"flex items-center gap-3",children:[a.jsx(ss,{className:"w-5 h-5 text-secondary-light"}),a.jsx("input",{type:"text",value:x,onChange:O=>g(O.target.value),placeholder:"Search concepts...",className:"flex-1 bg-transparent outline-none text-lg placeholder:text-secondary-light"}),x&&a.jsx("button",{onClick:()=>g(""),className:"px-3 py-1 rounded-full bg-white/80 border border-white/70 text-sm hover:bg-white transition",children:"Clear"})]})}),a.jsxs("div",{className:"flex flex-wrap gap-2 items-center",children:[a.jsxs("span",{className:"text-sm text-secondary-light flex items-center gap-1",children:[a.jsx(yl,{className:"w-4 h-4"}),"Filter:"]}),a.jsx("button",{onClick:()=>{f(null),N(null)},className:`px-3 py-1 rounded-full text-xs font-medium transition ${p===null&&b===null?"bg-black text-white":"bg-white/80 border border-white/70 hover:bg-white"}`,children:"All"}),ie.map(O=>a.jsx("button",{onClick:()=>f(p===O?null:O),className:`px-3 py-1 rounded-full text-xs font-medium transition ${p===O?"bg-black text-white":"bg-white/80 border border-white/70 hover:bg-white"}`,children:O},O)),re.length>0&&a.jsxs(a.Fragment,{children:[a.jsx("span",{className:"text-xs text-secondary-light mx-2",children:"|"}),a.jsx("span",{className:"text-xs text-secondary-light",children:"Tags:"}),re.slice(0,5).map(([O,D])=>a.jsxs("button",{onClick:()=>N(b===O?null:O),className:`px-3 py-1 rounded-full text-xs font-medium transition ${b===O?"bg-black text-white":"bg-white/80 border border-white/70 hover:bg-white"}`,children:["#",O," (",D,")"]},O))]})]})]}),R.length===0?a.jsxs("div",{className:"glass-panel rounded-3xl border border-white/70 p-12 text-center",children:[a.jsx("div",{className:"flex justify-center mb-4",children:a.jsx(pl,{className:"w-16 h-16 text-secondary-light"})}),a.jsx("h3",{className:"text-xl font-semibold mb-2",children:d.length===0?"No concepts yet":"No matches found"}),a.jsx("p",{className:"text-secondary-light",children:d.length===0?"Concepts are created through conversation with Sylvia. Talk to her about ideas, applications, technologies, and concepts, and she'll add them here.":"Try adjusting your search or filters."})]}):a.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6 min-w-0",children:R.map(O=>{const D=(u==null?void 0:u.id)===O.id;return a.jsx("div",{onClick:oe=>{oe.target.closest("button")||D||(l({type:"concept",id:O.id}),r({type:"concept",id:O.id,data:O}))},className:`rounded-3xl border p-6 transition-all flex flex-col min-w-0 ${D?"border-black bg-black text-white shadow-xl":"border-white/70 bg-white/90 hover:shadow-xl hover:border-purple-200 hover:bg-white cursor-pointer"}`,style:{minHeight:"280px"},children:D?a.jsxs("div",{className:"space-y-4",children:[a.jsxs("div",{children:[a.jsx("label",{className:"text-xs uppercase tracking-[0.2em] text-white/70 mb-2 block",children:"Name *"}),a.jsx("input",{value:w.name,onChange:oe=>C({...w,name:oe.target.value}),className:"w-full rounded-2xl border border-white/30 bg-white/10 px-4 py-2 text-white placeholder:text-white/50 focus:outline-none focus:ring-2 focus:ring-white/50"})]}),a.jsxs("div",{children:[a.jsx("label",{className:"text-xs uppercase tracking-[0.2em] text-white/70 mb-2 block",children:"Description"}),a.jsx("textarea",{value:w.description,onChange:oe=>C({...w,description:oe.target.value}),rows:3,className:"w-full rounded-2xl border border-white/30 bg-white/10 px-4 py-2 text-white placeholder:text-white/50 focus:outline-none focus:ring-2 focus:ring-white/50 resize-none"})]}),a.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[a.jsxs("div",{children:[a.jsx("label",{className:"text-xs uppercase tracking-[0.2em] text-white/70 mb-2 block",children:"Category"}),a.jsx("input",{value:w.category,onChange:oe=>C({...w,category:oe.target.value}),className:"w-full rounded-2xl border border-white/30 bg-white/10 px-4 py-2 text-white placeholder:text-white/50 focus:outline-none focus:ring-2 focus:ring-white/50"})]}),a.jsxs("div",{children:[a.jsx("label",{className:"text-xs uppercase tracking-[0.2em] text-white/70 mb-2 block",children:"Tags"}),a.jsx("input",{value:w.tags,onChange:oe=>C({...w,tags:oe.target.value}),placeholder:"tag1, tag2",className:"w-full rounded-2xl border border-white/30 bg-white/10 px-4 py-2 text-white placeholder:text-white/50 focus:outline-none focus:ring-2 focus:ring-white/50"})]})]}),a.jsxs("div",{children:[a.jsx("label",{className:"text-xs uppercase tracking-[0.2em] text-white/70 mb-2 block",children:"Notes"}),a.jsx("textarea",{value:w.notes,onChange:oe=>C({...w,notes:oe.target.value}),rows:2,className:"w-full rounded-2xl border border-white/30 bg-white/10 px-4 py-2 text-white placeholder:text-white/50 focus:outline-none focus:ring-2 focus:ring-white/50 resize-none"})]}),a.jsxs("div",{className:"flex gap-2",children:[a.jsx("button",{onClick:U,className:"flex-1 px-4 py-2 rounded-2xl bg-white text-black font-semibold hover:bg-gray-100 transition",children:"Save"}),a.jsx("button",{onClick:()=>{m(null),C({name:"",description:"",category:"",tags:"",notes:""})},className:"px-4 py-2 rounded-2xl bg-white/20 text-white border border-white/30 hover:bg-white/30 transition",children:"Cancel"})]})]}):a.jsxs(a.Fragment,{children:[a.jsx("div",{className:"flex items-start justify-between mb-4",children:a.jsxs("div",{className:"flex-1 min-w-0",children:[a.jsx("div",{className:"flex items-center gap-2 mb-2 flex-wrap",children:O.category&&a.jsx("span",{className:"px-2 py-1 rounded-full bg-purple-100 text-purple-700 text-xs font-semibold",children:O.category})}),a.jsx("h3",{className:"text-xl font-bold mb-3 text-primary-light break-words overflow-wrap-anywhere",children:O.name})]})}),O.description&&a.jsx("div",{className:"mb-4 flex-1 min-h-0",children:a.jsx("div",{className:"p-4 rounded-2xl bg-gradient-to-br from-gray-50/80 to-white/80 border border-gray-200/50 min-w-0",children:a.jsx("div",{className:"concept-description min-w-0",children:a.jsx(St,{content:O.description,className:"text-sm text-gray-700 leading-relaxed break-words overflow-wrap-anywhere"})})})}),O.tags&&O.tags.length>0&&a.jsx("div",{className:"mb-4 flex flex-wrap gap-1.5",children:O.tags.map(oe=>a.jsxs("span",{className:"px-2.5 py-1 rounded-full bg-blue-50 text-blue-700 text-xs font-medium border border-blue-100 flex items-center gap-1.5",children:[a.jsx(En,{className:"w-3 h-3"}),oe]},oe))}),O.notes&&a.jsx("div",{className:"mb-4 p-3 rounded-xl bg-amber-50/50 border border-amber-100",children:a.jsx(St,{content:O.notes,className:"text-xs text-gray-600 leading-relaxed"})}),a.jsx("div",{className:"mb-4 pt-3 border-t border-gray-200/50",children:a.jsxs("div",{className:"flex items-center gap-4 text-xs text-secondary-light",children:[a.jsxs("span",{children:["Created ",new Date(O.createdAt).toLocaleDateString()]}),O.updatedAt&&O.updatedAt!==O.createdAt&&a.jsxs("span",{children:["Updated ",new Date(O.updatedAt).toLocaleDateString()]})]})}),a.jsxs("div",{className:"flex items-center gap-2 pt-3 border-t border-white/20",children:[a.jsxs("button",{onClick:()=>be(O),className:"px-3 py-1.5 rounded-full bg-white/80 border border-white/70 text-xs font-medium hover:bg-white transition flex items-center gap-1.5",children:[a.jsx(Xa,{className:"w-3.5 h-3.5"}),"Edit"]}),a.jsxs("button",{onClick:()=>Y(O.id),className:"px-3 py-1.5 rounded-full bg-white/80 border border-white/70 text-xs font-medium hover:bg-red-50 hover:border-red-200 hover:text-red-700 transition flex items-center gap-1.5",children:[a.jsx(rn,{className:"w-3.5 h-3.5"}),"Delete"]})]})]})},O.id)})})]})},cx=new Map,iw=l=>(cx.set(l.id,l),()=>cx.delete(l.id)),rw=(l=[])=>{const r=["feelings","reflection","relationship"],d=["client","calendar","agenda","task"];return l.some(c=>d.includes(c))?"professional":(l.some(c=>r.includes(c)),"personal")},ow="https://openrouter.ai/api/v1/chat/completions";async function Bi(l,r={},d=!1){var w,C,L;const c=((w=r.apiKey)==null?void 0:w.trim())||((C=r.secondaryApiKey)==null?void 0:C.trim());if(!c)throw new Error("No OpenRouter API key found. Add your key in the Settings view to continue.");let u=r.mainModel||"openrouter/polaris-alpha";r.useImageGeneration?u="google/gemini-2.5-flash-image":r.useWebSearch?u="openai/gpt-4o-mini-search-preview":r.useAudioVideo&&(u="google/gemini-2.5-flash-preview-09-2025");const m=r.backupModel||"x-ai/grok-4-fast",x=d?m:u;let g=[...l];r.weightedPrompts&&r.weightedPrompts.length>0?g.some(K=>K.role==="system")||(g=[{role:"system",content:[...r.weightedPrompts].sort((re,be)=>be.weight-re.weight).map((re,be)=>`[${be===0?"PRIMARY":be===1?"SECONDARY":"TERTIARY"} PROMPT - ${re.weight}% WEIGHT]
${re.content}`).join(`

---

`)},...g]):r.systemInstruction&&r.systemInstruction.trim()&&(g.some(K=>K.role==="system")||(g=[{role:"system",content:r.systemInstruction},...g]));const p=r.inferenceParameters||{},f=p.temperature??r.temperature??.7,b=r.maxTokens??128e3,N={model:x,messages:g,temperature:f,max_tokens:b};p.topP!==void 0&&(N.top_p=p.topP),p.topK!==void 0&&(N.top_k=p.topK),p.frequencyPenalty!==void 0&&(N.frequency_penalty=p.frequencyPenalty),p.presencePenalty!==void 0&&(N.presence_penalty=p.presencePenalty),p.repetitionPenalty!==void 0&&(N.repetition_penalty=p.repetitionPenalty),p.minP!==void 0&&(N.min_p=p.minP);try{const R=await fetch(ow,{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${c}`,"HTTP-Referer":window.location.origin,"X-Title":"Chat Platform Template"},body:JSON.stringify(N)});if(!R.ok){const ie=await R.json().catch(()=>({error:{message:`HTTP ${R.status}: ${R.statusText}`}}));if(!d&&R.status>=500)return console.warn("Main model failed, trying backup model..."),Bi(l,r,!0);throw new Error(((L=ie.error)==null?void 0:L.message)||`API request failed: ${R.statusText}`)}const K=await R.json();if(!K.choices||K.choices.length===0)throw new Error("No response from API");return K.choices[0].message.content}catch(R){if(!d&&R instanceof TypeError&&R.message.includes("fetch"))return console.warn("Network error with main model, trying backup model..."),Bi(l,r,!0);throw R}}const tg=Object.freeze(Object.defineProperty({__proto__:null,sendMessage:Bi},Symbol.toStringTag,{value:"Module"}));async function ag(l){const r=/\[ACTION:([^\]]+)\]/g,d=[...l.matchAll(r)];if(d.length!==0)for(const c of d){const m=c[1].split("|");if(m.length<1)continue;const x=m[0].trim(),g=m.slice(1).join("|").trim();if(x)try{await bl(x,g)}catch(p){console.error(`Failed to execute post-processed action ${x}:`,p)}}}function cw(l,r){const d=new Date,c=l.toLowerCase().trim();if(c.includes("tomorrow")){const u=new Date(d);return u.setDate(u.getDate()+1),u.toISOString().slice(0,16)}if(c.includes("today"))return d.toISOString().slice(0,16);try{const u=new Date(l);if(!isNaN(u.getTime()))return u.toISOString().slice(0,16)}catch{}return""}function dw(l){const r=l.match(/(\d{1,2}):?(\d{2})?\s*(am|pm)/i);if(!r)return"";let d=parseInt(r[1]);const c=r[2]?parseInt(r[2]):0,u=r[3].toLowerCase();return u==="pm"&&d!==12&&(d+=12),u==="am"&&d===12&&(d=0),`${d.toString().padStart(2,"0")}:${c.toString().padStart(2,"0")}`}async function uw(l){var g,p;const{getSetting:r}=await La(async()=>{const{getSetting:f}=await Promise.resolve().then(()=>fo);return{getSetting:f}},void 0),d=await r("apiKey")||await r("secondaryApiKey"),c=await r("mainModel","openrouter/polaris-alpha");if(!d){console.warn("No API key available for entity extraction");return}const u=/(?:meeting|call|appointment|event|schedule|meet|call with)/i.test(l),m=/(?:tomorrow|today|november|december|january|february|march|april|may|june|july|august|september|october|\d{1,2}\/\d{1,2}|\d{1,2}\s+(?:jan|feb|mar|apr|may|jun|jul|aug|sep|oct|nov|dec))/i.test(l),x=/(?:at|@|\d{1,2}):?\d{0,2}\s*(?:am|pm)/i.test(l);if(u&&(m||x)){const f=l.match(/(?:tomorrow|today|november \d{1,2}|\d{1,2}\/\d{1,2}|\d{1,2}\s+(?:jan|feb|mar|apr|may|jun|jul|aug|sep|oct|nov|dec))/i),b=l.match(/(?:at|@)\s*(\d{1,2}):?(\d{2})?\s*(am|pm)/i);if(f||b){const N=l.match(/(?:meeting|call|appointment|event|schedule|meet)\s+(?:with\s+)?([^,\.]+?)(?:\s+(?:tomorrow|today|at|@|on))/i),w=N?N[1].trim():((g=l.split(/\s+(?:tomorrow|today|at|@|on)/i)[0])==null?void 0:g.trim())||"Event",C=f?f[0]:"";b&&b[0];const L=cw(C),R=b?dw(b[0]):"";let K="",ie="";if(L)if(R){K=`${L.split("T")[0]}T${R}`;const re=new Date(K);re.setHours(re.getHours()+1),ie=re.toISOString().slice(0,16)}else K=`${L}T10:00`,ie=`${L}T11:00`;K&&await bl("calendar.add",`${w}|${K}|${ie}|${l}`).catch(()=>{})}}try{const[f,b]=await Promise.all([I.getPeopleRecords(),I.getConceptRecords()]),N=new Set(f.map(re=>re.name.toLowerCase())),w=new Set(b.map(re=>re.name.toLowerCase())),C=`You are an entity classification agent. Analyze this message and identify entities that should be extracted. CRITICALLY IMPORTANT: You must distinguish between PEOPLE (actual humans) and CONCEPTS (ideas, technologies, applications).

Message to analyze:
"${l}"

Existing entities (do not duplicate):
- People: ${Array.from(N).slice(0,20).join(", ")||"None"}
- Concepts: ${Array.from(w).slice(0,20).join(", ")||"None"}

CRITICAL DISTINCTION RULES:
- **PEOPLE**: Actual humans with names (e.g., "John Smith", "Sarah Johnson", "Blair Hallett") - real people you can meet, email, call
- **CONCEPTS**: Ideas, applications, technologies, systems (e.g., "Resonance Cockpit", "Preflection", "AI Application", "Machine Learning Model", "Weighted Prompt System") - abstract concepts, not humans

If something is ambiguous, ask yourself: "Can I meet this person? Can I email them? Is this a real human?" If NO, it's a CONCEPT.

For each entity you identify, respond ONLY with ACTION markers in this exact format:
[ACTION:entityType.add|payload1|payload2|...]

Entity types:
- people.add|Name|Role|Company|Location|Email|Phone|Attributes|Profile|Notes|Tags
- concept.add|Name|Description|Category|Tags|Notes
- brand.add|Name|Description
- calendar.add|Title|StartTime|EndTime|Description|Location|MeetingLink|EventType|Participants|Tags
- agenda.add|Title|Description|DueDate|EstimatedTime|Priority|Tags|DeliverableId
- deliverable.add|Title|Description|Scope|Guardrails|SuccessCriteria|Tags
- polaris.goal|Title|Description|GoalType|Scope|Priority|Metrics
- polaris.task|GoalId|Title|Description|Rationale|EstimatedEffort|EstimatedImpact

IMPORTANT:
- Only extract entities that are CLEARLY mentioned
- Do NOT extract entities that already exist
- When in doubt between PEOPLE and CONCEPTS, choose CONCEPTS (better to miss a person than misclassify a concept as a person)
- Be conservative - only extract if you're confident

Your response (ONLY ACTION markers, no other text):`,{sendMessage:L}=await La(async()=>{const{sendMessage:re}=await Promise.resolve().then(()=>tg);return{sendMessage:re}},void 0),R=await L([{role:"system",content:"You are an entity extraction agent. Analyze messages and extract entities. Respond ONLY with ACTION markers. Be extremely careful to distinguish PEOPLE (actual humans) from CONCEPTS (ideas, technologies, applications)."},{role:"user",content:C}],{apiKey:d,mainModel:c,temperature:.3,maxTokens:2e3}),K=/\[ACTION:([^\]]+)\]/g,ie=[...R.matchAll(K)];for(const re of ie){const U=re[1].split("|");if(U.length<1)continue;const Y=U[0].trim(),O=U.slice(1).join("|").trim();if(Y){if(Y==="people.add"){const D=(p=O.split("|")[0])==null?void 0:p.trim();if(D){const oe=["system","application","platform","tool","technology","concept","idea","model","framework","algorithm","method","process","workflow","solution","product","service","feature"],Ne=D.toLowerCase();if(oe.some(P=>Ne.includes(P))){console.log(`Skipping ${D} - looks like a concept, not a person`);continue}}}try{await bl(Y,O)}catch(D){console.error(`Failed to execute extracted action ${Y}:`,D)}}}}catch(f){console.error("AI-based entity extraction failed:",f)}}async function sg(l,r){const d={extracted:[],errors:[]};try{const c=(await I.getJournalEntries()).find(L=>L.id===l);if(!c)return d.errors.push("Journal entry not found"),d;const[u,m,x]=await Promise.all([I.getPeopleRecords(),I.getClientRecords(),I.getBrandRecords()]),g=new Set(u.map(L=>L.name.toLowerCase())),p=new Set(m.map(L=>L.name.toLowerCase())),f=new Set(x.map(L=>L.name.toLowerCase())),b=`You are an entity extraction agent. Analyze this journal entry and identify all entities that should be extracted:

Journal Entry:
Title: ${c.title}
Content: ${c.content}

Existing entities already in the system:
- People: ${Array.from(g).join(", ")||"None"}
- Clients: ${Array.from(p).join(", ")||"None"}
- Brand: ${Array.from(f).join(", ")||"None"}

Extract the following entity types:
1. PEOPLE: Any actual person mentioned (names, roles, relationships) - NOT concepts, ideas, or applications
2. CONCEPTS: Ideas, concepts, AI applications, technologies, systems, platforms, tools, models, frameworks, algorithms, methods, strategies, processes, workflows, solutions, products, services, features
3. CLIENTS: Any client, customer, or business relationship
4. BRAND: Any brand element, voice note, positioning
5. CALENDAR: Any meeting, event, appointment, or time-bound commitment
6. AGENDA/DELIVERABLES: Any tasks, commitments, or work items
7. POLARIS/GOALS: Strategic goals, objectives, or high-leverage moves

IMPORTANT: Distinguish between PEOPLE and CONCEPTS:
- PEOPLE: Actual humans with names (e.g., "John Smith", "Sarah Johnson")
- CONCEPTS: Ideas, applications, technologies (e.g., "AI Application", "Machine Learning Model", "Resonance Cockpit")

For each entity, respond with an ACTION marker in this format:
[ACTION:actionId|payload1|payload2|...]

Example:
[ACTION:people.add|John Smith|Engineer|Key contact for project]
[ACTION:client.add|Acme Corp|Website redesign project]
[ACTION:calendar.add|Meeting with John|2025-11-10T14:00|2025-11-10T15:00|Discuss project]

Only include entities that are clearly mentioned and should be tracked. Skip entities that already exist in the system.

Your response:`,N=await Bi([{role:"system",content:"You are an entity extraction agent. Analyze journal entries and extract entities. Respond only with ACTION markers for entities that should be extracted."},{role:"user",content:b}],{apiKey:r,mainModel:"openrouter/polaris-alpha",temperature:.3,maxTokens:2e3}),w=/\[ACTION:([^\]]+)\]/g,C=[...N.matchAll(w)];for(const L of C){const K=L[1].split("|");if(K.length<1)continue;const ie=K[0].trim(),re=K.slice(1).join("|").trim();if(ie)try{await hw(ie,re,{existingPeopleNames:g,existingClientNames:p,existingBrandNames:f})||(await bl(ie,re),d.extracted.push(`${ie}: ${re.substring(0,50)}${re.length>50?"...":""}`))}catch(be){d.errors.push(`Failed to execute ${ie}: ${be instanceof Error?be.message:String(be)}`)}}}catch(c){d.errors.push(`Extraction failed: ${c instanceof Error?c.message:String(c)}`)}return d}async function hw(l,r,d){var m;const u=(m=r.split("|")[0])==null?void 0:m.trim().toLowerCase();return u?l==="people.add"?d.existingPeopleNames.has(u):l==="client.add"?d.existingClientNames.has(u):l==="brand.add"?d.existingBrandNames.has(u):!1:!1}const dx=Object.freeze(Object.defineProperty({__proto__:null,extractEntitiesFromJournalEntry:sg,extractEntitiesFromUserMessage:uw,postProcessMessage:ag},Symbol.toStringTag,{value:"Module"})),mw=()=>{const[l,r]=v.useState([]),[d,c]=v.useState(""),[u,m]=v.useState(""),[x,g]=v.useState([]),[p,f]=v.useState([]),[b,N]=v.useState(null),[w,C]=v.useState(""),[L,R]=v.useState(""),[K,ie]=v.useState(null),[re,be]=v.useState({}),[U,Y]=v.useState(""),[O,D]=v.useState(null),[oe,Ne]=v.useState(null),[P,ne]=v.useState(!0),Ae=v.useMemo(()=>{const T=l.length,W=l.filter(xe=>xe.autoGenerated).length,ce=l.filter(xe=>typeof xe.grade=="number"),Te=ce.length?(ce.reduce((xe,we)=>xe+(we.grade||0),0)/ce.length).toFixed(1):"",k=l.filter(xe=>{const we=new Date(xe.createdAt),ze=new Date;return ze.setDate(ze.getDate()-7),we>=ze}).length,fe=l.filter(xe=>{const we=new Date(xe.createdAt),ze=new Date;return ze.setMonth(ze.getMonth()-1),we>=ze}).length;return{total:T,auto:W,avgGrade:Te,graded:ce.length,thisWeek:k,thisMonth:fe}},[l]),G=v.useMemo(()=>{const T=new Set;return l.forEach(W=>{var ce;(ce=W.tags)==null||ce.forEach(Te=>T.add(Te))}),Array.from(T).sort()},[l]),J=v.useCallback(async()=>{const T=await I.getJournalEntries();r(T.sort((W,ce)=>ce.createdAt-W.createdAt))},[]);v.useEffect(()=>(J(),(async()=>{const W=await gt("journal_consumed_snippets",[]);f(W)})(),iw({id:"journal",label:"Journal",onRequest:W=>m(ce=>`${W}

${ce}`.trim())})),[J]);const E=v.useCallback(async()=>{const W=(await wx(6)).filter(ce=>!p.includes(ce.id));g(W)},[p]);v.useEffect(()=>{E()},[E,l]);const z=v.useCallback(async(T,W,ce)=>{W.trim()&&(await I.saveJournalEntry({id:`journal-${Date.now()}`,title:T||"Untitled entry",content:W,createdAt:Date.now(),...ce}),await J(),await Cs("journal.entry"),c(""),m(""))},[J]),te=async T=>{await I.deleteJournalEntry(T),J()},ve=T=>{N(T),R(T.title),C(T.content),setActiveEntity({type:"journal",id:T.id,data:T})},De=async()=>{b&&(await I.saveJournalEntry({...b,title:L,content:w}),N(null),R(""),C(""),setActiveEntity({type:null,id:""}),J())},Ue=()=>{N(null),setActiveEntity({type:null,id:""}),R(""),C("")},j=async T=>{ie(T);try{const W=await gt("auditApiKey",""),ce=await gt("apiKey",""),Te=W||ce;if(!Te){be(fe=>({...fe,[T]:{extracted:[],errors:["No API key configured. Please add an API key in Settings."]}}));return}const k=await sg(T,Te);be(fe=>({...fe,[T]:k})),await J()}catch(W){be(ce=>({...ce,[T]:{extracted:[],errors:[W instanceof Error?W.message:"Failed to extract entities"]}}))}finally{ie(null)}};v.useEffect(()=>on("journal",J),[J]);const q=v.useMemo(()=>{let T=l;if(U.trim()){const W=U.toLowerCase();T=T.filter(ce=>{var Te;return ce.title.toLowerCase().includes(W)||ce.content.toLowerCase().includes(W)||((Te=ce.tags)==null?void 0:Te.some(k=>k.toLowerCase().includes(W)))})}return O&&(T=T.filter(W=>{var ce;return(ce=W.tags)==null?void 0:ce.includes(O)})),oe!==null&&(T=T.filter(W=>W.grade===oe)),T},[l,U,O,oe]),X=T=>{const W=new Date(T),ce=new Date,Te=new Date(ce);return Te.setDate(Te.getDate()-1),W.toDateString()===ce.toDateString()?"Today":W.toDateString()===Te.toDateString()?"Yesterday":W.toLocaleDateString("en-US",{month:"short",day:"numeric",year:W.getFullYear()!==ce.getFullYear()?"numeric":void 0})},he=T=>T?T>=4?"text-green-600":T>=3?"text-yellow-600":"text-red-600":"text-gray-400",ee=T=>T?T>=4?"bg-green-100":T>=3?"bg-yellow-100":"bg-red-100":"bg-gray-100";return a.jsxs(Wt,{title:"Journal",subtitle:"Long-form reflections feed Sylvia's JIT memory. Rich context for understanding patterns and growth.",children:[a.jsxs("div",{className:"grid grid-cols-2 sm:grid-cols-3 md:grid-cols-6 gap-4 mb-6",children:[a.jsxs("div",{className:"rounded-2xl border border-white/70 bg-gradient-to-br from-blue-50 to-blue-100 p-4",children:[a.jsxs("div",{className:"flex items-center justify-between mb-2",children:[a.jsx(Cu,{className:"w-6 h-6 text-blue-600"}),a.jsx("span",{className:"text-2xl font-bold text-black",children:Ae.total})]}),a.jsx("p",{className:"text-xs uppercase tracking-[0.2em] text-gray-600",children:"Total Entries"})]}),a.jsxs("div",{className:"rounded-2xl border border-white/70 bg-gradient-to-br from-purple-50 to-purple-100 p-4",children:[a.jsxs("div",{className:"flex items-center justify-between mb-2",children:[a.jsx(ts,{className:"w-6 h-6 text-purple-600"}),a.jsx("span",{className:"text-2xl font-bold text-black",children:Ae.auto})]}),a.jsx("p",{className:"text-xs uppercase tracking-[0.2em] text-gray-600",children:"Sylvia Drops"})]}),a.jsxs("div",{className:"rounded-2xl border border-white/70 bg-gradient-to-br from-green-50 to-green-100 p-4",children:[a.jsxs("div",{className:"flex items-center justify-between mb-2",children:[a.jsx(Li,{className:"w-6 h-6 text-green-600"}),a.jsx("span",{className:"text-2xl font-bold text-black",children:Ae.graded})]}),a.jsx("p",{className:"text-xs uppercase tracking-[0.2em] text-gray-600",children:"Graded"})]}),a.jsxs("div",{className:"rounded-2xl border border-white/70 bg-gradient-to-br from-yellow-50 to-yellow-100 p-4",children:[a.jsxs("div",{className:"flex items-center justify-between mb-2",children:[a.jsx(xl,{className:"w-6 h-6 text-yellow-600"}),a.jsx("span",{className:"text-2xl font-bold text-black",children:Ae.avgGrade})]}),a.jsx("p",{className:"text-xs uppercase tracking-[0.2em] text-gray-600",children:"Avg Grade"})]}),a.jsxs("div",{className:"rounded-2xl border border-white/70 bg-gradient-to-br from-orange-50 to-orange-100 p-4",children:[a.jsxs("div",{className:"flex items-center justify-between mb-2",children:[a.jsx($a,{className:"w-6 h-6 text-orange-600"}),a.jsx("span",{className:"text-2xl font-bold text-black",children:Ae.thisWeek})]}),a.jsx("p",{className:"text-xs uppercase tracking-[0.2em] text-gray-600",children:"This Week"})]}),a.jsxs("div",{className:"rounded-2xl border border-white/70 bg-gradient-to-br from-pink-50 to-pink-100 p-4",children:[a.jsxs("div",{className:"flex items-center justify-between mb-2",children:[a.jsx(Co,{className:"w-6 h-6 text-pink-600"}),a.jsx("span",{className:"text-2xl font-bold text-black",children:Ae.thisMonth})]}),a.jsx("p",{className:"text-xs uppercase tracking-[0.2em] text-gray-600",children:"This Month"})]})]}),P&&x.length>0&&a.jsxs("div",{className:"glass-panel border border-white/70 rounded-3xl p-6 mb-6 space-y-4 bg-gradient-to-br from-purple-50/50 to-pink-50/50",children:[a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{children:[a.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[a.jsx(ts,{className:"w-5 h-5 text-purple-600"}),a.jsx("p",{className:"text-xs uppercase tracking-[0.3em] text-purple-600 font-semibold",children:"Sylvia Suggestions"})]}),a.jsx("h3",{className:"text-xl font-semibold",children:"Promote to journal"})]}),a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsxs("button",{onClick:E,className:"px-3 py-1.5 rounded-full bg-white border border-white/70 text-sm hover:bg-gray-50 transition flex items-center gap-1",children:[a.jsx($i,{className:"w-4 h-4"}),"Refresh"]}),a.jsx("button",{onClick:()=>ne(!1),className:"p-1.5 rounded-full bg-white border border-white/70 hover:bg-gray-50 transition",children:a.jsx(Qt,{className:"w-4 h-4"})})]})]}),a.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:x.map(T=>a.jsxs("div",{className:"rounded-2xl border border-dashed border-purple-200 p-4 space-y-3 bg-white/80 hover:bg-white transition",children:[a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("p",{className:"text-xs uppercase tracking-[0.2em] text-secondary-light",children:["Thread ",T.threadId]}),a.jsx("span",{className:"px-2 py-0.5 rounded-full bg-purple-100 text-purple-700 text-xs font-medium",children:"Suggestion"})]}),a.jsx("div",{className:"message-content text-sm",dangerouslySetInnerHTML:{__html:eg(T.text.substring(0,200))}}),T.tags.length>0&&a.jsx("div",{className:"flex flex-wrap gap-1.5",children:T.tags.map(W=>a.jsxs("span",{className:"px-2 py-0.5 rounded-full bg-purple-50 text-purple-700 text-xs border border-purple-100",children:["#",W]},W))}),a.jsxs("div",{className:"flex gap-2",children:[a.jsx("button",{onClick:async()=>{await z(T.tags[0]||"Auto entry",T.text,{autoGenerated:!0,sourceThreadId:T.threadId,tags:T.tags,scope:rw(T.tags)});const W=[...p,T.id];f(W),await nn("journal_consumed_snippets",W),E()},className:"flex-1 px-4 py-2 rounded-full bg-black text-white text-sm font-medium hover:shadow-lg transition",children:"Promote"}),a.jsx("button",{onClick:async()=>{const W=[...p,T.id];f(W),await nn("journal_consumed_snippets",W),E()},className:"px-4 py-2 rounded-full bg-white text-sm border border-white/70 hover:bg-gray-50 transition",children:"Dismiss"})]})]},T.id))})]}),a.jsxs("div",{className:"mb-6 space-y-4",children:[a.jsx("div",{className:"glass-panel rounded-2xl border border-white/70 p-4",children:a.jsxs("div",{className:"flex items-center gap-3",children:[a.jsx(ss,{className:"w-5 h-5 text-secondary-light"}),a.jsx("input",{type:"text",value:U,onChange:T=>Y(T.target.value),placeholder:"Search entries by title, content, or tags...",className:"flex-1 bg-transparent outline-none text-lg placeholder:text-secondary-light"}),U&&a.jsx("button",{onClick:()=>Y(""),className:"px-3 py-1 rounded-full bg-white/80 border border-white/70 text-sm hover:bg-white transition",children:"Clear"})]})}),a.jsxs("div",{className:"flex flex-wrap gap-2 items-center",children:[a.jsxs("span",{className:"text-sm text-secondary-light flex items-center gap-1",children:[a.jsx(yl,{className:"w-4 h-4"}),"Filter:"]}),a.jsx("button",{onClick:()=>D(null),className:`px-3 py-1 rounded-full text-xs font-medium transition ${O===null?"bg-black text-white":"bg-white/80 border border-white/70 hover:bg-white"}`,children:"All Tags"}),G.map(T=>a.jsxs("button",{onClick:()=>D(O===T?null:T),className:`px-3 py-1 rounded-full text-xs font-medium transition flex items-center gap-1 ${O===T?"bg-black text-white":"bg-white/80 border border-white/70 hover:bg-white"}`,children:[a.jsx(En,{className:"w-3 h-3"}),T]},T)),a.jsxs("div",{className:"flex items-center gap-2 ml-2",children:[a.jsx("span",{className:"text-xs text-secondary-light",children:"Grade:"}),a.jsx("button",{onClick:()=>Ne(null),className:`px-2 py-1 rounded-full text-xs transition ${oe===null?"bg-black text-white":"bg-white/80 border border-white/70"}`,children:"All"}),[5,4,3,2,1].map(T=>a.jsxs("button",{onClick:()=>Ne(oe===T?null:T),className:`px-2 py-1 rounded-full text-xs transition flex items-center gap-1 ${oe===T?"bg-black text-white":"bg-white/80 border border-white/70"}`,children:[a.jsx(xl,{className:`w-3 h-3 ${he(T)}`}),T]},T))]})]})]}),q.length===0?a.jsxs("div",{className:"glass-panel rounded-3xl border border-white/70 p-12 text-center",children:[a.jsx("div",{className:"flex justify-center mb-4",children:a.jsx(Du,{className:"w-16 h-16 text-secondary-light"})}),a.jsx("h3",{className:"text-xl font-semibold mb-2",children:l.length===0?"No journal entries yet":"No matches found"}),a.jsx("p",{className:"text-secondary-light",children:l.length===0?"Start reflecting. Your thoughts become Sylvia's context.":"Try adjusting your search or filters."})]}):a.jsx("div",{className:"space-y-6",children:q.map(T=>{const W=(b==null?void 0:b.id)===T.id,ce=re[T.id],Te=new Date(T.createdAt);return a.jsx("article",{onClick:k=>{k.target.closest("button")||W||setActiveEntity({type:"journal",id:T.id,data:T})},className:`rounded-3xl border p-6 transition-all cursor-pointer ${W?"border-black bg-black text-white shadow-xl":"border-white/70 bg-white/90 hover:shadow-lg hover:border-white"}`,children:W?a.jsxs("div",{className:"space-y-4",children:[a.jsxs("div",{children:[a.jsx("label",{className:"text-xs uppercase tracking-[0.2em] text-white/70 mb-2 block",children:"Title *"}),a.jsx("input",{value:L,onChange:k=>R(k.target.value),className:"w-full rounded-2xl border border-white/30 bg-white/10 px-4 py-2 text-white placeholder:text-white/50 focus:outline-none focus:ring-2 focus:ring-white/50",placeholder:"Entry title"})]}),a.jsxs("div",{children:[a.jsx("label",{className:"text-xs uppercase tracking-[0.2em] text-white/70 mb-2 block",children:"Content *"}),a.jsx("textarea",{value:w,onChange:k=>C(k.target.value),rows:12,className:"w-full rounded-2xl border border-white/30 bg-white/10 px-4 py-2 text-white placeholder:text-white/50 focus:outline-none focus:ring-2 focus:ring-white/50 resize-none",placeholder:"Write your reflection..."})]}),a.jsxs("div",{className:"flex gap-2",children:[a.jsx("button",{onClick:De,className:"flex-1 px-4 py-2 rounded-2xl bg-white text-black font-semibold hover:bg-gray-100 transition",children:"Save"}),a.jsx("button",{onClick:Ue,className:"px-4 py-2 rounded-2xl bg-white/20 text-white border border-white/30 hover:bg-white/30 transition",children:"Cancel"})]})]}):a.jsxs(a.Fragment,{children:[a.jsxs("header",{className:"flex items-start justify-between mb-4",children:[a.jsxs("div",{className:"flex-1",children:[a.jsxs("div",{className:"flex items-center gap-3 mb-2",children:[a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx(ln,{className:"w-4 h-4 text-secondary-light"}),a.jsx("span",{className:"text-xs uppercase tracking-[0.2em] text-secondary-light",children:X(T.createdAt)}),a.jsx("span",{className:"text-xs text-secondary-light",children:Te.toLocaleTimeString("en-US",{hour:"numeric",minute:"2-digit"})})]}),T.autoGenerated&&a.jsxs("span",{className:"px-2 py-0.5 rounded-full bg-purple-100 text-purple-700 text-xs font-medium flex items-center gap-1",children:[a.jsx(ts,{className:"w-3 h-3"}),"Sylvia"]})]}),a.jsx("h3",{className:"text-2xl font-bold mb-2",children:T.title})]}),T.grade&&a.jsxs("div",{className:`px-3 py-1.5 rounded-full flex items-center gap-1 ${ee(T.grade)}`,children:[a.jsx(xl,{className:`w-4 h-4 ${he(T.grade)}`}),a.jsxs("span",{className:`text-sm font-semibold ${he(T.grade)}`,children:[T.grade,"/5"]})]})]}),a.jsx("div",{className:"mb-4",children:a.jsx(St,{content:T.content,className:"text-sm leading-relaxed"})}),T.tags&&T.tags.length>0&&a.jsx("div",{className:"mb-4 flex flex-wrap gap-2",children:T.tags.map(k=>a.jsxs("span",{className:"px-3 py-1 rounded-full bg-blue-50 text-blue-700 text-xs font-medium border border-blue-100 flex items-center gap-1",children:[a.jsx(En,{className:"w-3 h-3"}),k]},k))}),ce&&K!==T.id&&a.jsxs("div",{className:`mb-4 p-4 rounded-2xl border ${ce.extracted.length>0?"bg-green-50 border-green-200":ce.errors.length>0?"bg-red-50 border-red-200":"bg-gray-50 border-gray-200"}`,children:[a.jsxs("div",{className:"flex items-start justify-between mb-2",children:[a.jsxs("div",{className:"flex items-center gap-2",children:[ce.extracted.length>0?a.jsx(Va,{className:"w-4 h-4 text-green-600"}):ce.errors.length>0?a.jsx(Do,{className:"w-4 h-4 text-red-600"}):a.jsx($a,{className:"w-4 h-4 text-gray-600"}),a.jsx("span",{className:"text-xs font-semibold uppercase tracking-[0.1em]",children:"Extraction Results"})]}),a.jsx("button",{onClick:()=>{be(k=>{const fe={...k};return delete fe[T.id],fe})},className:"text-gray-400 hover:text-gray-600 transition",children:a.jsx(Qt,{className:"w-4 h-4"})})]}),ce.extracted.length>0&&a.jsxs("div",{className:"mb-2",children:[a.jsxs("p",{className:"text-xs font-semibold text-green-700 mb-1",children:["Extracted ",ce.extracted.length," entities:"]}),a.jsx("ul",{className:"list-disc list-inside space-y-1 text-xs text-green-600",children:ce.extracted.map((k,fe)=>a.jsx("li",{children:k},fe))})]}),ce.errors.length>0&&a.jsxs("div",{children:[a.jsx("p",{className:"text-xs font-semibold text-red-700 mb-1",children:"Errors:"}),a.jsx("ul",{className:"list-disc list-inside space-y-1 text-xs text-red-600",children:ce.errors.map((k,fe)=>a.jsx("li",{children:k},fe))})]}),ce.extracted.length===0&&ce.errors.length===0&&a.jsx("p",{className:"text-xs text-gray-600",children:"No new entities found in this entry."})]}),a.jsxs("div",{className:"flex items-center gap-2 pt-4 border-t border-white/20",children:[a.jsx("button",{onClick:()=>j(T.id),disabled:K===T.id,className:"px-3 py-1.5 rounded-full bg-black text-white text-xs font-medium hover:shadow-lg transition flex items-center gap-1 disabled:opacity-50 disabled:cursor-not-allowed",title:"Extract entities from this entry (fail-safe)",children:K===T.id?a.jsxs(a.Fragment,{children:[a.jsx($i,{className:"w-3 h-3 animate-spin"}),"Extracting..."]}):a.jsxs(a.Fragment,{children:[a.jsx(vl,{className:"w-3 h-3"}),"Extract Entities"]})}),a.jsxs("button",{onClick:()=>ve(T),className:"px-3 py-1.5 rounded-full bg-white/80 border border-white/70 text-xs font-medium hover:bg-white transition flex items-center gap-1",children:[a.jsx(Xa,{className:"w-3 h-3"}),"Edit"]}),a.jsxs("button",{onClick:()=>te(T.id),className:"px-3 py-1.5 rounded-full bg-white/80 border border-white/70 text-xs font-medium hover:bg-red-50 hover:border-red-200 hover:text-red-700 transition flex items-center gap-1",children:[a.jsx(rn,{className:"w-3 h-3"}),"Delete"]}),a.jsxs("div",{className:"flex items-center gap-2 ml-auto",children:[a.jsxs("select",{value:T.grade??"",onChange:async k=>{const fe=k.target.value?Number(k.target.value):void 0;await I.saveJournalEntry({...T,grade:fe}),await Cs("journal.grade"),J()},className:"rounded-full border border-white/70 bg-white px-3 py-1 text-xs focus:outline-none focus:ring-2 focus:ring-black",children:[a.jsx("option",{value:"",children:"Grade"}),[5,4,3,2,1].map(k=>a.jsxs("option",{value:k,children:[k," "]},k))]}),T.grade&&a.jsx("input",{value:T.gradeNotes??"",onChange:async k=>{await I.saveJournalEntry({...T,gradeNotes:k.target.value}),J()},placeholder:"Grade notes...",className:"rounded-full border border-white/70 bg-white px-3 py-1 text-xs w-32 focus:outline-none focus:ring-2 focus:ring-black"})]})]})]})},T.id)})})]})},fw=()=>{const{sendMessage:l}=as(),[r,d]=v.useState([]),[c,u]=v.useState([]),[m,x]=v.useState([]),[g,p]=v.useState([]),[f,b]=v.useState([]),[N,w]=v.useState(null),[C,L]=v.useState("semi-auto"),[R,K]=v.useState(""),[ie,re]=v.useState([]),[be,U]=v.useState([]),[Y,O]=v.useState(""),[D,oe]=v.useState(""),[Ne,P]=v.useState(""),[ne,Ae]=v.useState(null),[G,J]=v.useState(!1),[E,z]=v.useState({personality:"",decisionStyle:"",communicationStyle:""}),[te,ve]=v.useState(null),[De,Ue]=v.useState(null),[j,q]=v.useState({title:"",description:"",guardrails:"",successCriteria:"",scope:"professional",priority:"medium",tags:""}),[X,he]=v.useState({title:"",description:"",dueAt:"",estimatedTime:"",priority:"medium",tags:"",deliverableId:""}),ee=v.useCallback(async()=>{const[S,pe,Ee,Me,ge]=await Promise.all([I.getAgendaItems(),I.getDeliverables(),I.getAgendaSessions(),I.getPostMortems(),I.getGoals()]);d(S.sort((qe,Q)=>(Q.dueAt||Q.createdAt)-(qe.dueAt||qe.createdAt))),u(pe.sort((qe,Q)=>Q.createdAt-qe.createdAt)),x(Ee.sort((qe,Q)=>(Q.updatedAt||Q.startedAt)-(qe.updatedAt||qe.startedAt))),p(Me.sort((qe,Q)=>Q.createdAt-qe.createdAt)),b(ge);const Ze=Ee.find(qe=>qe.status==="active"||qe.status==="paused");w(Ze||null),Ze&&(K(Ze.notes||""),L(Ze.mode),re(Ze.deliverableIds),U(Ze.sessionGoals||[]))},[]);v.useEffect(()=>(ee(),on(["agenda","deliverable","goal"],ee)),[ee]);const T=v.useMemo(()=>{const S=r.length,pe=r.filter(Q=>Q.status==="done").length,Ee=r.filter(Q=>Q.status==="in-progress").length,Me=r.filter(Q=>Q.status==="todo").length,ge=m.filter(Q=>Q.status==="active").length,Ze=m.filter(Q=>Q.status==="completed").length,qe=c.length;return{totalItems:S,doneItems:pe,inProgressItems:Ee,todoItems:Me,activeSessions:ge,completedSessions:Ze,totalDeliverables:qe}},[r,m,c]),W=v.useMemo(()=>{let S=r;if(ne&&(S=S.filter(pe=>pe.status===ne)),Ne.trim()){const pe=Ne.toLowerCase();S=S.filter(Ee=>{var Me,ge;return Ee.title.toLowerCase().includes(pe)||((Me=Ee.description)==null?void 0:Me.toLowerCase().includes(pe))||((ge=Ee.tags)==null?void 0:ge.some(Ze=>Ze.toLowerCase().includes(pe)))})}return S},[r,ne,Ne]),ce=S=>c.find(pe=>pe.id===S),Te=S=>f.find(pe=>pe.id===S),k=async()=>{let S=ie;S.length===0&&c.length===1&&(S=[c[0].id]),S.length===0&&C!=="manual"&&(S=[]);let pe=[];C!=="manual"&&(pe=r.filter(ge=>ge.deliverableId&&S.includes(ge.deliverableId)).map(ge=>ge.id));const Ee={id:`session-${Date.now()}`,mode:C,deliverableIds:S,taskSequence:pe,startedAt:Date.now(),status:"active",currentTaskIndex:0,sessionGoals:be.length>0?be:void 0,autonomousAgentConfig:C==="auto"?{personality:E.personality||void 0,decisionStyle:E.decisionStyle||void 0,communicationStyle:E.communicationStyle||void 0}:void 0,createdAt:Date.now()};await I.saveAgendaSession(Ee),await Cs("agenda.session"),await uu("Agenda session started",`Mode: ${C}`,{scope:"professional",tags:["agenda","session",C],metadata:{deliverables:ie.join(",")},autoGenerated:!0}),C==="auto"&&await fe(Ee),re([]),U([]),J(!1),ee()},fe=async S=>{var ae,Xe,Ct,se;const[pe,Ee,Me,ge]=await Promise.all([I.getPeopleRecords(),I.getBrandRecords(),I.getCalendarEvents(),I.getJournalEntries()]),Ze=S.deliverableIds.map(F=>ce(F)).filter(Boolean),qe=((ae=S.taskSequence)==null?void 0:ae.map(F=>r.find(Le=>Le.id===F)).filter(Boolean))||[],Q=`You are operating as an autonomous agent working on behalf of the user. Your task is to complete this workflow session autonomously.

SESSION MODE: ${S.mode==="auto"?"FULLY AUTONOMOUS":"SEMI-AUTONOMOUS"}
${(Xe=S.autonomousAgentConfig)!=null&&Xe.personality?`PERSONALITY: ${S.autonomousAgentConfig.personality}`:""}
${(Ct=S.autonomousAgentConfig)!=null&&Ct.decisionStyle?`DECISION STYLE: ${S.autonomousAgentConfig.decisionStyle}`:""}
${(se=S.autonomousAgentConfig)!=null&&se.communicationStyle?`COMMUNICATION STYLE: ${S.autonomousAgentConfig.communicationStyle}`:""}

DELIVERABLES TO COMPLETE:
${Ze.map(F=>`- ${F.title}: ${F.description}
  Guardrails: ${F.guardrails}
  Success: ${F.successCriteria}`).join(`
`)}

TASK SEQUENCE:
${qe.map((F,Le)=>`${Le+1}. ${F.title}${F.description?`: ${F.description}`:""}${F.estimatedTime?` (${F.estimatedTime} min)`:""}`).join(`
`)}

${S.sessionGoals&&S.sessionGoals.length>0?`SESSION GOALS:
${S.sessionGoals.map(F=>{var Le;return`- ${((Le=Te(F))==null?void 0:Le.title)||F}`}).join(`
`)}`:""}

AVAILABLE CONTEXT:
- ${pe.length} people in network
- ${Ee.length} brand elements
- ${Me.length} calendar events
- ${ge.length} journal entries

${S.mode==="auto"?"AUTONOMOUS MODE: Work through the tasks systematically. Make decisions, take actions, and complete deliverables. Act as the user would act. Use ACTION markers to create entities, update calendar, add people, etc. as needed.":"SEMI-AUTONOMOUS MODE: Guide the user through the workflow. Ask questions, provide suggestions, check progress, and ensure all deliverables are completed. Be collaborative and supportive."}

Start working through the tasks now. Provide updates as you progress.`;await l(Q)},xe=async(S,pe)=>{await I.saveAgendaSession({...S,status:pe,updatedAt:Date.now()}),ee()},we=async()=>{N&&(await I.saveAgendaSession({...N,notes:R,updatedAt:Date.now()}),ee())},ze=async()=>{if(!N)return;const pe=r.filter(Me=>N.deliverableIds.includes(Me.deliverableId||"")&&Me.status==="done").length*10;await Cs("agenda.session");const Ee={...N,status:"completed",endedAt:Date.now(),summary:Y,notes:R,xpAwarded:pe,updatedAt:Date.now()};await I.saveAgendaSession(Ee),await I.savePostMortem({id:`mortem-${Date.now()}`,sessionId:Ee.id,notes:Y,grade:D?Number(D):void 0,createdAt:Date.now()}),await uu("Agenda session completed",Y||"Session ended",{scope:"professional",tags:["agenda","session","post-mortem"],metadata:{sessionId:Ee.id,xpAwarded:pe},autoGenerated:!0}),O(""),oe(""),w(null),ee()},Ye=async(S,pe)=>{await I.saveAgendaItem({...S,status:pe,completedAt:pe==="done"?Date.now():void 0}),await Cs("agenda.add"),ee()},bt=async S=>{await I.deleteAgendaItem(S),ee()},He=async()=>{te&&(await I.saveDeliverable({...te,...j,tags:j.tags.split(",").map(S=>S.trim()).filter(Boolean)}),ve(null),ee())},de=async S=>{const pe=r.filter(Ee=>Ee.deliverableId===S);for(const Ee of pe)await I.deleteAgendaItem(Ee.id);await I.deleteDeliverable(S),ee()},ke=async()=>{if(ie.length===0)return;const S=ie.map(qe=>ce(qe)).filter(Boolean),[pe,Ee,Me,ge]=await Promise.all([I.getPeopleRecords(),I.getBrandRecords(),I.getCalendarEvents(),I.getJournalEntries()]),Ze=`Generate a detailed workflow/task sequence for these deliverables:

DELIVERABLES:
${S.map(qe=>`- ${qe.title}: ${qe.description}
  Guardrails: ${qe.guardrails}
  Success: ${qe.successCriteria}`).join(`
`)}

AVAILABLE CONTEXT:
- ${pe.length} people in network
- ${Ee.length} brand elements  
- ${Me.length} calendar events
- ${ge.length} journal entries

Create a step-by-step workflow with specific, actionable tasks. For each task, respond with:
[ACTION:agenda.add|title|description|deliverableId|estimatedTime|priority]

Where:
- title: Task title
- description: What needs to be done
- deliverableId: One of ${ie.join(", ")}
- estimatedTime: Minutes (e.g., 30, 60, 120)
- priority: low, medium, or high

Generate 5-15 tasks that break down these deliverables into actionable steps.`;await l(Ze)};return a.jsxs(Wt,{title:"Agenda",subtitle:"Autonomous & semi-autonomous workflow builder. Set up task sequences for Sylvia to execute or guide you through.",children:[a.jsxs("div",{className:"grid grid-cols-2 sm:grid-cols-4 md:grid-cols-7 gap-4 mb-6",children:[a.jsxs("div",{className:"rounded-2xl border border-white/70 bg-gradient-to-br from-blue-50 to-blue-100 p-4",children:[a.jsxs("div",{className:"flex items-center justify-between mb-2",children:[a.jsx(Kd,{className:"w-6 h-6 text-blue-600"}),a.jsx("span",{className:"text-2xl font-bold text-black",children:T.totalItems})]}),a.jsx("p",{className:"text-xs uppercase tracking-[0.2em] text-gray-600",children:"Total Tasks"})]}),a.jsxs("div",{className:"rounded-2xl border border-white/70 bg-gradient-to-br from-green-50 to-green-100 p-4",children:[a.jsxs("div",{className:"flex items-center justify-between mb-2",children:[a.jsx(Va,{className:"w-6 h-6 text-green-600"}),a.jsx("span",{className:"text-2xl font-bold text-black",children:T.doneItems})]}),a.jsx("p",{className:"text-xs uppercase tracking-[0.2em] text-gray-600",children:"Done"})]}),a.jsxs("div",{className:"rounded-2xl border border-white/70 bg-gradient-to-br from-yellow-50 to-yellow-100 p-4",children:[a.jsxs("div",{className:"flex items-center justify-between mb-2",children:[a.jsx($a,{className:"w-6 h-6 text-yellow-600"}),a.jsx("span",{className:"text-2xl font-bold text-black",children:T.inProgressItems})]}),a.jsx("p",{className:"text-xs uppercase tracking-[0.2em] text-gray-600",children:"In Progress"})]}),a.jsxs("div",{className:"rounded-2xl border border-white/70 bg-gradient-to-br from-gray-50 to-gray-100 p-4",children:[a.jsxs("div",{className:"flex items-center justify-between mb-2",children:[a.jsx(Kd,{className:"w-6 h-6 text-gray-600"}),a.jsx("span",{className:"text-2xl font-bold text-black",children:T.todoItems})]}),a.jsx("p",{className:"text-xs uppercase tracking-[0.2em] text-gray-600",children:"To Do"})]}),a.jsxs("div",{className:"rounded-2xl border border-white/70 bg-gradient-to-br from-purple-50 to-purple-100 p-4",children:[a.jsxs("div",{className:"flex items-center justify-between mb-2",children:[a.jsx(wa,{className:"w-6 h-6 text-purple-600"}),a.jsx("span",{className:"text-2xl font-bold text-black",children:T.totalDeliverables})]}),a.jsx("p",{className:"text-xs uppercase tracking-[0.2em] text-gray-600",children:"Deliverables"})]}),a.jsxs("div",{className:"rounded-2xl border border-white/70 bg-gradient-to-br from-orange-50 to-orange-100 p-4",children:[a.jsxs("div",{className:"flex items-center justify-between mb-2",children:[a.jsx(Ri,{className:"w-6 h-6 text-orange-600"}),a.jsx("span",{className:"text-2xl font-bold text-black",children:T.activeSessions})]}),a.jsx("p",{className:"text-xs uppercase tracking-[0.2em] text-gray-600",children:"Active"})]}),a.jsxs("div",{className:"rounded-2xl border border-white/70 bg-gradient-to-br from-pink-50 to-pink-100 p-4",children:[a.jsxs("div",{className:"flex items-center justify-between mb-2",children:[a.jsx(Li,{className:"w-6 h-6 text-pink-600"}),a.jsx("span",{className:"text-2xl font-bold text-black",children:T.completedSessions})]}),a.jsx("p",{className:"text-xs uppercase tracking-[0.2em] text-gray-600",children:"Completed"})]})]}),N&&a.jsxs("div",{className:"glass-panel border border-white/70 rounded-3xl p-6 mb-6 space-y-4 bg-gradient-to-br from-purple-50/50 to-blue-50/50",children:[a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{children:[a.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[N.mode==="auto"?a.jsx(lo,{className:"w-5 h-5 text-purple-600"}):N.mode==="semi-auto"?a.jsx(an,{className:"w-5 h-5 text-blue-600"}):a.jsx(Oi,{className:"w-5 h-5 text-gray-600"}),a.jsxs("span",{className:"text-xs uppercase tracking-[0.3em] text-secondary-light",children:[N.mode==="auto"?"AUTONOMOUS":N.mode==="semi-auto"?"SEMI-AUTONOMOUS":"MANUAL"," SESSION"]}),a.jsx("span",{className:`px-2 py-0.5 rounded-full text-xs font-semibold ${N.status==="active"?"bg-green-100 text-green-700":"bg-yellow-100 text-yellow-700"}`,children:N.status.toUpperCase()})]}),a.jsx("h3",{className:"text-xl font-semibold",children:"Active Workflow Session"}),a.jsxs("p",{className:"text-sm text-secondary-light",children:["Started ",new Date(N.startedAt).toLocaleString()]})]}),a.jsxs("div",{className:"flex gap-2",children:[N.status==="active"&&a.jsxs("button",{onClick:()=>xe(N,"paused"),className:"px-4 py-2 rounded-full bg-white border border-white/70 text-sm hover:bg-gray-50 transition flex items-center gap-2",children:[a.jsx(_1,{className:"w-4 h-4"}),"Pause"]}),N.status==="paused"&&a.jsxs("button",{onClick:()=>xe(N,"active"),className:"px-4 py-2 rounded-full bg-white border border-white/70 text-sm hover:bg-gray-50 transition flex items-center gap-2",children:[a.jsx(Ri,{className:"w-4 h-4"}),"Resume"]}),a.jsx("button",{onClick:()=>{w(null),K("")},className:"px-4 py-2 rounded-full bg-white border border-white/70 text-sm hover:bg-gray-50 transition",children:a.jsx(Qt,{className:"w-4 h-4"})})]})]}),a.jsxs("div",{children:[a.jsx("p",{className:"text-xs uppercase tracking-[0.2em] text-secondary-light mb-2",children:"Deliverables"}),a.jsx("div",{className:"flex flex-wrap gap-2",children:N.deliverableIds.map(S=>{const pe=ce(S);return pe?a.jsx("span",{className:"px-3 py-1 rounded-full bg-white border border-white/70 text-sm font-medium",children:pe.title},S):null})})]}),N.sessionGoals&&N.sessionGoals.length>0&&a.jsxs("div",{children:[a.jsxs("p",{className:"text-xs uppercase tracking-[0.2em] text-secondary-light mb-2 flex items-center gap-1",children:[a.jsx(wa,{className:"w-3 h-3"}),"Session Goals"]}),a.jsx("div",{className:"flex flex-wrap gap-2",children:N.sessionGoals.map(S=>{const pe=Te(S);return pe?a.jsx("span",{className:"px-3 py-1 rounded-full bg-purple-100 text-purple-700 text-sm font-medium border border-purple-200",children:pe.title},S):null})})]}),N.taskSequence&&N.taskSequence.length>0&&a.jsxs("div",{children:[a.jsxs("p",{className:"text-xs uppercase tracking-[0.2em] text-secondary-light mb-2",children:["Task Sequence (",N.currentTaskIndex||1," / ",N.taskSequence.length,")"]}),a.jsxs("div",{className:"space-y-2",children:[N.taskSequence.slice(0,5).map((S,pe)=>{const Ee=r.find(ge=>ge.id===S);if(!Ee)return null;const Me=pe===(N.currentTaskIndex||0);return a.jsxs("div",{className:`flex items-center gap-3 p-3 rounded-2xl border ${Me?"bg-purple-100 border-purple-300":Ee.status==="done"?"bg-green-50 border-green-200 opacity-60":"bg-white border-white/70"}`,children:[Ee.status==="done"?a.jsx(Va,{className:"w-5 h-5 text-green-600"}):Me?a.jsx(Ox,{className:"w-5 h-5 text-purple-600"}):a.jsx($a,{className:"w-5 h-5 text-gray-400"}),a.jsxs("div",{className:"flex-1",children:[a.jsx("p",{className:"text-sm font-medium",children:Ee.title}),Ee.estimatedTime&&a.jsxs("p",{className:"text-xs text-secondary-light",children:[Ee.estimatedTime," min"]})]})]},S)}),N.taskSequence.length>5&&a.jsxs("p",{className:"text-xs text-secondary-light text-center",children:["+",N.taskSequence.length-5," more tasks"]})]})]}),a.jsxs("div",{children:[a.jsx("label",{className:"text-xs uppercase tracking-[0.2em] text-secondary-light mb-2 block",children:"Live Notes / Transcript"}),a.jsx("textarea",{value:R,onChange:S=>K(S.target.value),placeholder:N.mode==="auto"?"Autonomous agent is working... Notes will appear here.":N.mode==="semi-auto"?"Jam session notes... Sylvia is guiding you through the workflow.":"Session notes...",rows:6,className:"w-full rounded-2xl border border-white/70 px-4 py-3 bg-white/80 focus:outline-none focus:ring-2 focus:ring-black resize-none"}),a.jsx("button",{onClick:we,className:"mt-2 px-4 py-2 rounded-full bg-black text-white text-sm font-medium hover:shadow-lg transition",children:"Save Notes"})]}),a.jsxs("div",{className:"pt-4 border-t border-white/20 space-y-3",children:[a.jsxs("div",{children:[a.jsx("label",{className:"text-xs uppercase tracking-[0.2em] text-secondary-light mb-2 block",children:"Post-Mortem Summary"}),a.jsx("textarea",{value:Y,onChange:S=>O(S.target.value),placeholder:"What happened? What was accomplished? What did you learn?",rows:3,className:"w-full rounded-2xl border border-white/70 px-4 py-3 bg-white/80 focus:outline-none focus:ring-2 focus:ring-black resize-none"})]}),a.jsxs("div",{className:"flex items-center gap-3",children:[a.jsxs("select",{value:D,onChange:S=>oe(S.target.value),className:"rounded-2xl border border-white/70 px-4 py-2 bg-white/80 focus:outline-none focus:ring-2 focus:ring-black",children:[a.jsx("option",{value:"",children:"Grade Session"}),[5,4,3,2,1].map(S=>a.jsxs("option",{value:S,children:[S," "]},S))]}),a.jsxs("button",{onClick:ze,className:"flex-1 px-4 py-2 rounded-2xl bg-black text-white font-semibold hover:shadow-lg transition flex items-center justify-center gap-2",children:[a.jsx(Va,{className:"w-4 h-4"}),"Complete Session"]})]})]})]}),!N&&a.jsxs("div",{className:"glass-panel border border-white/70 rounded-3xl p-6 mb-6 space-y-4",children:[a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{children:[a.jsxs("h3",{className:"text-xl font-semibold flex items-center gap-2",children:[a.jsx(ts,{className:"w-5 h-5"}),"Start Workflow Session"]}),a.jsx("p",{className:"text-sm text-secondary-light mt-1",children:"Choose mode and deliverables to begin"})]}),a.jsxs("button",{onClick:()=>J(!G),className:"px-4 py-2 rounded-full bg-white border border-white/70 text-sm hover:bg-gray-50 transition flex items-center gap-2",children:[a.jsx(F1,{className:"w-4 h-4"}),"Config"]})]}),a.jsxs("div",{children:[a.jsx("label",{className:"text-xs uppercase tracking-[0.2em] text-secondary-light mb-2 block",children:"Session Mode"}),a.jsx("div",{className:"grid grid-cols-3 gap-3",children:["manual","semi-auto","auto"].map(S=>a.jsxs("button",{onClick:()=>L(S),className:`p-4 rounded-2xl border transition ${C===S?"border-black bg-black text-white shadow-lg":"border-white/70 bg-white/80 hover:bg-white"}`,children:[S==="auto"?a.jsx(lo,{className:"w-6 h-6 mx-auto mb-2"}):S==="semi-auto"?a.jsx(an,{className:"w-6 h-6 mx-auto mb-2"}):a.jsx(Oi,{className:"w-6 h-6 mx-auto mb-2"}),a.jsx("p",{className:"text-sm font-semibold capitalize mb-1",children:S==="auto"?"Autonomous":S==="semi-auto"?"Semi-Auto":"Manual"}),a.jsx("p",{className:"text-xs opacity-70",children:S==="auto"?"Agent works independently":S==="semi-auto"?"Guided collaboration":"Full manual control"})]},S))})]}),G&&C==="auto"&&a.jsxs("div",{className:"p-4 rounded-2xl bg-purple-50 border border-purple-200 space-y-3",children:[a.jsx("p",{className:"text-sm font-semibold text-purple-900",children:"Autonomous Agent Configuration"}),a.jsxs("div",{children:[a.jsx("label",{className:"text-xs uppercase tracking-[0.2em] text-purple-700 mb-2 block",children:"Personality / How should the agent act?"}),a.jsx("textarea",{value:E.personality,onChange:S=>z({...E,personality:S.target.value}),placeholder:"e.g., Proactive, decisive, detail-oriented, communicates clearly...",rows:2,className:"w-full rounded-2xl border border-purple-200 px-4 py-2 bg-white focus:outline-none focus:ring-2 focus:ring-purple-500 resize-none"})]}),a.jsxs("div",{children:[a.jsx("label",{className:"text-xs uppercase tracking-[0.2em] text-purple-700 mb-2 block",children:"Decision Style"}),a.jsx("input",{value:E.decisionStyle,onChange:S=>z({...E,decisionStyle:S.target.value}),placeholder:"e.g., Fast decisions, consult context first, conservative approach...",className:"w-full rounded-2xl border border-purple-200 px-4 py-2 bg-white focus:outline-none focus:ring-2 focus:ring-purple-500"})]}),a.jsxs("div",{children:[a.jsx("label",{className:"text-xs uppercase tracking-[0.2em] text-purple-700 mb-2 block",children:"Communication Style"}),a.jsx("input",{value:E.communicationStyle,onChange:S=>z({...E,communicationStyle:S.target.value}),placeholder:"e.g., Concise updates, detailed reports, minimal communication...",className:"w-full rounded-2xl border border-purple-200 px-4 py-2 bg-white focus:outline-none focus:ring-2 focus:ring-purple-500"})]})]}),a.jsxs("div",{children:[a.jsx("label",{className:"text-xs uppercase tracking-[0.2em] text-secondary-light mb-2 block",children:"Select Deliverables"}),c.length===0?a.jsx("p",{className:"text-sm text-secondary-light p-4 rounded-2xl bg-white/50 border border-dashed border-white/70",children:"No deliverables yet. Tell Sylvia about what you want to achieve, or start a session and she'll help create deliverables as you work."}):a.jsx("div",{className:"flex flex-wrap gap-2",children:c.map(S=>a.jsx("button",{onClick:()=>re(pe=>pe.includes(S.id)?pe.filter(Ee=>Ee!==S.id):[...pe,S.id]),className:`px-4 py-2 rounded-full border text-sm font-medium transition ${ie.includes(S.id)?"bg-black text-white border-black":"bg-white border-white/70 hover:bg-gray-50"}`,children:S.title},S.id))})]}),a.jsxs("div",{children:[a.jsx("label",{className:"text-xs uppercase tracking-[0.2em] text-secondary-light mb-2 block",children:"Link to Goals (Optional)"}),f.length===0?a.jsx("p",{className:"text-xs text-secondary-light",children:"No goals available. Create goals in Polaris first."}):a.jsx("div",{className:"flex flex-wrap gap-2",children:f.map(S=>a.jsxs("button",{onClick:()=>U(pe=>pe.includes(S.id)?pe.filter(Ee=>Ee!==S.id):[...pe,S.id]),className:`px-3 py-1 rounded-full border text-xs font-medium transition flex items-center gap-1 ${be.includes(S.id)?"bg-purple-100 text-purple-700 border-purple-300":"bg-white border-white/70 hover:bg-gray-50"}`,children:[a.jsx(wa,{className:"w-3 h-3"}),S.title]},S.id))})]}),a.jsxs("div",{className:"flex gap-3",children:[C!=="manual"&&ie.length>0&&a.jsxs("button",{onClick:ke,className:"px-4 py-2 rounded-full bg-blue-50 text-blue-700 border border-blue-200 text-sm font-medium hover:bg-blue-100 transition flex items-center gap-2",children:[a.jsx(pl,{className:"w-4 h-4"}),"Generate Workflow"]}),a.jsx("button",{onClick:k,className:"flex-1 px-4 py-2 rounded-full bg-black text-white text-sm font-semibold hover:shadow-lg transition flex items-center justify-center gap-2",children:C==="auto"?a.jsxs(a.Fragment,{children:[a.jsx(lo,{className:"w-4 h-4"}),"Start Autonomous Session"]}):C==="semi-auto"?a.jsxs(a.Fragment,{children:[a.jsx(an,{className:"w-4 h-4"}),"Start Jam Session"]}):a.jsxs(a.Fragment,{children:[a.jsx(Ri,{className:"w-4 h-4"}),"Start Manual Session"]})})]})]}),a.jsxs("div",{className:"mb-8",children:[a.jsx("div",{className:"flex items-center justify-between mb-4",children:a.jsxs("div",{children:[a.jsxs("h2",{className:"text-2xl font-semibold flex items-center gap-2",children:[a.jsx(wa,{className:"w-6 h-6"}),"Deliverables"]}),a.jsx("p",{className:"text-sm text-secondary-light mt-1",children:"Deliverables are created through conversation with Sylvia. Talk to her about what you want to achieve and she'll add them here."})]})}),c.length===0?a.jsxs("div",{className:"glass-panel rounded-3xl border border-white/70 p-12 text-center",children:[a.jsx("div",{className:"flex justify-center mb-4",children:a.jsx(wa,{className:"w-16 h-16 text-secondary-light"})}),a.jsx("h3",{className:"text-xl font-semibold mb-2",children:"No deliverables yet"}),a.jsx("p",{className:"text-secondary-light",children:"Tell Sylvia about the outcomes you want to achieve. She'll create deliverables here, then you can build workflows around them."})]}):a.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:c.map(S=>{const pe=(te==null?void 0:te.id)===S.id,Ee=r.filter(ge=>ge.deliverableId===S.id),Me=Ee.filter(ge=>ge.status==="done").length;return a.jsx("div",{className:`rounded-3xl border p-6 transition-all ${pe?"border-black bg-black text-white shadow-xl":"border-white/70 bg-white/90 hover:shadow-lg hover:border-white"}`,children:pe?a.jsxs("div",{className:"space-y-4",children:[a.jsxs("div",{children:[a.jsx("label",{className:"text-xs uppercase tracking-[0.2em] text-white/70 mb-2 block",children:"Title *"}),a.jsx("input",{value:j.title,onChange:ge=>q({...j,title:ge.target.value}),className:"w-full rounded-2xl border border-white/30 bg-white/10 px-4 py-2 text-white placeholder:text-white/50 focus:outline-none focus:ring-2 focus:ring-white/50",placeholder:"Deliverable title"})]}),a.jsxs("div",{children:[a.jsx("label",{className:"text-xs uppercase tracking-[0.2em] text-white/70 mb-2 block",children:"Description *"}),a.jsx("textarea",{value:j.description,onChange:ge=>q({...j,description:ge.target.value}),rows:3,className:"w-full rounded-2xl border border-white/30 bg-white/10 px-4 py-2 text-white placeholder:text-white/50 focus:outline-none focus:ring-2 focus:ring-white/50 resize-none",placeholder:"What needs to be delivered?"})]}),a.jsxs("div",{children:[a.jsx("label",{className:"text-xs uppercase tracking-[0.2em] text-white/70 mb-2 block",children:"Guardrails"}),a.jsx("textarea",{value:j.guardrails,onChange:ge=>q({...j,guardrails:ge.target.value}),rows:2,className:"w-full rounded-2xl border border-white/30 bg-white/10 px-4 py-2 text-white placeholder:text-white/50 focus:outline-none focus:ring-2 focus:ring-white/50 resize-none",placeholder:"Constraints, boundaries, things to avoid..."})]}),a.jsxs("div",{children:[a.jsx("label",{className:"text-xs uppercase tracking-[0.2em] text-white/70 mb-2 block",children:"Success Criteria"}),a.jsx("textarea",{value:j.successCriteria,onChange:ge=>q({...j,successCriteria:ge.target.value}),rows:2,className:"w-full rounded-2xl border border-white/30 bg-white/10 px-4 py-2 text-white placeholder:text-white/50 focus:outline-none focus:ring-2 focus:ring-white/50 resize-none",placeholder:"How will you know this is complete?"})]}),a.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[a.jsxs("div",{children:[a.jsx("label",{className:"text-xs uppercase tracking-[0.2em] text-white/70 mb-2 block",children:"Scope"}),a.jsxs("select",{value:j.scope,onChange:ge=>q({...j,scope:ge.target.value}),className:"w-full rounded-2xl border border-white/30 bg-white/10 px-4 py-2 text-white focus:outline-none focus:ring-2 focus:ring-white/50",children:[a.jsx("option",{value:"personal",children:"Personal"}),a.jsx("option",{value:"professional",children:"Professional"})]})]}),a.jsxs("div",{children:[a.jsx("label",{className:"text-xs uppercase tracking-[0.2em] text-white/70 mb-2 block",children:"Priority"}),a.jsxs("select",{value:j.priority,onChange:ge=>q({...j,priority:ge.target.value}),className:"w-full rounded-2xl border border-white/30 bg-white/10 px-4 py-2 text-white focus:outline-none focus:ring-2 focus:ring-white/50",children:[a.jsx("option",{value:"low",children:"Low"}),a.jsx("option",{value:"medium",children:"Medium"}),a.jsx("option",{value:"high",children:"High"})]})]})]}),a.jsxs("div",{children:[a.jsx("label",{className:"text-xs uppercase tracking-[0.2em] text-white/70 mb-2 block",children:"Tags (comma-separated)"}),a.jsx("input",{value:j.tags,onChange:ge=>q({...j,tags:ge.target.value}),className:"w-full rounded-2xl border border-white/30 bg-white/10 px-4 py-2 text-white placeholder:text-white/50 focus:outline-none focus:ring-2 focus:ring-white/50",placeholder:"tag1, tag2, tag3"})]}),a.jsxs("div",{className:"flex gap-2",children:[a.jsx("button",{onClick:async()=>{te.id.startsWith("deliverable-")?await I.saveDeliverable({...te,...j,tags:j.tags.split(",").map(ge=>ge.trim()).filter(Boolean)}):await He(),ve(null),ee()},className:"flex-1 px-4 py-2 rounded-2xl bg-white text-black font-semibold hover:bg-gray-100 transition",children:"Save"}),a.jsx("button",{onClick:()=>{ve(null),q({title:"",description:"",guardrails:"",successCriteria:"",scope:"professional",priority:"medium",tags:""})},className:"px-4 py-2 rounded-2xl bg-white/20 text-white border border-white/30 hover:bg-white/30 transition",children:"Cancel"})]})]}):a.jsxs(a.Fragment,{children:[a.jsx("div",{className:"flex items-start justify-between mb-4",children:a.jsxs("div",{className:"flex-1",children:[a.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[a.jsx("span",{className:`px-2 py-0.5 rounded-full text-xs font-semibold ${S.priority==="high"?"bg-red-100 text-red-700":S.priority==="medium"?"bg-yellow-100 text-yellow-700":"bg-gray-100 text-gray-700"}`,children:S.priority}),a.jsx("span",{className:"px-2 py-0.5 rounded-full bg-gray-100 text-gray-700 text-xs",children:S.scope}),Ee.length>0&&a.jsxs("span",{className:"px-2 py-0.5 rounded-full bg-blue-100 text-blue-700 text-xs",children:[Me,"/",Ee.length," tasks"]})]}),a.jsx("h3",{className:"text-xl font-bold mb-2",children:S.title})]})}),a.jsx(St,{content:S.description,className:"text-sm mb-3"}),S.guardrails&&a.jsxs("div",{className:"mb-3 p-3 rounded-2xl bg-yellow-50 border border-yellow-100",children:[a.jsx("p",{className:"text-xs font-semibold text-yellow-900 uppercase tracking-[0.1em] mb-1",children:"Guardrails"}),a.jsx("p",{className:"text-xs text-yellow-700",children:S.guardrails})]}),S.successCriteria&&a.jsxs("div",{className:"mb-3 p-3 rounded-2xl bg-green-50 border border-green-100",children:[a.jsx("p",{className:"text-xs font-semibold text-green-900 uppercase tracking-[0.1em] mb-1",children:"Success Criteria"}),a.jsx("p",{className:"text-xs text-green-700",children:S.successCriteria})]}),S.tags.length>0&&a.jsx("div",{className:"mb-3 flex flex-wrap gap-1.5",children:S.tags.map(ge=>a.jsxs("span",{className:"px-2 py-0.5 rounded-full bg-blue-50 text-blue-700 text-xs border border-blue-100",children:["#",ge]},ge))}),a.jsxs("div",{className:"flex items-center gap-2 pt-4 border-t border-white/20",children:[a.jsxs("button",{onClick:()=>startEditDeliverable(S),className:"px-3 py-1.5 rounded-full bg-white/80 border border-white/70 text-xs font-medium hover:bg-white transition flex items-center gap-1",children:[a.jsx(Xa,{className:"w-3 h-3"}),"Edit"]}),a.jsxs("button",{onClick:()=>de(S.id),className:"px-3 py-1.5 rounded-full bg-white/80 border border-white/70 text-xs font-medium hover:bg-red-50 hover:border-red-200 hover:text-red-700 transition flex items-center gap-1",children:[a.jsx(rn,{className:"w-3 h-3"}),"Delete"]})]})]})},S.id)})})]}),a.jsxs("div",{className:"mb-6 space-y-4",children:[a.jsx("div",{className:"glass-panel rounded-2xl border border-white/70 p-4",children:a.jsxs("div",{className:"flex items-center gap-3",children:[a.jsx(ss,{className:"w-5 h-5 text-secondary-light"}),a.jsx("input",{type:"text",value:Ne,onChange:S=>P(S.target.value),placeholder:"Search tasks by title, description, tags...",className:"flex-1 bg-transparent outline-none text-lg placeholder:text-secondary-light"}),Ne&&a.jsx("button",{onClick:()=>P(""),className:"px-3 py-1 rounded-full bg-white/80 border border-white/70 text-sm hover:bg-white transition",children:"Clear"})]})}),a.jsxs("div",{className:"flex flex-wrap gap-2 items-center",children:[a.jsxs("span",{className:"text-sm text-secondary-light flex items-center gap-1",children:[a.jsx(yl,{className:"w-4 h-4"}),"Filter:"]}),a.jsx("button",{onClick:()=>Ae(null),className:`px-3 py-1 rounded-full text-xs font-medium transition ${ne===null?"bg-black text-white":"bg-white/80 border border-white/70 hover:bg-white"}`,children:"All"}),["todo","in-progress","done"].map(S=>a.jsx("button",{onClick:()=>Ae(ne===S?null:S),className:`px-3 py-1 rounded-full text-xs font-medium transition capitalize ${ne===S?"bg-black text-white":"bg-white/80 border border-white/70 hover:bg-white"}`,children:S.replace("-"," ")},S))]})]}),W.length===0?a.jsxs("div",{className:"glass-panel rounded-3xl border border-white/70 p-12 text-center",children:[a.jsx("div",{className:"flex justify-center mb-4",children:a.jsx(Kd,{className:"w-16 h-16 text-secondary-light"})}),a.jsx("h3",{className:"text-xl font-semibold mb-2",children:r.length===0?"No tasks yet":"No matches found"}),a.jsx("p",{className:"text-secondary-light",children:r.length===0?"Tasks are created through conversation with Sylvia or by generating workflows from deliverables. Talk to her about what needs to be done.":"Try adjusting your search or filters."})]}):a.jsx("div",{className:"space-y-4",children:W.map(S=>{const pe=S.deliverableId?ce(S.deliverableId):null,Ee=(De==null?void 0:De.id)===S.id;return a.jsx("div",{className:`rounded-3xl border p-6 transition-all ${Ee?"border-black bg-black text-white shadow-xl":"border-white/70 bg-white/90 hover:shadow-lg hover:border-white"}`,children:Ee?a.jsxs("div",{className:"space-y-4",children:[a.jsxs("div",{children:[a.jsx("label",{className:"text-xs uppercase tracking-[0.2em] text-white/70 mb-2 block",children:"Title *"}),a.jsx("input",{value:X.title,onChange:Me=>he({...X,title:Me.target.value}),className:"w-full rounded-2xl border border-white/30 bg-white/10 px-4 py-2 text-white placeholder:text-white/50 focus:outline-none focus:ring-2 focus:ring-white/50"})]}),a.jsxs("div",{children:[a.jsx("label",{className:"text-xs uppercase tracking-[0.2em] text-white/70 mb-2 block",children:"Description"}),a.jsx("textarea",{value:X.description,onChange:Me=>he({...X,description:Me.target.value}),rows:3,className:"w-full rounded-2xl border border-white/30 bg-white/10 px-4 py-2 text-white placeholder:text-white/50 focus:outline-none focus:ring-2 focus:ring-white/50 resize-none"})]}),a.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[a.jsxs("div",{children:[a.jsx("label",{className:"text-xs uppercase tracking-[0.2em] text-white/70 mb-2 block",children:"Due Date"}),a.jsx("input",{type:"datetime-local",value:X.dueAt,onChange:Me=>he({...X,dueAt:Me.target.value}),className:"w-full rounded-2xl border border-white/30 bg-white/10 px-4 py-2 text-white focus:outline-none focus:ring-2 focus:ring-white/50"})]}),a.jsxs("div",{children:[a.jsx("label",{className:"text-xs uppercase tracking-[0.2em] text-white/70 mb-2 block",children:"Estimated Time (min)"}),a.jsx("input",{type:"number",value:X.estimatedTime,onChange:Me=>he({...X,estimatedTime:Me.target.value}),className:"w-full rounded-2xl border border-white/30 bg-white/10 px-4 py-2 text-white focus:outline-none focus:ring-2 focus:ring-white/50"})]})]}),a.jsxs("div",{className:"flex gap-2",children:[a.jsx("button",{onClick:async()=>{await I.saveAgendaItem({...S,title:X.title,description:X.description||void 0,dueAt:X.dueAt?new Date(X.dueAt).getTime():void 0,estimatedTime:X.estimatedTime?parseInt(X.estimatedTime):void 0,priority:X.priority,tags:X.tags.split(",").map(Me=>Me.trim()).filter(Boolean),deliverableId:X.deliverableId||void 0}),Ue(null),he({title:"",description:"",dueAt:"",estimatedTime:"",priority:"medium",tags:"",deliverableId:""}),ee()},className:"flex-1 px-4 py-2 rounded-2xl bg-white text-black font-semibold hover:bg-gray-100 transition",children:"Save"}),a.jsx("button",{onClick:()=>{Ue(null),he({title:"",description:"",dueAt:"",estimatedTime:"",priority:"medium",tags:""})},className:"px-4 py-2 rounded-2xl bg-white/20 text-white border border-white/30 hover:bg-white/30 transition",children:"Cancel"})]})]}):a.jsxs(a.Fragment,{children:[a.jsx("div",{className:"flex items-start justify-between mb-4",children:a.jsxs("div",{className:"flex-1",children:[a.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[a.jsx("span",{className:`px-2 py-0.5 rounded-full text-xs font-semibold ${S.status==="done"?"bg-green-100 text-green-700":S.status==="in-progress"?"bg-blue-100 text-blue-700":"bg-gray-100 text-gray-700"}`,children:S.status.replace("-"," ")}),S.priority&&a.jsx("span",{className:`px-2 py-0.5 rounded-full text-xs font-semibold ${S.priority==="high"?"bg-red-100 text-red-700":S.priority==="medium"?"bg-yellow-100 text-yellow-700":"bg-gray-100 text-gray-700"}`,children:S.priority}),pe&&a.jsx("span",{className:"px-2 py-0.5 rounded-full bg-purple-100 text-purple-700 text-xs",children:pe.title}),S.estimatedTime&&a.jsxs("span",{className:"px-2 py-0.5 rounded-full bg-blue-50 text-blue-700 text-xs flex items-center gap-1",children:[a.jsx($a,{className:"w-3 h-3"}),S.estimatedTime," min"]})]}),a.jsx("h4",{className:"text-xl font-bold mb-1",children:S.title}),S.description&&a.jsx(St,{content:S.description,className:"text-sm mb-2"}),S.dueAt&&a.jsxs("p",{className:"text-xs text-secondary-light flex items-center gap-1",children:[a.jsx(ln,{className:"w-3 h-3"}),"Due: ",new Date(S.dueAt).toLocaleString()]}),S.tags&&S.tags.length>0&&a.jsx("div",{className:"mt-2 flex flex-wrap gap-1.5",children:S.tags.map(Me=>a.jsxs("span",{className:"px-2 py-0.5 rounded-full bg-gray-100 text-gray-700 text-xs",children:["#",Me]},Me))})]})}),a.jsxs("div",{className:"flex items-center gap-2 pt-4 border-t border-white/20",children:[a.jsx("div",{className:"flex gap-2",children:["todo","in-progress","done"].map(Me=>a.jsx("button",{onClick:()=>Ye(S,Me),className:`px-3 py-1.5 rounded-full text-xs font-medium transition capitalize ${S.status===Me?"bg-black text-white":"bg-white/80 border border-white/70 hover:bg-white"}`,children:Me.replace("-"," ")},Me))}),a.jsxs("button",{onClick:()=>{var Me,ge;Ue(S),he({title:S.title,description:S.description||"",dueAt:S.dueAt?new Date(S.dueAt).toISOString().slice(0,16):"",estimatedTime:((Me=S.estimatedTime)==null?void 0:Me.toString())||"",priority:S.priority||"medium",tags:((ge=S.tags)==null?void 0:ge.join(", "))||"",deliverableId:S.deliverableId||""})},className:"px-3 py-1.5 rounded-full bg-white/80 border border-white/70 text-xs font-medium hover:bg-white transition flex items-center gap-1 ml-auto",children:[a.jsx(Xa,{className:"w-3 h-3"}),"Edit"]}),a.jsxs("button",{onClick:()=>bt(S.id),className:"px-3 py-1.5 rounded-full bg-white/80 border border-white/70 text-xs font-medium hover:bg-red-50 hover:border-red-200 hover:text-red-700 transition flex items-center gap-1",children:[a.jsx(rn,{className:"w-3 h-3"}),"Delete"]})]})]})},S.id)})}),m.length>0&&a.jsxs("div",{className:"mt-8",children:[a.jsxs("h2",{className:"text-2xl font-semibold mb-4 flex items-center gap-2",children:[a.jsx(Cu,{className:"w-6 h-6"}),"Session History"]}),a.jsx("div",{className:"space-y-4",children:m.filter(S=>S.status==="completed").map(S=>{const pe=S.deliverableIds.map(Me=>ce(Me)).filter(Boolean),Ee=g.find(Me=>Me.sessionId===S.id);return a.jsxs("div",{className:"rounded-3xl border border-white/70 bg-white/90 p-6 space-y-3",children:[a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{children:[a.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[S.mode==="auto"?a.jsx(lo,{className:"w-4 h-4 text-purple-600"}):S.mode==="semi-auto"?a.jsx(an,{className:"w-4 h-4 text-blue-600"}):a.jsx(Oi,{className:"w-4 h-4 text-gray-600"}),a.jsx("span",{className:"text-xs uppercase tracking-[0.2em] text-secondary-light",children:S.mode==="auto"?"Autonomous":S.mode==="semi-auto"?"Semi-Auto":"Manual"}),a.jsx("span",{className:"text-xs text-secondary-light",children:new Date(S.startedAt).toLocaleDateString()}),S.xpAwarded&&a.jsxs("span",{className:"px-2 py-0.5 rounded-full bg-green-100 text-green-700 text-xs font-medium",children:["+",S.xpAwarded," XP"]})]}),a.jsx("h4",{className:"text-lg font-semibold",children:pe.map(Me=>Me.title).join(", ")})]}),(Ee==null?void 0:Ee.grade)&&a.jsxs("div",{className:"flex items-center gap-1",children:[a.jsx(Star,{className:"w-4 h-4 text-yellow-500"}),a.jsxs("span",{className:"text-sm font-semibold",children:[Ee.grade,"/5"]})]})]}),S.summary&&a.jsx(St,{content:S.summary,className:"text-sm"}),Ee&&a.jsxs("div",{className:"p-3 rounded-2xl bg-gray-50 border border-gray-100",children:[a.jsx("p",{className:"text-xs font-semibold text-gray-900 uppercase tracking-[0.1em] mb-1",children:"Post-Mortem"}),a.jsx("p",{className:"text-xs text-gray-700",children:Ee.notes})]})]},S.id)})})]})]})},Fa=[{value:"meeting",label:"Meeting",color:"#3B82F6"},{value:"call",label:"Call",color:"#10B981"},{value:"appointment",label:"Appointment",color:"#8B5CF6"},{value:"event",label:"Event",color:"#F59E0B"},{value:"deadline",label:"Deadline",color:"#EF4444"},{value:"reminder",label:"Reminder",color:"#6B7280"},{value:"other",label:"Other",color:"#9CA3AF"}],pw=["none","daily","weekly","monthly","yearly"],xw=l=>{const r=new Date(l.getFullYear(),l.getMonth(),1),d=r.getDay(),c=new Date(r);c.setDate(r.getDate()-d);const u=[];for(let m=0;m<42;m++){const x=new Date(c);x.setDate(c.getDate()+m),u.push(x)}return u},gw=()=>{const[l,r]=v.useState([]),[d,c]=v.useState([]),[u,m]=v.useState(new Date),[x,g]=v.useState(new Date),[p,f]=v.useState("month"),[b,N]=v.useState(null),[w,C]=v.useState(""),[L,R]=v.useState(null),[K,ie]=v.useState(!0),[re,be]=v.useState(""),[U,Y]=v.useState(""),[O,D]=v.useState(""),[oe,Ne]=v.useState(""),[P,ne]=v.useState(""),[Ae,G]=v.useState(""),[J,E]=v.useState("meeting"),[z,te]=v.useState([]),[ve,De]=v.useState([]),[Ue,j]=v.useState(""),[q,X]=v.useState(!1),[he,ee]=v.useState("none"),[T,W]=v.useState(),[ce,Te]=v.useState(""),k=v.useCallback(async()=>{const[se,F]=await Promise.all([I.getCalendarEvents(),I.getPeopleRecords()]);r(se.sort((Le,Qe)=>Le.startAt-Qe.startAt)),c(F)},[]);v.useEffect(()=>(k(),on("calendar",k)),[k]);const fe=v.useMemo(()=>{let se=l;if(w.trim()){const F=w.toLowerCase();se=se.filter(Le=>{var Qe,Je,je;return Le.title.toLowerCase().includes(F)||((Qe=Le.description)==null?void 0:Qe.toLowerCase().includes(F))||((Je=Le.location)==null?void 0:Je.toLowerCase().includes(F))||((je=Le.tags)==null?void 0:je.some(wt=>wt.toLowerCase().includes(F)))})}return L&&(se=se.filter(F=>F.eventType===L)),se},[l,w,L]),xe=v.useMemo(()=>{const se=Date.now();return fe.filter(F=>F.startAt>=se).slice(0,5).sort((F,Le)=>F.startAt-Le.startAt)},[fe]),we=v.useMemo(()=>{const se=new Date;se.setHours(0,0,0,0);const F=new Date(se);return F.setDate(F.getDate()+1),fe.filter(Le=>Le.startAt>=se.getTime()&&Le.startAt<F.getTime())},[fe]),ze=v.useMemo(()=>{const se=x.toDateString();return fe.filter(F=>new Date(F.startAt).toDateString()===se)},[fe,x]),Ye=v.useMemo(()=>{const se={};return fe.forEach(F=>{const Le=new Date(F.startAt).toDateString();se[Le]||(se[Le]=[]),se[Le]=[...se[Le],F]}),se},[fe]),bt=v.useMemo(()=>xw(u),[u]),He=v.useMemo(()=>{const se=Date.now(),F=l.filter(Je=>Je.startAt>=se).length,Le=l.filter(Je=>Je.startAt<se).length,Qe=l.filter(Je=>{const je=new Date(Je.startAt),wt=new Date;wt.setDate(wt.getDate()-wt.getDay()),wt.setHours(0,0,0,0);const Pt=new Date(wt);return Pt.setDate(Pt.getDate()+7),je>=wt&&je<Pt}).length;return{total:l.length,upcoming:F,past:Le,thisWeek:Qe}},[l]),de=se=>{var F;N(se),be(se.title),Y(se.description||""),D(new Date(se.startAt).toISOString().slice(0,16)),Ne(new Date(se.endAt).toISOString().slice(0,16)),ne(se.location||""),G(se.meetingLink||""),E(se.eventType||"meeting"),te(se.participants||[]),De(se.tags||[]),j(se.color||((F=Fa.find(Le=>Le.value===se.eventType))==null?void 0:F.color)||"#3B82F6"),X(se.isRecurring||!1),ee(se.recurrenceRule||"none"),W(se.reminderMinutes),g(new Date(se.startAt))},ke=()=>{N(null),be(""),Y(""),D(""),Ne(""),ne(""),G(""),E("meeting"),te([]),De([]),j(""),X(!1),ee("none"),W(void 0),Te("")},S=async()=>{b&&(await I.saveCalendarEvent({...b,title:re,description:U||void 0,startAt:O?new Date(O).getTime():b.startAt,endAt:oe?new Date(oe).getTime():b.endAt,location:P||void 0,meetingLink:Ae||void 0,eventType:J,participants:z.length>0?z:void 0,tags:ve.length>0?ve:void 0,color:Ue||void 0,isRecurring:q||void 0,recurrenceRule:he!=="none"?he:void 0,reminderMinutes:T||void 0,updatedAt:Date.now()}),ke(),k())},pe=async se=>{await I.deleteCalendarEvent(se),k()},Ee=()=>{ce.trim()&&!ve.includes(ce.trim())&&(De([...ve,ce.trim()]),Te(""))},Me=se=>{De(ve.filter(F=>F!==se))},ge=se=>d.find(F=>F.id===se),Ze=se=>new Date(se).toLocaleTimeString("en-US",{hour:"numeric",minute:"2-digit"}),qe=se=>new Date(se).toLocaleDateString("en-US",{weekday:"short",month:"short",day:"numeric"}),Q=u.toLocaleString("default",{month:"long",year:"numeric"}),ae=()=>{const se=new Date(u);se.setMonth(u.getMonth()-1),m(se)},Xe=()=>{const se=new Date(u);se.setMonth(u.getMonth()+1),m(se)},Ct=()=>{const se=new Date;m(se),g(se)};return a.jsxs(Wt,{title:"Calendar",subtitle:"Temporal anchors with rich context. Participants, locations, meeting links, and more for Sylvia's understanding.",children:[a.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 md:grid-cols-4 gap-4 mb-6",children:[a.jsxs("div",{className:"rounded-2xl border border-white/70 bg-gradient-to-br from-blue-50 to-blue-100 p-4",children:[a.jsxs("div",{className:"flex items-center justify-between mb-2",children:[a.jsx(Ey,{className:"w-6 h-6 text-blue-600"}),a.jsx("span",{className:"text-2xl font-bold text-black",children:He.total})]}),a.jsx("p",{className:"text-xs uppercase tracking-[0.2em] text-gray-600",children:"Total Events"})]}),a.jsxs("div",{className:"rounded-2xl border border-white/70 bg-gradient-to-br from-green-50 to-green-100 p-4",children:[a.jsxs("div",{className:"flex items-center justify-between mb-2",children:[a.jsx(ko,{className:"w-6 h-6 text-green-600"}),a.jsx("span",{className:"text-2xl font-bold text-black",children:He.upcoming})]}),a.jsx("p",{className:"text-xs uppercase tracking-[0.2em] text-gray-600",children:"Upcoming"})]}),a.jsxs("div",{className:"rounded-2xl border border-white/70 bg-gradient-to-br from-purple-50 to-purple-100 p-4",children:[a.jsxs("div",{className:"flex items-center justify-between mb-2",children:[a.jsx($a,{className:"w-6 h-6 text-purple-600"}),a.jsx("span",{className:"text-2xl font-bold text-black",children:He.thisWeek})]}),a.jsx("p",{className:"text-xs uppercase tracking-[0.2em] text-gray-600",children:"This Week"})]}),a.jsxs("div",{className:"rounded-2xl border border-white/70 bg-gradient-to-br from-orange-50 to-orange-100 p-4",children:[a.jsxs("div",{className:"flex items-center justify-between mb-2",children:[a.jsx(ln,{className:"w-6 h-6 text-orange-600"}),a.jsx("span",{className:"text-2xl font-bold text-black",children:we.length})]}),a.jsx("p",{className:"text-xs uppercase tracking-[0.2em] text-gray-600",children:"Today"})]})]}),a.jsxs("div",{className:"mb-6 space-y-4",children:[a.jsx("div",{className:"glass-panel rounded-2xl border border-white/70 p-4",children:a.jsxs("div",{className:"flex items-center gap-3",children:[a.jsx(ss,{className:"w-5 h-5 text-secondary-light"}),a.jsx("input",{type:"text",value:w,onChange:se=>C(se.target.value),placeholder:"Search events by title, description, location, tags...",className:"flex-1 bg-transparent outline-none text-lg placeholder:text-secondary-light"}),w&&a.jsx("button",{onClick:()=>C(""),className:"px-3 py-1 rounded-full bg-white/80 border border-white/70 text-sm hover:bg-white transition",children:"Clear"})]})}),a.jsxs("div",{className:"flex flex-wrap gap-2",children:[a.jsxs("span",{className:"text-sm text-secondary-light flex items-center gap-1",children:[a.jsx(yl,{className:"w-4 h-4"}),"Filter:"]}),a.jsx("button",{onClick:()=>R(null),className:`px-3 py-1 rounded-full text-xs font-medium transition ${L===null?"bg-black text-white":"bg-white/80 border border-white/70 hover:bg-white"}`,children:"All"}),Fa.map(se=>a.jsxs("button",{onClick:()=>R(L===se.value?null:se.value),className:`px-3 py-1 rounded-full text-xs font-medium transition flex items-center gap-1 ${L===se.value?"bg-black text-white":"bg-white/80 border border-white/70 hover:bg-white"}`,children:[a.jsx("div",{className:"w-2 h-2 rounded-full",style:{backgroundColor:se.color}}),se.label]},se.value))]})]}),a.jsxs("div",{className:"glass-panel border border-white/70 rounded-3xl p-6 mb-6",children:[a.jsxs("div",{className:"flex items-center justify-between mb-6",children:[a.jsxs("div",{className:"flex items-center gap-3",children:[a.jsx("button",{onClick:ae,className:"p-2 rounded-full bg-white/80 border border-white/70 hover:bg-white transition",children:a.jsx(Oy,{className:"w-4 h-4"})}),a.jsx("h2",{className:"text-xl font-semibold",children:Q}),a.jsx("button",{onClick:Xe,className:"p-2 rounded-full bg-white/80 border border-white/70 hover:bg-white transition",children:a.jsx(Ly,{className:"w-4 h-4"})})]}),a.jsx("button",{onClick:Ct,className:"px-4 py-2 rounded-full bg-black text-white text-sm font-medium hover:shadow-lg transition",children:"Today"})]}),a.jsx("div",{className:"grid grid-cols-7 gap-2 text-center text-xs uppercase tracking-[0.3em] text-secondary-light mb-2",children:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"].map(se=>a.jsx("div",{className:"font-semibold",children:se},se))}),a.jsx("div",{className:"grid grid-cols-7 gap-2",children:bt.map(se=>{const F=se.toDateString(),Le=se.getMonth()===u.getMonth(),Qe=F===new Date().toDateString(),Je=F===x.toDateString(),je=Ye[F]||[];return a.jsxs("button",{onClick:()=>g(se),className:`rounded-2xl border px-2 py-3 text-left space-y-1 transition min-h-[80px] ${Je?"bg-black text-white border-black shadow-lg":Qe?"bg-blue-50 border-blue-200 text-primary-light":"bg-white/70 text-primary-light border-white/70 hover:bg-white"} ${Le?"":"opacity-40"}`,children:[a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsx("p",{className:`text-sm font-semibold ${Qe&&!Je?"text-blue-600":""}`,children:se.getDate()}),Qe&&a.jsx("div",{className:"w-1.5 h-1.5 rounded-full bg-blue-600"})]}),je.length>0&&a.jsxs("div",{className:"space-y-0.5",children:[je.slice(0,2).map(wt=>{const Pt=Fa.find(wl=>wl.value===wt.eventType)||Fa[0];return a.jsxs("div",{className:"text-[9px] px-1 py-0.5 rounded truncate",style:{backgroundColor:Je?"rgba(255,255,255,0.2)":`${Pt.color}20`,color:Je?"white":Pt.color},children:[Ze(wt.startAt)," ",wt.title.substring(0,15)]},wt.id)}),je.length>2&&a.jsxs("p",{className:"text-[9px] text-secondary-light",children:["+",je.length-2," more"]})]})]},F+se.getDate())})})]}),a.jsxs("div",{className:"grid gap-6 lg:grid-cols-3",children:[a.jsx("div",{className:"lg:col-span-2 space-y-6",children:a.jsxs("div",{className:"glass-panel border border-white/70 rounded-3xl p-6",children:[a.jsxs("div",{className:"flex items-center justify-between mb-4",children:[a.jsxs("h3",{className:"text-lg font-semibold flex items-center gap-2",children:[a.jsx(ln,{className:"w-5 h-5"}),x.toLocaleDateString("en-US",{weekday:"long",month:"long",day:"numeric",year:"numeric"})]}),a.jsxs("span",{className:"text-sm text-secondary-light",children:[ze.length," event",ze.length!==1?"s":""]})]}),ze.length===0?a.jsx("p",{className:"text-sm text-secondary-light text-center py-8",children:"No events scheduled for this date."}):a.jsx("div",{className:"space-y-4",children:ze.map(se=>{var Je;const F=Fa.find(je=>je.value===se.eventType)||Fa[0],Le=(b==null?void 0:b.id)===se.id,Qe=((Je=se.participants)==null?void 0:Je.map(je=>ge(je)).filter(Boolean))||[];return a.jsx("div",{className:`rounded-3xl border p-6 transition-all ${Le?"border-black bg-black text-white shadow-xl":"border-white/70 bg-white/90 hover:shadow-lg hover:border-white"}`,style:{borderLeftWidth:Le?"4px":"1px",borderLeftColor:Le?"white":F.color},children:Le?a.jsxs("div",{className:"space-y-4",children:[a.jsxs("div",{children:[a.jsx("label",{className:"text-xs uppercase tracking-[0.2em] text-white/70 mb-2 block",children:"Title *"}),a.jsx("input",{value:re,onChange:je=>be(je.target.value),className:"w-full rounded-2xl border border-white/30 bg-white/10 px-4 py-2 text-white placeholder:text-white/50 focus:outline-none focus:ring-2 focus:ring-white/50",placeholder:"Event title"})]}),a.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[a.jsxs("div",{children:[a.jsx("label",{className:"text-xs uppercase tracking-[0.2em] text-white/70 mb-2 block",children:"Start"}),a.jsx("input",{type:"datetime-local",value:O,onChange:je=>D(je.target.value),className:"w-full rounded-2xl border border-white/30 bg-white/10 px-4 py-2 text-white focus:outline-none focus:ring-2 focus:ring-white/50"})]}),a.jsxs("div",{children:[a.jsx("label",{className:"text-xs uppercase tracking-[0.2em] text-white/70 mb-2 block",children:"End"}),a.jsx("input",{type:"datetime-local",value:oe,onChange:je=>Ne(je.target.value),className:"w-full rounded-2xl border border-white/30 bg-white/10 px-4 py-2 text-white focus:outline-none focus:ring-2 focus:ring-white/50"})]})]}),a.jsxs("div",{children:[a.jsx("label",{className:"text-xs uppercase tracking-[0.2em] text-white/70 mb-2 block",children:"Event Type"}),a.jsx("select",{value:J,onChange:je=>{E(je.target.value);const wt=Fa.find(Pt=>Pt.value===je.target.value);wt&&j(wt.color)},className:"w-full rounded-2xl border border-white/30 bg-white/10 px-4 py-2 text-white focus:outline-none focus:ring-2 focus:ring-white/50",children:Fa.map(je=>a.jsx("option",{value:je.value,children:je.label},je.value))})]}),a.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[a.jsxs("div",{children:[a.jsx("label",{className:"text-xs uppercase tracking-[0.2em] text-white/70 mb-2 block",children:"Location"}),a.jsx("input",{value:P,onChange:je=>ne(je.target.value),className:"w-full rounded-2xl border border-white/30 bg-white/10 px-4 py-2 text-white placeholder:text-white/50 focus:outline-none focus:ring-2 focus:ring-white/50",placeholder:"Venue or address"})]}),a.jsxs("div",{children:[a.jsx("label",{className:"text-xs uppercase tracking-[0.2em] text-white/70 mb-2 block",children:"Meeting Link"}),a.jsx("input",{type:"url",value:Ae,onChange:je=>G(je.target.value),className:"w-full rounded-2xl border border-white/30 bg-white/10 px-4 py-2 text-white placeholder:text-white/50 focus:outline-none focus:ring-2 focus:ring-white/50",placeholder:"https://..."})]})]}),a.jsxs("div",{children:[a.jsx("label",{className:"text-xs uppercase tracking-[0.2em] text-white/70 mb-2 block",children:"Participants"}),a.jsx("select",{multiple:!0,value:z,onChange:je=>{const wt=Array.from(je.target.selectedOptions,Pt=>Pt.value);te(wt)},className:"w-full rounded-2xl border border-white/30 bg-white/10 px-4 py-2 text-white focus:outline-none focus:ring-2 focus:ring-white/50 min-h-[100px]",size:5,children:d.map(je=>a.jsxs("option",{value:je.id,children:[je.name," ",je.role?`(${je.role})`:""]},je.id))}),a.jsx("p",{className:"text-xs text-white/50 mt-1",children:"Hold Cmd/Ctrl to select multiple"})]}),a.jsxs("div",{children:[a.jsx("label",{className:"text-xs uppercase tracking-[0.2em] text-white/70 mb-2 block",children:"Tags"}),a.jsx("div",{className:"flex flex-wrap gap-2 mb-2",children:ve.map(je=>a.jsxs("span",{className:"inline-flex items-center gap-1 px-2 py-1 rounded-full bg-white/20 text-white text-xs",children:[je,a.jsx("button",{onClick:()=>Me(je),className:"hover:text-red-300",children:a.jsx(Qt,{className:"w-3 h-3"})})]},je))}),a.jsxs("div",{className:"flex gap-2",children:[a.jsx("input",{value:ce,onChange:je=>Te(je.target.value),onKeyPress:je=>je.key==="Enter"&&Ee(),className:"flex-1 rounded-2xl border border-white/30 bg-white/10 px-4 py-2 text-white placeholder:text-white/50 focus:outline-none focus:ring-2 focus:ring-white/50",placeholder:"Add tag..."}),a.jsx("button",{onClick:Ee,className:"px-4 py-2 rounded-2xl bg-white/20 text-white border border-white/30 hover:bg-white/30 transition",children:a.jsx(mu,{className:"w-4 h-4"})})]})]}),a.jsxs("div",{children:[a.jsx("label",{className:"text-xs uppercase tracking-[0.2em] text-white/70 mb-2 block",children:"Description"}),a.jsx("textarea",{value:U,onChange:je=>Y(je.target.value),rows:4,className:"w-full rounded-2xl border border-white/30 bg-white/10 px-4 py-2 text-white placeholder:text-white/50 focus:outline-none focus:ring-2 focus:ring-white/50 resize-none",placeholder:"Event details, agenda, notes..."})]}),a.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[a.jsxs("div",{children:[a.jsxs("label",{className:"flex items-center gap-2 text-xs text-white/70 mb-2",children:[a.jsx("input",{type:"checkbox",checked:q,onChange:je=>X(je.target.checked),className:"rounded"}),"Recurring Event"]}),q&&a.jsx("select",{value:he,onChange:je=>ee(je.target.value),className:"w-full rounded-2xl border border-white/30 bg-white/10 px-4 py-2 text-white text-sm focus:outline-none focus:ring-2 focus:ring-white/50",children:pw.filter(je=>je!=="none").map(je=>a.jsx("option",{value:je,children:je.charAt(0).toUpperCase()+je.slice(1)},je))})]}),a.jsxs("div",{children:[a.jsx("label",{className:"text-xs uppercase tracking-[0.2em] text-white/70 mb-2 block",children:"Reminder (minutes before)"}),a.jsx("input",{type:"number",value:T||"",onChange:je=>W(je.target.value?parseInt(je.target.value):void 0),className:"w-full rounded-2xl border border-white/30 bg-white/10 px-4 py-2 text-white placeholder:text-white/50 focus:outline-none focus:ring-2 focus:ring-white/50",placeholder:"15"})]})]}),a.jsxs("div",{className:"flex gap-2",children:[a.jsx("button",{onClick:S,className:"flex-1 px-4 py-2 rounded-2xl bg-white text-black font-semibold hover:bg-gray-100 transition",children:"Save"}),a.jsx("button",{onClick:ke,className:"px-4 py-2 rounded-2xl bg-white/20 text-white border border-white/30 hover:bg-white/30 transition",children:"Cancel"})]})]}):a.jsxs(a.Fragment,{children:[a.jsx("div",{className:"flex items-start justify-between mb-4",children:a.jsxs("div",{className:"flex-1",children:[a.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[a.jsx("div",{className:"w-3 h-3 rounded-full",style:{backgroundColor:F.color}}),a.jsx("h4",{className:"text-xl font-bold",children:se.title})]}),a.jsxs("div",{className:"flex items-center gap-4 text-sm text-secondary-light",children:[a.jsxs("span",{className:"flex items-center gap-1",children:[a.jsx($a,{className:"w-4 h-4"}),Ze(se.startAt)," - ",Ze(se.endAt)]}),se.location&&a.jsxs("span",{className:"flex items-center gap-1",children:[a.jsx(Mu,{className:"w-4 h-4"}),se.location]})]})]})}),se.description&&a.jsx("div",{className:"mb-4",children:a.jsx(St,{content:se.description,className:"text-sm leading-relaxed"})}),Qe.length>0&&a.jsxs("div",{className:"mb-4 p-3 rounded-2xl bg-blue-50 border border-blue-100",children:[a.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[a.jsx(an,{className:"w-4 h-4 text-blue-600"}),a.jsxs("span",{className:"text-xs font-semibold text-blue-900 uppercase tracking-[0.1em]",children:["Participants (",Qe.length,")"]})]}),a.jsx("div",{className:"flex flex-wrap gap-2",children:Qe.map(je=>a.jsx("span",{className:"px-2 py-1 rounded-full bg-white text-blue-900 text-xs",children:je.name},je.id))})]}),se.meetingLink&&a.jsx("div",{className:"mb-4",children:a.jsxs("a",{href:se.meetingLink,target:"_blank",rel:"noopener noreferrer",className:"inline-flex items-center gap-2 px-3 py-2 rounded-full bg-green-50 text-green-700 text-sm font-medium hover:bg-green-100 transition",children:[a.jsx(Ux,{className:"w-4 h-4"}),"Join Meeting",a.jsx(Wy,{className:"w-3 h-3"})]})}),se.tags&&se.tags.length>0&&a.jsx("div",{className:"mb-4 flex flex-wrap gap-1.5",children:se.tags.map(je=>a.jsxs("span",{className:"inline-flex items-center px-2 py-0.5 rounded-full bg-gray-100 text-gray-700 text-xs",children:[a.jsx(En,{className:"w-3 h-3 mr-1"}),je]},je))}),a.jsxs("div",{className:"flex items-center gap-2 pt-4 border-t border-white/20",children:[se.isRecurring&&a.jsxs("span",{className:"flex items-center gap-1 px-2 py-1 rounded-full bg-purple-50 text-purple-700 text-xs",children:[a.jsx(Y1,{className:"w-3 h-3"}),se.recurrenceRule]}),se.reminderMinutes&&a.jsxs("span",{className:"flex items-center gap-1 px-2 py-1 rounded-full bg-yellow-50 text-yellow-700 text-xs",children:[a.jsx(gy,{className:"w-3 h-3"}),se.reminderMinutes,"m reminder"]})]}),a.jsxs("div",{className:"flex gap-2 mt-4",children:[a.jsxs("button",{onClick:()=>de(se),className:"px-3 py-1.5 rounded-full bg-white/80 border border-white/70 text-xs font-medium hover:bg-white transition flex items-center gap-1",children:[a.jsx(Xa,{className:"w-3 h-3"}),"Edit"]}),a.jsxs("button",{onClick:()=>pe(se.id),className:"px-3 py-1.5 rounded-full bg-white/80 border border-white/70 text-xs font-medium hover:bg-red-50 hover:border-red-200 hover:text-red-700 transition flex items-center gap-1",children:[a.jsx(rn,{className:"w-3 h-3"}),"Delete"]})]})]})},se.id)})})]})}),a.jsx("div",{className:"space-y-6",children:K&&xe.length>0&&a.jsxs("div",{className:"glass-panel border border-white/70 rounded-3xl p-6",children:[a.jsxs("div",{className:"flex items-center justify-between mb-4",children:[a.jsxs("h3",{className:"text-lg font-semibold flex items-center gap-2",children:[a.jsx(ko,{className:"w-5 h-5"}),"Upcoming"]}),a.jsx("button",{onClick:()=>ie(!1),className:"text-secondary-light hover:text-black transition",children:a.jsx(Qt,{className:"w-4 h-4"})})]}),a.jsx("div",{className:"space-y-3",children:xe.map(se=>{const F=Fa.find(Le=>Le.value===se.eventType)||Fa[0];return a.jsx("button",{onClick:()=>{g(new Date(se.startAt)),de(se)},className:"w-full text-left p-3 rounded-2xl border border-white/70 bg-white/80 hover:bg-white transition",children:a.jsxs("div",{className:"flex items-start gap-2 mb-1",children:[a.jsx("div",{className:"w-2 h-2 rounded-full mt-1.5 flex-shrink-0",style:{backgroundColor:F.color}}),a.jsxs("div",{className:"flex-1 min-w-0",children:[a.jsx("p",{className:"font-semibold text-sm truncate",children:se.title}),a.jsxs("p",{className:"text-xs text-secondary-light",children:[qe(se.startAt),"  ",Ze(se.startAt)]})]})]})},se.id)})})]})})]})]})},bw=[{label:"Short",minutes:15,Icon:vl},{label:"Classic",minutes:25,Icon:Ui},{label:"Long",minutes:45,Icon:Mo},{label:"Deep",minutes:90,Icon:zx}],yw=()=>{const[l,r]=v.useState([]),[d,c]=v.useState("idle"),[u,m]=v.useState(25),[x,g]=v.useState(1500),[p,f]=v.useState("Focus"),[b,N]=v.useState(null),[w,C]=v.useState(null),[L,R]=v.useState(0),K=v.useRef(null),ie=v.useCallback(async()=>{const J=await I.getPomodoroSessions();r(J.sort((E,z)=>z.startedAt-E.startedAt))},[]);v.useEffect(()=>(ie(),on("pomodoro",ie)),[ie]),v.useEffect(()=>(d==="running"&&x>0?K.current=setInterval(()=>{g(J=>J<=1?(Y(),0):J-1)},1e3):K.current&&(clearInterval(K.current),K.current=null),()=>{K.current&&clearInterval(K.current)}),[d,x]);const re=()=>{if(d==="idle"){const J=`pomodoro-${Date.now()}`;N(J),C(Date.now()),R(0),g(u*60)}else d==="paused"&&C(Date.now()-L);c("running")},be=()=>{if(d==="running"&&w){const J=Date.now()-w;R(J),c("paused")}},U=()=>{c("idle"),g(u*60),N(null),C(null),R(0)},Y=async()=>{if(!b||!w)return;const J=Math.round((Date.now()-w)/1e3/60),E={id:b,label:p||"Focus",startedAt:w,durationMinutes:J};await I.savePomodoroSession(E),await Cs("pomodoro.session"),"Notification"in window&&Notification.permission==="granted"&&new Notification("Pomodoro Complete!",{body:`Great work! You completed ${J} minutes of focused time.`}),c("completed"),ie(),setTimeout(()=>{U()},3e3)},O=J=>{const E=Math.floor(J/60),z=J%60;return`${E.toString().padStart(2,"0")}:${z.toString().padStart(2,"0")}`},D=d!=="idle"?(u*60-x)/(u*60)*100:0,oe=2*Math.PI*120,Ne=oe-D/100*oe;v.useEffect(()=>{"Notification"in window&&Notification.permission==="default"&&Notification.requestPermission()},[]);const P=l.filter(J=>new Date(J.startedAt).toDateString()===new Date().toDateString()),ne=P.reduce((J,E)=>J+E.durationMinutes,0),Ae=l.length;l.reduce((J,E)=>J+E.durationMinutes,0);const G=async J=>{await I.deletePomodoroSession(J),ie()};return a.jsxs(Wt,{title:"Pomodoro",subtitle:"Time-boxed focus sessions. Build momentum, one block at a time.",children:[a.jsx("div",{className:"glass-panel rounded-3xl border border-white/70 p-8 mb-6",children:a.jsxs("div",{className:"flex flex-col items-center gap-6",children:[a.jsxs("div",{className:"relative w-64 h-64",children:[a.jsxs("svg",{className:"transform -rotate-90 w-64 h-64",children:[a.jsx("circle",{cx:"128",cy:"128",r:"120",stroke:"rgba(255, 255, 255, 0.3)",strokeWidth:"8",fill:"none"}),a.jsx("circle",{cx:"128",cy:"128",r:"120",stroke:d==="completed"?"#10b981":d==="running"?"#ef4444":"#6366f1",strokeWidth:"8",fill:"none",strokeDasharray:oe,strokeDashoffset:Ne,strokeLinecap:"round",className:"transition-all duration-1000 ease-linear"})]}),a.jsxs("div",{className:"absolute inset-0 flex flex-col items-center justify-center",children:[a.jsx("div",{className:"text-5xl font-bold font-mono mb-2",children:O(x)}),a.jsxs("div",{className:"text-sm uppercase tracking-[0.2em] text-secondary-light",children:[d==="idle"&&"Ready",d==="running"&&"Focusing",d==="paused"&&"Paused",d==="completed"&&"Complete!"]})]})]}),a.jsx("div",{className:"w-full max-w-md",children:a.jsx("input",{type:"text",value:p,onChange:J=>f(J.target.value),placeholder:"What are you focusing on?",className:"w-full px-4 py-3 rounded-2xl border border-white/70 bg-white/80 text-center text-lg font-medium focus:outline-none focus:ring-2 focus:ring-black",disabled:d==="running"})}),d==="idle"&&a.jsx("div",{className:"flex gap-3 flex-wrap justify-center",children:bw.map(J=>a.jsxs("button",{onClick:()=>{m(J.minutes),g(J.minutes*60)},className:`px-4 py-2 rounded-full border transition-all ${u===J.minutes?"bg-black text-white border-black":"bg-white/80 border-white/70 hover:bg-white"}`,children:[a.jsx(J.Icon,{className:"w-4 h-4 mr-2 inline"}),a.jsx("span",{className:"text-sm font-medium",children:J.label}),a.jsxs("span",{className:"text-xs ml-1",children:["(",J.minutes,"m)"]})]},J.minutes))}),a.jsxs("div",{className:"flex gap-3",children:[d==="idle"&&a.jsx("button",{onClick:re,className:"px-8 py-4 rounded-2xl bg-black text-white font-semibold text-lg hover:shadow-xl transition-all",children:"Start Focus Session"}),d==="running"&&a.jsxs(a.Fragment,{children:[a.jsx("button",{onClick:be,className:"px-6 py-3 rounded-2xl bg-white border-2 border-gray-300 text-gray-700 font-semibold hover:bg-gray-50 transition-all",children:"Pause"}),a.jsx("button",{onClick:U,className:"px-6 py-3 rounded-2xl bg-red-50 border-2 border-red-200 text-red-700 font-semibold hover:bg-red-100 transition-all",children:"Reset"})]}),d==="paused"&&a.jsxs(a.Fragment,{children:[a.jsx("button",{onClick:re,className:"px-6 py-3 rounded-2xl bg-black text-white font-semibold hover:shadow-lg transition-all",children:"Resume"}),a.jsx("button",{onClick:U,className:"px-6 py-3 rounded-2xl bg-red-50 border-2 border-red-200 text-red-700 font-semibold hover:bg-red-100 transition-all",children:"Reset"})]})]})]})}),a.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 md:grid-cols-3 gap-4 mb-6",children:[a.jsxs("div",{className:"rounded-2xl border border-white/70 bg-gradient-to-br from-red-50 to-orange-50 p-4",children:[a.jsxs("div",{className:"flex items-center justify-between mb-2",children:[a.jsx(Ui,{className:"w-6 h-6 text-red-600"}),a.jsx("span",{className:"text-2xl font-bold text-black",children:P.length})]}),a.jsx("p",{className:"text-xs uppercase tracking-[0.2em] text-gray-600",children:"Today's Sessions"})]}),a.jsxs("div",{className:"rounded-2xl border border-white/70 bg-gradient-to-br from-blue-50 to-purple-50 p-4",children:[a.jsxs("div",{className:"flex items-center justify-between mb-2",children:[a.jsx($a,{className:"w-6 h-6 text-blue-600"}),a.jsx("span",{className:"text-2xl font-bold text-black",children:ne})]}),a.jsx("p",{className:"text-xs uppercase tracking-[0.2em] text-gray-600",children:"Minutes Today"})]}),a.jsxs("div",{className:"rounded-2xl border border-white/70 bg-gradient-to-br from-green-50 to-emerald-50 p-4",children:[a.jsxs("div",{className:"flex items-center justify-between mb-2",children:[a.jsx(Co,{className:"w-6 h-6 text-green-600"}),a.jsx("span",{className:"text-2xl font-bold text-black",children:Ae})]}),a.jsx("p",{className:"text-xs uppercase tracking-[0.2em] text-gray-600",children:"Total Sessions"})]})]}),a.jsxs("div",{className:"glass-panel rounded-3xl border border-white/70 p-6",children:[a.jsxs("h3",{className:"text-lg font-semibold mb-4 flex items-center gap-2",children:[a.jsx(P1,{className:"w-5 h-5"}),a.jsx("span",{children:"Session History"})]}),l.length===0?a.jsx("p",{className:"text-secondary-light text-sm text-center py-8",children:"No sessions yet. Start your first focus session above!"}):a.jsx("div",{className:"space-y-3 max-h-96 overflow-y-auto invisible-scrollbar",children:l.map(J=>{const E=new Date(J.startedAt),z=E.toDateString()===new Date().toDateString();return a.jsxs("div",{className:"rounded-2xl border border-white/70 bg-white/80 p-4 flex items-center justify-between gap-3 hover:bg-white transition-all",children:[a.jsxs("div",{className:"flex-1",children:[a.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[a.jsx(Ui,{className:"w-4 h-4 text-red-600"}),a.jsx("h4",{className:"font-semibold",children:J.label}),z&&a.jsx("span",{className:"px-2 py-0.5 rounded-full bg-green-100 text-green-700 text-xs font-semibold",children:"Today"})]}),a.jsxs("div",{className:"flex items-center gap-4 text-sm text-secondary-light",children:[a.jsx("span",{children:E.toLocaleDateString()}),a.jsx("span",{children:""}),a.jsx("span",{children:E.toLocaleTimeString()}),a.jsx("span",{children:""}),a.jsxs("span",{className:"font-mono font-semibold text-black",children:[J.durationMinutes," min"]})]})]}),a.jsx("button",{onClick:()=>G(J.id),className:"px-3 py-1 rounded-full bg-white border border-white/70 text-xs hover:bg-red-50 hover:border-red-200 hover:text-red-700 transition-all",children:"Delete"})]},J.id)})})]})]})},ux=[{id:"first-entry",title:"First Reflection",description:"Write your first journal entry",Icon:Du,xp:50},{id:"journal-streak-7",title:"Week Warrior",description:"7 days of journaling",Icon:Mo,xp:100},{id:"journal-streak-30",title:"Monthly Master",description:"30 days of journaling",Icon:Ky,xp:500},{id:"agenda-10",title:"Task Master",description:"Complete 10 agenda items",Icon:Va,xp:150},{id:"pomodoro-25",title:"Focus Champion",description:"Complete 25 pomodoros",Icon:Ui,xp:200},{id:"calendar-20",title:"Time Architect",description:"Schedule 20 calendar events",Icon:ln,xp:180},{id:"people-10",title:"Network Builder",description:"Add 10 people",Icon:an,xp:120},{id:"brand-5",title:"Brand Builder",description:"Define 5 brand elements",Icon:_u,xp:100},{id:"level-5",title:"Rising Star",description:"Reach level 5",Icon:xl,xp:0},{id:"level-10",title:"Veteran",description:"Reach level 10",Icon:ts,xp:0},{id:"level-20",title:"Legend",description:"Reach level 20",Icon:jo,xp:0},{id:"xp-1000",title:"XP Collector",description:"Earn 1000 XP",Icon:Vy,xp:0},{id:"xp-5000",title:"XP Master",description:"Earn 5000 XP",Icon:jo,xp:0},{id:"xp-10000",title:"XP Legend",description:"Earn 10000 XP",Icon:Lx,xp:0}],ho={Sprout:av,User:Oi,Radio:G1,Network:C1,Building:Ay,Zap:vl,Handshake:o1,Compass:Qy,Crown:Lx,Target:wa,Gem:jo,Rocket:X1,Brain:zx,Wand2:Nv,Plane:$1,Scroll:K1,Star:xl,Sparkles:ts},vw=()=>{const[l,r]=v.useState({total:0,level:0,nextLevel:200,levelName:"",levelDescription:""}),[d,c]=v.useState([]),[u,m]=v.useState({journalEntries:0,agendaItems:0,pomodoros:0,calendarEvents:0,people:0,brand:0}),[x,g]=v.useState([]),p=async()=>{const R=await du(),K=await Ib();r(R),c(K)},f=async()=>{const[R,K,ie,re,be]=await Promise.all([I.getJournalEntries(),I.getAgendaItems(),I.getCalendarEvents(),I.getPeopleRecords(),I.getBrandRecords()]),U=R.filter(oe=>{var Ne;return(Ne=oe.tags)==null?void 0:Ne.includes("pomodoro")}).length,Y={journalEntries:R.length,agendaItems:K.length,pomodoros:U,calendarEvents:ie.length,people:re.length,brand:be.length};m(Y);const O=await du(),D=[];Y.journalEntries>=1&&D.push("first-entry"),Y.journalEntries>=7&&D.push("journal-streak-7"),Y.journalEntries>=30&&D.push("journal-streak-30"),Y.agendaItems>=10&&D.push("agenda-10"),Y.pomodoros>=25&&D.push("pomodoro-25"),Y.calendarEvents>=20&&D.push("calendar-20"),Y.people>=10&&D.push("people-10"),Y.brand>=5&&D.push("brand-5"),O.level>=5&&D.push("level-5"),O.level>=10&&D.push("level-10"),O.level>=20&&D.push("level-20"),O.total>=1e3&&D.push("xp-1000"),O.total>=5e3&&D.push("xp-5000"),O.total>=1e4&&D.push("xp-10000"),g(D)};v.useEffect(()=>{(async()=>{await p(),await f()})()},[]),v.useEffect(()=>{f()},[l.total,l.level]);const b=l.total%200/200*100,N=wo(l.level),w=wo(l.level+1);v.useMemo(()=>Math.min(Math.floor(u.journalEntries/7),30),[u.journalEntries]);const C=v.useMemo(()=>{const R={};return d.forEach(K=>{const ie=K.reason.split(".")[0]||"other";R[ie]=(R[ie]||0)+K.points}),R},[d]),L=v.useMemo(()=>{const R={};return d.forEach(K=>{R[K.reason]=(R[K.reason]||0)+1}),Object.entries(R).sort((K,ie)=>ie[1]-K[1]).slice(0,5)},[d]);return a.jsxs(Wt,{title:"Progress",subtitle:"Earn XP by partnering with Sylvia. Meaningful actions push you through levels.",children:[a.jsxs("div",{className:"glass-panel rounded-3xl border border-white/70 p-8 mb-6 space-y-4 bg-gradient-to-br from-white to-gray-50",children:[a.jsxs("div",{className:"flex items-start justify-between",children:[a.jsx("div",{className:"flex-1",children:a.jsxs("div",{className:"flex items-center gap-3 mb-2",children:[N.iconName&&ho[N.iconName]&&yo.createElement(ho[N.iconName],{className:"w-12 h-12 text-black"}),a.jsxs("div",{children:[a.jsxs("p",{className:"text-sm uppercase tracking-[0.3em] text-secondary-light",children:["Level ",l.level]}),a.jsx("h2",{className:"text-4xl font-bold text-black",children:l.levelName}),a.jsx("p",{className:"text-sm text-secondary-light mt-1",children:l.levelDescription})]})]})}),a.jsxs("div",{className:"text-right",children:[a.jsx("p",{className:"text-2xl font-bold text-black",children:l.total.toLocaleString()}),a.jsx("p",{className:"text-xs uppercase tracking-[0.2em] text-secondary-light",children:"Total XP"})]})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsx("div",{className:"w-full h-4 rounded-full bg-white/80 overflow-hidden shadow-inner",children:a.jsx("div",{className:"h-full bg-gradient-to-r from-blue-500 via-purple-500 to-pink-500 transition-all duration-500 ease-out",style:{width:`${b}%`}})}),a.jsxs("div",{className:"flex items-center justify-between text-xs text-secondary-light",children:[a.jsxs("span",{children:[l.total%200," / 200 XP"]}),a.jsxs("span",{className:"font-semibold flex items-center gap-1",children:["Next: ",w.name,w.iconName&&ho[w.iconName]&&yo.createElement(ho[w.iconName],{className:"w-3 h-3"})]})]})]})]}),a.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 md:grid-cols-4 gap-4 mb-6",children:[{label:"Journal Entries",value:u.journalEntries,Icon:Du,color:"from-blue-50 to-blue-100"},{label:"Agenda Items",value:u.agendaItems,Icon:Va,color:"from-green-50 to-green-100"},{label:"Pomodoros",value:u.pomodoros,Icon:Ui,color:"from-red-50 to-red-100"},{label:"Calendar Events",value:u.calendarEvents,Icon:ln,color:"from-purple-50 to-purple-100"}].map(R=>a.jsxs("div",{className:`rounded-2xl border border-white/70 bg-gradient-to-br ${R.color} p-4`,children:[a.jsxs("div",{className:"flex items-center justify-between mb-2",children:[a.jsx(R.Icon,{className:"w-6 h-6 text-gray-700"}),a.jsx("span",{className:"text-2xl font-bold text-black",children:R.value})]}),a.jsx("p",{className:"text-xs uppercase tracking-[0.2em] text-gray-600",children:R.label})]},R.label))}),a.jsxs("div",{className:"mb-6",children:[a.jsxs("h3",{className:"text-xl font-semibold mb-4 flex items-center gap-2",children:[a.jsx(bv,{className:"w-5 h-5"}),a.jsx("span",{children:"Achievements"}),a.jsxs("span",{className:"text-sm font-normal text-secondary-light",children:["(",x.length," / ",ux.length,")"]})]}),a.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 md:grid-cols-3 gap-3",children:ux.map(R=>{const K=x.includes(R.id);return a.jsx("div",{className:`rounded-2xl border p-4 transition-all ${K?"bg-gradient-to-br from-yellow-50 to-orange-50 border-yellow-300 shadow-md":"bg-white/50 border-white/70 opacity-60"}`,children:a.jsxs("div",{className:"flex items-start gap-3",children:[a.jsx("div",{className:`p-2 rounded-xl ${K?"bg-yellow-100":"bg-gray-100"}`,children:a.jsx(R.Icon,{className:`w-5 h-5 ${K?"text-yellow-700":"text-gray-400"}`})}),a.jsxs("div",{className:"flex-1",children:[a.jsx("h4",{className:`font-semibold ${K?"text-black":"text-gray-400"}`,children:R.title}),a.jsx("p",{className:`text-xs mt-1 ${K?"text-gray-600":"text-gray-400"}`,children:R.description}),R.xp>0&&K&&a.jsxs("span",{className:"inline-block mt-2 px-2 py-0.5 rounded-full bg-yellow-200 text-yellow-800 text-xs font-semibold",children:["+",R.xp," XP"]})]}),K&&a.jsx(Va,{className:"w-5 h-5 text-yellow-500"})]})},R.id)})})]}),a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6 mb-6",children:[a.jsxs("div",{className:"glass-panel rounded-3xl border border-white/70 p-6",children:[a.jsxs("h3",{className:"text-lg font-semibold mb-4 flex items-center gap-2",children:[a.jsx(Co,{className:"w-5 h-5"}),a.jsx("span",{children:"XP Breakdown"})]}),Object.keys(C).length===0?a.jsx("p",{className:"text-sm text-secondary-light",children:"No XP earned yet"}):a.jsx("div",{className:"space-y-3",children:Object.entries(C).sort((R,K)=>K[1]-R[1]).map(([R,K])=>a.jsxs("div",{className:"space-y-1",children:[a.jsxs("div",{className:"flex items-center justify-between text-sm",children:[a.jsx("span",{className:"capitalize font-medium",children:R}),a.jsxs("span",{className:"font-semibold",children:[K," XP"]})]}),a.jsx("div",{className:"w-full h-2 rounded-full bg-white/60 overflow-hidden",children:a.jsx("div",{className:"h-full bg-gradient-to-r from-blue-500 to-purple-500 rounded-full",style:{width:`${K/l.total*100}%`}})})]},R))})]}),a.jsxs("div",{className:"glass-panel rounded-3xl border border-white/70 p-6",children:[a.jsxs("h3",{className:"text-lg font-semibold mb-4 flex items-center gap-2",children:[a.jsx(Mo,{className:"w-5 h-5"}),a.jsx("span",{children:"Top Activities"})]}),L.length===0?a.jsx("p",{className:"text-sm text-secondary-light",children:"No activities yet"}):a.jsx("div",{className:"space-y-3",children:L.map(([R,K],ie)=>a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{className:"flex items-center gap-3",children:[a.jsxs("span",{className:"text-lg font-bold text-gray-400",children:["#",ie+1]}),a.jsx("span",{className:"text-sm capitalize",children:R.replace("."," ")})]}),a.jsxs("span",{className:"px-3 py-1 rounded-full bg-black text-white text-xs font-semibold",children:[K,"x"]})]},R))})]})]}),a.jsxs("div",{className:"glass-panel rounded-3xl border border-white/70 p-6",children:[a.jsxs("div",{className:"flex items-center justify-between mb-4",children:[a.jsxs("h3",{className:"text-lg font-semibold flex items-center gap-2",children:[a.jsx(vl,{className:"w-5 h-5"}),a.jsx("span",{children:"Recent Activity"})]}),a.jsx("button",{onClick:p,className:"px-3 py-1 rounded-full bg-white border border-white/70 text-black text-xs hover:bg-gray-50 transition",children:"Refresh"})]}),d.length===0?a.jsx("p",{className:"text-secondary-light text-sm",children:"No activity yet. Start using Sylvia to earn XP!"}):a.jsx("div",{className:"space-y-2 max-h-64 overflow-y-auto invisible-scrollbar",children:d.map(R=>a.jsxs("div",{className:"flex items-center justify-between p-3 rounded-2xl bg-white/60 hover:bg-white/80 transition",children:[a.jsxs("div",{className:"flex-1",children:[a.jsx("p",{className:"font-medium text-sm capitalize",children:R.reason.replace("."," ")}),a.jsx("p",{className:"text-xs text-secondary-light",children:new Date(R.createdAt).toLocaleString()})]}),a.jsxs("span",{className:"px-3 py-1 rounded-full bg-gradient-to-r from-blue-500 to-purple-500 text-white text-xs font-bold shadow-sm",children:["+",R.points]})]},R.id))})]})]})},ww=()=>{const{setActiveEntity:l}=as(),[r,d]=v.useState([]),[c,u]=v.useState([]),[m,x]=v.useState(null),[g,p]=v.useState(null),[f,b]=v.useState(null),[N,w]=v.useState(null),[C,L]=v.useState(!1),[R,K]=v.useState(""),[ie,re]=v.useState("all"),[be,U]=v.useState(null),[Y,O]=v.useState(null),[D,oe]=v.useState(null),[Ne,P]=v.useState({title:"",description:"",goalType:"small",scope:"professional",priority:"medium",metrics:""}),[ne,Ae]=v.useState({completionNotes:"",outcome:"met",outcomeDetails:"",taskQuality:50,effortAccuracy:50,impactAccuracy:50,clarity:50,helpfulness:50,feedbackNotes:"",whatWorked:[],whatDidntWork:[],suggestions:""}),G=v.useCallback(async()=>{const[k,fe]=await Promise.all([I.getGoals(),I.getVendorTasks()]);d(k.sort((xe,we)=>(we.updatedAt||we.createdAt)-(xe.updatedAt||xe.createdAt))),u(fe.sort((xe,we)=>we.generatedAt-xe.generatedAt))},[]);v.useEffect(()=>(G(),on("goal",G)),[G]);const J=v.useMemo(()=>{let k=r;if(ie!=="all"&&(k=k.filter(fe=>fe.goalType===ie)),R.trim()){const fe=R.toLowerCase();k=k.filter(xe=>xe.title.toLowerCase().includes(fe)||xe.description.toLowerCase().includes(fe)||xe.metrics.toLowerCase().includes(fe))}return k},[r,ie,R]),E=v.useMemo(()=>{let k=c;if(m&&(k=k.filter(fe=>fe.goalId===m.id)),be&&(k=k.filter(fe=>fe.status===be)),Y&&(k=k.filter(fe=>fe.estimatedEffort===Y)),D&&(k=k.filter(fe=>fe.estimatedImpact===D)),R.trim()){const fe=R.toLowerCase();k=k.filter(xe=>{var we;return xe.title.toLowerCase().includes(fe)||xe.description.toLowerCase().includes(fe)||((we=xe.rationale)==null?void 0:we.toLowerCase().includes(fe))})}return k},[c,m,be,Y,D,R]),z=v.useMemo(()=>{const k=r.filter(ge=>ge.goalType==="small").length,fe=r.filter(ge=>ge.goalType==="big").length,xe=c.filter(ge=>ge.status==="pending").length,we=c.filter(ge=>ge.status==="completed").length,ze=c.filter(ge=>ge.status==="in-progress").length,Ye=c.filter(ge=>ge.status==="skipped").length,bt=c.filter(ge=>ge.status==="failed").length,He=c.filter(ge=>ge.feedback),de=He.reduce((ge,Ze)=>{const qe=Ze.feedback;return ge+(qe.taskQuality+qe.effortAccuracy+qe.impactAccuracy+qe.clarity+qe.helpfulness)/5},0),ke=He.length>0?(de/He.length).toFixed(1):"",S=c.filter(ge=>ge.estimatedImpact==="high"||ge.estimatedImpact==="very-high").length,pe=c.filter(ge=>ge.estimatedEffort==="very-low"||ge.estimatedEffort==="low").length,Ee=c.length,Me=Ee>0?(we/Ee*100).toFixed(1):"0";return{smallGoals:k,bigGoals:fe,pendingTasks:xe,completedTasks:we,inProgressTasks:ze,skippedTasks:Ye,failedTasks:bt,avgFeedbackScore:ke,highImpactTasks:S,lowEffortTasks:pe,completionRate:Me,totalTasks:Ee}},[r,c]),te=k=>{p(k),P({title:k.title,description:k.description,goalType:k.goalType,scope:k.scope,priority:k.priority,metrics:k.metrics})},ve=async()=>{g&&(await I.saveGoal({...g,...Ne,updatedAt:Date.now()}),p(null),G())},De=async k=>{const fe=c.filter(xe=>xe.goalId===k);for(const xe of fe)await I.deleteVendorTask(xe.id);await I.deleteGoal(k),G()},Ue=async()=>{if(m){L(!0);try{const k=await gt("apiKey",""),fe=await gt("secondaryApiKey",""),xe=await gt("mainModel","openrouter/polaris-alpha"),we=await gt("systemInstruction",""),ze=await gt("weightedPrompts",[]),Ye=await gt("temperature",.7),bt=await gt("maxTokens",128e3),[He,de,ke,S,pe,Ee]=await Promise.all([I.getPeopleRecords(),I.getBrandRecords(),I.getCalendarEvents(),I.getJournalEntries(),I.getAgendaItems(),I.getConceptRecords()]),Me=`You are generating high-impact, low-effort tasks for a Polaris goal. Analyze the goal and available context, then generate 10-12 specific, actionable tasks.

GOAL DETAILS:
Title: ${m.title}
Description: ${m.description}
Type: ${m.goalType==="small"?"Small Goal (Quick wins, short-term)":"Big Goal (Long-term, strategic)"}
Scope: ${m.scope}
Priority: ${m.priority}
Success Metrics: ${m.metrics||"Not specified"}

AVAILABLE CONTEXT:
- ${He.length} people in network (with connections, attributes, profiles)
- ${de.length} brand elements (voice, positioning, messaging)
- ${ke.length} calendar events (meetings, deadlines, commitments)
- ${S.length} journal entries (insights, reflections, learnings)
- ${pe.length} agenda items (tasks, deliverables)
- ${Ee.length} concepts (ideas, applications, technologies)

TASK GENERATION CRITERIA:
1. HIGH IMPACT: Tasks must move the needle significantly toward achieving this goal
2. LOW EFFORT: Tasks should be quick wins that leverage existing resources and context
3. SPECIFIC & ACTIONABLE: Each task must be concrete and executable, not vague
4. CONTEXT-AWARE: Leverage the available context (people, brand, calendar, journal, agenda, concepts)
5. SEQUENCED: Consider task dependencies and logical order

For each task, you MUST respond with exactly this format:
[ACTION:polaris.task|${m.id}|title|description|rationale|estimatedEffort|estimatedImpact]

Where:
- title: Short, clear task title (3-8 words)
- description: Detailed description of what needs to be done (1-3 sentences)
- rationale: Why this task helps achieve the goal (1-2 sentences explaining the connection)
- estimatedEffort: very-low, low, medium, or high
- estimatedImpact: very-low, low, medium, high, or very-high

Generate 10-12 tasks now. Focus on tasks that are HIGH IMPACT and LOW EFFORT. Use ACTION markers only - no other text.`,ge=await Bi([{role:"system",content:we||"You are Sylvia, an AI assistant that generates high-impact, low-effort tasks for goals."},{role:"user",content:Me}],{apiKey:k||fe,mainModel:xe,weightedPrompts:ze,temperature:.7,maxTokens:4e3});console.log("API Response:",ge);const Ze=ge.match(/\[ACTION:([^\]]+)\]/g);console.log("Found ACTION markers:",(Ze==null?void 0:Ze.length)||0),await ag(ge),await G()}catch(k){console.error("Failed to generate tasks:",k),alert(`Failed to generate tasks: ${k instanceof Error?k.message:String(k)}`)}finally{L(!1)}}},j=k=>{var fe,xe,we,ze,Ye,bt,He,de,ke;b(k),w(k.id),Ae({completionNotes:k.completionNotes||"",outcome:k.outcome||"met",outcomeDetails:k.outcomeDetails||"",taskQuality:((fe=k.feedback)==null?void 0:fe.taskQuality)||50,effortAccuracy:((xe=k.feedback)==null?void 0:xe.effortAccuracy)||50,impactAccuracy:((we=k.feedback)==null?void 0:we.impactAccuracy)||50,clarity:((ze=k.feedback)==null?void 0:ze.clarity)||50,helpfulness:((Ye=k.feedback)==null?void 0:Ye.helpfulness)||50,feedbackNotes:((bt=k.feedback)==null?void 0:bt.notes)||"",whatWorked:((He=k.learningData)==null?void 0:He.whatWorked)||[],whatDidntWork:((de=k.learningData)==null?void 0:de.whatDidntWork)||[],suggestions:((ke=k.learningData)==null?void 0:ke.suggestions)||""})},q=async()=>{f&&(await I.saveVendorTask({...f,status:"completed",completedAt:Date.now(),completionNotes:ne.completionNotes,outcome:ne.outcome,outcomeDetails:ne.outcomeDetails,feedback:{taskQuality:ne.taskQuality,effortAccuracy:ne.effortAccuracy,impactAccuracy:ne.impactAccuracy,clarity:ne.clarity,helpfulness:ne.helpfulness,notes:ne.feedbackNotes},learningData:{whatWorked:ne.whatWorked,whatDidntWork:ne.whatDidntWork,suggestions:ne.suggestions},updatedAt:Date.now()}),w(null),b(null),G())},X=async(k,fe)=>{await I.saveVendorTask({...k,status:fe,updatedAt:Date.now()}),G()},he=async k=>{await I.deleteVendorTask(k),G()},ee=k=>r.find(fe=>fe.id===k),T=k=>{const fe={"very-low":"text-green-700 bg-green-100 border-green-200",low:"text-green-600 bg-green-50 border-green-100",medium:"text-yellow-600 bg-yellow-50 border-yellow-100",high:"text-red-600 bg-red-50 border-red-100"};return fe[k]||fe.medium},W=k=>{const fe={"very-low":"text-gray-600 bg-gray-50 border-gray-100",low:"text-gray-600 bg-gray-50 border-gray-100",medium:"text-blue-600 bg-blue-50 border-blue-100",high:"text-purple-600 bg-purple-50 border-purple-100","very-high":"text-purple-700 bg-purple-100 border-purple-200"};return fe[k]||fe.medium},ce=k=>{const fe={pending:"text-gray-600 bg-gray-50 border-gray-100","in-progress":"text-blue-600 bg-blue-50 border-blue-100",completed:"text-green-600 bg-green-50 border-green-100",skipped:"text-yellow-600 bg-yellow-50 border-yellow-100",failed:"text-red-600 bg-red-50 border-red-100"};return fe[k]||fe.pending},Te=k=>{switch(k){case"pending":return a.jsx($a,{className:"w-4 h-4"});case"in-progress":return a.jsx(Ri,{className:"w-4 h-4"});case"completed":return a.jsx(Va,{className:"w-4 h-4"});case"skipped":return a.jsx(qy,{className:"w-4 h-4"});case"failed":return a.jsx(Do,{className:"w-4 h-4"});default:return a.jsx($a,{className:"w-4 h-4"})}};return a.jsxs(Wt,{title:"Polaris",subtitle:"North Star goals meet high-impact, low-effort tasks. Sylvia learns from every outcome to get better.",children:[a.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 md:grid-cols-4 lg:grid-cols-6 gap-4 mb-6",children:[a.jsxs("div",{className:"rounded-2xl border border-white/70 bg-gradient-to-br from-blue-50 to-blue-100 p-4",children:[a.jsxs("div",{className:"flex items-center justify-between mb-2",children:[a.jsx(wa,{className:"w-6 h-6 text-blue-600"}),a.jsx("span",{className:"text-2xl font-bold text-black",children:z.smallGoals})]}),a.jsx("p",{className:"text-xs uppercase tracking-[0.2em] text-gray-600",children:"Small Goals"})]}),a.jsxs("div",{className:"rounded-2xl border border-white/70 bg-gradient-to-br from-purple-50 to-purple-100 p-4",children:[a.jsxs("div",{className:"flex items-center justify-between mb-2",children:[a.jsx(wa,{className:"w-6 h-6 text-purple-600"}),a.jsx("span",{className:"text-2xl font-bold text-black",children:z.bigGoals})]}),a.jsx("p",{className:"text-xs uppercase tracking-[0.2em] text-gray-600",children:"Big Goals"})]}),a.jsxs("div",{className:"rounded-2xl border border-white/70 bg-gradient-to-br from-yellow-50 to-yellow-100 p-4",children:[a.jsxs("div",{className:"flex items-center justify-between mb-2",children:[a.jsx($a,{className:"w-6 h-6 text-yellow-600"}),a.jsx("span",{className:"text-2xl font-bold text-black",children:z.pendingTasks})]}),a.jsx("p",{className:"text-xs uppercase tracking-[0.2em] text-gray-600",children:"Pending"})]}),a.jsxs("div",{className:"rounded-2xl border border-white/70 bg-gradient-to-br from-green-50 to-green-100 p-4",children:[a.jsxs("div",{className:"flex items-center justify-between mb-2",children:[a.jsx(Va,{className:"w-6 h-6 text-green-600"}),a.jsx("span",{className:"text-2xl font-bold text-black",children:z.completedTasks})]}),a.jsx("p",{className:"text-xs uppercase tracking-[0.2em] text-gray-600",children:"Completed"})]}),a.jsxs("div",{className:"rounded-2xl border border-white/70 bg-gradient-to-br from-orange-50 to-orange-100 p-4",children:[a.jsxs("div",{className:"flex items-center justify-between mb-2",children:[a.jsx(vl,{className:"w-6 h-6 text-orange-600"}),a.jsx("span",{className:"text-2xl font-bold text-black",children:z.inProgressTasks})]}),a.jsx("p",{className:"text-xs uppercase tracking-[0.2em] text-gray-600",children:"In Progress"})]}),a.jsxs("div",{className:"rounded-2xl border border-white/70 bg-gradient-to-br from-pink-50 to-pink-100 p-4",children:[a.jsxs("div",{className:"flex items-center justify-between mb-2",children:[a.jsx(Li,{className:"w-6 h-6 text-pink-600"}),a.jsx("span",{className:"text-2xl font-bold text-black",children:z.avgFeedbackScore})]}),a.jsx("p",{className:"text-xs uppercase tracking-[0.2em] text-gray-600",children:"Avg Score"})]})]}),a.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 md:grid-cols-4 gap-4 mb-6",children:[a.jsxs("div",{className:"rounded-2xl border border-white/70 bg-gradient-to-br from-indigo-50 to-indigo-100 p-4",children:[a.jsxs("div",{className:"flex items-center justify-between mb-2",children:[a.jsx(ko,{className:"w-6 h-6 text-indigo-600"}),a.jsx("span",{className:"text-2xl font-bold text-black",children:z.highImpactTasks})]}),a.jsx("p",{className:"text-xs uppercase tracking-[0.2em] text-gray-600",children:"High Impact"})]}),a.jsxs("div",{className:"rounded-2xl border border-white/70 bg-gradient-to-br from-emerald-50 to-emerald-100 p-4",children:[a.jsxs("div",{className:"flex items-center justify-between mb-2",children:[a.jsx(l1,{className:"w-6 h-6 text-emerald-600"}),a.jsx("span",{className:"text-2xl font-bold text-black",children:z.lowEffortTasks})]}),a.jsx("p",{className:"text-xs uppercase tracking-[0.2em] text-gray-600",children:"Low Effort"})]}),a.jsxs("div",{className:"rounded-2xl border border-white/70 bg-gradient-to-br from-cyan-50 to-cyan-100 p-4",children:[a.jsxs("div",{className:"flex items-center justify-between mb-2",children:[a.jsx(Co,{className:"w-6 h-6 text-cyan-600"}),a.jsxs("span",{className:"text-2xl font-bold text-black",children:[z.completionRate,"%"]})]}),a.jsx("p",{className:"text-xs uppercase tracking-[0.2em] text-gray-600",children:"Complete Rate"})]}),a.jsxs("div",{className:"rounded-2xl border border-white/70 bg-gradient-to-br from-rose-50 to-rose-100 p-4",children:[a.jsxs("div",{className:"flex items-center justify-between mb-2",children:[a.jsx(hy,{className:"w-6 h-6 text-rose-600"}),a.jsx("span",{className:"text-2xl font-bold text-black",children:z.totalTasks})]}),a.jsx("p",{className:"text-xs uppercase tracking-[0.2em] text-gray-600",children:"Total Tasks"})]})]}),a.jsxs("div",{className:"mb-6 space-y-4",children:[a.jsx("div",{className:"glass-panel rounded-2xl border border-white/70 p-4",children:a.jsxs("div",{className:"flex items-center gap-3",children:[a.jsx(ss,{className:"w-5 h-5 text-secondary-light"}),a.jsx("input",{type:"text",value:R,onChange:k=>K(k.target.value),placeholder:"Search goals or tasks...",className:"flex-1 bg-transparent outline-none text-lg placeholder:text-secondary-light"}),R&&a.jsx("button",{onClick:()=>K(""),className:"px-3 py-1 rounded-full bg-white/80 border border-white/70 text-sm hover:bg-white transition",children:"Clear"})]})}),a.jsxs("div",{className:"flex flex-wrap gap-2 items-center",children:[a.jsxs("span",{className:"text-sm text-secondary-light flex items-center gap-1",children:[a.jsx(yl,{className:"w-4 h-4"}),"Filter Goals:"]}),a.jsx("button",{onClick:()=>re("all"),className:`px-3 py-1 rounded-full text-xs font-medium transition ${ie==="all"?"bg-black text-white":"bg-white/80 border border-white/70 hover:bg-white"}`,children:"All"}),a.jsx("button",{onClick:()=>re("small"),className:`px-3 py-1 rounded-full text-xs font-medium transition ${ie==="small"?"bg-black text-white":"bg-white/80 border border-white/70 hover:bg-white"}`,children:"Small Goals"}),a.jsx("button",{onClick:()=>re("big"),className:`px-3 py-1 rounded-full text-xs font-medium transition ${ie==="big"?"bg-black text-white":"bg-white/80 border border-white/70 hover:bg-white"}`,children:"Big Goals"}),m&&a.jsxs(a.Fragment,{children:[a.jsx("span",{className:"text-xs text-secondary-light mx-2",children:"|"}),a.jsx("span",{className:"text-xs text-secondary-light",children:"Task Filters:"}),a.jsx("button",{onClick:()=>{U(null),O(null),oe(null)},className:`px-3 py-1 rounded-full text-xs font-medium transition ${be===null&&Y===null&&D===null?"bg-black text-white":"bg-white/80 border border-white/70"}`,children:"All Tasks"}),["pending","in-progress","completed","skipped","failed"].map(k=>a.jsx("button",{onClick:()=>U(be===k?null:k),className:`px-3 py-1 rounded-full text-xs font-medium transition capitalize ${be===k?"bg-black text-white":"bg-white/80 border border-white/70"}`,children:k.replace("-"," ")},k)),a.jsx("span",{className:"text-xs text-secondary-light mx-2",children:"|"}),a.jsx("span",{className:"text-xs text-secondary-light",children:"Effort:"}),["very-low","low","medium","high"].map(k=>a.jsx("button",{onClick:()=>O(Y===k?null:k),className:`px-3 py-1 rounded-full text-xs font-medium transition capitalize ${Y===k?"bg-black text-white":"bg-white/80 border border-white/70"}`,children:k.replace("-"," ")},k)),a.jsx("span",{className:"text-xs text-secondary-light mx-2",children:"|"}),a.jsx("span",{className:"text-xs text-secondary-light",children:"Impact:"}),["very-low","low","medium","high","very-high"].map(k=>a.jsx("button",{onClick:()=>oe(D===k?null:k),className:`px-3 py-1 rounded-full text-xs font-medium transition capitalize ${D===k?"bg-black text-white":"bg-white/80 border border-white/70"}`,children:k.replace("-"," ")},k))]})]})]}),a.jsxs("div",{className:"mb-8",children:[a.jsx("div",{className:"flex items-center justify-between mb-4",children:a.jsxs("div",{children:[a.jsxs("h2",{className:"text-2xl font-semibold flex items-center gap-2",children:[a.jsx(wa,{className:"w-6 h-6"}),"Goals"]}),a.jsx("p",{className:"text-sm text-secondary-light mt-1",children:"Goals are created through conversation with Sylvia. Talk to her about your goals and she'll add them here."})]})}),J.length===0?a.jsxs("div",{className:"glass-panel rounded-3xl border border-white/70 p-12 text-center",children:[a.jsx("div",{className:"flex justify-center mb-4",children:a.jsx(wa,{className:"w-16 h-16 text-secondary-light"})}),a.jsx("h3",{className:"text-xl font-semibold mb-2",children:r.length===0?"No goals yet":"No matches found"}),a.jsx("p",{className:"text-secondary-light",children:r.length===0?"Tell Sylvia about your goals in the chat. She'll automatically add them here, then you can generate high-impact, low-effort tasks.":"Try adjusting your search or filters."})]}):a.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:J.map(k=>{const fe=c.filter(He=>He.goalId===k.id),xe=(g==null?void 0:g.id)===k.id,we=(m==null?void 0:m.id)===k.id,ze=fe.filter(He=>He.status==="completed").length,Ye=fe.length,bt=Ye>0?ze/Ye*100:0;return a.jsx("div",{className:`rounded-3xl border p-6 transition-all ${we?"border-purple-500 bg-purple-50 shadow-lg":xe?"border-black bg-black text-white shadow-xl":"border-white/70 bg-white/90 hover:shadow-lg hover:border-white"}`,onClick:()=>{if(!xe){const He=we?null:k;x(He),l(He?{type:"goal",id:He.id,data:He}:{type:null,id:""})}},children:xe?a.jsxs("div",{className:"space-y-4",children:[a.jsxs("div",{children:[a.jsx("label",{className:"text-xs uppercase tracking-[0.2em] text-white/70 mb-2 block",children:"Title *"}),a.jsx("input",{value:Ne.title,onChange:He=>P({...Ne,title:He.target.value}),className:"w-full rounded-2xl border border-white/30 bg-white/10 px-4 py-2 text-white placeholder:text-white/50 focus:outline-none focus:ring-2 focus:ring-white/50"})]}),a.jsxs("div",{children:[a.jsx("label",{className:"text-xs uppercase tracking-[0.2em] text-white/70 mb-2 block",children:"Goal Type"}),a.jsxs("select",{value:Ne.goalType,onChange:He=>P({...Ne,goalType:He.target.value}),className:"w-full rounded-2xl border border-white/30 bg-white/10 px-4 py-2 text-white focus:outline-none focus:ring-2 focus:ring-white/50",children:[a.jsx("option",{value:"small",children:"Small Goal"}),a.jsx("option",{value:"big",children:"Big Goal"})]})]}),a.jsxs("div",{children:[a.jsx("label",{className:"text-xs uppercase tracking-[0.2em] text-white/70 mb-2 block",children:"Description *"}),a.jsx("textarea",{value:Ne.description,onChange:He=>P({...Ne,description:He.target.value}),rows:4,className:"w-full rounded-2xl border border-white/30 bg-white/10 px-4 py-2 text-white placeholder:text-white/50 focus:outline-none focus:ring-2 focus:ring-white/50 resize-none"})]}),a.jsxs("div",{children:[a.jsx("label",{className:"text-xs uppercase tracking-[0.2em] text-white/70 mb-2 block",children:"Metrics"}),a.jsx("input",{value:Ne.metrics,onChange:He=>P({...Ne,metrics:He.target.value}),className:"w-full rounded-2xl border border-white/30 bg-white/10 px-4 py-2 text-white placeholder:text-white/50 focus:outline-none focus:ring-2 focus:ring-white/50"})]}),a.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[a.jsxs("div",{children:[a.jsx("label",{className:"text-xs uppercase tracking-[0.2em] text-white/70 mb-2 block",children:"Scope"}),a.jsxs("select",{value:Ne.scope,onChange:He=>P({...Ne,scope:He.target.value}),className:"w-full rounded-2xl border border-white/30 bg-white/10 px-4 py-2 text-white focus:outline-none focus:ring-2 focus:ring-white/50",children:[a.jsx("option",{value:"personal",children:"Personal"}),a.jsx("option",{value:"professional",children:"Professional"})]})]}),a.jsxs("div",{children:[a.jsx("label",{className:"text-xs uppercase tracking-[0.2em] text-white/70 mb-2 block",children:"Priority"}),a.jsxs("select",{value:Ne.priority,onChange:He=>P({...Ne,priority:He.target.value}),className:"w-full rounded-2xl border border-white/30 bg-white/10 px-4 py-2 text-white focus:outline-none focus:ring-2 focus:ring-white/50",children:[a.jsx("option",{value:"low",children:"Low"}),a.jsx("option",{value:"medium",children:"Medium"}),a.jsx("option",{value:"high",children:"High"})]})]})]}),a.jsxs("div",{className:"flex gap-2",children:[a.jsx("button",{onClick:ve,className:"flex-1 px-4 py-2 rounded-2xl bg-white text-black font-semibold hover:bg-gray-100 transition",children:"Save"}),a.jsx("button",{onClick:()=>{p(null),P({title:"",description:"",goalType:"small",scope:"professional",priority:"medium",metrics:""})},className:"px-4 py-2 rounded-2xl bg-white/20 text-white border border-white/30 hover:bg-white/30 transition",children:"Cancel"})]})]}):a.jsxs(a.Fragment,{children:[a.jsx("div",{className:"flex items-start justify-between mb-4",children:a.jsxs("div",{className:"flex-1",children:[a.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[a.jsx("span",{className:`px-2 py-0.5 rounded-full text-xs font-semibold ${k.goalType==="big"?"bg-purple-100 text-purple-700":"bg-blue-100 text-blue-700"}`,children:k.goalType==="big"?"Big Goal":"Small Goal"}),a.jsx("span",{className:"px-2 py-0.5 rounded-full bg-gray-100 text-gray-700 text-xs",children:k.scope}),a.jsx("span",{className:`px-2 py-0.5 rounded-full text-xs ${k.priority==="high"?"bg-red-100 text-red-700":k.priority==="medium"?"bg-yellow-100 text-yellow-700":"bg-gray-100 text-gray-700"}`,children:k.priority}),Ye>0&&a.jsxs("span",{className:"px-2 py-0.5 rounded-full bg-green-100 text-green-700 text-xs font-semibold",children:[ze,"/",Ye," tasks"]})]}),a.jsx("h3",{className:"text-xl font-bold mb-2",children:k.title})]})}),a.jsx(St,{content:k.description,className:"text-sm mb-3"}),k.metrics&&a.jsxs("p",{className:"text-xs text-secondary-light mb-3",children:[a.jsx("strong",{children:"Metrics:"})," ",k.metrics]}),Ye>0&&a.jsxs("div",{className:"mb-3",children:[a.jsxs("div",{className:"flex items-center justify-between mb-1",children:[a.jsx("span",{className:"text-xs font-semibold text-secondary-light",children:"Progress"}),a.jsxs("span",{className:"text-xs font-semibold",children:[bt.toFixed(0),"%"]})]}),a.jsx("div",{className:"w-full h-2 bg-gray-100 rounded-full overflow-hidden",children:a.jsx("div",{className:"h-full bg-gradient-to-r from-green-400 to-green-600 transition-all",style:{width:`${bt}%`}})})]}),a.jsxs("div",{className:"flex items-center gap-2 pt-4 border-t border-white/20",children:[a.jsxs("div",{className:"flex items-center gap-2 text-xs text-secondary-light",children:[a.jsx(pl,{className:"w-4 h-4"}),a.jsxs("span",{children:[Ye," tasks"]})]}),a.jsxs("div",{className:"flex gap-2 ml-auto",children:[a.jsxs("button",{onClick:He=>{He.stopPropagation(),te(k)},className:"px-3 py-1.5 rounded-full bg-white/80 border border-white/70 text-xs font-medium hover:bg-white transition flex items-center gap-1",children:[a.jsx(Xa,{className:"w-3 h-3"}),"Edit"]}),a.jsxs("button",{onClick:He=>{He.stopPropagation(),De(k.id)},className:"px-3 py-1.5 rounded-full bg-white/80 border border-white/70 text-xs font-medium hover:bg-red-50 hover:border-red-200 hover:text-red-700 transition flex items-center gap-1",children:[a.jsx(rn,{className:"w-3 h-3"}),"Delete"]})]})]})]})},k.id)})})]}),m&&a.jsxs("div",{className:"mb-8",children:[a.jsxs("div",{className:"flex items-center justify-between mb-4",children:[a.jsxs("div",{children:[a.jsxs("h2",{className:"text-2xl font-semibold flex items-center gap-2",children:[a.jsx(ts,{className:"w-6 h-6"}),"Tasks for: ",m.title]}),a.jsx("p",{className:"text-sm text-secondary-light mt-1",children:"High-impact, low-effort tasks generated by Sylvia. Track progress and provide feedback to help her learn."})]}),a.jsxs("div",{className:"flex gap-2",children:[a.jsx("button",{onClick:()=>x(null),className:"px-3 py-1.5 rounded-full bg-white/80 border border-white/70 text-xs font-medium hover:bg-white transition",children:a.jsx(Qt,{className:"w-4 h-4"})}),a.jsx("button",{onClick:Ue,disabled:C,className:"px-4 py-2 rounded-full bg-black text-white text-sm font-medium hover:shadow-lg transition flex items-center gap-2 disabled:opacity-50",children:C?a.jsxs(a.Fragment,{children:[a.jsx($i,{className:"w-4 h-4 animate-spin"}),"Generating..."]}):a.jsxs(a.Fragment,{children:[a.jsx(ts,{className:"w-4 h-4"}),"Generate Tasks"]})})]})]}),E.length===0?a.jsxs("div",{className:"glass-panel rounded-3xl border border-white/70 p-12 text-center",children:[a.jsx("div",{className:"flex justify-center mb-4",children:a.jsx(pl,{className:"w-16 h-16 text-secondary-light"})}),a.jsx("h3",{className:"text-xl font-semibold mb-2",children:"No tasks yet"}),a.jsx("p",{className:"text-secondary-light mb-4",children:'Click "Generate Tasks" to have Sylvia analyze your goal and create 10-12 high-impact, low-effort tasks.'})]}):a.jsx("div",{className:"space-y-4",children:E.map(k=>{const fe=(f==null?void 0:f.id)===k.id,xe=N===k.id;return ee(k.goalId),a.jsx("div",{className:`rounded-3xl border p-6 transition-all ${fe||xe?"border-black bg-black text-white shadow-xl":"border-white/70 bg-white/90 hover:shadow-lg hover:border-white"}`,children:fe||xe?a.jsxs("div",{className:"space-y-4",children:[a.jsx("h3",{className:"text-lg font-semibold mb-4",children:"Task Feedback & Learning"}),a.jsxs("div",{children:[a.jsx("label",{className:"text-xs uppercase tracking-[0.2em] text-white/70 mb-2 block",children:"What happened? (Completion Notes)"}),a.jsx("textarea",{value:ne.completionNotes,onChange:we=>Ae({...ne,completionNotes:we.target.value}),rows:3,placeholder:"Describe what you did, what happened, any challenges...",className:"w-full rounded-2xl border border-white/30 bg-white/10 px-4 py-2 text-white placeholder:text-white/50 focus:outline-none focus:ring-2 focus:ring-white/50 resize-none"})]}),a.jsxs("div",{children:[a.jsx("label",{className:"text-xs uppercase tracking-[0.2em] text-white/70 mb-2 block",children:"Outcome"}),a.jsx("div",{className:"grid grid-cols-4 gap-2",children:["exceeded","met","below","missed"].map(we=>a.jsx("button",{onClick:()=>Ae({...ne,outcome:we}),className:`px-3 py-2 rounded-2xl text-sm font-medium transition ${ne.outcome===we?"bg-white text-black":"bg-white/10 text-white border border-white/30"}`,children:we.charAt(0).toUpperCase()+we.slice(1)},we))})]}),a.jsxs("div",{children:[a.jsx("label",{className:"text-xs uppercase tracking-[0.2em] text-white/70 mb-2 block",children:"Outcome Details"}),a.jsx("textarea",{value:ne.outcomeDetails,onChange:we=>Ae({...ne,outcomeDetails:we.target.value}),rows:2,placeholder:"Explain the outcome in detail...",className:"w-full rounded-2xl border border-white/30 bg-white/10 px-4 py-2 text-white placeholder:text-white/50 focus:outline-none focus:ring-2 focus:ring-white/50 resize-none"})]}),a.jsxs("div",{children:[a.jsx("label",{className:"text-xs uppercase tracking-[0.2em] text-white/70 mb-3 block",children:"Rate This Task (1-100)"}),a.jsx("div",{className:"space-y-3",children:[{key:"taskQuality",label:"Task Quality",desc:"Was this a good task?"},{key:"effortAccuracy",label:"Effort Accuracy",desc:"Was effort estimate accurate?"},{key:"impactAccuracy",label:"Impact Accuracy",desc:"Was impact estimate accurate?"},{key:"clarity",label:"Clarity",desc:"Was the task clear?"},{key:"helpfulness",label:"Helpfulness",desc:"How helpful was this task?"}].map(({key:we,label:ze,desc:Ye})=>a.jsxs("div",{children:[a.jsxs("div",{className:"flex items-center justify-between mb-1",children:[a.jsxs("div",{children:[a.jsx("span",{className:"text-sm font-medium",children:ze}),a.jsx("span",{className:"text-xs text-white/60 ml-2",children:Ye})]}),a.jsx("span",{className:"text-sm font-semibold",children:ne[we]})]}),a.jsx("input",{type:"range",min:"1",max:"100",value:ne[we],onChange:bt=>Ae({...ne,[we]:parseInt(bt.target.value)}),className:"w-full"})]},we))})]}),a.jsxs("div",{children:[a.jsx("label",{className:"text-xs uppercase tracking-[0.2em] text-white/70 mb-2 block",children:"Additional Feedback Notes"}),a.jsx("textarea",{value:ne.feedbackNotes,onChange:we=>Ae({...ne,feedbackNotes:we.target.value}),rows:2,placeholder:"Any other feedback for Sylvia...",className:"w-full rounded-2xl border border-white/30 bg-white/10 px-4 py-2 text-white placeholder:text-white/50 focus:outline-none focus:ring-2 focus:ring-white/50 resize-none"})]}),a.jsxs("div",{children:[a.jsx("label",{className:"text-xs uppercase tracking-[0.2em] text-white/70 mb-2 block",children:"What Worked? (comma-separated)"}),a.jsx("input",{value:ne.whatWorked.join(", "),onChange:we=>Ae({...ne,whatWorked:we.target.value.split(",").map(ze=>ze.trim()).filter(Boolean)}),placeholder:"e.g., Clear instructions, right timing, leveraged existing resources",className:"w-full rounded-2xl border border-white/30 bg-white/10 px-4 py-2 text-white placeholder:text-white/50 focus:outline-none focus:ring-2 focus:ring-white/50"})]}),a.jsxs("div",{children:[a.jsx("label",{className:"text-xs uppercase tracking-[0.2em] text-white/70 mb-2 block",children:"What Didn't Work? (comma-separated)"}),a.jsx("input",{value:ne.whatDidntWork.join(", "),onChange:we=>Ae({...ne,whatDidntWork:we.target.value.split(",").map(ze=>ze.trim()).filter(Boolean)}),placeholder:"e.g., Too vague, wrong approach, missing context",className:"w-full rounded-2xl border border-white/30 bg-white/10 px-4 py-2 text-white placeholder:text-white/50 focus:outline-none focus:ring-2 focus:ring-white/50"})]}),a.jsxs("div",{children:[a.jsx("label",{className:"text-xs uppercase tracking-[0.2em] text-white/70 mb-2 block",children:"Suggestions for Better Tasks"}),a.jsx("textarea",{value:ne.suggestions,onChange:we=>Ae({...ne,suggestions:we.target.value}),rows:2,placeholder:"How could Sylvia generate better tasks next time?",className:"w-full rounded-2xl border border-white/30 bg-white/10 px-4 py-2 text-white placeholder:text-white/50 focus:outline-none focus:ring-2 focus:ring-white/50 resize-none"})]}),a.jsxs("div",{className:"flex gap-2",children:[a.jsx("button",{onClick:q,className:"flex-1 px-4 py-2 rounded-2xl bg-white text-black font-semibold hover:bg-gray-100 transition",children:"Save Feedback"}),a.jsx("button",{onClick:()=>{w(null),b(null)},className:"px-4 py-2 rounded-2xl bg-white/20 text-white border border-white/30 hover:bg-white/30 transition",children:"Cancel"})]})]}):a.jsxs(a.Fragment,{children:[a.jsx("div",{className:"flex items-start justify-between mb-4",children:a.jsxs("div",{className:"flex-1",children:[a.jsxs("div",{className:"flex items-center gap-2 mb-2 flex-wrap",children:[a.jsxs("span",{className:`px-2 py-0.5 rounded-full text-xs font-semibold border flex items-center gap-1 ${ce(k.status)}`,children:[Te(k.status),k.status.replace("-"," ")]}),a.jsxs("span",{className:`px-2 py-0.5 rounded-full text-xs font-semibold border ${T(k.estimatedEffort)}`,children:["Effort: ",k.estimatedEffort.replace("-"," ")]}),a.jsxs("span",{className:`px-2 py-0.5 rounded-full text-xs font-semibold border ${W(k.estimatedImpact)}`,children:["Impact: ",k.estimatedImpact.replace("-"," ")]}),k.completedAt&&a.jsxs("span",{className:"px-2 py-0.5 rounded-full bg-green-50 text-green-700 text-xs border border-green-100 flex items-center gap-1",children:[a.jsx(ln,{className:"w-3 h-3"}),new Date(k.completedAt).toLocaleDateString()]})]}),a.jsx("h4",{className:"text-xl font-bold mb-2",children:k.title})]})}),a.jsx(St,{content:k.description,className:"text-sm mb-3"}),k.rationale&&a.jsxs("div",{className:"mb-3 p-3 rounded-2xl bg-blue-50 border border-blue-100",children:[a.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[a.jsx(pl,{className:"w-4 h-4 text-blue-600"}),a.jsx("span",{className:"text-xs font-semibold text-blue-900 uppercase tracking-[0.1em]",children:"Why This Task?"})]}),a.jsx("p",{className:"text-xs text-blue-700",children:k.rationale})]}),k.completionNotes&&a.jsxs("div",{className:"mb-3 p-3 rounded-2xl bg-green-50 border border-green-100",children:[a.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[a.jsx(Va,{className:"w-4 h-4 text-green-600"}),a.jsx("span",{className:"text-xs font-semibold text-green-900 uppercase tracking-[0.1em]",children:"Completion Notes"})]}),a.jsx("p",{className:"text-xs text-green-700",children:k.completionNotes}),k.outcome&&a.jsxs("div",{className:"mt-2",children:[a.jsx("span",{className:"text-xs font-semibold text-green-900",children:"Outcome: "}),a.jsx("span",{className:"text-xs text-green-700 capitalize",children:k.outcome})]}),k.outcomeDetails&&a.jsx("p",{className:"text-xs text-green-700 mt-1",children:k.outcomeDetails})]}),k.feedback&&a.jsxs("div",{className:"mb-3 p-3 rounded-2xl bg-purple-50 border border-purple-100",children:[a.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[a.jsx(Li,{className:"w-4 h-4 text-purple-600"}),a.jsx("span",{className:"text-xs font-semibold text-purple-900 uppercase tracking-[0.1em]",children:"Feedback Scores"})]}),a.jsxs("div",{className:"grid grid-cols-2 gap-2 text-xs",children:[a.jsxs("div",{children:[a.jsx("span",{className:"text-purple-700",children:"Quality: "}),a.jsxs("span",{className:"font-semibold text-purple-900",children:[k.feedback.taskQuality,"/100"]})]}),a.jsxs("div",{children:[a.jsx("span",{className:"text-purple-700",children:"Effort Accuracy: "}),a.jsxs("span",{className:"font-semibold text-purple-900",children:[k.feedback.effortAccuracy,"/100"]})]}),a.jsxs("div",{children:[a.jsx("span",{className:"text-purple-700",children:"Impact Accuracy: "}),a.jsxs("span",{className:"font-semibold text-purple-900",children:[k.feedback.impactAccuracy,"/100"]})]}),a.jsxs("div",{children:[a.jsx("span",{className:"text-purple-700",children:"Clarity: "}),a.jsxs("span",{className:"font-semibold text-purple-900",children:[k.feedback.clarity,"/100"]})]}),a.jsxs("div",{className:"col-span-2",children:[a.jsx("span",{className:"text-purple-700",children:"Helpfulness: "}),a.jsxs("span",{className:"font-semibold text-purple-900",children:[k.feedback.helpfulness,"/100"]})]})]}),k.feedback.notes&&a.jsx("p",{className:"text-xs text-purple-700 mt-2",children:k.feedback.notes})]}),k.learningData&&a.jsxs("div",{className:"mb-3 p-3 rounded-2xl bg-indigo-50 border border-indigo-100",children:[a.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[a.jsx(Cu,{className:"w-4 h-4 text-indigo-600"}),a.jsx("span",{className:"text-xs font-semibold text-indigo-900 uppercase tracking-[0.1em]",children:"Learning Data"})]}),k.learningData.whatWorked&&k.learningData.whatWorked.length>0&&a.jsxs("div",{className:"mb-2",children:[a.jsx("span",{className:"text-xs font-semibold text-indigo-900",children:"What Worked: "}),a.jsx("span",{className:"text-xs text-indigo-700",children:k.learningData.whatWorked.join(", ")})]}),k.learningData.whatDidntWork&&k.learningData.whatDidntWork.length>0&&a.jsxs("div",{className:"mb-2",children:[a.jsx("span",{className:"text-xs font-semibold text-indigo-900",children:"What Didn't Work: "}),a.jsx("span",{className:"text-xs text-indigo-700",children:k.learningData.whatDidntWork.join(", ")})]}),k.learningData.suggestions&&a.jsxs("div",{children:[a.jsx("span",{className:"text-xs font-semibold text-indigo-900",children:"Suggestions: "}),a.jsx("span",{className:"text-xs text-indigo-700",children:k.learningData.suggestions})]})]}),a.jsxs("div",{className:"flex items-center gap-2 pt-4 border-t border-white/20",children:[k.status!=="completed"&&a.jsxs(a.Fragment,{children:[k.status==="pending"&&a.jsxs("button",{onClick:()=>X(k,"in-progress"),className:"px-3 py-1.5 rounded-full bg-blue-50 text-blue-700 text-xs font-medium hover:bg-blue-100 transition flex items-center gap-1 border border-blue-100",children:[a.jsx(Ri,{className:"w-3 h-3"}),"Start"]}),k.status==="in-progress"&&a.jsxs("button",{onClick:()=>j(k),className:"px-3 py-1.5 rounded-full bg-green-50 text-green-700 text-xs font-medium hover:bg-green-100 transition flex items-center gap-1 border border-green-100",children:[a.jsx(Va,{className:"w-3 h-3"}),"Complete & Feedback"]}),a.jsx("button",{onClick:()=>X(k,"skipped"),className:"px-3 py-1.5 rounded-full bg-yellow-50 text-yellow-700 text-xs font-medium hover:bg-yellow-100 transition border border-yellow-100",children:"Skip"}),a.jsx("button",{onClick:()=>X(k,"failed"),className:"px-3 py-1.5 rounded-full bg-red-50 text-red-700 text-xs font-medium hover:bg-red-100 transition border border-red-100",children:"Failed"})]}),k.status==="completed"&&!k.feedback&&a.jsxs("button",{onClick:()=>j(k),className:"px-3 py-1.5 rounded-full bg-purple-50 text-purple-700 text-xs font-medium hover:bg-purple-100 transition flex items-center gap-1 border border-purple-100",children:[a.jsx(No,{className:"w-3 h-3"}),"Add Feedback"]}),k.status==="completed"&&k.feedback&&a.jsxs("button",{onClick:()=>j(k),className:"px-3 py-1.5 rounded-full bg-indigo-50 text-indigo-700 text-xs font-medium hover:bg-indigo-100 transition flex items-center gap-1 border border-indigo-100",children:[a.jsx(Xa,{className:"w-3 h-3"}),"Edit Feedback"]}),a.jsxs("button",{onClick:()=>he(k.id),className:"px-3 py-1.5 rounded-full bg-white/80 border border-white/70 text-xs font-medium hover:bg-red-50 hover:border-red-200 hover:text-red-700 transition flex items-center gap-1 ml-auto",children:[a.jsx(rn,{className:"w-3 h-3"}),"Delete"]})]})]})},k.id)})})]})]})};function hx(l,r,d=.7){const c=l.toLowerCase(),u=r.toLowerCase();return u.includes(c)?!0:ng(c,u)>=d}function ng(l,r){const d=l.length>r.length?l:r,c=l.length>r.length?r:l;if(d.length===0)return 1;const u=jw(d,c);return(d.length-u)/d.length}function jw(l,r){const d=[];for(let c=0;c<=l.length;c++){let u=c;for(let m=0;m<=r.length;m++)if(c===0)d[m]=m;else if(m>0){let x=d[m-1];l.charAt(c-1)!==r.charAt(m-1)&&(x=Math.min(Math.min(x,u),d[m])+1),d[m-1]=u,u=x}c>0&&(d[r.length]=u)}return d[r.length]}function Nw(l){const r=[],d=[],c=[],u=[],m=/"([^"]+)"/g;let x;for(;(x=m.exec(l))!==null;)u.push(x[1]),l=l.replace(x[0],"");const g=l.split(/\s+/).filter(p=>p.trim());for(let p=0;p<g.length;p++){const f=g[p];if(g[p+1],f==="AND"||f==="OR"||f==="NOT")continue;const b=p>0?g[p-1]:null;b==="NOT"||f.startsWith("-")?c.push(f.replace(/^-/,"").toLowerCase()):b==="AND"||f.startsWith("+")?r.push(f.replace(/^\+/,"").toLowerCase()):d.push(f.toLowerCase())}return{required:r,optional:d,excluded:c,exact:u}}function kw(l,r,d=!0){let c=[...l];if(r.types.length>0&&(c=c.filter(u=>r.types.includes(u.type))),r.excludeTypes&&r.excludeTypes.length>0&&(c=c.filter(u=>!r.excludeTypes.includes(u.type))),r.tags.length>0&&(c=c.filter(u=>u.tags&&u.tags.some(m=>r.tags.includes(m)))),r.dateFrom&&(c=c.filter(u=>u.createdAt>=r.dateFrom)),r.dateTo&&(c=c.filter(u=>u.createdAt<=r.dateTo)),r.status&&r.status.length>0&&(c=c.filter(u=>u.status&&r.status.includes(u.status))),r.priority&&r.priority.length>0&&(c=c.filter(u=>u.priority&&r.priority.includes(u.priority))),r.sentiment&&r.sentiment.length>0&&(c=c.filter(u=>u.sentiment&&r.sentiment.includes(u.sentiment))),r.hasRelationships!==void 0&&(c=c.filter(u=>r.hasRelationships?u.relatedIds&&u.relatedIds.length>0:!u.relatedIds||u.relatedIds.length===0)),r.query.trim()){const u=Nw(r.query);c=c.filter(m=>{const x=r.searchIn==="title"?m.title:r.searchIn==="content"?m.content:`${m.title} ${m.content} ${m.type} ${(m.tags||[]).join(" ")}`,g=x.toLowerCase();return u.exact.length>0&&!u.exact.every(f=>g.includes(f.toLowerCase()))||u.required.length>0&&!u.required.every(f=>d?hx(f,x):g.includes(f))||u.excluded.length>0&&u.excluded.some(f=>g.includes(f))?!1:u.optional.length>0?u.optional.some(f=>d?hx(f,x):g.includes(f)):!0})}return c}function Sw(l,r,d){const c=[...l];switch(r){case"relevance":return d&&d.trim()?c.sort((u,m)=>{const x=mx(u,d);return mx(m,d)-x}):c.sort((u,m)=>m.createdAt-u.createdAt);case"date-desc":return c.sort((u,m)=>m.createdAt-u.createdAt);case"date-asc":return c.sort((u,m)=>u.createdAt-m.createdAt);case"title":return c.sort((u,m)=>u.title.localeCompare(m.title));case"type":return c.sort((u,m)=>{const x=u.type.localeCompare(m.type);return x!==0?x:m.createdAt-u.createdAt});default:return c}}function mx(l,r){let d=0;const c=r.toLowerCase(),u=l.title.toLowerCase(),m=l.content.toLowerCase();u===c?d+=100:u.includes(c)&&(d+=50);const x=(m.match(new RegExp(c,"g"))||[]).length;if(d+=x*5,l.tags){const p=l.tags.filter(f=>f.toLowerCase().includes(c)).length;d+=p*10}l.type.toLowerCase().includes(c)&&(d+=15);const g=(Date.now()-l.createdAt)/(1e3*60*60*24);return g<7?d+=10:g<30&&(d+=5),d}function Aw(l,r){const d=new Map;return r==="none"?(d.set("All Results",l),d):(l.forEach(c=>{let u;switch(r){case"type":u=c.type;break;case"date":u=Tw(c.createdAt);break;case"tags":if(c.tags&&c.tags.length>0){c.tags.forEach(m=>{d.has(m)||d.set(m,[]),d.get(m).push(c)});return}else u="Untagged";break;case"status":u=c.status||"No Status";break;case"priority":u=c.priority||"No Priority";break;default:u="Other"}d.has(u)||d.set(u,[]),d.get(u).push(c)}),d)}function Tw(l){const d=Date.now()-l,c=Math.floor(d/(1e3*60*60*24));return c===0?"Today":c===1?"Yesterday":c<7?"This Week":c<30?"This Month":c<90?"Last 3 Months":c<365?"This Year":new Date(l).getFullYear().toString()}function Ew(l){const r=Date.now(),d=r-1440*60*1e3,c=r-10080*60*1e3,u=r-720*60*60*1e3,m=r-365*24*60*60*1e3,x={total:l.length,byType:{},byTimeRange:{today:0,thisWeek:0,thisMonth:0,thisYear:0},byTag:{},averagePerDay:0,mostActiveDay:"",oldestMemory:0,newestMemory:0};if(l.length===0)return x;const g={};let p=1/0,f=0;l.forEach(w=>{x.byType[w.type]=(x.byType[w.type]||0)+1,w.createdAt>=d&&x.byTimeRange.today++,w.createdAt>=c&&x.byTimeRange.thisWeek++,w.createdAt>=u&&x.byTimeRange.thisMonth++,w.createdAt>=m&&x.byTimeRange.thisYear++,w.tags&&w.tags.forEach(L=>{x.byTag[L]=(x.byTag[L]||0)+1});const C=new Date(w.createdAt).toLocaleDateString();g[C]=(g[C]||0)+1,w.createdAt<p&&(p=w.createdAt),w.createdAt>f&&(f=w.createdAt)}),x.oldestMemory=p,x.newestMemory=f;const b=Math.max(1,Math.floor((r-p)/(1e3*60*60*24)));x.averagePerDay=Number((l.length/b).toFixed(2));const N=Object.entries(g).sort((w,C)=>C[1]-w[1])[0];return N&&(x.mostActiveDay=N[0]),x}function Cw(l,r=.85){const d=[],c=new Set;for(let u=0;u<l.length;u++){if(c.has(l[u].id))continue;const m=[];for(let x=u+1;x<l.length;x++){if(c.has(l[x].id))continue;ng(l[u].title.toLowerCase(),l[x].title.toLowerCase())>=r&&(m.push(l[x]),c.add(l[x].id))}m.length>0&&(d.push({memory:l[u],duplicates:m}),c.add(l[u].id))}return d}const Dw=({filters:l,onFiltersChange:r,availableTypes:d,availableTags:c,searchHistory:u,savedSearches:m,onSaveSearch:x,onLoadSearch:g,onDeleteSearch:p})=>{const[f,b]=v.useState(!1),[N,w]=v.useState(!1),[C,L]=v.useState(!1),[R,K]=v.useState(!1),[ie,re]=v.useState(""),be=v.useRef(null),U=[l.types.length>0,l.tags.length>0,l.dateFrom!==void 0,l.dateTo!==void 0,l.excludeTypes&&l.excludeTypes.length>0,l.searchIn!=="all",l.status&&l.status.length>0,l.priority&&l.priority.length>0].filter(Boolean).length,Y=G=>{r({...l,query:G})},O=G=>{const J=l.types.includes(G)?l.types.filter(E=>E!==G):[...l.types,G];r({...l,types:J})},D=G=>{const J=l.tags.includes(G)?l.tags.filter(E=>E!==G):[...l.tags,G];r({...l,tags:J})},oe=G=>{const J=G?new Date(G).getTime():void 0;r({...l,dateFrom:J})},Ne=G=>{const J=G?new Date(G).getTime():void 0;r({...l,dateTo:J})},P=()=>{r({query:"",types:[],tags:[],searchIn:"all",excludeTypes:[]})},ne=()=>{ie.trim()&&(x(ie.trim()),re(""),K(!1))},Ae=[{label:"Today",getValue:()=>({from:new Date().setHours(0,0,0,0),to:Date.now()})},{label:"Last 7 days",getValue:()=>({from:Date.now()-10080*60*1e3,to:Date.now()})},{label:"Last 30 days",getValue:()=>({from:Date.now()-720*60*60*1e3,to:Date.now()})},{label:"Last 90 days",getValue:()=>({from:Date.now()-2160*60*60*1e3,to:Date.now()})}];return a.jsxs("div",{className:"space-y-3",children:[a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsxs("div",{className:"flex-1 relative",children:[a.jsx("input",{ref:be,type:"text",value:l.query,onChange:G=>Y(G.target.value),onFocus:()=>w(!0),onBlur:()=>setTimeout(()=>w(!1),200),placeholder:'Search memories... (Try: "meeting AND john", "project OR idea", -exclude)',className:"w-full rounded-2xl border border-white/70 px-4 py-3 bg-white/80 pr-24 text-sm"}),a.jsxs("div",{className:"absolute right-2 top-1/2 -translate-y-1/2 flex items-center gap-1",children:[l.query&&a.jsx("button",{onClick:()=>Y(""),className:"p-1.5 rounded-lg hover:bg-gray-200 dark:hover:bg-gray-700 transition-colors",title:"Clear search",children:a.jsx("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})})}),a.jsxs("button",{onClick:()=>b(!f),className:`p-1.5 rounded-lg transition-colors ${f||U>0?"bg-indigo-600 text-white":"hover:bg-gray-200 dark:hover:bg-gray-700"}`,title:"Advanced filters",children:[a.jsx("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 6V4m0 2a2 2 0 100 4m0-4a2 2 0 110 4m-6 8a2 2 0 100-4m0 4a2 2 0 110-4m0 4v2m0-6V4m6 6v10m6-2a2 2 0 100-4m0 4a2 2 0 110-4m0 4v2m0-6V4"})}),U>0&&a.jsx("span",{className:"absolute -top-1 -right-1 w-5 h-5 bg-red-500 text-white text-xs rounded-full flex items-center justify-center",children:U})]})]}),N&&u.length>0&&a.jsx("div",{className:"absolute top-full left-0 right-0 mt-1 bg-white dark:bg-gray-800 border border-gray-200 dark:border-gray-700 rounded-2xl shadow-lg z-50 max-h-48 overflow-y-auto",children:a.jsxs("div",{className:"p-2",children:[a.jsx("div",{className:"text-xs uppercase tracking-wider text-gray-500 px-2 py-1",children:"Recent Searches"}),u.slice(0,5).map((G,J)=>a.jsx("button",{onClick:()=>Y(G),className:"w-full text-left px-3 py-2 rounded-lg hover:bg-gray-100 dark:hover:bg-gray-700 text-sm",children:G},J))]})})]}),a.jsx("button",{onClick:()=>L(!C),className:"px-4 py-3 rounded-2xl border border-white/70 bg-white/80 hover:bg-white transition-colors text-sm font-medium",title:"Saved searches",children:a.jsx("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M5 5a2 2 0 012-2h10a2 2 0 012 2v16l-7-3.5L5 21V5z"})})}),a.jsx("button",{onClick:()=>K(!0),className:"px-4 py-3 rounded-2xl border border-white/70 bg-indigo-600 text-white hover:bg-indigo-700 transition-colors text-sm font-medium",title:"Save current search",children:"Save"})]}),(l.types.length>0||l.tags.length>0||l.dateFrom||l.dateTo)&&a.jsxs("div",{className:"flex flex-wrap items-center gap-2",children:[l.types.map(G=>a.jsxs("span",{className:"inline-flex items-center gap-1 px-3 py-1 rounded-full bg-indigo-100 dark:bg-indigo-900 text-indigo-700 dark:text-indigo-300 text-sm",children:["Type: ",G,a.jsx("button",{onClick:()=>O(G),className:"hover:bg-indigo-200 dark:hover:bg-indigo-800 rounded-full p-0.5",children:a.jsx("svg",{className:"w-3 h-3",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})})})]},G)),l.tags.map(G=>a.jsxs("span",{className:"inline-flex items-center gap-1 px-3 py-1 rounded-full bg-emerald-100 dark:bg-emerald-900 text-emerald-700 dark:text-emerald-300 text-sm",children:["Tag: ",G,a.jsx("button",{onClick:()=>D(G),className:"hover:bg-emerald-200 dark:hover:bg-emerald-800 rounded-full p-0.5",children:a.jsx("svg",{className:"w-3 h-3",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})})})]},G)),(l.dateFrom||l.dateTo)&&a.jsxs("span",{className:"inline-flex items-center gap-1 px-3 py-1 rounded-full bg-purple-100 dark:bg-purple-900 text-purple-700 dark:text-purple-300 text-sm",children:["Date range",a.jsx("button",{onClick:()=>r({...l,dateFrom:void 0,dateTo:void 0}),className:"hover:bg-purple-200 dark:hover:bg-purple-800 rounded-full p-0.5",children:a.jsx("svg",{className:"w-3 h-3",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})})})]}),a.jsx("button",{onClick:P,className:"text-sm text-indigo-600 hover:text-indigo-700 font-medium",children:"Clear all"})]}),f&&a.jsxs("div",{className:"glass-panel border border-white/70 rounded-3xl p-6 space-y-6 animate-fade-in",children:[a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium mb-2",children:"Search In"}),a.jsxs("select",{value:l.searchIn,onChange:G=>r({...l,searchIn:G.target.value}),className:"w-full rounded-2xl border border-white/70 px-4 py-2 bg-white/80 text-sm",children:[a.jsx("option",{value:"all",children:"All fields"}),a.jsx("option",{value:"title",children:"Title only"}),a.jsx("option",{value:"content",children:"Content only"})]})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium mb-2",children:"Entity Types"}),a.jsx("div",{className:"flex flex-wrap gap-2",children:d.map(G=>a.jsx("button",{onClick:()=>O(G),className:`px-3 py-1.5 rounded-full text-sm font-medium transition-colors ${l.types.includes(G)?"bg-indigo-600 text-white":"bg-white/80 border border-white/70 hover:bg-white"}`,children:G},G))})]}),c.length>0&&a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium mb-2",children:"Tags"}),a.jsx("div",{className:"flex flex-wrap gap-2",children:c.slice(0,15).map(G=>a.jsx("button",{onClick:()=>D(G),className:`px-3 py-1.5 rounded-full text-sm font-medium transition-colors ${l.tags.includes(G)?"bg-emerald-600 text-white":"bg-white/80 border border-white/70 hover:bg-white"}`,children:G},G))})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium mb-2",children:"Date Range"}),a.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-3",children:[a.jsxs("div",{children:[a.jsx("label",{className:"block text-xs text-gray-600 dark:text-gray-400 mb-1",children:"From"}),a.jsx("input",{type:"date",value:l.dateFrom?new Date(l.dateFrom).toISOString().split("T")[0]:"",onChange:G=>oe(G.target.value),className:"w-full rounded-2xl border border-white/70 px-3 py-2 bg-white/80 text-sm"})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-xs text-gray-600 dark:text-gray-400 mb-1",children:"To"}),a.jsx("input",{type:"date",value:l.dateTo?new Date(l.dateTo).toISOString().split("T")[0]:"",onChange:G=>Ne(G.target.value),className:"w-full rounded-2xl border border-white/70 px-3 py-2 bg-white/80 text-sm"})]})]}),a.jsx("div",{className:"flex flex-wrap gap-2 mt-2",children:Ae.map(G=>a.jsx("button",{onClick:()=>{const{from:J,to:E}=G.getValue();r({...l,dateFrom:J,dateTo:E})},className:"px-3 py-1 rounded-full text-xs bg-white/80 border border-white/70 hover:bg-white transition-colors",children:G.label},G.label))})]})]}),C&&m.length>0&&a.jsxs("div",{className:"glass-panel border border-white/70 rounded-3xl p-4 space-y-2 animate-fade-in",children:[a.jsx("div",{className:"text-sm font-medium mb-2",children:"Saved Searches"}),m.map(G=>a.jsxs("div",{className:"flex items-center justify-between p-3 rounded-2xl bg-white/60 hover:bg-white/80 transition-colors",children:[a.jsx("button",{onClick:()=>g(G),className:"flex-1 text-left font-medium text-sm",children:G.name}),a.jsx("button",{onClick:()=>p(G.id),className:"p-1.5 rounded-lg hover:bg-red-100 dark:hover:bg-red-900 text-red-600 transition-colors",children:a.jsx("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M19 7l-.867 12.142A2 2 0 0116.138 21H7.862a2 2 0 01-1.995-1.858L5 7m5 4v6m4-6v6m1-10V4a1 1 0 00-1-1h-4a1 1 0 00-1 1v3M4 7h16"})})})]},G.id))]}),R&&a.jsx("div",{className:"fixed inset-0 bg-black/50 flex items-center justify-center z-50 p-4",children:a.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-3xl p-6 max-w-md w-full",children:[a.jsx("h3",{className:"text-lg font-semibold mb-4",children:"Save Search"}),a.jsx("input",{type:"text",value:ie,onChange:G=>re(G.target.value),placeholder:"Enter search name...",className:"w-full rounded-2xl border border-gray-300 dark:border-gray-600 px-4 py-3 mb-4",autoFocus:!0,onKeyPress:G=>G.key==="Enter"&&ne()}),a.jsxs("div",{className:"flex gap-3 justify-end",children:[a.jsx("button",{onClick:()=>{K(!1),re("")},className:"px-4 py-2 rounded-2xl border border-gray-300 dark:border-gray-600 hover:bg-gray-100 dark:hover:bg-gray-700 transition-colors",children:"Cancel"}),a.jsx("button",{onClick:ne,disabled:!ie.trim(),className:"px-4 py-2 rounded-2xl bg-indigo-600 text-white hover:bg-indigo-700 transition-colors disabled:opacity-50 disabled:cursor-not-allowed",children:"Save"})]})]})})]})},Mw=({memory:l,view:r,selected:d=!1,onSelect:c,onClick:u,onEdit:m,onDelete:x,onDuplicate:g,onPin:p,isPinned:f=!1,searchQuery:b})=>{const[N,w]=v.useState(!1),C=re=>({"Journal entry":"bg-emerald-100 text-emerald-700","Agenda task":"bg-blue-100 text-blue-700","Calendar event":"bg-purple-100 text-purple-700",Deliverable:"bg-orange-100 text-orange-700","Brand atom":"bg-pink-100 text-pink-700",Person:"bg-cyan-100 text-cyan-700",Concept:"bg-indigo-100 text-indigo-700",Goal:"bg-yellow-100 text-yellow-700",Task:"bg-red-100 text-red-700"})[re]||"bg-gray-100 text-gray-700",L=re=>({"Journal entry":"","Agenda task":"","Calendar event":"",Deliverable:"","Brand atom":"",Person:"",Concept:"",Goal:"",Task:""})[re]||"",R=re=>{if(!b||!b.trim())return re;try{const be=new RegExp(`(${b.replace(/[.*+?^${}()|[\]\\]/g,"\\$&")})`,"gi");return re.split(be).map((Y,O)=>be.test(Y)?a.jsx("mark",{className:"bg-yellow-200 dark:bg-yellow-700 px-0.5",children:Y},O):Y)}catch{return re}},K=re=>{re.target.closest(".actions-menu")||u==null||u(l)},ie=re=>{re.stopPropagation(),c==null||c(l.id,re.target.checked)};return r==="compact"?a.jsxs("div",{className:`flex items-center gap-3 p-3 rounded-2xl border transition-all cursor-pointer ${d?"border-indigo-500 bg-indigo-50 dark:bg-indigo-900/20":"border-white/70 bg-white/85 hover:bg-white hover:shadow-md"}`,onClick:K,children:[c&&a.jsx("input",{type:"checkbox",checked:d,onChange:ie,className:"w-4 h-4 rounded border-gray-300 text-indigo-600 focus:ring-indigo-500"}),a.jsx("span",{className:"text-lg",children:L(l.type)}),a.jsxs("div",{className:"flex-1 min-w-0",children:[a.jsxs("div",{className:"flex items-center gap-2",children:[f&&a.jsx("span",{className:"text-yellow-500",children:""}),a.jsx("h4",{className:"font-semibold text-sm truncate",children:R(l.title||"Untitled")})]}),a.jsx("p",{className:"text-xs text-secondary-light",children:l.type})]}),a.jsx("span",{className:"text-xs text-secondary-light whitespace-nowrap",children:bo(l.createdAt)})]}):r==="grid"?a.jsxs("div",{className:`glass-panel border rounded-3xl p-5 transition-all cursor-pointer relative ${d?"border-indigo-500 bg-indigo-50 dark:bg-indigo-900/20":"border-white/70 hover:shadow-lg hover:border-indigo-300"}`,onClick:K,onMouseEnter:()=>w(!0),onMouseLeave:()=>w(!1),children:[c&&a.jsx("input",{type:"checkbox",checked:d,onChange:ie,className:"absolute top-4 left-4 w-4 h-4 rounded border-gray-300 text-indigo-600 focus:ring-indigo-500 z-10"}),N&&a.jsxs("div",{className:"actions-menu absolute top-4 right-4 flex gap-1 z-10",children:[p&&a.jsx("button",{onClick:re=>{re.stopPropagation(),p(l)},className:`p-1.5 rounded-lg transition-colors ${f?"text-yellow-500 bg-yellow-100":"bg-white/90 hover:bg-white"}`,title:f?"Unpin":"Pin",children:""}),m&&a.jsx("button",{onClick:re=>{re.stopPropagation(),m(l)},className:"p-1.5 rounded-lg bg-white/90 hover:bg-white transition-colors",title:"Edit",children:""}),g&&a.jsx("button",{onClick:re=>{re.stopPropagation(),g(l)},className:"p-1.5 rounded-lg bg-white/90 hover:bg-white transition-colors",title:"Duplicate",children:""}),x&&a.jsx("button",{onClick:re=>{re.stopPropagation(),x(l)},className:"p-1.5 rounded-lg bg-white/90 hover:bg-red-100 text-red-600 transition-colors",title:"Delete",children:""})]}),a.jsxs("div",{className:"flex items-center gap-3 mb-3",children:[a.jsx("span",{className:"text-2xl",children:L(l.type)}),a.jsx("span",{className:`text-xs font-semibold px-2 py-1 rounded-full ${C(l.type)}`,children:l.type}),f&&!N&&a.jsx("span",{className:"text-yellow-500",children:""})]}),a.jsx("h3",{className:"text-lg font-semibold mb-2 line-clamp-2",children:R(l.title||"Untitled")}),a.jsx("div",{className:"text-sm text-secondary line-clamp-3 mb-3",children:R(Y2(l.content,150))}),l.tags&&l.tags.length>0&&a.jsxs("div",{className:"flex flex-wrap gap-1 mb-3",children:[l.tags.slice(0,3).map(re=>a.jsx("span",{className:"inline-block px-2 py-0.5 text-xs rounded-full bg-gray-200 dark:bg-gray-700",children:re},re)),l.tags.length>3&&a.jsxs("span",{className:"inline-block px-2 py-0.5 text-xs rounded-full bg-gray-200 dark:bg-gray-700",children:["+",l.tags.length-3]})]}),a.jsxs("div",{className:"flex items-center justify-between text-xs text-secondary-light pt-3 border-t border-gray-200 dark:border-gray-700",children:[a.jsx("span",{children:bo(l.createdAt)}),l.status&&a.jsx("span",{className:`px-2 py-0.5 rounded-full ${l.status==="done"?"bg-green-100 text-green-700":l.status==="in-progress"?"bg-blue-100 text-blue-700":"bg-gray-100 text-gray-700"}`,children:l.status})]})]}):a.jsx("div",{className:`glass-panel border rounded-3xl p-5 transition-all cursor-pointer relative ${d?"border-indigo-500 bg-indigo-50 dark:bg-indigo-900/20":"border-white/70 hover:shadow-lg hover:border-indigo-300"}`,onClick:K,onMouseEnter:()=>w(!0),onMouseLeave:()=>w(!1),children:a.jsxs("div",{className:"flex items-start gap-4",children:[c&&a.jsx("input",{type:"checkbox",checked:d,onChange:ie,className:"mt-1 w-4 h-4 rounded border-gray-300 text-indigo-600 focus:ring-indigo-500"}),a.jsx("span",{className:"text-3xl flex-shrink-0",children:L(l.type)}),a.jsxs("div",{className:"flex-1 min-w-0",children:[a.jsxs("div",{className:"flex items-center justify-between mb-2",children:[a.jsxs("div",{className:"flex items-center gap-2",children:[f&&a.jsx("span",{className:"text-yellow-500",children:""}),a.jsx("span",{className:`text-xs font-semibold px-2 py-1 rounded-full ${C(l.type)}`,children:l.type})]}),a.jsx("span",{className:"text-xs text-secondary-light",children:bo(l.createdAt)})]}),a.jsx("h3",{className:"text-xl font-semibold mb-2",children:R(l.title||"Untitled")}),a.jsx("div",{className:"text-sm text-secondary mb-3 line-clamp-2",children:R(l.content)}),a.jsxs("div",{className:"flex items-center gap-3",children:[l.tags&&l.tags.length>0&&a.jsxs("div",{className:"flex flex-wrap gap-1",children:[l.tags.slice(0,5).map(re=>a.jsx("span",{className:"inline-block px-2 py-0.5 text-xs rounded-full bg-gray-200 dark:bg-gray-700",children:re},re)),l.tags.length>5&&a.jsxs("span",{className:"inline-block px-2 py-0.5 text-xs rounded-full bg-gray-200 dark:bg-gray-700",children:["+",l.tags.length-5]})]}),l.status&&a.jsx("span",{className:`px-2 py-1 rounded-full text-xs font-medium ${l.status==="done"?"bg-green-100 text-green-700":l.status==="in-progress"?"bg-blue-100 text-blue-700":"bg-gray-100 text-gray-700"}`,children:l.status}),l.priority&&a.jsx("span",{className:`px-2 py-1 rounded-full text-xs font-medium ${l.priority==="high"?"bg-red-100 text-red-700":l.priority==="medium"?"bg-yellow-100 text-yellow-700":"bg-green-100 text-green-700"}`,children:l.priority})]})]}),N&&a.jsxs("div",{className:"actions-menu flex flex-col gap-1",children:[p&&a.jsx("button",{onClick:re=>{re.stopPropagation(),p(l)},className:`p-1.5 rounded-lg transition-colors ${f?"text-yellow-500 bg-yellow-100":"bg-white/90 hover:bg-white"}`,title:f?"Unpin":"Pin",children:""}),m&&a.jsx("button",{onClick:re=>{re.stopPropagation(),m(l)},className:"p-1.5 rounded-lg bg-white/90 hover:bg-white transition-colors",title:"Edit",children:""}),g&&a.jsx("button",{onClick:re=>{re.stopPropagation(),g(l)},className:"p-1.5 rounded-lg bg-white/90 hover:bg-white transition-colors",title:"Duplicate",children:""}),x&&a.jsx("button",{onClick:re=>{re.stopPropagation(),x(l)},className:"p-1.5 rounded-lg bg-white/90 hover:bg-red-100 text-red-600 transition-colors",title:"Delete",children:""})]})]})})},_w=({memories:l,onMemoryClick:r,searchQuery:d})=>{const c=v.useMemo(()=>{const p=[],f=[...l].sort((N,w)=>w.createdAt-N.createdAt);let b=null;return f.forEach(N=>{const w=new Date(N.createdAt),C=w.toLocaleDateString("en-US",{year:"numeric",month:"long",day:"numeric"});(!b||b.label!==C)&&(b={label:C,date:w,memories:[]},p.push(b)),b.memories.push(N)}),p},[l]),u=p=>({"Journal entry":"bg-emerald-500","Agenda task":"bg-blue-500","Calendar event":"bg-purple-500",Deliverable:"bg-orange-500","Brand atom":"bg-pink-500",Person:"bg-cyan-500",Concept:"bg-indigo-500",Goal:"bg-yellow-500",Task:"bg-red-500"})[p]||"bg-gray-500",m=p=>({"Journal entry":"","Agenda task":"","Calendar event":"",Deliverable:"","Brand atom":"",Person:"",Concept:"",Goal:"",Task:""})[p]||"",x=p=>!d||!d.trim()?p:p.split(new RegExp(`(${d})`,"gi")).map((b,N)=>b.toLowerCase()===d.toLowerCase()?a.jsx("mark",{className:"bg-yellow-200 dark:bg-yellow-700",children:b},N):b),g=(p,f)=>{const b=new Date,N=new Date(b.getFullYear(),b.getMonth(),b.getDate()),w=new Date(N);w.setDate(w.getDate()-1);const C=new Date(f.getFullYear(),f.getMonth(),f.getDate());if(C.getTime()===N.getTime())return" Today";if(C.getTime()===w.getTime())return" Yesterday";const L=Math.floor((N.getTime()-C.getTime())/(1e3*60*60*24));return L<7?` ${L} days ago`:p};return l.length===0?a.jsx("div",{className:"text-center py-12 text-secondary-light",children:a.jsx("p",{className:"text-lg",children:"No memories to display"})}):a.jsxs("div",{className:"relative",children:[a.jsx("div",{className:"absolute left-8 top-0 bottom-0 w-0.5 bg-gradient-to-b from-indigo-500 via-purple-500 to-pink-500 opacity-30"}),a.jsx("div",{className:"space-y-8",children:c.map((p,f)=>a.jsxs("div",{className:"relative",children:[a.jsxs("div",{className:"flex items-center gap-4 mb-4",children:[a.jsx("div",{className:"relative z-10 flex items-center justify-center w-16 h-16 rounded-full bg-gradient-to-br from-indigo-500 to-purple-600 text-white shadow-lg",children:a.jsxs("div",{className:"text-center",children:[a.jsx("div",{className:"text-xs font-semibold",children:p.date.toLocaleDateString("en-US",{month:"short"})}),a.jsx("div",{className:"text-2xl font-bold leading-none",children:p.date.getDate()})]})}),a.jsxs("div",{children:[a.jsx("h3",{className:"text-lg font-semibold",children:g(p.label,p.date)}),a.jsxs("p",{className:"text-sm text-secondary-light",children:[p.memories.length," ",p.memories.length===1?"memory":"memories"]})]})]}),a.jsx("div",{className:"ml-24 space-y-3",children:p.memories.map((b,N)=>a.jsxs("div",{className:"relative group cursor-pointer",onClick:()=>r==null?void 0:r(b),children:[a.jsx("div",{className:"absolute -left-16 top-6 w-12 h-0.5 bg-gray-300 dark:bg-gray-600 group-hover:bg-indigo-500 transition-colors"}),a.jsx("div",{className:"glass-panel border border-white/70 rounded-3xl p-5 hover:shadow-lg hover:border-indigo-300 transition-all",children:a.jsxs("div",{className:"flex items-start gap-4",children:[a.jsx("div",{className:`flex-shrink-0 w-10 h-10 rounded-full ${u(b.type)} flex items-center justify-center text-white text-lg shadow-md`,children:m(b.type)}),a.jsxs("div",{className:"flex-1 min-w-0",children:[a.jsxs("div",{className:"flex items-center justify-between mb-1",children:[a.jsx("span",{className:"inline-block px-2 py-1 text-xs font-semibold rounded-full bg-indigo-100 dark:bg-indigo-900 text-indigo-700 dark:text-indigo-300 uppercase tracking-wider",children:b.type}),a.jsx("span",{className:"text-xs text-secondary-light",children:new Date(b.createdAt).toLocaleTimeString("en-US",{hour:"numeric",minute:"2-digit"})})]}),a.jsx("h4",{className:"text-lg font-semibold text-primary mb-1",children:x(b.title||"Untitled")}),a.jsx("p",{className:"text-sm text-secondary line-clamp-2",children:x(b.content)}),b.tags&&b.tags.length>0&&a.jsxs("div",{className:"flex flex-wrap gap-1 mt-2",children:[b.tags.slice(0,3).map(w=>a.jsx("span",{className:"inline-block px-2 py-0.5 text-xs rounded-full bg-gray-200 dark:bg-gray-700 text-gray-700 dark:text-gray-300",children:w},w)),b.tags.length>3&&a.jsxs("span",{className:"inline-block px-2 py-0.5 text-xs rounded-full bg-gray-200 dark:bg-gray-700 text-gray-700 dark:text-gray-300",children:["+",b.tags.length-3]})]}),a.jsxs("div",{className:"flex items-center gap-2 mt-2 text-xs",children:[b.status&&a.jsxs("span",{className:"inline-flex items-center gap-1 px-2 py-0.5 rounded-full bg-blue-100 dark:bg-blue-900 text-blue-700 dark:text-blue-300",children:[a.jsx("span",{className:"w-1.5 h-1.5 rounded-full bg-blue-600"}),b.status]}),b.priority&&a.jsx("span",{className:`inline-flex items-center px-2 py-0.5 rounded-full ${b.priority==="high"?"bg-red-100 dark:bg-red-900 text-red-700 dark:text-red-300":b.priority==="medium"?"bg-yellow-100 dark:bg-yellow-900 text-yellow-700 dark:text-yellow-300":"bg-green-100 dark:bg-green-900 text-green-700 dark:text-green-300"}`,children:b.priority})]})]})]})})]},b.id))})]},f))})]})},Rw=({memories:l,onFilterByType:r,onFilterByTag:d})=>{const c=v.useMemo(()=>Ew(l),[l]),u=v.useMemo(()=>Object.entries(c.byType).sort((g,p)=>p[1]-g[1]).slice(0,5),[c.byType]),m=v.useMemo(()=>Object.entries(c.byTag).sort((g,p)=>p[1]-g[1]).slice(0,10),[c.byTag]),x=g=>new Date(g).toLocaleDateString("en-US",{year:"numeric",month:"short",day:"numeric"});return a.jsxs("div",{className:"space-y-6",children:[a.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-4 gap-4",children:[a.jsxs("div",{className:"glass-panel border border-white/70 rounded-3xl p-5",children:[a.jsx("div",{className:"text-sm uppercase tracking-[0.3em] text-secondary-light mb-2",children:"Total Memories"}),a.jsx("div",{className:"text-3xl font-bold text-primary",children:c.total})]}),a.jsxs("div",{className:"glass-panel border border-white/70 rounded-3xl p-5",children:[a.jsx("div",{className:"text-sm uppercase tracking-[0.3em] text-secondary-light mb-2",children:"Today"}),a.jsx("div",{className:"text-3xl font-bold text-indigo-600",children:c.byTimeRange.today}),a.jsxs("div",{className:"text-xs text-secondary-light mt-1",children:[c.byTimeRange.thisWeek," this week"]})]}),a.jsxs("div",{className:"glass-panel border border-white/70 rounded-3xl p-5",children:[a.jsx("div",{className:"text-sm uppercase tracking-[0.3em] text-secondary-light mb-2",children:"Avg/Day"}),a.jsx("div",{className:"text-3xl font-bold text-emerald-600",children:c.averagePerDay}),a.jsxs("div",{className:"text-xs text-secondary-light mt-1",children:[c.byTimeRange.thisMonth," this month"]})]}),a.jsxs("div",{className:"glass-panel border border-white/70 rounded-3xl p-5",children:[a.jsx("div",{className:"text-sm uppercase tracking-[0.3em] text-secondary-light mb-2",children:"Most Active"}),a.jsx("div",{className:"text-sm font-semibold text-primary mt-2",children:c.mostActiveDay||"No data"})]})]}),a.jsxs("div",{className:"glass-panel border border-white/70 rounded-3xl p-6",children:[a.jsx("h3",{className:"text-lg font-semibold mb-4",children:"Activity by Time Range"}),a.jsx("div",{className:"space-y-3",children:[{label:"Today",count:c.byTimeRange.today,max:c.total},{label:"This Week",count:c.byTimeRange.thisWeek,max:c.total},{label:"This Month",count:c.byTimeRange.thisMonth,max:c.total},{label:"This Year",count:c.byTimeRange.thisYear,max:c.total}].map(g=>a.jsxs("div",{children:[a.jsxs("div",{className:"flex items-center justify-between mb-1",children:[a.jsx("span",{className:"text-sm font-medium",children:g.label}),a.jsxs("span",{className:"text-sm text-secondary-light",children:[g.count," (",Math.round(g.count/g.max*100),"%)"]})]}),a.jsx("div",{className:"w-full bg-gray-200 dark:bg-gray-700 rounded-full h-2",children:a.jsx("div",{className:"bg-indigo-600 h-2 rounded-full transition-all",style:{width:`${g.count/g.max*100}%`}})})]},g.label))})]}),u.length>0&&a.jsxs("div",{className:"glass-panel border border-white/70 rounded-3xl p-6",children:[a.jsx("h3",{className:"text-lg font-semibold mb-4",children:"Top Memory Types"}),a.jsx("div",{className:"space-y-2",children:u.map(([g,p])=>a.jsxs("button",{onClick:()=>r==null?void 0:r(g),className:"w-full flex items-center justify-between p-3 rounded-2xl bg-white/60 hover:bg-white/80 transition-colors border border-white/70 text-left",children:[a.jsx("span",{className:"font-medium",children:g}),a.jsxs("div",{className:"flex items-center gap-3",children:[a.jsxs("span",{className:"text-sm text-secondary-light",children:[p," (",Math.round(p/c.total*100),"%)"]}),a.jsx("div",{className:"w-16 bg-gray-200 dark:bg-gray-700 rounded-full h-2",children:a.jsx("div",{className:"bg-indigo-600 h-2 rounded-full",style:{width:`${p/c.total*100}%`}})})]})]},g))})]}),m.length>0&&a.jsxs("div",{className:"glass-panel border border-white/70 rounded-3xl p-6",children:[a.jsx("h3",{className:"text-lg font-semibold mb-4",children:"Most Used Tags"}),a.jsx("div",{className:"flex flex-wrap gap-2",children:m.map(([g,p])=>a.jsxs("button",{onClick:()=>d==null?void 0:d(g),className:"inline-flex items-center gap-2 px-4 py-2 rounded-full bg-indigo-100 dark:bg-indigo-900 text-indigo-700 dark:text-indigo-300 hover:bg-indigo-200 dark:hover:bg-indigo-800 transition-colors text-sm font-medium",children:[a.jsx("span",{children:g}),a.jsx("span",{className:"px-2 py-0.5 rounded-full bg-indigo-200 dark:bg-indigo-800 text-xs",children:p})]},g))})]}),c.oldestMemory>0&&c.newestMemory>0&&a.jsxs("div",{className:"glass-panel border border-white/70 rounded-3xl p-6",children:[a.jsx("h3",{className:"text-lg font-semibold mb-4",children:"Memory Timeline"}),a.jsxs("div",{className:"space-y-3 text-sm",children:[a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsx("span",{className:"text-secondary-light",children:"Oldest Memory"}),a.jsx("span",{className:"font-medium",children:x(c.oldestMemory)})]}),a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsx("span",{className:"text-secondary-light",children:"Newest Memory"}),a.jsx("span",{className:"font-medium",children:x(c.newestMemory)})]}),a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsx("span",{className:"text-secondary-light",children:"Time Span"}),a.jsxs("span",{className:"font-medium",children:[Math.floor((c.newestMemory-c.oldestMemory)/(1e3*60*60*24))," days"]})]})]})]}),a.jsxs("div",{className:"glass-panel border border-white/70 rounded-3xl p-6",children:[a.jsx("h3",{className:"text-lg font-semibold mb-4",children:"Type Distribution"}),a.jsx("div",{className:"space-y-2",children:Object.entries(c.byType).sort((g,p)=>p[1]-g[1]).map(([g,p])=>a.jsxs("div",{children:[a.jsxs("div",{className:"flex items-center justify-between mb-1",children:[a.jsx("span",{className:"text-sm",children:g}),a.jsxs("span",{className:"text-xs text-secondary-light",children:[p," / ",c.total]})]}),a.jsx("div",{className:"w-full bg-gray-200 dark:bg-gray-700 rounded-full h-1.5",children:a.jsx("div",{className:"bg-gradient-to-r from-indigo-500 to-purple-500 h-1.5 rounded-full transition-all",style:{width:`${p/c.total*100}%`}})})]},g))})]})]})},Ow=({memories:l,onDateClick:r})=>{const d=v.useMemo(()=>{const p=new Date,f=new Date(p);f.setFullYear(p.getFullYear()-1);const b=new Map;l.forEach(C=>{const L=new Date(C.createdAt);if(L>=f){const R=L.toISOString().split("T")[0];b.has(R)||b.set(R,[]),b.get(R).push(C)}});const N=[],w=new Date(f);for(;w<=p;){const C=w.toISOString().split("T")[0],L=b.get(C)||[];N.push({date:new Date(w),count:L.length,memories:L}),w.setDate(w.getDate()+1)}return N},[l]),c=v.useMemo(()=>Math.max(...d.map(p=>p.count),1),[d]),u=p=>{if(p===0)return"bg-gray-100 dark:bg-gray-800";const f=p/c;return f>=.75?"bg-indigo-600 dark:bg-indigo-500":f>=.5?"bg-indigo-400 dark:bg-indigo-400":f>=.25?"bg-indigo-300 dark:bg-indigo-300":"bg-indigo-200 dark:bg-indigo-200"},m=v.useMemo(()=>{const p=[];let f=[];const b=d[0];if(b){const N=b.date.getDay();for(let w=0;w<N;w++)f.push({date:new Date(0),count:-1,memories:[]})}if(d.forEach((N,w)=>{f.push(N),f.length===7&&(p.push(f),f=[])}),f.length>0){for(;f.length<7;)f.push({date:new Date(0),count:-1,memories:[]});p.push(f)}return p},[d]),x=v.useMemo(()=>{const p=[];let f=-1;return m.forEach((b,N)=>{const w=b.find(C=>C.count>=0);if(w){const C=w.date.getMonth();C!==f&&(f=C,p.push({month:w.date.toLocaleDateString("en-US",{month:"short"}),weekIndex:N}))}}),p},[m]),g=["Sun","Mon","Tue","Wed","Thu","Fri","Sat"];return a.jsxs("div",{className:"glass-panel border border-white/70 rounded-3xl p-6",children:[a.jsx("h3",{className:"text-lg font-semibold mb-4",children:"Activity Heatmap"}),a.jsx("div",{className:"overflow-x-auto",children:a.jsxs("div",{className:"inline-flex flex-col gap-1",style:{minWidth:"800px"},children:[a.jsxs("div",{className:"flex gap-1 mb-1",children:[a.jsx("div",{style:{width:"30px"}}),x.map((p,f)=>{var b;return a.jsx("div",{className:"text-xs text-gray-600 dark:text-gray-400",style:{marginLeft:f===0?0:`${(p.weekIndex-(((b=x[f-1])==null?void 0:b.weekIndex)||0))*14}px`,width:"40px"},children:p.month},f)})]}),a.jsxs("div",{className:"flex gap-1",children:[a.jsx("div",{className:"flex flex-col gap-1",children:[0,1,2,3,4,5,6].map(p=>a.jsx("div",{className:"text-xs text-gray-600 dark:text-gray-400 flex items-center justify-end",style:{width:"30px",height:"12px"},children:p%2===1?g[p]:""},p))}),m.map((p,f)=>a.jsx("div",{className:"flex flex-col gap-1",children:p.map((b,N)=>b.count===-1?a.jsx("div",{className:"w-3 h-3",style:{width:"12px",height:"12px"}},N):a.jsx("div",{className:`w-3 h-3 rounded-sm cursor-pointer transition-all hover:ring-2 hover:ring-indigo-500 ${u(b.count)}`,style:{width:"12px",height:"12px"},title:`${b.date.toLocaleDateString()}: ${b.count} ${b.count===1?"memory":"memories"}`,onClick:()=>r==null?void 0:r(b.date,b.count)},N))},f))]}),a.jsxs("div",{className:"flex items-center gap-2 mt-3 text-xs text-gray-600 dark:text-gray-400",children:[a.jsx("span",{children:"Less"}),a.jsxs("div",{className:"flex gap-1",children:[a.jsx("div",{className:"w-3 h-3 rounded-sm bg-gray-100 dark:bg-gray-800",style:{width:"12px",height:"12px"}}),a.jsx("div",{className:"w-3 h-3 rounded-sm bg-indigo-200 dark:bg-indigo-200",style:{width:"12px",height:"12px"}}),a.jsx("div",{className:"w-3 h-3 rounded-sm bg-indigo-300 dark:bg-indigo-300",style:{width:"12px",height:"12px"}}),a.jsx("div",{className:"w-3 h-3 rounded-sm bg-indigo-400 dark:bg-indigo-400",style:{width:"12px",height:"12px"}}),a.jsx("div",{className:"w-3 h-3 rounded-sm bg-indigo-600 dark:bg-indigo-500",style:{width:"12px",height:"12px"}})]}),a.jsx("span",{children:"More"})]})]})}),a.jsx("div",{className:"mt-4 text-sm text-gray-600 dark:text-gray-400",children:a.jsxs("p",{children:[a.jsx("strong",{children:d.filter(p=>p.count>0).length})," active days in the past year"]})})]})};function lg(l,r){const d={exportDate:new Date().toISOString(),totalRecords:l.length,memories:l.map(u=>({...u,createdAtISO:new Date(u.createdAt).toISOString(),updatedAtISO:u.updatedAt?new Date(u.updatedAt).toISOString():void 0}))},c=new Blob([JSON.stringify(d,null,2)],{type:"application/json"});Oo(c,`memory-export-${Date.now()}.json`)}function ig(l,r){const d=["ID","Type","Title","Content","Created At","Updated At","Tags","Status","Priority"],c=l.map(x=>[x.id,x.type,fx(x.title),fx(x.content),new Date(x.createdAt).toISOString(),x.updatedAt?new Date(x.updatedAt).toISOString():"",(x.tags||[]).join("; "),x.status||"",x.priority||""]),u=[d.join(","),...c.map(x=>x.join(","))].join(`
`),m=new Blob([u],{type:"text/csv;charset=utf-8;"});Oo(m,`memory-export-${Date.now()}.csv`)}function fx(l){return l?/[",\n\r]/.test(l)?`"${l.replace(/"/g,'""')}"`:l:""}function rg(l,r){const d=["# Memory Export","",`**Export Date:** ${new Date().toLocaleDateString()}`,`**Total Records:** ${l.length}`,"","---",""];l.forEach((u,m)=>{d.push(`## ${m+1}. ${u.title}`),d.push(""),d.push(`- **Type:** ${u.type}`),d.push(`- **Created:** ${new Date(u.createdAt).toLocaleString()}`),u.updatedAt&&d.push(`- **Updated:** ${new Date(u.updatedAt).toLocaleString()}`),u.tags&&u.tags.length>0&&d.push(`- **Tags:** ${u.tags.join(", ")}`),u.status&&d.push(`- **Status:** ${u.status}`),u.priority&&d.push(`- **Priority:** ${u.priority}`),d.push(""),d.push("### Content"),d.push(""),d.push(u.content),d.push(""),d.push("---"),d.push("")});const c=new Blob([d.join(`
`)],{type:"text/markdown;charset=utf-8;"});Oo(c,`memory-export-${Date.now()}.md`)}function og(l,r){const d=`<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <title>Memory Export</title>
  <style>
    body {
      font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
      max-width: 900px;
      margin: 0 auto;
      padding: 40px 20px;
      line-height: 1.6;
      color: #333;
    }
    h1 {
      color: #1a1a1a;
      border-bottom: 3px solid #4f46e5;
      padding-bottom: 10px;
    }
    .export-info {
      background: #f3f4f6;
      padding: 15px;
      border-radius: 8px;
      margin: 20px 0;
    }
    .memory-card {
      background: white;
      border: 1px solid #e5e7eb;
      border-radius: 8px;
      padding: 20px;
      margin: 20px 0;
      box-shadow: 0 1px 3px rgba(0,0,0,0.1);
      page-break-inside: avoid;
    }
    .memory-header {
      border-bottom: 1px solid #e5e7eb;
      padding-bottom: 10px;
      margin-bottom: 15px;
    }
    .memory-title {
      font-size: 1.5em;
      font-weight: 600;
      color: #1a1a1a;
      margin: 0 0 10px 0;
    }
    .memory-meta {
      display: flex;
      flex-wrap: wrap;
      gap: 15px;
      font-size: 0.9em;
      color: #6b7280;
    }
    .memory-meta-item {
      display: flex;
      align-items: center;
      gap: 5px;
    }
    .memory-meta-label {
      font-weight: 600;
    }
    .memory-content {
      white-space: pre-wrap;
      word-wrap: break-word;
      font-size: 0.95em;
    }
    .tag {
      display: inline-block;
      background: #dbeafe;
      color: #1e40af;
      padding: 3px 10px;
      border-radius: 12px;
      font-size: 0.85em;
      margin-right: 5px;
    }
    @media print {
      body {
        padding: 20px;
      }
      .memory-card {
        box-shadow: none;
        border: 1px solid #ddd;
      }
    }
  </style>
</head>
<body>
  <h1>Memory Export</h1>
  <div class="export-info">
    <p><strong>Export Date:</strong> ${new Date().toLocaleString()}</p>
    <p><strong>Total Records:</strong> ${l.length}</p>
  </div>

  ${l.map((u,m)=>`
    <div class="memory-card">
      <div class="memory-header">
        <h2 class="memory-title">${m+1}. ${ml(u.title)}</h2>
        <div class="memory-meta">
          <div class="memory-meta-item">
            <span class="memory-meta-label">Type:</span>
            <span>${ml(u.type)}</span>
          </div>
          <div class="memory-meta-item">
            <span class="memory-meta-label">Created:</span>
            <span>${new Date(u.createdAt).toLocaleString()}</span>
          </div>
          ${u.updatedAt?`
          <div class="memory-meta-item">
            <span class="memory-meta-label">Updated:</span>
            <span>${new Date(u.updatedAt).toLocaleString()}</span>
          </div>
          `:""}
          ${u.status?`
          <div class="memory-meta-item">
            <span class="memory-meta-label">Status:</span>
            <span>${ml(u.status)}</span>
          </div>
          `:""}
          ${u.priority?`
          <div class="memory-meta-item">
            <span class="memory-meta-label">Priority:</span>
            <span>${ml(u.priority)}</span>
          </div>
          `:""}
        </div>
        ${u.tags&&u.tags.length>0?`
        <div style="margin-top: 10px;">
          ${u.tags.map(x=>`<span class="tag">${ml(x)}</span>`).join("")}
        </div>
        `:""}
      </div>
      <div class="memory-content">
        ${ml(u.content)}
      </div>
    </div>
  `).join("")}
</body>
</html>`,c=new Blob([d],{type:"text/html;charset=utf-8;"});Oo(c,`memory-export-${Date.now()}.html`)}function ml(l){return l?l.replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;").replace(/'/g,"&#039;"):""}function Oo(l,r){const d=URL.createObjectURL(l),c=document.createElement("a");c.href=d,c.download=r,document.body.appendChild(c),c.click(),document.body.removeChild(c),URL.revokeObjectURL(d)}async function zw(l){const r=l.map(d=>{const c=[`${d.title}`,`Type: ${d.type}`,`Created: ${new Date(d.createdAt).toLocaleString()}`];return d.tags&&d.tags.length>0&&c.push(`Tags: ${d.tags.join(", ")}`),c.push(`
${d.content}`),c.join(`
`)}).join(`

---

`);try{return await navigator.clipboard.writeText(r),!0}catch(d){return console.error("Failed to copy to clipboard:",d),!1}}const Lw=({selectedMemories:l,totalCount:r,onSelectAll:d,onDeselectAll:c,onDelete:u,onExport:m,onTag:x,onArchive:g})=>{const[p,f]=v.useState(!1),{success:b,error:N}=Eo(),w=l.length,C=async R=>{try{switch(R){case"json":lg(l);break;case"csv":ig(l);break;case"markdown":rg(l);break;case"pdf":og(l);break}b(`Exported ${w} ${w===1?"memory":"memories"} as ${R.toUpperCase()}`),f(!1)}catch{N("Failed to export memories")}},L=async()=>{await zw(l)?b(`Copied ${w} ${w===1?"memory":"memories"} to clipboard`):N("Failed to copy to clipboard")};return w===0?null:a.jsxs("div",{className:"sticky top-0 z-40 glass-panel border border-indigo-500 rounded-3xl p-4 shadow-lg animate-slide-in-down",children:[a.jsxs("div",{className:"flex items-center justify-between gap-4 flex-wrap",children:[a.jsxs("div",{className:"flex items-center gap-3",children:[a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx("div",{className:"w-10 h-10 rounded-full bg-indigo-600 flex items-center justify-center text-white font-bold",children:w}),a.jsxs("div",{children:[a.jsxs("div",{className:"text-sm font-semibold",children:[w," ",w===1?"memory":"memories"," selected"]}),a.jsx("button",{onClick:c,className:"text-xs text-indigo-600 hover:text-indigo-700 font-medium",children:"Clear selection"})]})]}),w<r&&a.jsxs("button",{onClick:d,className:"text-sm text-indigo-600 hover:text-indigo-700 font-medium px-3 py-1 rounded-full hover:bg-indigo-50 transition-colors",children:["Select all ",r]})]}),a.jsxs("div",{className:"flex items-center gap-2 flex-wrap",children:[a.jsxs("div",{className:"relative",children:[a.jsxs("button",{onClick:()=>f(!p),className:"px-4 py-2 rounded-2xl border border-white/70 bg-white/90 hover:bg-white transition-colors text-sm font-medium flex items-center gap-2",children:[a.jsx("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 10v6m0 0l-3-3m3 3l3-3m2 8H7a2 2 0 01-2-2V5a2 2 0 012-2h5.586a1 1 0 01.707.293l5.414 5.414a1 1 0 01.293.707V19a2 2 0 01-2 2z"})}),"Export"]}),p&&a.jsxs(a.Fragment,{children:[a.jsx("div",{className:"fixed inset-0 z-40",onClick:()=>f(!1)}),a.jsxs("div",{className:"absolute top-full right-0 mt-2 bg-white dark:bg-gray-800 border border-gray-200 dark:border-gray-700 rounded-2xl shadow-lg z-50 overflow-hidden min-w-[180px]",children:[a.jsxs("button",{onClick:()=>C("json"),className:"w-full text-left px-4 py-3 hover:bg-gray-100 dark:hover:bg-gray-700 text-sm font-medium flex items-center gap-2",children:[a.jsx("span",{children:""})," Export as JSON"]}),a.jsxs("button",{onClick:()=>C("csv"),className:"w-full text-left px-4 py-3 hover:bg-gray-100 dark:hover:bg-gray-700 text-sm font-medium flex items-center gap-2",children:[a.jsx("span",{children:""})," Export as CSV"]}),a.jsxs("button",{onClick:()=>C("markdown"),className:"w-full text-left px-4 py-3 hover:bg-gray-100 dark:hover:bg-gray-700 text-sm font-medium flex items-center gap-2",children:[a.jsx("span",{children:""})," Export as Markdown"]}),a.jsxs("button",{onClick:()=>C("pdf"),className:"w-full text-left px-4 py-3 hover:bg-gray-100 dark:hover:bg-gray-700 text-sm font-medium flex items-center gap-2",children:[a.jsx("span",{children:""})," Export as PDF (HTML)"]}),a.jsx("div",{className:"border-t border-gray-200 dark:border-gray-700"}),a.jsxs("button",{onClick:L,className:"w-full text-left px-4 py-3 hover:bg-gray-100 dark:hover:bg-gray-700 text-sm font-medium flex items-center gap-2",children:[a.jsx("span",{children:""})," Copy to Clipboard"]})]})]})]}),a.jsxs("button",{onClick:x,className:"px-4 py-2 rounded-2xl border border-white/70 bg-white/90 hover:bg-white transition-colors text-sm font-medium flex items-center gap-2",title:"Add tags",children:[a.jsx("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M7 7h.01M7 3h5c.512 0 1.024.195 1.414.586l7 7a2 2 0 010 2.828l-7 7a2 2 0 01-2.828 0l-7-7A1.994 1.994 0 013 12V7a4 4 0 014-4z"})}),"Tag"]}),g&&a.jsxs("button",{onClick:g,className:"px-4 py-2 rounded-2xl border border-white/70 bg-white/90 hover:bg-white transition-colors text-sm font-medium flex items-center gap-2",title:"Archive",children:[a.jsx("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M5 8h14M5 8a2 2 0 110-4h14a2 2 0 110 4M5 8v10a2 2 0 002 2h10a2 2 0 002-2V8m-9 4h4"})}),"Archive"]}),a.jsxs("button",{onClick:u,className:"px-4 py-2 rounded-2xl border border-red-300 bg-red-50 hover:bg-red-100 text-red-700 transition-colors text-sm font-medium flex items-center gap-2",title:"Delete selected",children:[a.jsx("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M19 7l-.867 12.142A2 2 0 0116.138 21H7.862a2 2 0 01-1.995-1.858L5 7m5 4v6m4-6v6m1-10V4a1 1 0 00-1-1h-4a1 1 0 00-1 1v3M4 7h16"})}),"Delete"]})]})]}),a.jsx("div",{className:"flex items-center gap-6 mt-3 text-xs text-gray-600 dark:text-gray-400",children:(()=>{const R=new Set(l.map(ie=>ie.type)),K=new Set(l.flatMap(ie=>ie.tags||[]));return a.jsxs(a.Fragment,{children:[a.jsxs("span",{children:[R.size," type",R.size!==1?"s":""]}),K.size>0&&a.jsxs("span",{children:[K.size," unique tag",K.size!==1?"s":""]}),a.jsxs("span",{children:["Created:"," ",new Date(Math.min(...l.map(ie=>ie.createdAt))).toLocaleDateString()," ","-"," ",new Date(Math.max(...l.map(ie=>ie.createdAt))).toLocaleDateString()]})]})})()})]})},$w=({icon:l,title:r,description:d,action:c,variant:u="default"})=>{const m=()=>{switch(u){case"search":return a.jsx(ss,{className:"w-16 h-16 text-secondary-light"});case"error":return a.jsx(e1,{className:"w-16 h-16 text-secondary-light"});default:return a.jsx(h1,{className:"w-16 h-16 text-secondary-light"})}};return a.jsxs("div",{className:"flex flex-col items-center justify-center py-16 px-4 text-center",children:[a.jsx("div",{className:"mb-6 opacity-60",children:l||m()}),a.jsx("h3",{className:"text-xl font-semibold text-primary-light mb-2",children:r}),d&&a.jsx("p",{className:"text-sm text-secondary-light max-w-md mb-6",children:d}),c&&a.jsx("button",{onClick:c.onClick,className:"px-6 py-3 rounded-2xl bg-gradient-to-r from-purple-600 to-indigo-600 text-white font-medium hover:from-purple-700 hover:to-indigo-700 transition-all shadow-lg hover:shadow-xl transform hover:scale-105",children:c.label})]})},Uw=()=>{const[l,r]=v.useState([]),[d,c]=v.useState(!0),[u,m]=v.useState({query:"",types:[],tags:[],searchIn:"all",excludeTypes:[]}),[x,g]=v.useState([]),[p,f]=v.useState([]),[b,N]=v.useState("list"),[w,C]=v.useState("date-desc"),[L,R]=v.useState("none"),[K,ie]=v.useState(!1),[re,be]=v.useState(!1),[U,Y]=v.useState(!1),[O,D]=v.useState(new Set),[oe,Ne]=v.useState(new Set),[P,ne]=v.useState(1),Ae=50,{success:G,error:J}=Eo();v.useEffect(()=>{z(),E()},[]);const E=async()=>{try{const de=localStorage.getItem("memory-search-history");de&&g(JSON.parse(de));const ke=localStorage.getItem("memory-saved-searches");ke&&f(JSON.parse(ke));const S=localStorage.getItem("memory-pinned");S&&Ne(new Set(JSON.parse(S)))}catch(de){console.error("Failed to load settings:",de)}},z=async()=>{c(!0);try{const[de,ke,S,pe,Ee,Me,ge,Ze,qe]=await Promise.all([I.getJournalEntries(),I.getAgendaItems(),I.getCalendarEvents(),I.getDeliverables(),I.getBrandRecords(),I.getPeopleRecords(),I.getConceptRecords(),I.getGoalRecords(),I.getVendorTasks()]),Q=[...de.map(ae=>({id:ae.id,type:"Journal entry",title:ae.title,content:ae.content,createdAt:ae.createdAt,tags:ae.tags,sentiment:ae.sentiment,metadata:ae.metadata,entityData:ae})),...ke.map(ae=>({id:ae.id,type:"Agenda task",title:ae.title,content:ae.description||"",createdAt:ae.createdAt,status:ae.status,priority:ae.priority,tags:ae.tags,entityData:ae})),...S.map(ae=>({id:ae.id,type:"Calendar event",title:ae.title,content:ae.description||"",createdAt:ae.startAt,updatedAt:ae.updatedAt,tags:ae.tags,entityData:ae})),...pe.map(ae=>({id:ae.id,type:"Deliverable",title:ae.title,content:`${ae.description}

Guardrails: ${ae.guardrails}
Success: ${ae.successCriteria}`,createdAt:ae.createdAt,priority:ae.priority,tags:ae.tags,entityData:ae})),...Ee.map(ae=>({id:ae.id,type:"Brand atom",title:ae.name,content:ae.description,createdAt:ae.createdAt,entityData:ae})),...Me.map(ae=>{var Xe;return{id:ae.id,type:"Person",title:ae.name,content:`${ae.role||""}
${ae.notes||""}`,createdAt:ae.createdAt,updatedAt:ae.updatedAt,tags:ae.tags,relatedIds:(Xe=ae.connections)==null?void 0:Xe.map(Ct=>Ct.personId),entityData:ae}}),...ge.map(ae=>({id:ae.id,type:"Concept",title:ae.name,content:ae.description||"",createdAt:ae.createdAt,updatedAt:ae.updatedAt,tags:ae.tags,relatedIds:ae.relatedConcepts,entityData:ae})),...Ze.map(ae=>({id:ae.id,type:"Goal",title:ae.title,content:ae.description,createdAt:ae.createdAt,updatedAt:ae.updatedAt,priority:ae.priority,entityData:ae})),...qe.map(ae=>({id:ae.id,type:"Task",title:ae.title,content:ae.description,createdAt:ae.createdAt,updatedAt:ae.updatedAt,status:ae.status,priority:ae.estimatedImpact==="very-high"||ae.estimatedImpact==="high"?"high":ae.estimatedImpact==="medium"?"medium":"low",entityData:ae}))];r(Q)}catch(de){console.error("Failed to load memories:",de),J("Failed to load memories")}finally{c(!1)}};v.useEffect(()=>{if(u.query.trim()&&u.query.length>2){const de=[u.query,...x.filter(ke=>ke!==u.query)].slice(0,10);g(de),localStorage.setItem("memory-search-history",JSON.stringify(de))}},[u.query]),v.useEffect(()=>{localStorage.setItem("memory-pinned",JSON.stringify(Array.from(oe)))},[oe]);const te=v.useMemo(()=>Array.from(new Set(l.map(de=>de.type))).sort(),[l]),ve=v.useMemo(()=>{const de=l.flatMap(ke=>ke.tags||[]);return Array.from(new Set(de)).sort()},[l]),De=v.useMemo(()=>{let de=kw(l,u,!0);return de=Sw(de,w,u.query),de},[l,u,w]),Ue=v.useMemo(()=>{const de=De.filter(pe=>oe.has(pe.id)),ke=De.filter(pe=>!oe.has(pe.id));if(L==="none")return new Map([["All Results",[...de,...ke]]]);const S=Aw(ke,L);if(de.length>0){const pe=new Map;return pe.set(" Pinned",de),S.forEach((Ee,Me)=>pe.set(Me,Ee)),pe}return S},[De,L,oe]),j=v.useMemo(()=>{const de=new Map;let ke=0;const S=(P-1)*Ae,pe=S+Ae;for(const[Ee,Me]of Ue.entries()){const ge=[];for(const Ze of Me)if(ke>=S&&ke<pe&&ge.push(Ze),ke++,ke>=pe)break;if(ge.length>0&&de.set(Ee,ge),ke>=pe)break}return de},[Ue,P,Ae]),q=Math.ceil(De.length/Ae),X=v.useMemo(()=>U?Cw(l,.85):[],[l,U]),he=v.useCallback(de=>{const ke={id:`search-${Date.now()}`,name:de,filters:{...u},sort:w,groupBy:L,createdAt:Date.now()},S=[...p,ke];f(S),localStorage.setItem("memory-saved-searches",JSON.stringify(S)),G("Search saved successfully!")},[u,w,L,p,G]),ee=v.useCallback(de=>{m(de.filters),C(de.sort),R(de.groupBy),G(`Loaded search: ${de.name}`)},[G]),T=v.useCallback(de=>{const ke=p.filter(S=>S.id!==de);f(ke),localStorage.setItem("memory-saved-searches",JSON.stringify(ke)),G("Search deleted")},[p,G]),W=v.useCallback((de,ke)=>{D(S=>{const pe=new Set(S);return ke?pe.add(de):pe.delete(de),pe})},[]),ce=v.useCallback(()=>{D(new Set(De.map(de=>de.id)))},[De]),Te=v.useCallback(()=>{D(new Set)},[]),k=v.useCallback(de=>{Ne(ke=>{const S=new Set(ke);return S.has(de.id)?(S.delete(de.id),G("Unpinned")):(S.add(de.id),G("Pinned to top")),S})},[G]),fe=v.useCallback(()=>{O.size!==0&&confirm(`Delete ${O.size} ${O.size===1?"memory":"memories"}?`)&&(G(`Deleted ${O.size} ${O.size===1?"memory":"memories"}`),D(new Set),z())},[O,G]),xe=v.useCallback(de=>{const ke=l.filter(S=>O.has(S.id));switch(de){case"json":lg(ke);break;case"csv":ig(ke);break;case"markdown":rg(ke);break;case"pdf":og(ke);break}G(`Exported ${ke.length} ${ke.length===1?"memory":"memories"}`)},[l,O,G]),we=v.useCallback(()=>{const de=prompt("Enter tag name to add to selected memories:");!de||!de.trim()||(G(`Tagged ${O.size} ${O.size===1?"memory":"memories"} with "${de}"`),D(new Set))},[O,G]),ze=v.useCallback(de=>{m(ke=>({...ke,types:[de]})),ie(!1)},[]),Ye=v.useCallback(de=>{m(ke=>({...ke,tags:[de]})),ie(!1)},[]),bt=v.useCallback((de,ke)=>{if(ke===0)return;const S=new Date(de).setHours(0,0,0,0),pe=new Date(de).setHours(23,59,59,999);m(Ee=>({...Ee,dateFrom:S,dateTo:pe})),be(!1),G(`Showing ${ke} ${ke===1?"memory":"memories"} from ${de.toLocaleDateString()}`)},[G]);v.useEffect(()=>{const de=ke=>{var S;if((ke.metaKey||ke.ctrlKey)&&ke.key==="a"&&!ke.shiftKey){const pe=document.activeElement;(pe==null?void 0:pe.tagName)!=="INPUT"&&(pe==null?void 0:pe.tagName)!=="TEXTAREA"&&(ke.preventDefault(),ce())}if(ke.key==="Escape"&&Te(),ke.key==="/"&&((S=document.activeElement)==null?void 0:S.tagName)!=="INPUT"){ke.preventDefault();const pe=document.querySelector('input[type="text"]');pe==null||pe.focus()}};return document.addEventListener("keydown",de),()=>document.removeEventListener("keydown",de)},[ce,Te]);const He=v.useMemo(()=>l.filter(de=>O.has(de.id)),[l,O]);return a.jsx(Wt,{title:"Memory Search",subtitle:"Search, analyze, and manage all your memories across every surface",children:a.jsxs("div",{className:"space-y-6",children:[a.jsx(Dw,{filters:u,onFiltersChange:m,availableTypes:te,availableTags:ve,searchHistory:x,savedSearches:p,onSaveSearch:he,onLoadSearch:ee,onDeleteSearch:T}),O.size>0&&a.jsx(Lw,{selectedMemories:He,totalCount:De.length,onSelectAll:ce,onDeselectAll:Te,onDelete:fe,onExport:xe,onTag:we}),a.jsxs("div",{className:"flex items-center justify-between gap-4 flex-wrap",children:[a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx("div",{className:"flex items-center gap-1 bg-white/80 border border-white/70 rounded-2xl p-1",children:["list","grid","timeline","compact"].map(de=>a.jsxs("button",{onClick:()=>N(de),className:`px-3 py-1.5 rounded-xl text-sm font-medium transition-colors ${b===de?"bg-indigo-600 text-white":"hover:bg-white/60"}`,title:`${de.charAt(0).toUpperCase()+de.slice(1)} view`,children:[de==="list"&&"",de==="grid"&&"",de==="timeline"&&"",de==="compact"&&"",a.jsx("span",{className:"ml-1 hidden sm:inline",children:de.charAt(0).toUpperCase()+de.slice(1)})]},de))}),a.jsxs("select",{value:w,onChange:de=>C(de.target.value),className:"px-3 py-2 rounded-2xl border border-white/70 bg-white/80 text-sm font-medium",children:[a.jsx("option",{value:"relevance",children:"Relevance"}),a.jsx("option",{value:"date-desc",children:"Newest First"}),a.jsx("option",{value:"date-asc",children:"Oldest First"}),a.jsx("option",{value:"title",children:"Title A-Z"}),a.jsx("option",{value:"type",children:"Type"})]}),a.jsxs("select",{value:L,onChange:de=>R(de.target.value),className:"px-3 py-2 rounded-2xl border border-white/70 bg-white/80 text-sm font-medium",children:[a.jsx("option",{value:"none",children:"No Grouping"}),a.jsx("option",{value:"type",children:"Group by Type"}),a.jsx("option",{value:"date",children:"Group by Date"}),a.jsx("option",{value:"tags",children:"Group by Tags"}),a.jsx("option",{value:"status",children:"Group by Status"}),a.jsx("option",{value:"priority",children:"Group by Priority"})]})]}),a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx("button",{onClick:()=>ie(!K),className:`px-4 py-2 rounded-2xl border transition-colors text-sm font-medium ${K?"border-indigo-500 bg-indigo-600 text-white":"border-white/70 bg-white/80 hover:bg-white"}`,children:" Analytics"}),a.jsx("button",{onClick:()=>be(!re),className:`px-4 py-2 rounded-2xl border transition-colors text-sm font-medium ${re?"border-indigo-500 bg-indigo-600 text-white":"border-white/70 bg-white/80 hover:bg-white"}`,children:" Heatmap"}),a.jsxs("button",{onClick:()=>Y(!U),className:`px-4 py-2 rounded-2xl border transition-colors text-sm font-medium ${U?"border-indigo-500 bg-indigo-600 text-white":"border-white/70 bg-white/80 hover:bg-white"}`,children:[" Duplicates ",X.length>0&&`(${X.length})`]}),a.jsx("button",{onClick:z,className:"px-4 py-2 rounded-2xl border border-white/70 bg-white/80 hover:bg-white transition-colors text-sm font-medium",title:"Refresh",children:""})]})]}),a.jsxs("div",{className:"flex items-center justify-between text-sm text-secondary-light",children:[a.jsx("span",{children:De.length===l.length?`${l.length} total ${l.length===1?"memory":"memories"}`:`${De.length} of ${l.length} ${l.length===1?"memory":"memories"}`}),q>1&&a.jsxs("span",{children:["Page ",P," of ",q]})]}),K&&a.jsx(Rw,{memories:De,onFilterByType:ze,onFilterByTag:Ye}),re&&a.jsx(Ow,{memories:l,onDateClick:bt}),U&&X.length>0&&a.jsxs("div",{className:"glass-panel border border-orange-300 rounded-3xl p-6",children:[a.jsxs("h3",{className:"text-lg font-semibold mb-4",children:[" Potential Duplicates (",X.length," groups)"]}),a.jsx("div",{className:"space-y-4",children:X.slice(0,10).map((de,ke)=>a.jsxs("div",{className:"border-l-4 border-orange-500 pl-4",children:[a.jsx("div",{className:"font-medium mb-2",children:de.memory.title}),a.jsxs("div",{className:"text-sm text-secondary-light",children:["Similar to ",de.duplicates.length," ",de.duplicates.length===1?"other memory":"other memories",":"]}),a.jsx("ul",{className:"mt-2 space-y-1",children:de.duplicates.map(S=>a.jsxs("li",{className:"text-sm",children:[" ",S.title," (",S.type,")"]},S.id))})]},ke))})]}),d?a.jsx("div",{className:"space-y-3",children:[1,2,3,4,5].map(de=>a.jsx("div",{className:"skeleton h-32 rounded-3xl"},de))}):De.length===0?a.jsx($w,{icon:"",title:"No memories found",description:u.query||u.types.length>0||u.tags.length>0?"Try adjusting your search filters":"Start creating memories to see them here"}):b==="timeline"?a.jsx(_w,{memories:De,searchQuery:u.query}):a.jsx("div",{className:"space-y-6",children:Array.from(j.entries()).map(([de,ke])=>a.jsxs("div",{children:[L!=="none"&&a.jsxs("h3",{className:"text-lg font-semibold mb-3",children:[de," (",ke.length,")"]}),a.jsx("div",{className:`space-y-3 ${b==="grid"?"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-4":""}`,children:ke.map(S=>a.jsx(Mw,{memory:S,view:b,selected:O.has(S.id),onSelect:W,isPinned:oe.has(S.id),onPin:k,searchQuery:u.query},S.id))})]},de))}),q>1&&a.jsxs("div",{className:"flex items-center justify-center gap-2 mt-8",children:[a.jsx("button",{onClick:()=>ne(de=>Math.max(1,de-1)),disabled:P===1,className:"px-4 py-2 rounded-2xl border border-white/70 bg-white/80 hover:bg-white disabled:opacity-50 disabled:cursor-not-allowed transition-colors text-sm font-medium",children:"Previous"}),a.jsx("div",{className:"flex items-center gap-1",children:Array.from({length:Math.min(5,q)},(de,ke)=>{let S;return q<=5||P<=3?S=ke+1:P>=q-2?S=q-4+ke:S=P-2+ke,a.jsx("button",{onClick:()=>ne(S),className:`w-10 h-10 rounded-xl text-sm font-medium transition-colors ${P===S?"bg-indigo-600 text-white":"border border-white/70 bg-white/80 hover:bg-white"}`,children:S},S)})}),a.jsx("button",{onClick:()=>ne(de=>Math.min(q,de+1)),disabled:P===q,className:"px-4 py-2 rounded-2xl border border-white/70 bg-white/80 hover:bg-white disabled:opacity-50 disabled:cursor-not-allowed transition-colors text-sm font-medium",children:"Next"})]}),a.jsxs("div",{className:"glass-panel border border-white/70 rounded-3xl p-4 text-sm text-secondary-light",children:[a.jsx("strong",{children:" Pro Tips:"})," ","Use ",a.jsx("kbd",{className:"px-2 py-0.5 bg-gray-200 dark:bg-gray-700 rounded",children:"Cmd/Ctrl+A"})," to select all,"," ",a.jsx("kbd",{className:"px-2 py-0.5 bg-gray-200 dark:bg-gray-700 rounded",children:"Esc"})," to deselect,"," ",a.jsx("kbd",{className:"px-2 py-0.5 bg-gray-200 dark:bg-gray-700 rounded",children:"/"})," to focus search."," ","Search supports boolean operators: ",a.jsx("code",{children:"meeting AND john"}),", ",a.jsx("code",{children:"project OR idea"}),", ",a.jsx("code",{children:"-exclude"}),", ",a.jsx("code",{children:'"exact phrase"'}),"."]})]})})},Bw=()=>{const{entityDetailView:l,setEntityDetailView:r,setActiveEntity:d,setActiveView:c}=as(),[u,m]=v.useState(null),[x,g]=v.useState(!0),[p,f]=v.useState(!1),[b,N]=v.useState(""),[w,C]=v.useState(""),[L,R]=v.useState(""),[K,ie]=v.useState(""),[re,be]=v.useState(""),[U,Y]=v.useState(""),O=v.useCallback(async()=>{if(!l.type||!l.id){g(!1);return}try{let P=null;switch(l.type){case"person":P=(await I.getPeopleRecords()).find(ve=>ve.id===l.id);break;case"brand":P=(await I.getBrandRecords()).find(ve=>ve.id===l.id);break;case"concept":P=(await I.getConceptRecords()).find(ve=>ve.id===l.id);break;case"journal":P=(await I.getJournalEntries()).find(ve=>ve.id===l.id);break;case"calendar":P=(await I.getCalendarEvents()).find(ve=>ve.id===l.id);break;case"goal":P=(await I.getGoals()).find(ve=>ve.id===l.id);break;case"task":P=(await I.getVendorTasks()).find(ve=>ve.id===l.id);break}P&&(m(P),d({type:l.type,id:l.id,data:P}),l.type==="brand"?(N(P.name),C(P.description||""),R(P.content||""),ie(P.notes||"")):l.type==="concept"&&(N(P.name),C(P.description||""),be(P.category||""),Y((P.tags||[]).join(", ")),ie(P.notes||"")))}catch(P){console.error("Failed to load entity:",P)}finally{g(!1)}},[l,d]),D=async()=>{if(u)try{l.type==="brand"?await I.saveBrandRecord({...u,name:b,description:w,content:L,notes:K,updatedAt:Date.now()}):l.type==="concept"&&await I.saveConceptRecord({...u,name:b,description:w,category:re,tags:U.split(",").map(P=>P.trim()).filter(Boolean),notes:K,updatedAt:Date.now()}),f(!1),await O()}catch(P){console.error("Failed to save:",P)}},oe=()=>{f(!1),u&&(l.type==="brand"?(N(u.name),C(u.description||""),R(u.content||""),ie(u.notes||"")):l.type==="concept"&&(N(u.name),C(u.description||""),be(u.category||""),Y((u.tags||[]).join(", ")),ie(u.notes||"")))};v.useEffect(()=>{O()},[O]);const Ne=()=>{switch(l.type){case"person":c(Ge.PEOPLE);break;case"brand":c(Ge.BRAND);break;case"concept":c(Ge.CONCEPTS);break;case"journal":c(Ge.JOURNAL);break;case"calendar":c(Ge.CALENDAR);break;case"goal":case"task":c(Ge.POLARIS);break}r({type:null,id:""}),d({type:null,id:""})};if(x)return a.jsx(Wt,{title:"Loading...",children:a.jsx("div",{className:"flex items-center justify-center h-64",children:a.jsx("p",{className:"text-secondary-light",children:"Loading..."})})});if(!u)return a.jsx(Wt,{title:"Not Found",children:a.jsxs("div",{className:"flex items-center justify-center h-64",children:[a.jsx("p",{className:"text-secondary-light",children:"Entity not found"}),a.jsx("button",{onClick:Ne,className:"ml-4 px-4 py-2 rounded-full bg-black text-white",children:"Go Back"})]})});if(l.type==="person"){const P=u;return a.jsx(Wt,{title:P.name,subtitle:"Person Profile",children:a.jsxs("div",{className:"space-y-6",children:[a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("button",{onClick:Ne,className:"flex items-center gap-2 px-4 py-2 rounded-full bg-white/80 border border-white/70 hover:bg-white transition",children:[a.jsx(Pd,{className:"w-4 h-4"}),"Back to People"]}),a.jsx("div",{className:"flex gap-2",children:a.jsxs("button",{onClick:()=>f(!p),className:"px-4 py-2 rounded-full bg-white/80 border border-white/70 hover:bg-white transition flex items-center gap-2",children:[a.jsx(Xa,{className:"w-4 h-4"}),"Edit"]})})]}),a.jsxs("div",{className:"glass-panel rounded-3xl border border-white/70 p-8 space-y-6",children:[a.jsxs("div",{className:"grid grid-cols-2 gap-6",children:[P.role&&a.jsxs("div",{children:[a.jsx("h3",{className:"text-xs uppercase tracking-[0.3em] text-secondary-light mb-2",children:"Role"}),a.jsx("p",{className:"text-lg",children:P.role})]}),P.company&&a.jsxs("div",{children:[a.jsx("h3",{className:"text-xs uppercase tracking-[0.3em] text-secondary-light mb-2",children:"Company"}),a.jsx("p",{className:"text-lg",children:P.company})]}),P.location&&a.jsxs("div",{children:[a.jsx("h3",{className:"text-xs uppercase tracking-[0.3em] text-secondary-light mb-2",children:"Location"}),a.jsx("p",{className:"text-lg",children:P.location})]}),P.email&&a.jsxs("div",{children:[a.jsx("h3",{className:"text-xs uppercase tracking-[0.3em] text-secondary-light mb-2",children:"Email"}),a.jsx("p",{className:"text-lg",children:P.email})]}),P.phone&&a.jsxs("div",{children:[a.jsx("h3",{className:"text-xs uppercase tracking-[0.3em] text-secondary-light mb-2",children:"Phone"}),a.jsx("p",{className:"text-lg",children:P.phone})]})]}),P.attributes&&P.attributes.length>0&&a.jsxs("div",{children:[a.jsx("h3",{className:"text-xs uppercase tracking-[0.3em] text-secondary-light mb-2",children:"Attributes"}),a.jsx("div",{className:"flex flex-wrap gap-2",children:P.attributes.map(ne=>a.jsx("span",{className:"px-3 py-1 rounded-full bg-purple-100 text-purple-700 text-sm",children:ne},ne))})]}),P.tags&&P.tags.length>0&&a.jsxs("div",{children:[a.jsx("h3",{className:"text-xs uppercase tracking-[0.3em] text-secondary-light mb-2",children:"Tags"}),a.jsx("div",{className:"flex flex-wrap gap-2",children:P.tags.map(ne=>a.jsx("span",{className:"px-3 py-1 rounded-full bg-blue-100 text-blue-700 text-sm",children:ne},ne))})]}),P.profile&&a.jsxs("div",{children:[a.jsx("h3",{className:"text-xs uppercase tracking-[0.3em] text-secondary-light mb-2",children:"Profile"}),a.jsx("div",{className:"prose max-w-none",children:a.jsx(St,{content:P.profile})})]}),P.notes&&a.jsxs("div",{children:[a.jsx("h3",{className:"text-xs uppercase tracking-[0.3em] text-secondary-light mb-2",children:"Notes"}),a.jsx("div",{className:"prose max-w-none",children:a.jsx(St,{content:P.notes})})]}),P.connections&&P.connections.length>0&&a.jsxs("div",{children:[a.jsx("h3",{className:"text-xs uppercase tracking-[0.3em] text-secondary-light mb-2",children:"Connections"}),a.jsx("div",{className:"space-y-2",children:P.connections.map((ne,Ae)=>a.jsxs("div",{className:"p-3 rounded-xl bg-gray-50 border border-gray-100",children:[a.jsx("p",{className:"font-medium",children:ne.relationship}),ne.notes&&a.jsx("div",{className:"text-sm text-gray-600 mt-1",children:a.jsx(St,{content:ne.notes})})]},Ae))})]})]})]})})}if(l.type==="brand"){const P=u;return a.jsx(Wt,{title:P.name,subtitle:"Brand Element",children:a.jsxs("div",{className:"space-y-6",children:[a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("button",{onClick:Ne,className:"flex items-center gap-2 px-4 py-2 rounded-full bg-white/80 border border-white/70 hover:bg-white transition",children:[a.jsx(Pd,{className:"w-4 h-4"}),"Back to Brand"]}),a.jsx("div",{className:"flex gap-2",children:a.jsxs("button",{onClick:()=>f(!p),className:"px-4 py-2 rounded-full bg-white/80 border border-white/70 hover:bg-white transition flex items-center gap-2",children:[a.jsx(Xa,{className:"w-4 h-4"}),p?"Cancel":"Edit"]})})]}),a.jsxs("div",{className:"glass-panel rounded-3xl border border-white/70 p-8 space-y-6",children:[P.description&&a.jsxs("div",{children:[a.jsx("h3",{className:"text-xs uppercase tracking-[0.3em] text-secondary-light mb-2",children:"Description / Guidance"}),a.jsx("div",{className:"prose max-w-none",children:a.jsx(St,{content:P.description})})]}),P.content&&a.jsxs("div",{children:[a.jsx("h3",{className:"text-xs uppercase tracking-[0.3em] text-secondary-light mb-2",children:"Content"}),a.jsx("div",{className:"prose max-w-none",children:a.jsx(St,{content:P.content})})]}),P.notes&&a.jsxs("div",{children:[a.jsx("h3",{className:"text-xs uppercase tracking-[0.3em] text-secondary-light mb-2",children:"Notes"}),a.jsx("div",{className:"prose max-w-none",children:a.jsx(St,{content:P.notes})})]}),!P.description&&!P.content&&!P.notes&&a.jsx("p",{className:"text-sm text-secondary-light",children:"No content available. Click Edit to add information."})]}),p&&a.jsxs("div",{className:"glass-panel rounded-3xl border border-white/70 p-8 space-y-6 bg-white/95 backdrop-blur-sm shadow-xl",children:[a.jsxs("div",{children:[a.jsx("label",{className:"text-xs uppercase tracking-[0.2em] text-secondary-light mb-2 block",children:"Element Name"}),a.jsx("input",{value:b,onChange:ne=>N(ne.target.value),className:"w-full rounded-2xl border border-white/70 bg-white/80 px-4 py-2 text-primary-light placeholder:text-secondary-light focus:outline-none focus:ring-2 focus:ring-black/20 focus:border-black/30",placeholder:"Brand element name"})]}),a.jsxs("div",{children:[a.jsx("label",{className:"text-xs uppercase tracking-[0.2em] text-secondary-light mb-2 block",children:"Description / Guidance"}),a.jsx("textarea",{value:w,onChange:ne=>C(ne.target.value),rows:6,className:"w-full rounded-2xl border border-white/70 bg-white/80 px-4 py-2 text-primary-light placeholder:text-secondary-light focus:outline-none focus:ring-2 focus:ring-black/20 focus:border-black/30 resize-none",placeholder:"How should Sylvia reference this? What makes it unique?"})]}),a.jsxs("div",{children:[a.jsx("label",{className:"text-xs uppercase tracking-[0.2em] text-secondary-light mb-2 block",children:"Content"}),a.jsx("textarea",{value:L,onChange:ne=>R(ne.target.value),rows:8,className:"w-full rounded-2xl border border-white/70 bg-white/80 px-4 py-2 text-primary-light placeholder:text-secondary-light focus:outline-none focus:ring-2 focus:ring-black/20 focus:border-black/30 resize-none",placeholder:"Full content or notes"})]}),a.jsxs("div",{children:[a.jsx("label",{className:"text-xs uppercase tracking-[0.2em] text-secondary-light mb-2 block",children:"Notes"}),a.jsx("textarea",{value:K,onChange:ne=>ie(ne.target.value),rows:4,className:"w-full rounded-2xl border border-white/70 bg-white/80 px-4 py-2 text-primary-light placeholder:text-secondary-light focus:outline-none focus:ring-2 focus:ring-black/20 focus:border-black/30 resize-none",placeholder:"Additional notes"})]}),a.jsxs("div",{className:"flex gap-2",children:[a.jsx("button",{onClick:D,className:"flex-1 px-4 py-2 rounded-2xl bg-black text-white font-semibold hover:bg-gray-800 transition",children:"Save"}),a.jsx("button",{onClick:oe,className:"px-4 py-2 rounded-2xl bg-white/80 border border-white/70 text-primary-light hover:bg-white transition",children:"Cancel"})]})]})]})})}if(l.type==="concept"){const P=u;return a.jsx(Wt,{title:P.name,subtitle:"Concept",children:a.jsxs("div",{className:"space-y-6",children:[a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("button",{onClick:Ne,className:"flex items-center gap-2 px-4 py-2 rounded-full bg-white/80 border border-white/70 hover:bg-white transition",children:[a.jsx(Pd,{className:"w-4 h-4"}),"Back to Concepts"]}),a.jsx("div",{className:"flex gap-2",children:a.jsxs("button",{onClick:()=>f(!p),className:"px-4 py-2 rounded-full bg-white/80 border border-white/70 hover:bg-white transition flex items-center gap-2",children:[a.jsx(Xa,{className:"w-4 h-4"}),p?"Cancel":"Edit"]})})]}),a.jsxs("div",{className:"glass-panel rounded-3xl border border-white/70 p-8 space-y-6",children:[P.category&&a.jsxs("div",{children:[a.jsx("h3",{className:"text-xs uppercase tracking-[0.3em] text-secondary-light mb-2",children:"Category"}),a.jsx("p",{className:"text-lg",children:P.category})]}),P.description&&a.jsxs("div",{children:[a.jsx("h3",{className:"text-xs uppercase tracking-[0.3em] text-secondary-light mb-2",children:"Description"}),a.jsx("div",{className:"prose max-w-none concept-description",children:a.jsx(St,{content:P.description})})]}),P.notes&&a.jsxs("div",{children:[a.jsx("h3",{className:"text-xs uppercase tracking-[0.3em] text-secondary-light mb-2",children:"Notes"}),a.jsx("div",{className:"prose max-w-none",children:a.jsx(St,{content:P.notes})})]}),P.tags&&P.tags.length>0&&a.jsxs("div",{children:[a.jsx("h3",{className:"text-xs uppercase tracking-[0.3em] text-secondary-light mb-2",children:"Tags"}),a.jsx("div",{className:"flex flex-wrap gap-2",children:P.tags.map(ne=>a.jsx("span",{className:"px-3 py-1 rounded-full bg-blue-100 text-blue-700 text-sm",children:ne},ne))})]}),!P.category&&!P.description&&!P.notes&&(!P.tags||P.tags.length===0)&&a.jsx("p",{className:"text-sm text-secondary-light",children:"No content available. Click Edit to add information."})]}),p&&a.jsxs("div",{className:"glass-panel rounded-3xl border border-white/70 p-8 space-y-6 bg-white/95 backdrop-blur-sm shadow-xl",children:[a.jsxs("div",{children:[a.jsx("label",{className:"text-xs uppercase tracking-[0.2em] text-secondary-light mb-2 block",children:"Name"}),a.jsx("input",{value:b,onChange:ne=>N(ne.target.value),className:"w-full rounded-2xl border border-white/70 bg-white/80 px-4 py-2 text-primary-light placeholder:text-secondary-light focus:outline-none focus:ring-2 focus:ring-black/20 focus:border-black/30",placeholder:"Concept name"})]}),a.jsxs("div",{children:[a.jsx("label",{className:"text-xs uppercase tracking-[0.2em] text-secondary-light mb-2 block",children:"Description"}),a.jsx("textarea",{value:w,onChange:ne=>C(ne.target.value),rows:8,className:"w-full rounded-2xl border border-white/70 bg-white/80 px-4 py-2 text-primary-light placeholder:text-secondary-light focus:outline-none focus:ring-2 focus:ring-black/20 focus:border-black/30 resize-none",placeholder:"Full description"})]}),a.jsxs("div",{children:[a.jsx("label",{className:"text-xs uppercase tracking-[0.2em] text-secondary-light mb-2 block",children:"Category"}),a.jsx("input",{value:re,onChange:ne=>be(ne.target.value),className:"w-full rounded-2xl border border-white/70 bg-white/80 px-4 py-2 text-primary-light placeholder:text-secondary-light focus:outline-none focus:ring-2 focus:ring-black/20 focus:border-black/30",placeholder:"Category (e.g., AI Application, Technology)"})]}),a.jsxs("div",{children:[a.jsx("label",{className:"text-xs uppercase tracking-[0.2em] text-secondary-light mb-2 block",children:"Tags (comma-separated)"}),a.jsx("input",{value:U,onChange:ne=>Y(ne.target.value),className:"w-full rounded-2xl border border-white/70 bg-white/80 px-4 py-2 text-primary-light placeholder:text-secondary-light focus:outline-none focus:ring-2 focus:ring-black/20 focus:border-black/30",placeholder:"tag1, tag2, tag3"})]}),a.jsxs("div",{children:[a.jsx("label",{className:"text-xs uppercase tracking-[0.2em] text-secondary-light mb-2 block",children:"Notes"}),a.jsx("textarea",{value:K,onChange:ne=>ie(ne.target.value),rows:4,className:"w-full rounded-2xl border border-white/70 bg-white/80 px-4 py-2 text-primary-light placeholder:text-secondary-light focus:outline-none focus:ring-2 focus:ring-black/20 focus:border-black/30 resize-none",placeholder:"Additional notes"})]}),a.jsxs("div",{className:"flex gap-2",children:[a.jsx("button",{onClick:D,className:"flex-1 px-4 py-2 rounded-2xl bg-black text-white font-semibold hover:bg-gray-800 transition",children:"Save"}),a.jsx("button",{onClick:oe,className:"px-4 py-2 rounded-2xl bg-white/80 border border-white/70 text-primary-light hover:bg-white transition",children:"Cancel"})]})]})]})})}return null},px=()=>{const[l,r]=v.useState(null),[d,c]=v.useState(!1);return v.useEffect(()=>{const u=m=>{r(m.detail),c(!0),setTimeout(()=>{c(!1),setTimeout(()=>r(null),300)},5e3)};return window.addEventListener("levelUp",u),()=>{window.removeEventListener("levelUp",u)}},[]),l?a.jsx("div",{className:`fixed top-8 right-8 z-50 transition-all duration-500 ease-out ${d?"opacity-100 translate-y-0":"opacity-0 translate-y-[-20px] pointer-events-none"}`,children:a.jsx("div",{className:"glass-panel rounded-3xl border-2 border-yellow-400/70 bg-gradient-to-br from-yellow-50 to-orange-50 p-6 shadow-2xl max-w-md animate-bounce-subtle",children:a.jsxs("div",{className:"flex items-start gap-4",children:[a.jsx("div",{className:"animate-pulse",children:a.jsx(ts,{className:"w-12 h-12 text-yellow-500"})}),a.jsxs("div",{className:"flex-1",children:[a.jsx("div",{className:"flex items-center gap-2 mb-2",children:a.jsx("span",{className:"text-xs uppercase tracking-[0.3em] text-orange-600 font-bold",children:"LEVEL UP!"})}),a.jsxs("h3",{className:"text-2xl font-bold text-black mb-1",children:["Level ",l.level,": ",l.levelName]}),a.jsx("p",{className:"text-sm text-gray-700",children:l.levelDescription}),a.jsx("div",{className:"mt-4 flex items-center gap-2",children:a.jsx("div",{className:"flex-1 h-2 bg-white/60 rounded-full overflow-hidden",children:a.jsx("div",{className:"h-full bg-gradient-to-r from-yellow-400 to-orange-500 rounded-full animate-pulse",style:{width:"100%"}})})})]}),a.jsx("button",{onClick:()=>{c(!1),setTimeout(()=>r(null),300)},className:"text-gray-400 hover:text-gray-600 transition",children:""})]})})}):null},Hw=()=>{const{activeView:l,entityDetailView:r,setActiveView:d,createThread:c}=as(),{toasts:u,dismissToast:m}=Eo(),{isOpen:x,close:g}=Cv(),[p,f]=v.useState(!1),[b,N]=v.useState(!1),[w,C]=v.useState(!1),L=v.useMemo(()=>[{id:"new-thread",label:"New Thread",description:"Start a new conversation with Sylvia",action:()=>{c(),d(Ge.CHAT)},category:"Actions",keywords:["chat","conversation","message"]},{id:"nav-search",label:"Go to Memory Search",description:"Search across all your data",action:()=>d(Ge.SEARCH),category:"Navigation",keywords:["find","lookup"]},{id:"nav-brand",label:"Go to Brand",description:"Manage brand identity and voice",action:()=>d(Ge.BRAND),category:"Navigation"},{id:"nav-people",label:"Go to People",description:"Manage contacts and relationships",action:()=>d(Ge.PEOPLE),category:"Navigation"},{id:"nav-concepts",label:"Go to Concepts",description:"Explore ideas and technologies",action:()=>d(Ge.CONCEPTS),category:"Navigation"},{id:"nav-journal",label:"Go to Journal",description:"Write and review journal entries",action:()=>d(Ge.JOURNAL),category:"Navigation"},{id:"nav-agenda",label:"Go to Agenda",description:"Manage tasks and deliverables",action:()=>d(Ge.AGENDA),category:"Navigation"},{id:"nav-calendar",label:"Go to Calendar",description:"View and manage events",action:()=>d(Ge.CALENDAR),category:"Navigation"},{id:"nav-pomodoro",label:"Go to Pomodoro",description:"Track focus sessions",action:()=>d(Ge.POMODORO),category:"Navigation"},{id:"nav-gamification",label:"Go to Progress",description:"View achievements and XP",action:()=>d(Ge.GAMIFICATION),category:"Navigation"},{id:"nav-polaris",label:"Go to Polaris Goals",description:"Manage strategic goals",action:()=>d(Ge.POLARIS),category:"Navigation"},{id:"nav-settings",label:"Go to Settings",description:"Configure Polaris",action:()=>d(Ge.SETTINGS),category:"Navigation",keywords:["preferences","config"]}],[c,d]);if(v.useEffect(()=>{const K=()=>{f(window.innerWidth<1024)};return K(),window.addEventListener("resize",K),()=>window.removeEventListener("resize",K)},[]),r.type&&r.id)return a.jsxs("div",{className:"h-screen w-full overflow-hidden bg-transparent text-primary-light font-sans",children:[a.jsx(px,{}),p&&a.jsxs("div",{className:"fixed top-0 left-0 right-0 z-40 flex items-center justify-between px-4 py-3 bg-card-light dark:bg-card-dark border-b border-border-light dark:border-border-dark",children:[a.jsx("button",{onClick:()=>N(!b),className:"p-2 rounded-lg hover:bg-border-light dark:hover:bg-border-dark transition-colors","aria-label":"Toggle menu",children:b?a.jsx(Qt,{size:24}):a.jsx(Ip,{size:24})}),a.jsx("span",{className:"text-sm font-medium",children:"Polaris"}),a.jsx("button",{onClick:()=>C(!w),className:"p-2 rounded-lg hover:bg-border-light dark:hover:bg-border-dark transition-colors","aria-label":"Toggle chat",children:a.jsx(No,{size:24})})]}),a.jsxs("div",{className:`flex h-full w-full ${p?"pt-14":"gap-4 pr-4 py-4 pl-0"} overflow-x-hidden min-w-0`,children:[a.jsxs("div",{className:`
            ${p?"fixed inset-0 z-50 transform transition-transform duration-300":""}
            ${p&&!b?"-translate-x-full":"translate-x-0"}
          `,children:[p&&b&&a.jsx("div",{className:"absolute inset-0 bg-black bg-opacity-50",onClick:()=>N(!1)}),a.jsx("div",{className:p?"relative z-10 h-full":"",children:a.jsx(Xp,{onNavigate:p?()=>N(!1):void 0})})]}),a.jsx("main",{className:`flex-1 flex flex-col ${p?"":"gap-4"} overflow-hidden min-h-0 min-w-0`,children:a.jsx("div",{className:"flex-1 min-h-0 overflow-hidden flex flex-col",children:a.jsx(Bw,{})})}),p?a.jsx("div",{className:`
              fixed inset-0 z-50 transform transition-transform duration-300 bg-background-light dark:bg-background-dark
              ${w?"translate-x-0":"translate-x-full"}
            `,children:a.jsxs("div",{className:"h-full flex flex-col",children:[a.jsxs("div",{className:"flex items-center justify-between px-4 py-3 border-b border-border-light dark:border-border-dark",children:[a.jsx("span",{className:"text-sm font-medium",children:"Chat"}),a.jsx("button",{onClick:()=>C(!1),className:"p-2 rounded-lg hover:bg-border-light dark:hover:bg-border-dark transition-colors",children:a.jsx(Qt,{size:24})})]}),a.jsx("div",{className:"flex-1 overflow-hidden",children:a.jsx(uo,{isMobile:p})})]})}):a.jsx(uo,{isMobile:p})]})]});const R=()=>{switch(l){case Ge.BRAND:return a.jsx(W2,{});case Ge.PEOPLE:return a.jsx(nw,{});case Ge.CONCEPTS:return a.jsx(lw,{});case Ge.JOURNAL:return a.jsx(mw,{});case Ge.AGENDA:return a.jsx(fw,{});case Ge.CALENDAR:return a.jsx(gw,{});case Ge.POMODORO:return a.jsx(yw,{});case Ge.GAMIFICATION:return a.jsx(vw,{});case Ge.POLARIS:return a.jsx(ww,{});case Ge.SEARCH:return a.jsx(Uw,{});case Ge.SETTINGS:return a.jsx(J2,{})}};return a.jsxs("div",{className:"h-screen w-full overflow-hidden bg-transparent text-primary-light font-sans",children:[a.jsx(px,{}),a.jsx(Tv,{toasts:u,onDismiss:m}),a.jsx(Ev,{isOpen:x,onClose:g,commands:L}),p&&a.jsxs("div",{className:"fixed top-0 left-0 right-0 z-40 flex items-center justify-between px-4 py-3 bg-card-light dark:bg-card-dark border-b border-border-light dark:border-border-dark",children:[a.jsx("button",{onClick:()=>N(!b),className:"p-2 rounded-lg hover:bg-border-light dark:hover:bg-border-dark transition-colors","aria-label":"Toggle menu",children:b?a.jsx(Qt,{size:24}):a.jsx(Ip,{size:24})}),a.jsx("span",{className:"text-sm font-medium",children:"Polaris"}),a.jsx("button",{onClick:()=>C(!w),className:"p-2 rounded-lg hover:bg-border-light dark:hover:bg-border-dark transition-colors","aria-label":"Toggle chat",children:a.jsx(No,{size:24})})]}),a.jsxs("div",{className:`flex h-full w-full ${p?"pt-14":"gap-4 pr-4 py-4 pl-0"} overflow-x-hidden min-w-0`,children:[a.jsxs("div",{className:`
          ${p?"fixed inset-0 z-50 transform transition-transform duration-300":""}
          ${p&&!b?"-translate-x-full":"translate-x-0"}
        `,children:[p&&b&&a.jsx("div",{className:"absolute inset-0 bg-black bg-opacity-50",onClick:()=>N(!1)}),a.jsx("div",{className:p?"relative z-10 h-full":"",children:a.jsx(Xp,{onNavigate:p?()=>N(!1):void 0})})]}),a.jsx("main",{className:`flex-1 flex flex-col ${p?"":"gap-4"} overflow-hidden min-h-0 min-w-0`,children:a.jsx("div",{className:"flex-1 min-h-0 overflow-hidden flex flex-col",children:R()})}),p?a.jsx("div",{className:`
            fixed inset-0 z-50 transform transition-transform duration-300 bg-background-light dark:bg-background-dark
            ${w?"translate-x-0":"translate-x-full"}
          `,children:a.jsxs("div",{className:"h-full flex flex-col",children:[a.jsxs("div",{className:"flex items-center justify-between px-4 py-3 border-b border-border-light dark:border-border-dark",children:[a.jsx("span",{className:"text-sm font-medium",children:"Chat"}),a.jsx("button",{onClick:()=>C(!1),className:"p-2 rounded-lg hover:bg-border-light dark:hover:bg-border-dark transition-colors",children:a.jsx(Qt,{size:24})})]}),a.jsx("div",{className:"flex-1 overflow-hidden",children:a.jsx(uo,{isMobile:p})})]})}):a.jsx(uo,{isMobile:p})]})]})},Gw=()=>a.jsx(ly,{children:a.jsx(ny,{children:a.jsx(Hw,{})})}),cg=document.getElementById("root");if(!cg)throw new Error("Could not find root element to mount to");const qw=Db.createRoot(cg);qw.render(a.jsx(yo.StrictMode,{children:a.jsx(Gw,{})}));export{mo as g,Yw as r,Bi as s};
