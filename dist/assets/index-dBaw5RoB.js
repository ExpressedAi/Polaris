var nb=Object.defineProperty;var sb=(r,o,c)=>o in r?nb(r,o,{enumerable:!0,configurable:!0,writable:!0,value:c}):r[o]=c;var ft=(r,o,c)=>sb(r,typeof o!="symbol"?o+"":o,c);(function(){const o=document.createElement("link").relList;if(o&&o.supports&&o.supports("modulepreload"))return;for(const h of document.querySelectorAll('link[rel="modulepreload"]'))u(h);new MutationObserver(h=>{for(const m of h)if(m.type==="childList")for(const g of m.addedNodes)g.tagName==="LINK"&&g.rel==="modulepreload"&&u(g)}).observe(document,{childList:!0,subtree:!0});function c(h){const m={};return h.integrity&&(m.integrity=h.integrity),h.referrerPolicy&&(m.referrerPolicy=h.referrerPolicy),h.crossOrigin==="use-credentials"?m.credentials="include":h.crossOrigin==="anonymous"?m.credentials="omit":m.credentials="same-origin",m}function u(h){if(h.ep)return;h.ep=!0;const m=c(h);fetch(h.href,m)}})();function cx(r){return r&&r.__esModule&&Object.prototype.hasOwnProperty.call(r,"default")?r.default:r}var zu={exports:{}},xi={};/**
 * @license React
 * react-jsx-runtime.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Sp;function ib(){if(Sp)return xi;Sp=1;var r=Symbol.for("react.transitional.element"),o=Symbol.for("react.fragment");function c(u,h,m){var g=null;if(m!==void 0&&(g=""+m),h.key!==void 0&&(g=""+h.key),"key"in h){m={};for(var x in h)x!=="key"&&(m[x]=h[x])}else m=h;return h=m.ref,{$$typeof:r,type:u,key:g,ref:h!==void 0?h:null,props:m}}return xi.Fragment=o,xi.jsx=c,xi.jsxs=c,xi}var kp;function rb(){return kp||(kp=1,zu.exports=ib()),zu.exports}var l=rb(),Lu={exports:{}},$e={};/**
 * @license React
 * react.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Ap;function ob(){if(Ap)return $e;Ap=1;var r=Symbol.for("react.transitional.element"),o=Symbol.for("react.portal"),c=Symbol.for("react.fragment"),u=Symbol.for("react.strict_mode"),h=Symbol.for("react.profiler"),m=Symbol.for("react.consumer"),g=Symbol.for("react.context"),x=Symbol.for("react.forward_ref"),b=Symbol.for("react.suspense"),f=Symbol.for("react.memo"),v=Symbol.for("react.lazy"),_=Symbol.for("react.activity"),M=Symbol.iterator;function j(y){return y===null||typeof y!="object"?null:(y=M&&y[M]||y["@@iterator"],typeof y=="function"?y:null)}var G={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},R=Object.assign,ee={};function oe(y,q,I){this.props=y,this.context=q,this.refs=ee,this.updater=I||G}oe.prototype.isReactComponent={},oe.prototype.setState=function(y,q){if(typeof y!="object"&&typeof y!="function"&&y!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,y,q,"setState")},oe.prototype.forceUpdate=function(y){this.updater.enqueueForceUpdate(this,y,"forceUpdate")};function ge(){}ge.prototype=oe.prototype;function be(y,q,I){this.props=y,this.context=q,this.refs=ee,this.updater=I||G}var ye=be.prototype=new ge;ye.constructor=be,R(ye,oe.prototype),ye.isPureReactComponent=!0;var le=Array.isArray;function $(){}var U={H:null,A:null,T:null,S:null},ue=Object.prototype.hasOwnProperty;function ve(y,q,I){var ne=I.ref;return{$$typeof:r,type:y,key:q,ref:ne!==void 0?ne:null,props:I}}function P(y,q){return ve(y.type,q,y.props)}function te(y){return typeof y=="object"&&y!==null&&y.$$typeof===r}function Ne(y){var q={"=":"=0",":":"=2"};return"$"+y.replace(/[=:]/g,function(I){return q[I]})}var xe=/\/+/g;function W(y,q){return typeof y=="object"&&y!==null&&y.key!=null?Ne(""+y.key):q.toString(36)}function A(y){switch(y.status){case"fulfilled":return y.value;case"rejected":throw y.reason;default:switch(typeof y.status=="string"?y.then($,$):(y.status="pending",y.then(function(q){y.status==="pending"&&(y.status="fulfilled",y.value=q)},function(q){y.status==="pending"&&(y.status="rejected",y.reason=q)})),y.status){case"fulfilled":return y.value;case"rejected":throw y.reason}}throw y}function D(y,q,I,ne,Q){var k=typeof y;(k==="undefined"||k==="boolean")&&(y=null);var X=!1;if(y===null)X=!0;else switch(k){case"bigint":case"string":case"number":X=!0;break;case"object":switch(y.$$typeof){case r:case o:X=!0;break;case v:return X=y._init,D(X(y._payload),q,I,ne,Q)}}if(X)return Q=Q(y),X=ne===""?"."+W(y,0):ne,le(Q)?(I="",X!=null&&(I=X.replace(xe,"$&/")+"/"),D(Q,q,I,"",function(N){return N})):Q!=null&&(te(Q)&&(Q=P(Q,I+(Q.key==null||y&&y.key===Q.key?"":(""+Q.key).replace(xe,"$&/")+"/")+X)),q.push(Q)),1;X=0;var se=ne===""?".":ne+":";if(le(y))for(var je=0;je<y.length;je++)ne=y[je],k=se+W(ne,je),X+=D(ne,q,I,k,Q);else if(je=j(y),typeof je=="function")for(y=je.call(y),je=0;!(ne=y.next()).done;)ne=ne.value,k=se+W(ne,je++),X+=D(ne,q,I,k,Q);else if(k==="object"){if(typeof y.then=="function")return D(A(y),q,I,ne,Q);throw q=String(y),Error("Objects are not valid as a React child (found: "+(q==="[object Object]"?"object with keys {"+Object.keys(y).join(", ")+"}":q)+"). If you meant to render a collection of children, use an array instead.")}return X}function Z(y,q,I){if(y==null)return y;var ne=[],Q=0;return D(y,ne,"","",function(k){return q.call(I,k,Q++)}),ne}function he(y){if(y._status===-1){var q=y._result;q=q(),q.then(function(I){(y._status===0||y._status===-1)&&(y._status=1,y._result=I)},function(I){(y._status===0||y._status===-1)&&(y._status=2,y._result=I)}),y._status===-1&&(y._status=0,y._result=q)}if(y._status===1)return y._result.default;throw y._result}var Oe=typeof reportError=="function"?reportError:function(y){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var q=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof y=="object"&&y!==null&&typeof y.message=="string"?String(y.message):String(y),error:y});if(!window.dispatchEvent(q))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",y);return}console.error(y)},ze={map:Z,forEach:function(y,q,I){Z(y,function(){q.apply(this,arguments)},I)},count:function(y){var q=0;return Z(y,function(){q++}),q},toArray:function(y){return Z(y,function(q){return q})||[]},only:function(y){if(!te(y))throw Error("React.Children.only expected to receive a single React element child.");return y}};return $e.Activity=_,$e.Children=ze,$e.Component=oe,$e.Fragment=c,$e.Profiler=h,$e.PureComponent=be,$e.StrictMode=u,$e.Suspense=b,$e.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=U,$e.__COMPILER_RUNTIME={__proto__:null,c:function(y){return U.H.useMemoCache(y)}},$e.cache=function(y){return function(){return y.apply(null,arguments)}},$e.cacheSignal=function(){return null},$e.cloneElement=function(y,q,I){if(y==null)throw Error("The argument must be a React element, but you passed "+y+".");var ne=R({},y.props),Q=y.key;if(q!=null)for(k in q.key!==void 0&&(Q=""+q.key),q)!ue.call(q,k)||k==="key"||k==="__self"||k==="__source"||k==="ref"&&q.ref===void 0||(ne[k]=q[k]);var k=arguments.length-2;if(k===1)ne.children=I;else if(1<k){for(var X=Array(k),se=0;se<k;se++)X[se]=arguments[se+2];ne.children=X}return ve(y.type,Q,ne)},$e.createContext=function(y){return y={$$typeof:g,_currentValue:y,_currentValue2:y,_threadCount:0,Provider:null,Consumer:null},y.Provider=y,y.Consumer={$$typeof:m,_context:y},y},$e.createElement=function(y,q,I){var ne,Q={},k=null;if(q!=null)for(ne in q.key!==void 0&&(k=""+q.key),q)ue.call(q,ne)&&ne!=="key"&&ne!=="__self"&&ne!=="__source"&&(Q[ne]=q[ne]);var X=arguments.length-2;if(X===1)Q.children=I;else if(1<X){for(var se=Array(X),je=0;je<X;je++)se[je]=arguments[je+2];Q.children=se}if(y&&y.defaultProps)for(ne in X=y.defaultProps,X)Q[ne]===void 0&&(Q[ne]=X[ne]);return ve(y,k,Q)},$e.createRef=function(){return{current:null}},$e.forwardRef=function(y){return{$$typeof:x,render:y}},$e.isValidElement=te,$e.lazy=function(y){return{$$typeof:v,_payload:{_status:-1,_result:y},_init:he}},$e.memo=function(y,q){return{$$typeof:f,type:y,compare:q===void 0?null:q}},$e.startTransition=function(y){var q=U.T,I={};U.T=I;try{var ne=y(),Q=U.S;Q!==null&&Q(I,ne),typeof ne=="object"&&ne!==null&&typeof ne.then=="function"&&ne.then($,Oe)}catch(k){Oe(k)}finally{q!==null&&I.types!==null&&(q.types=I.types),U.T=q}},$e.unstable_useCacheRefresh=function(){return U.H.useCacheRefresh()},$e.use=function(y){return U.H.use(y)},$e.useActionState=function(y,q,I){return U.H.useActionState(y,q,I)},$e.useCallback=function(y,q){return U.H.useCallback(y,q)},$e.useContext=function(y){return U.H.useContext(y)},$e.useDebugValue=function(){},$e.useDeferredValue=function(y,q){return U.H.useDeferredValue(y,q)},$e.useEffect=function(y,q){return U.H.useEffect(y,q)},$e.useEffectEvent=function(y){return U.H.useEffectEvent(y)},$e.useId=function(){return U.H.useId()},$e.useImperativeHandle=function(y,q,I){return U.H.useImperativeHandle(y,q,I)},$e.useInsertionEffect=function(y,q){return U.H.useInsertionEffect(y,q)},$e.useLayoutEffect=function(y,q){return U.H.useLayoutEffect(y,q)},$e.useMemo=function(y,q){return U.H.useMemo(y,q)},$e.useOptimistic=function(y,q){return U.H.useOptimistic(y,q)},$e.useReducer=function(y,q,I){return U.H.useReducer(y,q,I)},$e.useRef=function(y){return U.H.useRef(y)},$e.useState=function(y){return U.H.useState(y)},$e.useSyncExternalStore=function(y,q,I){return U.H.useSyncExternalStore(y,q,I)},$e.useTransition=function(){return U.H.useTransition()},$e.version="19.2.0",$e}var Tp;function fd(){return Tp||(Tp=1,Lu.exports=ob()),Lu.exports}var w=fd();const xo=cx(w);var Uu={exports:{}},gi={},Bu={exports:{}},$u={};/**
 * @license React
 * scheduler.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Ep;function cb(){return Ep||(Ep=1,(function(r){function o(D,Z){var he=D.length;D.push(Z);e:for(;0<he;){var Oe=he-1>>>1,ze=D[Oe];if(0<h(ze,Z))D[Oe]=Z,D[he]=ze,he=Oe;else break e}}function c(D){return D.length===0?null:D[0]}function u(D){if(D.length===0)return null;var Z=D[0],he=D.pop();if(he!==Z){D[0]=he;e:for(var Oe=0,ze=D.length,y=ze>>>1;Oe<y;){var q=2*(Oe+1)-1,I=D[q],ne=q+1,Q=D[ne];if(0>h(I,he))ne<ze&&0>h(Q,I)?(D[Oe]=Q,D[ne]=he,Oe=ne):(D[Oe]=I,D[q]=he,Oe=q);else if(ne<ze&&0>h(Q,he))D[Oe]=Q,D[ne]=he,Oe=ne;else break e}}return Z}function h(D,Z){var he=D.sortIndex-Z.sortIndex;return he!==0?he:D.id-Z.id}if(r.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var m=performance;r.unstable_now=function(){return m.now()}}else{var g=Date,x=g.now();r.unstable_now=function(){return g.now()-x}}var b=[],f=[],v=1,_=null,M=3,j=!1,G=!1,R=!1,ee=!1,oe=typeof setTimeout=="function"?setTimeout:null,ge=typeof clearTimeout=="function"?clearTimeout:null,be=typeof setImmediate<"u"?setImmediate:null;function ye(D){for(var Z=c(f);Z!==null;){if(Z.callback===null)u(f);else if(Z.startTime<=D)u(f),Z.sortIndex=Z.expirationTime,o(b,Z);else break;Z=c(f)}}function le(D){if(R=!1,ye(D),!G)if(c(b)!==null)G=!0,$||($=!0,Ne());else{var Z=c(f);Z!==null&&A(le,Z.startTime-D)}}var $=!1,U=-1,ue=5,ve=-1;function P(){return ee?!0:!(r.unstable_now()-ve<ue)}function te(){if(ee=!1,$){var D=r.unstable_now();ve=D;var Z=!0;try{e:{G=!1,R&&(R=!1,ge(U),U=-1),j=!0;var he=M;try{t:{for(ye(D),_=c(b);_!==null&&!(_.expirationTime>D&&P());){var Oe=_.callback;if(typeof Oe=="function"){_.callback=null,M=_.priorityLevel;var ze=Oe(_.expirationTime<=D);if(D=r.unstable_now(),typeof ze=="function"){_.callback=ze,ye(D),Z=!0;break t}_===c(b)&&u(b),ye(D)}else u(b);_=c(b)}if(_!==null)Z=!0;else{var y=c(f);y!==null&&A(le,y.startTime-D),Z=!1}}break e}finally{_=null,M=he,j=!1}Z=void 0}}finally{Z?Ne():$=!1}}}var Ne;if(typeof be=="function")Ne=function(){be(te)};else if(typeof MessageChannel<"u"){var xe=new MessageChannel,W=xe.port2;xe.port1.onmessage=te,Ne=function(){W.postMessage(null)}}else Ne=function(){oe(te,0)};function A(D,Z){U=oe(function(){D(r.unstable_now())},Z)}r.unstable_IdlePriority=5,r.unstable_ImmediatePriority=1,r.unstable_LowPriority=4,r.unstable_NormalPriority=3,r.unstable_Profiling=null,r.unstable_UserBlockingPriority=2,r.unstable_cancelCallback=function(D){D.callback=null},r.unstable_forceFrameRate=function(D){0>D||125<D?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):ue=0<D?Math.floor(1e3/D):5},r.unstable_getCurrentPriorityLevel=function(){return M},r.unstable_next=function(D){switch(M){case 1:case 2:case 3:var Z=3;break;default:Z=M}var he=M;M=Z;try{return D()}finally{M=he}},r.unstable_requestPaint=function(){ee=!0},r.unstable_runWithPriority=function(D,Z){switch(D){case 1:case 2:case 3:case 4:case 5:break;default:D=3}var he=M;M=D;try{return Z()}finally{M=he}},r.unstable_scheduleCallback=function(D,Z,he){var Oe=r.unstable_now();switch(typeof he=="object"&&he!==null?(he=he.delay,he=typeof he=="number"&&0<he?Oe+he:Oe):he=Oe,D){case 1:var ze=-1;break;case 2:ze=250;break;case 5:ze=1073741823;break;case 4:ze=1e4;break;default:ze=5e3}return ze=he+ze,D={id:v++,callback:Z,priorityLevel:D,startTime:he,expirationTime:ze,sortIndex:-1},he>Oe?(D.sortIndex=he,o(f,D),c(b)===null&&D===c(f)&&(R?(ge(U),U=-1):R=!0,A(le,he-Oe))):(D.sortIndex=ze,o(b,D),G||j||(G=!0,$||($=!0,Ne()))),D},r.unstable_shouldYield=P,r.unstable_wrapCallback=function(D){var Z=M;return function(){var he=M;M=Z;try{return D.apply(this,arguments)}finally{M=he}}}})($u)),$u}var Cp;function ub(){return Cp||(Cp=1,Bu.exports=cb()),Bu.exports}var Hu={exports:{}},Zt={};/**
 * @license React
 * react-dom.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var _p;function db(){if(_p)return Zt;_p=1;var r=fd();function o(b){var f="https://react.dev/errors/"+b;if(1<arguments.length){f+="?args[]="+encodeURIComponent(arguments[1]);for(var v=2;v<arguments.length;v++)f+="&args[]="+encodeURIComponent(arguments[v])}return"Minified React error #"+b+"; visit "+f+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function c(){}var u={d:{f:c,r:function(){throw Error(o(522))},D:c,C:c,L:c,m:c,X:c,S:c,M:c},p:0,findDOMNode:null},h=Symbol.for("react.portal");function m(b,f,v){var _=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:h,key:_==null?null:""+_,children:b,containerInfo:f,implementation:v}}var g=r.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function x(b,f){if(b==="font")return"";if(typeof f=="string")return f==="use-credentials"?f:""}return Zt.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=u,Zt.createPortal=function(b,f){var v=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!f||f.nodeType!==1&&f.nodeType!==9&&f.nodeType!==11)throw Error(o(299));return m(b,f,null,v)},Zt.flushSync=function(b){var f=g.T,v=u.p;try{if(g.T=null,u.p=2,b)return b()}finally{g.T=f,u.p=v,u.d.f()}},Zt.preconnect=function(b,f){typeof b=="string"&&(f?(f=f.crossOrigin,f=typeof f=="string"?f==="use-credentials"?f:"":void 0):f=null,u.d.C(b,f))},Zt.prefetchDNS=function(b){typeof b=="string"&&u.d.D(b)},Zt.preinit=function(b,f){if(typeof b=="string"&&f&&typeof f.as=="string"){var v=f.as,_=x(v,f.crossOrigin),M=typeof f.integrity=="string"?f.integrity:void 0,j=typeof f.fetchPriority=="string"?f.fetchPriority:void 0;v==="style"?u.d.S(b,typeof f.precedence=="string"?f.precedence:void 0,{crossOrigin:_,integrity:M,fetchPriority:j}):v==="script"&&u.d.X(b,{crossOrigin:_,integrity:M,fetchPriority:j,nonce:typeof f.nonce=="string"?f.nonce:void 0})}},Zt.preinitModule=function(b,f){if(typeof b=="string")if(typeof f=="object"&&f!==null){if(f.as==null||f.as==="script"){var v=x(f.as,f.crossOrigin);u.d.M(b,{crossOrigin:v,integrity:typeof f.integrity=="string"?f.integrity:void 0,nonce:typeof f.nonce=="string"?f.nonce:void 0})}}else f==null&&u.d.M(b)},Zt.preload=function(b,f){if(typeof b=="string"&&typeof f=="object"&&f!==null&&typeof f.as=="string"){var v=f.as,_=x(v,f.crossOrigin);u.d.L(b,v,{crossOrigin:_,integrity:typeof f.integrity=="string"?f.integrity:void 0,nonce:typeof f.nonce=="string"?f.nonce:void 0,type:typeof f.type=="string"?f.type:void 0,fetchPriority:typeof f.fetchPriority=="string"?f.fetchPriority:void 0,referrerPolicy:typeof f.referrerPolicy=="string"?f.referrerPolicy:void 0,imageSrcSet:typeof f.imageSrcSet=="string"?f.imageSrcSet:void 0,imageSizes:typeof f.imageSizes=="string"?f.imageSizes:void 0,media:typeof f.media=="string"?f.media:void 0})}},Zt.preloadModule=function(b,f){if(typeof b=="string")if(f){var v=x(f.as,f.crossOrigin);u.d.m(b,{as:typeof f.as=="string"&&f.as!=="script"?f.as:void 0,crossOrigin:v,integrity:typeof f.integrity=="string"?f.integrity:void 0})}else u.d.m(b)},Zt.requestFormReset=function(b){u.d.r(b)},Zt.unstable_batchedUpdates=function(b,f){return b(f)},Zt.useFormState=function(b,f,v){return g.H.useFormState(b,f,v)},Zt.useFormStatus=function(){return g.H.useHostTransitionStatus()},Zt.version="19.2.0",Zt}var Dp;function hb(){if(Dp)return Hu.exports;Dp=1;function r(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(r)}catch(o){console.error(o)}}return r(),Hu.exports=db(),Hu.exports}/**
 * @license React
 * react-dom-client.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Mp;function mb(){if(Mp)return gi;Mp=1;var r=ub(),o=fd(),c=hb();function u(e){var t="https://react.dev/errors/"+e;if(1<arguments.length){t+="?args[]="+encodeURIComponent(arguments[1]);for(var a=2;a<arguments.length;a++)t+="&args[]="+encodeURIComponent(arguments[a])}return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function h(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function m(e){var t=e,a=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do t=e,(t.flags&4098)!==0&&(a=t.return),e=t.return;while(e)}return t.tag===3?a:null}function g(e){if(e.tag===13){var t=e.memoizedState;if(t===null&&(e=e.alternate,e!==null&&(t=e.memoizedState)),t!==null)return t.dehydrated}return null}function x(e){if(e.tag===31){var t=e.memoizedState;if(t===null&&(e=e.alternate,e!==null&&(t=e.memoizedState)),t!==null)return t.dehydrated}return null}function b(e){if(m(e)!==e)throw Error(u(188))}function f(e){var t=e.alternate;if(!t){if(t=m(e),t===null)throw Error(u(188));return t!==e?null:e}for(var a=e,n=t;;){var s=a.return;if(s===null)break;var i=s.alternate;if(i===null){if(n=s.return,n!==null){a=n;continue}break}if(s.child===i.child){for(i=s.child;i;){if(i===a)return b(s),e;if(i===n)return b(s),t;i=i.sibling}throw Error(u(188))}if(a.return!==n.return)a=s,n=i;else{for(var d=!1,p=s.child;p;){if(p===a){d=!0,a=s,n=i;break}if(p===n){d=!0,n=s,a=i;break}p=p.sibling}if(!d){for(p=i.child;p;){if(p===a){d=!0,a=i,n=s;break}if(p===n){d=!0,n=i,a=s;break}p=p.sibling}if(!d)throw Error(u(189))}}if(a.alternate!==n)throw Error(u(190))}if(a.tag!==3)throw Error(u(188));return a.stateNode.current===a?e:t}function v(e){var t=e.tag;if(t===5||t===26||t===27||t===6)return e;for(e=e.child;e!==null;){if(t=v(e),t!==null)return t;e=e.sibling}return null}var _=Object.assign,M=Symbol.for("react.element"),j=Symbol.for("react.transitional.element"),G=Symbol.for("react.portal"),R=Symbol.for("react.fragment"),ee=Symbol.for("react.strict_mode"),oe=Symbol.for("react.profiler"),ge=Symbol.for("react.consumer"),be=Symbol.for("react.context"),ye=Symbol.for("react.forward_ref"),le=Symbol.for("react.suspense"),$=Symbol.for("react.suspense_list"),U=Symbol.for("react.memo"),ue=Symbol.for("react.lazy"),ve=Symbol.for("react.activity"),P=Symbol.for("react.memo_cache_sentinel"),te=Symbol.iterator;function Ne(e){return e===null||typeof e!="object"?null:(e=te&&e[te]||e["@@iterator"],typeof e=="function"?e:null)}var xe=Symbol.for("react.client.reference");function W(e){if(e==null)return null;if(typeof e=="function")return e.$$typeof===xe?null:e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case R:return"Fragment";case oe:return"Profiler";case ee:return"StrictMode";case le:return"Suspense";case $:return"SuspenseList";case ve:return"Activity"}if(typeof e=="object")switch(e.$$typeof){case G:return"Portal";case be:return e.displayName||"Context";case ge:return(e._context.displayName||"Context")+".Consumer";case ye:var t=e.render;return e=e.displayName,e||(e=t.displayName||t.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case U:return t=e.displayName||null,t!==null?t:W(e.type)||"Memo";case ue:t=e._payload,e=e._init;try{return W(e(t))}catch{}}return null}var A=Array.isArray,D=o.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,Z=c.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,he={pending:!1,data:null,method:null,action:null},Oe=[],ze=-1;function y(e){return{current:e}}function q(e){0>ze||(e.current=Oe[ze],Oe[ze]=null,ze--)}function I(e,t){ze++,Oe[ze]=e.current,e.current=t}var ne=y(null),Q=y(null),k=y(null),X=y(null);function se(e,t){switch(I(k,t),I(Q,e),I(ne,null),t.nodeType){case 9:case 11:e=(e=t.documentElement)&&(e=e.namespaceURI)?Qf(e):0;break;default:if(e=t.tagName,t=t.namespaceURI)t=Qf(t),e=Zf(t,e);else switch(e){case"svg":e=1;break;case"math":e=2;break;default:e=0}}q(ne),I(ne,e)}function je(){q(ne),q(Q),q(k)}function N(e){e.memoizedState!==null&&I(X,e);var t=ne.current,a=Zf(t,e.type);t!==a&&(I(Q,e),I(ne,a))}function re(e){Q.current===e&&(q(ne),q(Q)),X.current===e&&(q(X),hi._currentValue=he)}var ce,pe;function Me(e){if(ce===void 0)try{throw Error()}catch(a){var t=a.stack.trim().match(/\n( *(at )?)/);ce=t&&t[1]||"",pe=-1<a.stack.indexOf(`
    at`)?" (<anonymous>)":-1<a.stack.indexOf("@")?"@unknown:0:0":""}return`
`+ce+e+pe}var qe=!1;function yt(e,t){if(!e||qe)return"";qe=!0;var a=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var n={DetermineComponentFrameRoot:function(){try{if(t){var ie=function(){throw Error()};if(Object.defineProperty(ie.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(ie,[])}catch(Y){var B=Y}Reflect.construct(e,[],ie)}else{try{ie.call()}catch(Y){B=Y}e.call(ie.prototype)}}else{try{throw Error()}catch(Y){B=Y}(ie=e())&&typeof ie.catch=="function"&&ie.catch(function(){})}}catch(Y){if(Y&&B&&typeof Y.stack=="string")return[Y.stack,B.stack]}return[null,null]}};n.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var s=Object.getOwnPropertyDescriptor(n.DetermineComponentFrameRoot,"name");s&&s.configurable&&Object.defineProperty(n.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var i=n.DetermineComponentFrameRoot(),d=i[0],p=i[1];if(d&&p){var S=d.split(`
`),L=p.split(`
`);for(s=n=0;n<S.length&&!S[n].includes("DetermineComponentFrameRoot");)n++;for(;s<L.length&&!L[s].includes("DetermineComponentFrameRoot");)s++;if(n===S.length||s===L.length)for(n=S.length-1,s=L.length-1;1<=n&&0<=s&&S[n]!==L[s];)s--;for(;1<=n&&0<=s;n--,s--)if(S[n]!==L[s]){if(n!==1||s!==1)do if(n--,s--,0>s||S[n]!==L[s]){var J=`
`+S[n].replace(" at new "," at ");return e.displayName&&J.includes("<anonymous>")&&(J=J.replace("<anonymous>",e.displayName)),J}while(1<=n&&0<=s);break}}}finally{qe=!1,Error.prepareStackTrace=a}return(a=e?e.displayName||e.name:"")?Me(a):""}function Be(e,t){switch(e.tag){case 26:case 27:case 5:return Me(e.type);case 16:return Me("Lazy");case 13:return e.child!==t&&t!==null?Me("Suspense Fallback"):Me("Suspense");case 19:return Me("SuspenseList");case 0:case 15:return yt(e.type,!1);case 11:return yt(e.type.render,!1);case 1:return yt(e.type,!0);case 31:return Me("Activity");default:return""}}function vt(e){try{var t="",a=null;do t+=Be(e,a),a=e,e=e.return;while(e);return t}catch(n){return`
Error generating stack: `+n.message+`
`+n.stack}}var At=Object.prototype.hasOwnProperty,C=r.unstable_scheduleCallback,Se=r.unstable_cancelCallback,Te=r.unstable_shouldYield,_e=r.unstable_requestPaint,fe=r.unstable_now,Fe=r.unstable_getCurrentPriorityLevel,He=r.unstable_ImmediatePriority,H=r.unstable_UserBlockingPriority,Ue=r.unstable_NormalPriority,Xe=r.unstable_LowPriority,Ut=r.unstable_IdlePriority,K=r.log,V=r.unstable_setDisableYieldValue,De=null,Ie=null;function Qe(e){if(typeof K=="function"&&V(e),Ie&&typeof Ie.setStrictMode=="function")try{Ie.setStrictMode(De,e)}catch{}}var me=Math.clz32?Math.clz32:vs,wt=Math.log,Qt=Math.LN2;function vs(e){return e>>>=0,e===0?32:31-(wt(e)/Qt|0)|0}var ll=256,nl=262144,Dn=4194304;function ua(e){var t=e&42;if(t!==0)return t;switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:return e&261888;case 262144:case 524288:case 1048576:case 2097152:return e&3932160;case 4194304:case 8388608:case 16777216:case 33554432:return e&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return e}}function Mn(e,t,a){var n=e.pendingLanes;if(n===0)return 0;var s=0,i=e.suspendedLanes,d=e.pingedLanes;e=e.warmLanes;var p=n&134217727;return p!==0?(n=p&~i,n!==0?s=ua(n):(d&=p,d!==0?s=ua(d):a||(a=p&~e,a!==0&&(s=ua(a))))):(p=n&~i,p!==0?s=ua(p):d!==0?s=ua(d):a||(a=n&~e,a!==0&&(s=ua(a)))),s===0?0:t!==0&&t!==s&&(t&i)===0&&(i=s&-s,a=t&-t,i>=a||i===32&&(a&4194048)!==0)?t:s}function on(e,t){return(e.pendingLanes&~(e.suspendedLanes&~e.pingedLanes)&t)===0}function Dt(e,t){switch(e){case 1:case 2:case 4:case 8:case 64:return t+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function sl(){var e=Dn;return Dn<<=1,(Dn&62914560)===0&&(Dn=4194304),e}function ws(e){for(var t=[],a=0;31>a;a++)t.push(e);return t}function _l(e,t){e.pendingLanes|=t,t!==268435456&&(e.suspendedLanes=0,e.pingedLanes=0,e.warmLanes=0)}function Ns(e,t,a,n,s,i){var d=e.pendingLanes;e.pendingLanes=a,e.suspendedLanes=0,e.pingedLanes=0,e.warmLanes=0,e.expiredLanes&=a,e.entangledLanes&=a,e.errorRecoveryDisabledLanes&=a,e.shellSuspendCounter=0;var p=e.entanglements,S=e.expirationTimes,L=e.hiddenUpdates;for(a=d&~a;0<a;){var J=31-me(a),ie=1<<J;p[J]=0,S[J]=-1;var B=L[J];if(B!==null)for(L[J]=null,J=0;J<B.length;J++){var Y=B[J];Y!==null&&(Y.lane&=-536870913)}a&=~ie}n!==0&&js(e,n,0),i!==0&&s===0&&e.tag!==0&&(e.suspendedLanes|=i&~(d&~t))}function js(e,t,a){e.pendingLanes|=t,e.suspendedLanes&=~t;var n=31-me(t);e.entangledLanes|=t,e.entanglements[n]=e.entanglements[n]|1073741824|a&261930}function Ss(e,t){var a=e.entangledLanes|=t;for(e=e.entanglements;a;){var n=31-me(a),s=1<<n;s&t|e[n]&t&&(e[n]|=t),a&=~s}}function $i(e,t){var a=t&-t;return a=(a&42)!==0?1:aa(a),(a&(e.suspendedLanes|t))!==0?0:a}function aa(e){switch(e){case 2:e=1;break;case 8:e=4;break;case 32:e=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:e=128;break;case 268435456:e=134217728;break;default:e=0}return e}function $a(e){return e&=-e,2<e?8<e?(e&134217727)!==0?32:268435456:8:2}function ks(){var e=Z.p;return e!==0?e:(e=window.event,e===void 0?32:gp(e.type))}function As(e,t){var a=Z.p;try{return Z.p=e,t()}finally{Z.p=a}}var ja=Math.random().toString(36).slice(2),Mt="__reactFiber$"+ja,Nt="__reactProps$"+ja,il="__reactContainer$"+ja,Rn="__reactEvents$"+ja,Hi="__reactListeners$"+ja,Gi="__reactHandles$"+ja,qi="__reactResources$"+ja,Ee="__reactMarker$"+ja;function T(e){delete e[Mt],delete e[Nt],delete e[Rn],delete e[Hi],delete e[Gi]}function de(e){var t=e[Mt];if(t)return t;for(var a=e.parentNode;a;){if(t=a[il]||a[Mt]){if(a=t.alternate,t.child!==null||a!==null&&a.child!==null)for(e=tp(e);e!==null;){if(a=e[Mt])return a;e=tp(e)}return t}e=a,a=e.parentNode}return null}function ke(e){if(e=e[Mt]||e[il]){var t=e.tag;if(t===5||t===6||t===13||t===31||t===26||t===27||t===3)return e}return null}function st(e){var t=e.tag;if(t===5||t===26||t===27||t===6)return e.stateNode;throw Error(u(33))}function kt(e){var t=e[qi];return t||(t=e[qi]={hoistableStyles:new Map,hoistableScripts:new Map}),t}function Ve(e){e[Ee]=!0}var qt=new Set,Sa={};function la(e,t){Za(e,t),Za(e+"Capture",t)}function Za(e,t){for(Sa[e]=t,e=0;e<t.length;e++)qt.add(t[e])}var Bt=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),Ts={},Es={};function Px(e){return At.call(Es,e)?!0:At.call(Ts,e)?!1:Bt.test(e)?Es[e]=!0:(Ts[e]=!0,!1)}function Ii(e,t,a){if(Px(t))if(a===null)e.removeAttribute(t);else{switch(typeof a){case"undefined":case"function":case"symbol":e.removeAttribute(t);return;case"boolean":var n=t.toLowerCase().slice(0,5);if(n!=="data-"&&n!=="aria-"){e.removeAttribute(t);return}}e.setAttribute(t,""+a)}}function Yi(e,t,a){if(a===null)e.removeAttribute(t);else{switch(typeof a){case"undefined":case"function":case"symbol":case"boolean":e.removeAttribute(t);return}e.setAttribute(t,""+a)}}function rl(e,t,a,n){if(n===null)e.removeAttribute(a);else{switch(typeof n){case"undefined":case"function":case"symbol":case"boolean":e.removeAttribute(a);return}e.setAttributeNS(t,a,""+n)}}function ka(e){switch(typeof e){case"bigint":case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function Bd(e){var t=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(t==="checkbox"||t==="radio")}function Jx(e,t,a){var n=Object.getOwnPropertyDescriptor(e.constructor.prototype,t);if(!e.hasOwnProperty(t)&&typeof n<"u"&&typeof n.get=="function"&&typeof n.set=="function"){var s=n.get,i=n.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return s.call(this)},set:function(d){a=""+d,i.call(this,d)}}),Object.defineProperty(e,t,{enumerable:n.enumerable}),{getValue:function(){return a},setValue:function(d){a=""+d},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}function Eo(e){if(!e._valueTracker){var t=Bd(e)?"checked":"value";e._valueTracker=Jx(e,t,""+e[t])}}function $d(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var a=t.getValue(),n="";return e&&(n=Bd(e)?e.checked?"true":"false":e.value),e=n,e!==a?(t.setValue(e),!0):!1}function Vi(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}var Wx=/[\n"\\]/g;function Aa(e){return e.replace(Wx,function(t){return"\\"+t.charCodeAt(0).toString(16)+" "})}function Co(e,t,a,n,s,i,d,p){e.name="",d!=null&&typeof d!="function"&&typeof d!="symbol"&&typeof d!="boolean"?e.type=d:e.removeAttribute("type"),t!=null?d==="number"?(t===0&&e.value===""||e.value!=t)&&(e.value=""+ka(t)):e.value!==""+ka(t)&&(e.value=""+ka(t)):d!=="submit"&&d!=="reset"||e.removeAttribute("value"),t!=null?_o(e,d,ka(t)):a!=null?_o(e,d,ka(a)):n!=null&&e.removeAttribute("value"),s==null&&i!=null&&(e.defaultChecked=!!i),s!=null&&(e.checked=s&&typeof s!="function"&&typeof s!="symbol"),p!=null&&typeof p!="function"&&typeof p!="symbol"&&typeof p!="boolean"?e.name=""+ka(p):e.removeAttribute("name")}function Hd(e,t,a,n,s,i,d,p){if(i!=null&&typeof i!="function"&&typeof i!="symbol"&&typeof i!="boolean"&&(e.type=i),t!=null||a!=null){if(!(i!=="submit"&&i!=="reset"||t!=null)){Eo(e);return}a=a!=null?""+ka(a):"",t=t!=null?""+ka(t):a,p||t===e.value||(e.value=t),e.defaultValue=t}n=n??s,n=typeof n!="function"&&typeof n!="symbol"&&!!n,e.checked=p?e.checked:!!n,e.defaultChecked=!!n,d!=null&&typeof d!="function"&&typeof d!="symbol"&&typeof d!="boolean"&&(e.name=d),Eo(e)}function _o(e,t,a){t==="number"&&Vi(e.ownerDocument)===e||e.defaultValue===""+a||(e.defaultValue=""+a)}function On(e,t,a,n){if(e=e.options,t){t={};for(var s=0;s<a.length;s++)t["$"+a[s]]=!0;for(a=0;a<e.length;a++)s=t.hasOwnProperty("$"+e[a].value),e[a].selected!==s&&(e[a].selected=s),s&&n&&(e[a].defaultSelected=!0)}else{for(a=""+ka(a),t=null,s=0;s<e.length;s++){if(e[s].value===a){e[s].selected=!0,n&&(e[s].defaultSelected=!0);return}t!==null||e[s].disabled||(t=e[s])}t!==null&&(t.selected=!0)}}function Gd(e,t,a){if(t!=null&&(t=""+ka(t),t!==e.value&&(e.value=t),a==null)){e.defaultValue!==t&&(e.defaultValue=t);return}e.defaultValue=a!=null?""+ka(a):""}function qd(e,t,a,n){if(t==null){if(n!=null){if(a!=null)throw Error(u(92));if(A(n)){if(1<n.length)throw Error(u(93));n=n[0]}a=n}a==null&&(a=""),t=a}a=ka(t),e.defaultValue=a,n=e.textContent,n===a&&n!==""&&n!==null&&(e.value=n),Eo(e)}function zn(e,t){if(t){var a=e.firstChild;if(a&&a===e.lastChild&&a.nodeType===3){a.nodeValue=t;return}}e.textContent=t}var Fx=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function Id(e,t,a){var n=t.indexOf("--")===0;a==null||typeof a=="boolean"||a===""?n?e.setProperty(t,""):t==="float"?e.cssFloat="":e[t]="":n?e.setProperty(t,a):typeof a!="number"||a===0||Fx.has(t)?t==="float"?e.cssFloat=a:e[t]=(""+a).trim():e[t]=a+"px"}function Yd(e,t,a){if(t!=null&&typeof t!="object")throw Error(u(62));if(e=e.style,a!=null){for(var n in a)!a.hasOwnProperty(n)||t!=null&&t.hasOwnProperty(n)||(n.indexOf("--")===0?e.setProperty(n,""):n==="float"?e.cssFloat="":e[n]="");for(var s in t)n=t[s],t.hasOwnProperty(s)&&a[s]!==n&&Id(e,s,n)}else for(var i in t)t.hasOwnProperty(i)&&Id(e,i,t[i])}function Do(e){if(e.indexOf("-")===-1)return!1;switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var eg=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),tg=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function Xi(e){return tg.test(""+e)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":e}function ol(){}var Mo=null;function Ro(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var Ln=null,Un=null;function Vd(e){var t=ke(e);if(t&&(e=t.stateNode)){var a=e[Nt]||null;e:switch(e=t.stateNode,t.type){case"input":if(Co(e,a.value,a.defaultValue,a.defaultValue,a.checked,a.defaultChecked,a.type,a.name),t=a.name,a.type==="radio"&&t!=null){for(a=e;a.parentNode;)a=a.parentNode;for(a=a.querySelectorAll('input[name="'+Aa(""+t)+'"][type="radio"]'),t=0;t<a.length;t++){var n=a[t];if(n!==e&&n.form===e.form){var s=n[Nt]||null;if(!s)throw Error(u(90));Co(n,s.value,s.defaultValue,s.defaultValue,s.checked,s.defaultChecked,s.type,s.name)}}for(t=0;t<a.length;t++)n=a[t],n.form===e.form&&$d(n)}break e;case"textarea":Gd(e,a.value,a.defaultValue);break e;case"select":t=a.value,t!=null&&On(e,!!a.multiple,t,!1)}}}var Oo=!1;function Xd(e,t,a){if(Oo)return e(t,a);Oo=!0;try{var n=e(t);return n}finally{if(Oo=!1,(Ln!==null||Un!==null)&&(Rr(),Ln&&(t=Ln,e=Un,Un=Ln=null,Vd(t),e)))for(t=0;t<e.length;t++)Vd(e[t])}}function Cs(e,t){var a=e.stateNode;if(a===null)return null;var n=a[Nt]||null;if(n===null)return null;a=n[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(n=!n.disabled)||(e=e.type,n=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!n;break e;default:e=!1}if(e)return null;if(a&&typeof a!="function")throw Error(u(231,t,typeof a));return a}var cl=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),zo=!1;if(cl)try{var _s={};Object.defineProperty(_s,"passive",{get:function(){zo=!0}}),window.addEventListener("test",_s,_s),window.removeEventListener("test",_s,_s)}catch{zo=!1}var Dl=null,Lo=null,Qi=null;function Qd(){if(Qi)return Qi;var e,t=Lo,a=t.length,n,s="value"in Dl?Dl.value:Dl.textContent,i=s.length;for(e=0;e<a&&t[e]===s[e];e++);var d=a-e;for(n=1;n<=d&&t[a-n]===s[i-n];n++);return Qi=s.slice(e,1<n?1-n:void 0)}function Zi(e){var t=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&t===13&&(e=13)):e=t,e===10&&(e=13),32<=e||e===13?e:0}function Ki(){return!0}function Zd(){return!1}function na(e){function t(a,n,s,i,d){this._reactName=a,this._targetInst=s,this.type=n,this.nativeEvent=i,this.target=d,this.currentTarget=null;for(var p in e)e.hasOwnProperty(p)&&(a=e[p],this[p]=a?a(i):i[p]);return this.isDefaultPrevented=(i.defaultPrevented!=null?i.defaultPrevented:i.returnValue===!1)?Ki:Zd,this.isPropagationStopped=Zd,this}return _(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var a=this.nativeEvent;a&&(a.preventDefault?a.preventDefault():typeof a.returnValue!="unknown"&&(a.returnValue=!1),this.isDefaultPrevented=Ki)},stopPropagation:function(){var a=this.nativeEvent;a&&(a.stopPropagation?a.stopPropagation():typeof a.cancelBubble!="unknown"&&(a.cancelBubble=!0),this.isPropagationStopped=Ki)},persist:function(){},isPersistent:Ki}),t}var cn={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Pi=na(cn),Ds=_({},cn,{view:0,detail:0}),ag=na(Ds),Uo,Bo,Ms,Ji=_({},Ds,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Ho,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==Ms&&(Ms&&e.type==="mousemove"?(Uo=e.screenX-Ms.screenX,Bo=e.screenY-Ms.screenY):Bo=Uo=0,Ms=e),Uo)},movementY:function(e){return"movementY"in e?e.movementY:Bo}}),Kd=na(Ji),lg=_({},Ji,{dataTransfer:0}),ng=na(lg),sg=_({},Ds,{relatedTarget:0}),$o=na(sg),ig=_({},cn,{animationName:0,elapsedTime:0,pseudoElement:0}),rg=na(ig),og=_({},cn,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),cg=na(og),ug=_({},cn,{data:0}),Pd=na(ug),dg={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},hg={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},mg={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function fg(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):(e=mg[e])?!!t[e]:!1}function Ho(){return fg}var pg=_({},Ds,{key:function(e){if(e.key){var t=dg[e.key]||e.key;if(t!=="Unidentified")return t}return e.type==="keypress"?(e=Zi(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?hg[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Ho,charCode:function(e){return e.type==="keypress"?Zi(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?Zi(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),xg=na(pg),gg=_({},Ji,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Jd=na(gg),bg=_({},Ds,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Ho}),yg=na(bg),vg=_({},cn,{propertyName:0,elapsedTime:0,pseudoElement:0}),wg=na(vg),Ng=_({},Ji,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),jg=na(Ng),Sg=_({},cn,{newState:0,oldState:0}),kg=na(Sg),Ag=[9,13,27,32],Go=cl&&"CompositionEvent"in window,Rs=null;cl&&"documentMode"in document&&(Rs=document.documentMode);var Tg=cl&&"TextEvent"in window&&!Rs,Wd=cl&&(!Go||Rs&&8<Rs&&11>=Rs),Fd=" ",eh=!1;function th(e,t){switch(e){case"keyup":return Ag.indexOf(t.keyCode)!==-1;case"keydown":return t.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function ah(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var Bn=!1;function Eg(e,t){switch(e){case"compositionend":return ah(t);case"keypress":return t.which!==32?null:(eh=!0,Fd);case"textInput":return e=t.data,e===Fd&&eh?null:e;default:return null}}function Cg(e,t){if(Bn)return e==="compositionend"||!Go&&th(e,t)?(e=Qd(),Qi=Lo=Dl=null,Bn=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return Wd&&t.locale!=="ko"?null:t.data;default:return null}}var _g={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function lh(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t==="input"?!!_g[e.type]:t==="textarea"}function nh(e,t,a,n){Ln?Un?Un.push(n):Un=[n]:Ln=n,t=Hr(t,"onChange"),0<t.length&&(a=new Pi("onChange","change",null,a,n),e.push({event:a,listeners:t}))}var Os=null,zs=null;function Dg(e){Gf(e,0)}function Wi(e){var t=st(e);if($d(t))return e}function sh(e,t){if(e==="change")return t}var ih=!1;if(cl){var qo;if(cl){var Io="oninput"in document;if(!Io){var rh=document.createElement("div");rh.setAttribute("oninput","return;"),Io=typeof rh.oninput=="function"}qo=Io}else qo=!1;ih=qo&&(!document.documentMode||9<document.documentMode)}function oh(){Os&&(Os.detachEvent("onpropertychange",ch),zs=Os=null)}function ch(e){if(e.propertyName==="value"&&Wi(zs)){var t=[];nh(t,zs,e,Ro(e)),Xd(Dg,t)}}function Mg(e,t,a){e==="focusin"?(oh(),Os=t,zs=a,Os.attachEvent("onpropertychange",ch)):e==="focusout"&&oh()}function Rg(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return Wi(zs)}function Og(e,t){if(e==="click")return Wi(t)}function zg(e,t){if(e==="input"||e==="change")return Wi(t)}function Lg(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var da=typeof Object.is=="function"?Object.is:Lg;function Ls(e,t){if(da(e,t))return!0;if(typeof e!="object"||e===null||typeof t!="object"||t===null)return!1;var a=Object.keys(e),n=Object.keys(t);if(a.length!==n.length)return!1;for(n=0;n<a.length;n++){var s=a[n];if(!At.call(t,s)||!da(e[s],t[s]))return!1}return!0}function uh(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function dh(e,t){var a=uh(e);e=0;for(var n;a;){if(a.nodeType===3){if(n=e+a.textContent.length,e<=t&&n>=t)return{node:a,offset:t-e};e=n}e:{for(;a;){if(a.nextSibling){a=a.nextSibling;break e}a=a.parentNode}a=void 0}a=uh(a)}}function hh(e,t){return e&&t?e===t?!0:e&&e.nodeType===3?!1:t&&t.nodeType===3?hh(e,t.parentNode):"contains"in e?e.contains(t):e.compareDocumentPosition?!!(e.compareDocumentPosition(t)&16):!1:!1}function mh(e){e=e!=null&&e.ownerDocument!=null&&e.ownerDocument.defaultView!=null?e.ownerDocument.defaultView:window;for(var t=Vi(e.document);t instanceof e.HTMLIFrameElement;){try{var a=typeof t.contentWindow.location.href=="string"}catch{a=!1}if(a)e=t.contentWindow;else break;t=Vi(e.document)}return t}function Yo(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&(t==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||t==="textarea"||e.contentEditable==="true")}var Ug=cl&&"documentMode"in document&&11>=document.documentMode,$n=null,Vo=null,Us=null,Xo=!1;function fh(e,t,a){var n=a.window===a?a.document:a.nodeType===9?a:a.ownerDocument;Xo||$n==null||$n!==Vi(n)||(n=$n,"selectionStart"in n&&Yo(n)?n={start:n.selectionStart,end:n.selectionEnd}:(n=(n.ownerDocument&&n.ownerDocument.defaultView||window).getSelection(),n={anchorNode:n.anchorNode,anchorOffset:n.anchorOffset,focusNode:n.focusNode,focusOffset:n.focusOffset}),Us&&Ls(Us,n)||(Us=n,n=Hr(Vo,"onSelect"),0<n.length&&(t=new Pi("onSelect","select",null,t,a),e.push({event:t,listeners:n}),t.target=$n)))}function un(e,t){var a={};return a[e.toLowerCase()]=t.toLowerCase(),a["Webkit"+e]="webkit"+t,a["Moz"+e]="moz"+t,a}var Hn={animationend:un("Animation","AnimationEnd"),animationiteration:un("Animation","AnimationIteration"),animationstart:un("Animation","AnimationStart"),transitionrun:un("Transition","TransitionRun"),transitionstart:un("Transition","TransitionStart"),transitioncancel:un("Transition","TransitionCancel"),transitionend:un("Transition","TransitionEnd")},Qo={},ph={};cl&&(ph=document.createElement("div").style,"AnimationEvent"in window||(delete Hn.animationend.animation,delete Hn.animationiteration.animation,delete Hn.animationstart.animation),"TransitionEvent"in window||delete Hn.transitionend.transition);function dn(e){if(Qo[e])return Qo[e];if(!Hn[e])return e;var t=Hn[e],a;for(a in t)if(t.hasOwnProperty(a)&&a in ph)return Qo[e]=t[a];return e}var xh=dn("animationend"),gh=dn("animationiteration"),bh=dn("animationstart"),Bg=dn("transitionrun"),$g=dn("transitionstart"),Hg=dn("transitioncancel"),yh=dn("transitionend"),vh=new Map,Zo="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");Zo.push("scrollEnd");function Ha(e,t){vh.set(e,t),la(t,[e])}var Fi=typeof reportError=="function"?reportError:function(e){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var t=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof e=="object"&&e!==null&&typeof e.message=="string"?String(e.message):String(e),error:e});if(!window.dispatchEvent(t))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",e);return}console.error(e)},Ta=[],Gn=0,Ko=0;function er(){for(var e=Gn,t=Ko=Gn=0;t<e;){var a=Ta[t];Ta[t++]=null;var n=Ta[t];Ta[t++]=null;var s=Ta[t];Ta[t++]=null;var i=Ta[t];if(Ta[t++]=null,n!==null&&s!==null){var d=n.pending;d===null?s.next=s:(s.next=d.next,d.next=s),n.pending=s}i!==0&&wh(a,s,i)}}function tr(e,t,a,n){Ta[Gn++]=e,Ta[Gn++]=t,Ta[Gn++]=a,Ta[Gn++]=n,Ko|=n,e.lanes|=n,e=e.alternate,e!==null&&(e.lanes|=n)}function Po(e,t,a,n){return tr(e,t,a,n),ar(e)}function hn(e,t){return tr(e,null,null,t),ar(e)}function wh(e,t,a){e.lanes|=a;var n=e.alternate;n!==null&&(n.lanes|=a);for(var s=!1,i=e.return;i!==null;)i.childLanes|=a,n=i.alternate,n!==null&&(n.childLanes|=a),i.tag===22&&(e=i.stateNode,e===null||e._visibility&1||(s=!0)),e=i,i=i.return;return e.tag===3?(i=e.stateNode,s&&t!==null&&(s=31-me(a),e=i.hiddenUpdates,n=e[s],n===null?e[s]=[t]:n.push(t),t.lane=a|536870912),i):null}function ar(e){if(50<si)throw si=0,su=null,Error(u(185));for(var t=e.return;t!==null;)e=t,t=e.return;return e.tag===3?e.stateNode:null}var qn={};function Gg(e,t,a,n){this.tag=e,this.key=a,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=n,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function ha(e,t,a,n){return new Gg(e,t,a,n)}function Jo(e){return e=e.prototype,!(!e||!e.isReactComponent)}function ul(e,t){var a=e.alternate;return a===null?(a=ha(e.tag,t,e.key,e.mode),a.elementType=e.elementType,a.type=e.type,a.stateNode=e.stateNode,a.alternate=e,e.alternate=a):(a.pendingProps=t,a.type=e.type,a.flags=0,a.subtreeFlags=0,a.deletions=null),a.flags=e.flags&65011712,a.childLanes=e.childLanes,a.lanes=e.lanes,a.child=e.child,a.memoizedProps=e.memoizedProps,a.memoizedState=e.memoizedState,a.updateQueue=e.updateQueue,t=e.dependencies,a.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext},a.sibling=e.sibling,a.index=e.index,a.ref=e.ref,a.refCleanup=e.refCleanup,a}function Nh(e,t){e.flags&=65011714;var a=e.alternate;return a===null?(e.childLanes=0,e.lanes=t,e.child=null,e.subtreeFlags=0,e.memoizedProps=null,e.memoizedState=null,e.updateQueue=null,e.dependencies=null,e.stateNode=null):(e.childLanes=a.childLanes,e.lanes=a.lanes,e.child=a.child,e.subtreeFlags=0,e.deletions=null,e.memoizedProps=a.memoizedProps,e.memoizedState=a.memoizedState,e.updateQueue=a.updateQueue,e.type=a.type,t=a.dependencies,e.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext}),e}function lr(e,t,a,n,s,i){var d=0;if(n=e,typeof e=="function")Jo(e)&&(d=1);else if(typeof e=="string")d=X0(e,a,ne.current)?26:e==="html"||e==="head"||e==="body"?27:5;else e:switch(e){case ve:return e=ha(31,a,t,s),e.elementType=ve,e.lanes=i,e;case R:return mn(a.children,s,i,t);case ee:d=8,s|=24;break;case oe:return e=ha(12,a,t,s|2),e.elementType=oe,e.lanes=i,e;case le:return e=ha(13,a,t,s),e.elementType=le,e.lanes=i,e;case $:return e=ha(19,a,t,s),e.elementType=$,e.lanes=i,e;default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case be:d=10;break e;case ge:d=9;break e;case ye:d=11;break e;case U:d=14;break e;case ue:d=16,n=null;break e}d=29,a=Error(u(130,e===null?"null":typeof e,"")),n=null}return t=ha(d,a,t,s),t.elementType=e,t.type=n,t.lanes=i,t}function mn(e,t,a,n){return e=ha(7,e,n,t),e.lanes=a,e}function Wo(e,t,a){return e=ha(6,e,null,t),e.lanes=a,e}function jh(e){var t=ha(18,null,null,0);return t.stateNode=e,t}function Fo(e,t,a){return t=ha(4,e.children!==null?e.children:[],e.key,t),t.lanes=a,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}var Sh=new WeakMap;function Ea(e,t){if(typeof e=="object"&&e!==null){var a=Sh.get(e);return a!==void 0?a:(t={value:e,source:t,stack:vt(t)},Sh.set(e,t),t)}return{value:e,source:t,stack:vt(t)}}var In=[],Yn=0,nr=null,Bs=0,Ca=[],_a=0,Ml=null,Ka=1,Pa="";function dl(e,t){In[Yn++]=Bs,In[Yn++]=nr,nr=e,Bs=t}function kh(e,t,a){Ca[_a++]=Ka,Ca[_a++]=Pa,Ca[_a++]=Ml,Ml=e;var n=Ka;e=Pa;var s=32-me(n)-1;n&=~(1<<s),a+=1;var i=32-me(t)+s;if(30<i){var d=s-s%5;i=(n&(1<<d)-1).toString(32),n>>=d,s-=d,Ka=1<<32-me(t)+s|a<<s|n,Pa=i+e}else Ka=1<<i|a<<s|n,Pa=e}function ec(e){e.return!==null&&(dl(e,1),kh(e,1,0))}function tc(e){for(;e===nr;)nr=In[--Yn],In[Yn]=null,Bs=In[--Yn],In[Yn]=null;for(;e===Ml;)Ml=Ca[--_a],Ca[_a]=null,Pa=Ca[--_a],Ca[_a]=null,Ka=Ca[--_a],Ca[_a]=null}function Ah(e,t){Ca[_a++]=Ka,Ca[_a++]=Pa,Ca[_a++]=Ml,Ka=t.id,Pa=t.overflow,Ml=e}var It=null,xt=null,et=!1,Rl=null,Da=!1,ac=Error(u(519));function Ol(e){var t=Error(u(418,1<arguments.length&&arguments[1]!==void 0&&arguments[1]?"text":"HTML",""));throw $s(Ea(t,e)),ac}function Th(e){var t=e.stateNode,a=e.type,n=e.memoizedProps;switch(t[Mt]=e,t[Nt]=n,a){case"dialog":Ke("cancel",t),Ke("close",t);break;case"iframe":case"object":case"embed":Ke("load",t);break;case"video":case"audio":for(a=0;a<ri.length;a++)Ke(ri[a],t);break;case"source":Ke("error",t);break;case"img":case"image":case"link":Ke("error",t),Ke("load",t);break;case"details":Ke("toggle",t);break;case"input":Ke("invalid",t),Hd(t,n.value,n.defaultValue,n.checked,n.defaultChecked,n.type,n.name,!0);break;case"select":Ke("invalid",t);break;case"textarea":Ke("invalid",t),qd(t,n.value,n.defaultValue,n.children)}a=n.children,typeof a!="string"&&typeof a!="number"&&typeof a!="bigint"||t.textContent===""+a||n.suppressHydrationWarning===!0||Vf(t.textContent,a)?(n.popover!=null&&(Ke("beforetoggle",t),Ke("toggle",t)),n.onScroll!=null&&Ke("scroll",t),n.onScrollEnd!=null&&Ke("scrollend",t),n.onClick!=null&&(t.onclick=ol),t=!0):t=!1,t||Ol(e,!0)}function Eh(e){for(It=e.return;It;)switch(It.tag){case 5:case 31:case 13:Da=!1;return;case 27:case 3:Da=!0;return;default:It=It.return}}function Vn(e){if(e!==It)return!1;if(!et)return Eh(e),et=!0,!1;var t=e.tag,a;if((a=t!==3&&t!==27)&&((a=t===5)&&(a=e.type,a=!(a!=="form"&&a!=="button")||vu(e.type,e.memoizedProps)),a=!a),a&&xt&&Ol(e),Eh(e),t===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(u(317));xt=ep(e)}else if(t===31){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(u(317));xt=ep(e)}else t===27?(t=xt,Zl(e.type)?(e=ku,ku=null,xt=e):xt=t):xt=It?Ra(e.stateNode.nextSibling):null;return!0}function fn(){xt=It=null,et=!1}function lc(){var e=Rl;return e!==null&&(oa===null?oa=e:oa.push.apply(oa,e),Rl=null),e}function $s(e){Rl===null?Rl=[e]:Rl.push(e)}var nc=y(null),pn=null,hl=null;function zl(e,t,a){I(nc,t._currentValue),t._currentValue=a}function ml(e){e._currentValue=nc.current,q(nc)}function sc(e,t,a){for(;e!==null;){var n=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,n!==null&&(n.childLanes|=t)):n!==null&&(n.childLanes&t)!==t&&(n.childLanes|=t),e===a)break;e=e.return}}function ic(e,t,a,n){var s=e.child;for(s!==null&&(s.return=e);s!==null;){var i=s.dependencies;if(i!==null){var d=s.child;i=i.firstContext;e:for(;i!==null;){var p=i;i=s;for(var S=0;S<t.length;S++)if(p.context===t[S]){i.lanes|=a,p=i.alternate,p!==null&&(p.lanes|=a),sc(i.return,a,e),n||(d=null);break e}i=p.next}}else if(s.tag===18){if(d=s.return,d===null)throw Error(u(341));d.lanes|=a,i=d.alternate,i!==null&&(i.lanes|=a),sc(d,a,e),d=null}else d=s.child;if(d!==null)d.return=s;else for(d=s;d!==null;){if(d===e){d=null;break}if(s=d.sibling,s!==null){s.return=d.return,d=s;break}d=d.return}s=d}}function Xn(e,t,a,n){e=null;for(var s=t,i=!1;s!==null;){if(!i){if((s.flags&524288)!==0)i=!0;else if((s.flags&262144)!==0)break}if(s.tag===10){var d=s.alternate;if(d===null)throw Error(u(387));if(d=d.memoizedProps,d!==null){var p=s.type;da(s.pendingProps.value,d.value)||(e!==null?e.push(p):e=[p])}}else if(s===X.current){if(d=s.alternate,d===null)throw Error(u(387));d.memoizedState.memoizedState!==s.memoizedState.memoizedState&&(e!==null?e.push(hi):e=[hi])}s=s.return}e!==null&&ic(t,e,a,n),t.flags|=262144}function sr(e){for(e=e.firstContext;e!==null;){if(!da(e.context._currentValue,e.memoizedValue))return!0;e=e.next}return!1}function xn(e){pn=e,hl=null,e=e.dependencies,e!==null&&(e.firstContext=null)}function Yt(e){return Ch(pn,e)}function ir(e,t){return pn===null&&xn(e),Ch(e,t)}function Ch(e,t){var a=t._currentValue;if(t={context:t,memoizedValue:a,next:null},hl===null){if(e===null)throw Error(u(308));hl=t,e.dependencies={lanes:0,firstContext:t},e.flags|=524288}else hl=hl.next=t;return a}var qg=typeof AbortController<"u"?AbortController:function(){var e=[],t=this.signal={aborted:!1,addEventListener:function(a,n){e.push(n)}};this.abort=function(){t.aborted=!0,e.forEach(function(a){return a()})}},Ig=r.unstable_scheduleCallback,Yg=r.unstable_NormalPriority,Rt={$$typeof:be,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function rc(){return{controller:new qg,data:new Map,refCount:0}}function Hs(e){e.refCount--,e.refCount===0&&Ig(Yg,function(){e.controller.abort()})}var Gs=null,oc=0,Qn=0,Zn=null;function Vg(e,t){if(Gs===null){var a=Gs=[];oc=0,Qn=du(),Zn={status:"pending",value:void 0,then:function(n){a.push(n)}}}return oc++,t.then(_h,_h),t}function _h(){if(--oc===0&&Gs!==null){Zn!==null&&(Zn.status="fulfilled");var e=Gs;Gs=null,Qn=0,Zn=null;for(var t=0;t<e.length;t++)(0,e[t])()}}function Xg(e,t){var a=[],n={status:"pending",value:null,reason:null,then:function(s){a.push(s)}};return e.then(function(){n.status="fulfilled",n.value=t;for(var s=0;s<a.length;s++)(0,a[s])(t)},function(s){for(n.status="rejected",n.reason=s,s=0;s<a.length;s++)(0,a[s])(void 0)}),n}var Dh=D.S;D.S=function(e,t){pf=fe(),typeof t=="object"&&t!==null&&typeof t.then=="function"&&Vg(e,t),Dh!==null&&Dh(e,t)};var gn=y(null);function cc(){var e=gn.current;return e!==null?e:mt.pooledCache}function rr(e,t){t===null?I(gn,gn.current):I(gn,t.pool)}function Mh(){var e=cc();return e===null?null:{parent:Rt._currentValue,pool:e}}var Kn=Error(u(460)),uc=Error(u(474)),or=Error(u(542)),cr={then:function(){}};function Rh(e){return e=e.status,e==="fulfilled"||e==="rejected"}function Oh(e,t,a){switch(a=e[a],a===void 0?e.push(t):a!==t&&(t.then(ol,ol),t=a),t.status){case"fulfilled":return t.value;case"rejected":throw e=t.reason,Lh(e),e;default:if(typeof t.status=="string")t.then(ol,ol);else{if(e=mt,e!==null&&100<e.shellSuspendCounter)throw Error(u(482));e=t,e.status="pending",e.then(function(n){if(t.status==="pending"){var s=t;s.status="fulfilled",s.value=n}},function(n){if(t.status==="pending"){var s=t;s.status="rejected",s.reason=n}})}switch(t.status){case"fulfilled":return t.value;case"rejected":throw e=t.reason,Lh(e),e}throw yn=t,Kn}}function bn(e){try{var t=e._init;return t(e._payload)}catch(a){throw a!==null&&typeof a=="object"&&typeof a.then=="function"?(yn=a,Kn):a}}var yn=null;function zh(){if(yn===null)throw Error(u(459));var e=yn;return yn=null,e}function Lh(e){if(e===Kn||e===or)throw Error(u(483))}var Pn=null,qs=0;function ur(e){var t=qs;return qs+=1,Pn===null&&(Pn=[]),Oh(Pn,e,t)}function Is(e,t){t=t.props.ref,e.ref=t!==void 0?t:null}function dr(e,t){throw t.$$typeof===M?Error(u(525)):(e=Object.prototype.toString.call(t),Error(u(31,e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e)))}function Uh(e){function t(O,E){if(e){var z=O.deletions;z===null?(O.deletions=[E],O.flags|=16):z.push(E)}}function a(O,E){if(!e)return null;for(;E!==null;)t(O,E),E=E.sibling;return null}function n(O){for(var E=new Map;O!==null;)O.key!==null?E.set(O.key,O):E.set(O.index,O),O=O.sibling;return E}function s(O,E){return O=ul(O,E),O.index=0,O.sibling=null,O}function i(O,E,z){return O.index=z,e?(z=O.alternate,z!==null?(z=z.index,z<E?(O.flags|=67108866,E):z):(O.flags|=67108866,E)):(O.flags|=1048576,E)}function d(O){return e&&O.alternate===null&&(O.flags|=67108866),O}function p(O,E,z,ae){return E===null||E.tag!==6?(E=Wo(z,O.mode,ae),E.return=O,E):(E=s(E,z),E.return=O,E)}function S(O,E,z,ae){var Re=z.type;return Re===R?J(O,E,z.props.children,ae,z.key):E!==null&&(E.elementType===Re||typeof Re=="object"&&Re!==null&&Re.$$typeof===ue&&bn(Re)===E.type)?(E=s(E,z.props),Is(E,z),E.return=O,E):(E=lr(z.type,z.key,z.props,null,O.mode,ae),Is(E,z),E.return=O,E)}function L(O,E,z,ae){return E===null||E.tag!==4||E.stateNode.containerInfo!==z.containerInfo||E.stateNode.implementation!==z.implementation?(E=Fo(z,O.mode,ae),E.return=O,E):(E=s(E,z.children||[]),E.return=O,E)}function J(O,E,z,ae,Re){return E===null||E.tag!==7?(E=mn(z,O.mode,ae,Re),E.return=O,E):(E=s(E,z),E.return=O,E)}function ie(O,E,z){if(typeof E=="string"&&E!==""||typeof E=="number"||typeof E=="bigint")return E=Wo(""+E,O.mode,z),E.return=O,E;if(typeof E=="object"&&E!==null){switch(E.$$typeof){case j:return z=lr(E.type,E.key,E.props,null,O.mode,z),Is(z,E),z.return=O,z;case G:return E=Fo(E,O.mode,z),E.return=O,E;case ue:return E=bn(E),ie(O,E,z)}if(A(E)||Ne(E))return E=mn(E,O.mode,z,null),E.return=O,E;if(typeof E.then=="function")return ie(O,ur(E),z);if(E.$$typeof===be)return ie(O,ir(O,E),z);dr(O,E)}return null}function B(O,E,z,ae){var Re=E!==null?E.key:null;if(typeof z=="string"&&z!==""||typeof z=="number"||typeof z=="bigint")return Re!==null?null:p(O,E,""+z,ae);if(typeof z=="object"&&z!==null){switch(z.$$typeof){case j:return z.key===Re?S(O,E,z,ae):null;case G:return z.key===Re?L(O,E,z,ae):null;case ue:return z=bn(z),B(O,E,z,ae)}if(A(z)||Ne(z))return Re!==null?null:J(O,E,z,ae,null);if(typeof z.then=="function")return B(O,E,ur(z),ae);if(z.$$typeof===be)return B(O,E,ir(O,z),ae);dr(O,z)}return null}function Y(O,E,z,ae,Re){if(typeof ae=="string"&&ae!==""||typeof ae=="number"||typeof ae=="bigint")return O=O.get(z)||null,p(E,O,""+ae,Re);if(typeof ae=="object"&&ae!==null){switch(ae.$$typeof){case j:return O=O.get(ae.key===null?z:ae.key)||null,S(E,O,ae,Re);case G:return O=O.get(ae.key===null?z:ae.key)||null,L(E,O,ae,Re);case ue:return ae=bn(ae),Y(O,E,z,ae,Re)}if(A(ae)||Ne(ae))return O=O.get(z)||null,J(E,O,ae,Re,null);if(typeof ae.then=="function")return Y(O,E,z,ur(ae),Re);if(ae.$$typeof===be)return Y(O,E,z,ir(E,ae),Re);dr(E,ae)}return null}function Ae(O,E,z,ae){for(var Re=null,at=null,Ce=E,Ye=E=0,We=null;Ce!==null&&Ye<z.length;Ye++){Ce.index>Ye?(We=Ce,Ce=null):We=Ce.sibling;var lt=B(O,Ce,z[Ye],ae);if(lt===null){Ce===null&&(Ce=We);break}e&&Ce&&lt.alternate===null&&t(O,Ce),E=i(lt,E,Ye),at===null?Re=lt:at.sibling=lt,at=lt,Ce=We}if(Ye===z.length)return a(O,Ce),et&&dl(O,Ye),Re;if(Ce===null){for(;Ye<z.length;Ye++)Ce=ie(O,z[Ye],ae),Ce!==null&&(E=i(Ce,E,Ye),at===null?Re=Ce:at.sibling=Ce,at=Ce);return et&&dl(O,Ye),Re}for(Ce=n(Ce);Ye<z.length;Ye++)We=Y(Ce,O,Ye,z[Ye],ae),We!==null&&(e&&We.alternate!==null&&Ce.delete(We.key===null?Ye:We.key),E=i(We,E,Ye),at===null?Re=We:at.sibling=We,at=We);return e&&Ce.forEach(function(Fl){return t(O,Fl)}),et&&dl(O,Ye),Re}function Le(O,E,z,ae){if(z==null)throw Error(u(151));for(var Re=null,at=null,Ce=E,Ye=E=0,We=null,lt=z.next();Ce!==null&&!lt.done;Ye++,lt=z.next()){Ce.index>Ye?(We=Ce,Ce=null):We=Ce.sibling;var Fl=B(O,Ce,lt.value,ae);if(Fl===null){Ce===null&&(Ce=We);break}e&&Ce&&Fl.alternate===null&&t(O,Ce),E=i(Fl,E,Ye),at===null?Re=Fl:at.sibling=Fl,at=Fl,Ce=We}if(lt.done)return a(O,Ce),et&&dl(O,Ye),Re;if(Ce===null){for(;!lt.done;Ye++,lt=z.next())lt=ie(O,lt.value,ae),lt!==null&&(E=i(lt,E,Ye),at===null?Re=lt:at.sibling=lt,at=lt);return et&&dl(O,Ye),Re}for(Ce=n(Ce);!lt.done;Ye++,lt=z.next())lt=Y(Ce,O,Ye,lt.value,ae),lt!==null&&(e&&lt.alternate!==null&&Ce.delete(lt.key===null?Ye:lt.key),E=i(lt,E,Ye),at===null?Re=lt:at.sibling=lt,at=lt);return e&&Ce.forEach(function(lb){return t(O,lb)}),et&&dl(O,Ye),Re}function ht(O,E,z,ae){if(typeof z=="object"&&z!==null&&z.type===R&&z.key===null&&(z=z.props.children),typeof z=="object"&&z!==null){switch(z.$$typeof){case j:e:{for(var Re=z.key;E!==null;){if(E.key===Re){if(Re=z.type,Re===R){if(E.tag===7){a(O,E.sibling),ae=s(E,z.props.children),ae.return=O,O=ae;break e}}else if(E.elementType===Re||typeof Re=="object"&&Re!==null&&Re.$$typeof===ue&&bn(Re)===E.type){a(O,E.sibling),ae=s(E,z.props),Is(ae,z),ae.return=O,O=ae;break e}a(O,E);break}else t(O,E);E=E.sibling}z.type===R?(ae=mn(z.props.children,O.mode,ae,z.key),ae.return=O,O=ae):(ae=lr(z.type,z.key,z.props,null,O.mode,ae),Is(ae,z),ae.return=O,O=ae)}return d(O);case G:e:{for(Re=z.key;E!==null;){if(E.key===Re)if(E.tag===4&&E.stateNode.containerInfo===z.containerInfo&&E.stateNode.implementation===z.implementation){a(O,E.sibling),ae=s(E,z.children||[]),ae.return=O,O=ae;break e}else{a(O,E);break}else t(O,E);E=E.sibling}ae=Fo(z,O.mode,ae),ae.return=O,O=ae}return d(O);case ue:return z=bn(z),ht(O,E,z,ae)}if(A(z))return Ae(O,E,z,ae);if(Ne(z)){if(Re=Ne(z),typeof Re!="function")throw Error(u(150));return z=Re.call(z),Le(O,E,z,ae)}if(typeof z.then=="function")return ht(O,E,ur(z),ae);if(z.$$typeof===be)return ht(O,E,ir(O,z),ae);dr(O,z)}return typeof z=="string"&&z!==""||typeof z=="number"||typeof z=="bigint"?(z=""+z,E!==null&&E.tag===6?(a(O,E.sibling),ae=s(E,z),ae.return=O,O=ae):(a(O,E),ae=Wo(z,O.mode,ae),ae.return=O,O=ae),d(O)):a(O,E)}return function(O,E,z,ae){try{qs=0;var Re=ht(O,E,z,ae);return Pn=null,Re}catch(Ce){if(Ce===Kn||Ce===or)throw Ce;var at=ha(29,Ce,null,O.mode);return at.lanes=ae,at.return=O,at}finally{}}}var vn=Uh(!0),Bh=Uh(!1),Ll=!1;function dc(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function hc(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,callbacks:null})}function Ul(e){return{lane:e,tag:0,payload:null,callback:null,next:null}}function Bl(e,t,a){var n=e.updateQueue;if(n===null)return null;if(n=n.shared,(nt&2)!==0){var s=n.pending;return s===null?t.next=t:(t.next=s.next,s.next=t),n.pending=t,t=ar(e),wh(e,null,a),t}return tr(e,n,t,a),ar(e)}function Ys(e,t,a){if(t=t.updateQueue,t!==null&&(t=t.shared,(a&4194048)!==0)){var n=t.lanes;n&=e.pendingLanes,a|=n,t.lanes=a,Ss(e,a)}}function mc(e,t){var a=e.updateQueue,n=e.alternate;if(n!==null&&(n=n.updateQueue,a===n)){var s=null,i=null;if(a=a.firstBaseUpdate,a!==null){do{var d={lane:a.lane,tag:a.tag,payload:a.payload,callback:null,next:null};i===null?s=i=d:i=i.next=d,a=a.next}while(a!==null);i===null?s=i=t:i=i.next=t}else s=i=t;a={baseState:n.baseState,firstBaseUpdate:s,lastBaseUpdate:i,shared:n.shared,callbacks:n.callbacks},e.updateQueue=a;return}e=a.lastBaseUpdate,e===null?a.firstBaseUpdate=t:e.next=t,a.lastBaseUpdate=t}var fc=!1;function Vs(){if(fc){var e=Zn;if(e!==null)throw e}}function Xs(e,t,a,n){fc=!1;var s=e.updateQueue;Ll=!1;var i=s.firstBaseUpdate,d=s.lastBaseUpdate,p=s.shared.pending;if(p!==null){s.shared.pending=null;var S=p,L=S.next;S.next=null,d===null?i=L:d.next=L,d=S;var J=e.alternate;J!==null&&(J=J.updateQueue,p=J.lastBaseUpdate,p!==d&&(p===null?J.firstBaseUpdate=L:p.next=L,J.lastBaseUpdate=S))}if(i!==null){var ie=s.baseState;d=0,J=L=S=null,p=i;do{var B=p.lane&-536870913,Y=B!==p.lane;if(Y?(Je&B)===B:(n&B)===B){B!==0&&B===Qn&&(fc=!0),J!==null&&(J=J.next={lane:0,tag:p.tag,payload:p.payload,callback:null,next:null});e:{var Ae=e,Le=p;B=t;var ht=a;switch(Le.tag){case 1:if(Ae=Le.payload,typeof Ae=="function"){ie=Ae.call(ht,ie,B);break e}ie=Ae;break e;case 3:Ae.flags=Ae.flags&-65537|128;case 0:if(Ae=Le.payload,B=typeof Ae=="function"?Ae.call(ht,ie,B):Ae,B==null)break e;ie=_({},ie,B);break e;case 2:Ll=!0}}B=p.callback,B!==null&&(e.flags|=64,Y&&(e.flags|=8192),Y=s.callbacks,Y===null?s.callbacks=[B]:Y.push(B))}else Y={lane:B,tag:p.tag,payload:p.payload,callback:p.callback,next:null},J===null?(L=J=Y,S=ie):J=J.next=Y,d|=B;if(p=p.next,p===null){if(p=s.shared.pending,p===null)break;Y=p,p=Y.next,Y.next=null,s.lastBaseUpdate=Y,s.shared.pending=null}}while(!0);J===null&&(S=ie),s.baseState=S,s.firstBaseUpdate=L,s.lastBaseUpdate=J,i===null&&(s.shared.lanes=0),Il|=d,e.lanes=d,e.memoizedState=ie}}function $h(e,t){if(typeof e!="function")throw Error(u(191,e));e.call(t)}function Hh(e,t){var a=e.callbacks;if(a!==null)for(e.callbacks=null,e=0;e<a.length;e++)$h(a[e],t)}var Jn=y(null),hr=y(0);function Gh(e,t){e=Nl,I(hr,e),I(Jn,t),Nl=e|t.baseLanes}function pc(){I(hr,Nl),I(Jn,Jn.current)}function xc(){Nl=hr.current,q(Jn),q(hr)}var ma=y(null),Ma=null;function $l(e){var t=e.alternate;I(Ct,Ct.current&1),I(ma,e),Ma===null&&(t===null||Jn.current!==null||t.memoizedState!==null)&&(Ma=e)}function gc(e){I(Ct,Ct.current),I(ma,e),Ma===null&&(Ma=e)}function qh(e){e.tag===22?(I(Ct,Ct.current),I(ma,e),Ma===null&&(Ma=e)):Hl()}function Hl(){I(Ct,Ct.current),I(ma,ma.current)}function fa(e){q(ma),Ma===e&&(Ma=null),q(Ct)}var Ct=y(0);function mr(e){for(var t=e;t!==null;){if(t.tag===13){var a=t.memoizedState;if(a!==null&&(a=a.dehydrated,a===null||ju(a)||Su(a)))return t}else if(t.tag===19&&(t.memoizedProps.revealOrder==="forwards"||t.memoizedProps.revealOrder==="backwards"||t.memoizedProps.revealOrder==="unstable_legacy-backwards"||t.memoizedProps.revealOrder==="together")){if((t.flags&128)!==0)return t}else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var fl=0,Ge=null,ut=null,Ot=null,fr=!1,Wn=!1,wn=!1,pr=0,Qs=0,Fn=null,Qg=0;function Tt(){throw Error(u(321))}function bc(e,t){if(t===null)return!1;for(var a=0;a<t.length&&a<e.length;a++)if(!da(e[a],t[a]))return!1;return!0}function yc(e,t,a,n,s,i){return fl=i,Ge=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,D.H=e===null||e.memoizedState===null?km:Oc,wn=!1,i=a(n,s),wn=!1,Wn&&(i=Yh(t,a,n,s)),Ih(e),i}function Ih(e){D.H=Ps;var t=ut!==null&&ut.next!==null;if(fl=0,Ot=ut=Ge=null,fr=!1,Qs=0,Fn=null,t)throw Error(u(300));e===null||zt||(e=e.dependencies,e!==null&&sr(e)&&(zt=!0))}function Yh(e,t,a,n){Ge=e;var s=0;do{if(Wn&&(Fn=null),Qs=0,Wn=!1,25<=s)throw Error(u(301));if(s+=1,Ot=ut=null,e.updateQueue!=null){var i=e.updateQueue;i.lastEffect=null,i.events=null,i.stores=null,i.memoCache!=null&&(i.memoCache.index=0)}D.H=Am,i=t(a,n)}while(Wn);return i}function Zg(){var e=D.H,t=e.useState()[0];return t=typeof t.then=="function"?Zs(t):t,e=e.useState()[0],(ut!==null?ut.memoizedState:null)!==e&&(Ge.flags|=1024),t}function vc(){var e=pr!==0;return pr=0,e}function wc(e,t,a){t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~a}function Nc(e){if(fr){for(e=e.memoizedState;e!==null;){var t=e.queue;t!==null&&(t.pending=null),e=e.next}fr=!1}fl=0,Ot=ut=Ge=null,Wn=!1,Qs=pr=0,Fn=null}function Kt(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Ot===null?Ge.memoizedState=Ot=e:Ot=Ot.next=e,Ot}function _t(){if(ut===null){var e=Ge.alternate;e=e!==null?e.memoizedState:null}else e=ut.next;var t=Ot===null?Ge.memoizedState:Ot.next;if(t!==null)Ot=t,ut=e;else{if(e===null)throw Ge.alternate===null?Error(u(467)):Error(u(310));ut=e,e={memoizedState:ut.memoizedState,baseState:ut.baseState,baseQueue:ut.baseQueue,queue:ut.queue,next:null},Ot===null?Ge.memoizedState=Ot=e:Ot=Ot.next=e}return Ot}function xr(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function Zs(e){var t=Qs;return Qs+=1,Fn===null&&(Fn=[]),e=Oh(Fn,e,t),t=Ge,(Ot===null?t.memoizedState:Ot.next)===null&&(t=t.alternate,D.H=t===null||t.memoizedState===null?km:Oc),e}function gr(e){if(e!==null&&typeof e=="object"){if(typeof e.then=="function")return Zs(e);if(e.$$typeof===be)return Yt(e)}throw Error(u(438,String(e)))}function jc(e){var t=null,a=Ge.updateQueue;if(a!==null&&(t=a.memoCache),t==null){var n=Ge.alternate;n!==null&&(n=n.updateQueue,n!==null&&(n=n.memoCache,n!=null&&(t={data:n.data.map(function(s){return s.slice()}),index:0})))}if(t==null&&(t={data:[],index:0}),a===null&&(a=xr(),Ge.updateQueue=a),a.memoCache=t,a=t.data[t.index],a===void 0)for(a=t.data[t.index]=Array(e),n=0;n<e;n++)a[n]=P;return t.index++,a}function pl(e,t){return typeof t=="function"?t(e):t}function br(e){var t=_t();return Sc(t,ut,e)}function Sc(e,t,a){var n=e.queue;if(n===null)throw Error(u(311));n.lastRenderedReducer=a;var s=e.baseQueue,i=n.pending;if(i!==null){if(s!==null){var d=s.next;s.next=i.next,i.next=d}t.baseQueue=s=i,n.pending=null}if(i=e.baseState,s===null)e.memoizedState=i;else{t=s.next;var p=d=null,S=null,L=t,J=!1;do{var ie=L.lane&-536870913;if(ie!==L.lane?(Je&ie)===ie:(fl&ie)===ie){var B=L.revertLane;if(B===0)S!==null&&(S=S.next={lane:0,revertLane:0,gesture:null,action:L.action,hasEagerState:L.hasEagerState,eagerState:L.eagerState,next:null}),ie===Qn&&(J=!0);else if((fl&B)===B){L=L.next,B===Qn&&(J=!0);continue}else ie={lane:0,revertLane:L.revertLane,gesture:null,action:L.action,hasEagerState:L.hasEagerState,eagerState:L.eagerState,next:null},S===null?(p=S=ie,d=i):S=S.next=ie,Ge.lanes|=B,Il|=B;ie=L.action,wn&&a(i,ie),i=L.hasEagerState?L.eagerState:a(i,ie)}else B={lane:ie,revertLane:L.revertLane,gesture:L.gesture,action:L.action,hasEagerState:L.hasEagerState,eagerState:L.eagerState,next:null},S===null?(p=S=B,d=i):S=S.next=B,Ge.lanes|=ie,Il|=ie;L=L.next}while(L!==null&&L!==t);if(S===null?d=i:S.next=p,!da(i,e.memoizedState)&&(zt=!0,J&&(a=Zn,a!==null)))throw a;e.memoizedState=i,e.baseState=d,e.baseQueue=S,n.lastRenderedState=i}return s===null&&(n.lanes=0),[e.memoizedState,n.dispatch]}function kc(e){var t=_t(),a=t.queue;if(a===null)throw Error(u(311));a.lastRenderedReducer=e;var n=a.dispatch,s=a.pending,i=t.memoizedState;if(s!==null){a.pending=null;var d=s=s.next;do i=e(i,d.action),d=d.next;while(d!==s);da(i,t.memoizedState)||(zt=!0),t.memoizedState=i,t.baseQueue===null&&(t.baseState=i),a.lastRenderedState=i}return[i,n]}function Vh(e,t,a){var n=Ge,s=_t(),i=et;if(i){if(a===void 0)throw Error(u(407));a=a()}else a=t();var d=!da((ut||s).memoizedState,a);if(d&&(s.memoizedState=a,zt=!0),s=s.queue,Ec(Zh.bind(null,n,s,e),[e]),s.getSnapshot!==t||d||Ot!==null&&Ot.memoizedState.tag&1){if(n.flags|=2048,es(9,{destroy:void 0},Qh.bind(null,n,s,a,t),null),mt===null)throw Error(u(349));i||(fl&127)!==0||Xh(n,t,a)}return a}function Xh(e,t,a){e.flags|=16384,e={getSnapshot:t,value:a},t=Ge.updateQueue,t===null?(t=xr(),Ge.updateQueue=t,t.stores=[e]):(a=t.stores,a===null?t.stores=[e]:a.push(e))}function Qh(e,t,a,n){t.value=a,t.getSnapshot=n,Kh(t)&&Ph(e)}function Zh(e,t,a){return a(function(){Kh(t)&&Ph(e)})}function Kh(e){var t=e.getSnapshot;e=e.value;try{var a=t();return!da(e,a)}catch{return!0}}function Ph(e){var t=hn(e,2);t!==null&&ca(t,e,2)}function Ac(e){var t=Kt();if(typeof e=="function"){var a=e;if(e=a(),wn){Qe(!0);try{a()}finally{Qe(!1)}}}return t.memoizedState=t.baseState=e,t.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:pl,lastRenderedState:e},t}function Jh(e,t,a,n){return e.baseState=a,Sc(e,ut,typeof n=="function"?n:pl)}function Kg(e,t,a,n,s){if(wr(e))throw Error(u(485));if(e=t.action,e!==null){var i={payload:s,action:e,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(d){i.listeners.push(d)}};D.T!==null?a(!0):i.isTransition=!1,n(i),a=t.pending,a===null?(i.next=t.pending=i,Wh(t,i)):(i.next=a.next,t.pending=a.next=i)}}function Wh(e,t){var a=t.action,n=t.payload,s=e.state;if(t.isTransition){var i=D.T,d={};D.T=d;try{var p=a(s,n),S=D.S;S!==null&&S(d,p),Fh(e,t,p)}catch(L){Tc(e,t,L)}finally{i!==null&&d.types!==null&&(i.types=d.types),D.T=i}}else try{i=a(s,n),Fh(e,t,i)}catch(L){Tc(e,t,L)}}function Fh(e,t,a){a!==null&&typeof a=="object"&&typeof a.then=="function"?a.then(function(n){em(e,t,n)},function(n){return Tc(e,t,n)}):em(e,t,a)}function em(e,t,a){t.status="fulfilled",t.value=a,tm(t),e.state=a,t=e.pending,t!==null&&(a=t.next,a===t?e.pending=null:(a=a.next,t.next=a,Wh(e,a)))}function Tc(e,t,a){var n=e.pending;if(e.pending=null,n!==null){n=n.next;do t.status="rejected",t.reason=a,tm(t),t=t.next;while(t!==n)}e.action=null}function tm(e){e=e.listeners;for(var t=0;t<e.length;t++)(0,e[t])()}function am(e,t){return t}function lm(e,t){if(et){var a=mt.formState;if(a!==null){e:{var n=Ge;if(et){if(xt){t:{for(var s=xt,i=Da;s.nodeType!==8;){if(!i){s=null;break t}if(s=Ra(s.nextSibling),s===null){s=null;break t}}i=s.data,s=i==="F!"||i==="F"?s:null}if(s){xt=Ra(s.nextSibling),n=s.data==="F!";break e}}Ol(n)}n=!1}n&&(t=a[0])}}return a=Kt(),a.memoizedState=a.baseState=t,n={pending:null,lanes:0,dispatch:null,lastRenderedReducer:am,lastRenderedState:t},a.queue=n,a=Nm.bind(null,Ge,n),n.dispatch=a,n=Ac(!1),i=Rc.bind(null,Ge,!1,n.queue),n=Kt(),s={state:t,dispatch:null,action:e,pending:null},n.queue=s,a=Kg.bind(null,Ge,s,i,a),s.dispatch=a,n.memoizedState=e,[t,a,!1]}function nm(e){var t=_t();return sm(t,ut,e)}function sm(e,t,a){if(t=Sc(e,t,am)[0],e=br(pl)[0],typeof t=="object"&&t!==null&&typeof t.then=="function")try{var n=Zs(t)}catch(d){throw d===Kn?or:d}else n=t;t=_t();var s=t.queue,i=s.dispatch;return a!==t.memoizedState&&(Ge.flags|=2048,es(9,{destroy:void 0},Pg.bind(null,s,a),null)),[n,i,e]}function Pg(e,t){e.action=t}function im(e){var t=_t(),a=ut;if(a!==null)return sm(t,a,e);_t(),t=t.memoizedState,a=_t();var n=a.queue.dispatch;return a.memoizedState=e,[t,n,!1]}function es(e,t,a,n){return e={tag:e,create:a,deps:n,inst:t,next:null},t=Ge.updateQueue,t===null&&(t=xr(),Ge.updateQueue=t),a=t.lastEffect,a===null?t.lastEffect=e.next=e:(n=a.next,a.next=e,e.next=n,t.lastEffect=e),e}function rm(){return _t().memoizedState}function yr(e,t,a,n){var s=Kt();Ge.flags|=e,s.memoizedState=es(1|t,{destroy:void 0},a,n===void 0?null:n)}function vr(e,t,a,n){var s=_t();n=n===void 0?null:n;var i=s.memoizedState.inst;ut!==null&&n!==null&&bc(n,ut.memoizedState.deps)?s.memoizedState=es(t,i,a,n):(Ge.flags|=e,s.memoizedState=es(1|t,i,a,n))}function om(e,t){yr(8390656,8,e,t)}function Ec(e,t){vr(2048,8,e,t)}function Jg(e){Ge.flags|=4;var t=Ge.updateQueue;if(t===null)t=xr(),Ge.updateQueue=t,t.events=[e];else{var a=t.events;a===null?t.events=[e]:a.push(e)}}function cm(e){var t=_t().memoizedState;return Jg({ref:t,nextImpl:e}),function(){if((nt&2)!==0)throw Error(u(440));return t.impl.apply(void 0,arguments)}}function um(e,t){return vr(4,2,e,t)}function dm(e,t){return vr(4,4,e,t)}function hm(e,t){if(typeof t=="function"){e=e();var a=t(e);return function(){typeof a=="function"?a():t(null)}}if(t!=null)return e=e(),t.current=e,function(){t.current=null}}function mm(e,t,a){a=a!=null?a.concat([e]):null,vr(4,4,hm.bind(null,t,e),a)}function Cc(){}function fm(e,t){var a=_t();t=t===void 0?null:t;var n=a.memoizedState;return t!==null&&bc(t,n[1])?n[0]:(a.memoizedState=[e,t],e)}function pm(e,t){var a=_t();t=t===void 0?null:t;var n=a.memoizedState;if(t!==null&&bc(t,n[1]))return n[0];if(n=e(),wn){Qe(!0);try{e()}finally{Qe(!1)}}return a.memoizedState=[n,t],n}function _c(e,t,a){return a===void 0||(fl&1073741824)!==0&&(Je&261930)===0?e.memoizedState=t:(e.memoizedState=a,e=gf(),Ge.lanes|=e,Il|=e,a)}function xm(e,t,a,n){return da(a,t)?a:Jn.current!==null?(e=_c(e,a,n),da(e,t)||(zt=!0),e):(fl&42)===0||(fl&1073741824)!==0&&(Je&261930)===0?(zt=!0,e.memoizedState=a):(e=gf(),Ge.lanes|=e,Il|=e,t)}function gm(e,t,a,n,s){var i=Z.p;Z.p=i!==0&&8>i?i:8;var d=D.T,p={};D.T=p,Rc(e,!1,t,a);try{var S=s(),L=D.S;if(L!==null&&L(p,S),S!==null&&typeof S=="object"&&typeof S.then=="function"){var J=Xg(S,n);Ks(e,t,J,ga(e))}else Ks(e,t,n,ga(e))}catch(ie){Ks(e,t,{then:function(){},status:"rejected",reason:ie},ga())}finally{Z.p=i,d!==null&&p.types!==null&&(d.types=p.types),D.T=d}}function Wg(){}function Dc(e,t,a,n){if(e.tag!==5)throw Error(u(476));var s=bm(e).queue;gm(e,s,t,he,a===null?Wg:function(){return ym(e),a(n)})}function bm(e){var t=e.memoizedState;if(t!==null)return t;t={memoizedState:he,baseState:he,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:pl,lastRenderedState:he},next:null};var a={};return t.next={memoizedState:a,baseState:a,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:pl,lastRenderedState:a},next:null},e.memoizedState=t,e=e.alternate,e!==null&&(e.memoizedState=t),t}function ym(e){var t=bm(e);t.next===null&&(t=e.alternate.memoizedState),Ks(e,t.next.queue,{},ga())}function Mc(){return Yt(hi)}function vm(){return _t().memoizedState}function wm(){return _t().memoizedState}function Fg(e){for(var t=e.return;t!==null;){switch(t.tag){case 24:case 3:var a=ga();e=Ul(a);var n=Bl(t,e,a);n!==null&&(ca(n,t,a),Ys(n,t,a)),t={cache:rc()},e.payload=t;return}t=t.return}}function e0(e,t,a){var n=ga();a={lane:n,revertLane:0,gesture:null,action:a,hasEagerState:!1,eagerState:null,next:null},wr(e)?jm(t,a):(a=Po(e,t,a,n),a!==null&&(ca(a,e,n),Sm(a,t,n)))}function Nm(e,t,a){var n=ga();Ks(e,t,a,n)}function Ks(e,t,a,n){var s={lane:n,revertLane:0,gesture:null,action:a,hasEagerState:!1,eagerState:null,next:null};if(wr(e))jm(t,s);else{var i=e.alternate;if(e.lanes===0&&(i===null||i.lanes===0)&&(i=t.lastRenderedReducer,i!==null))try{var d=t.lastRenderedState,p=i(d,a);if(s.hasEagerState=!0,s.eagerState=p,da(p,d))return tr(e,t,s,0),mt===null&&er(),!1}catch{}finally{}if(a=Po(e,t,s,n),a!==null)return ca(a,e,n),Sm(a,t,n),!0}return!1}function Rc(e,t,a,n){if(n={lane:2,revertLane:du(),gesture:null,action:n,hasEagerState:!1,eagerState:null,next:null},wr(e)){if(t)throw Error(u(479))}else t=Po(e,a,n,2),t!==null&&ca(t,e,2)}function wr(e){var t=e.alternate;return e===Ge||t!==null&&t===Ge}function jm(e,t){Wn=fr=!0;var a=e.pending;a===null?t.next=t:(t.next=a.next,a.next=t),e.pending=t}function Sm(e,t,a){if((a&4194048)!==0){var n=t.lanes;n&=e.pendingLanes,a|=n,t.lanes=a,Ss(e,a)}}var Ps={readContext:Yt,use:gr,useCallback:Tt,useContext:Tt,useEffect:Tt,useImperativeHandle:Tt,useLayoutEffect:Tt,useInsertionEffect:Tt,useMemo:Tt,useReducer:Tt,useRef:Tt,useState:Tt,useDebugValue:Tt,useDeferredValue:Tt,useTransition:Tt,useSyncExternalStore:Tt,useId:Tt,useHostTransitionStatus:Tt,useFormState:Tt,useActionState:Tt,useOptimistic:Tt,useMemoCache:Tt,useCacheRefresh:Tt};Ps.useEffectEvent=Tt;var km={readContext:Yt,use:gr,useCallback:function(e,t){return Kt().memoizedState=[e,t===void 0?null:t],e},useContext:Yt,useEffect:om,useImperativeHandle:function(e,t,a){a=a!=null?a.concat([e]):null,yr(4194308,4,hm.bind(null,t,e),a)},useLayoutEffect:function(e,t){return yr(4194308,4,e,t)},useInsertionEffect:function(e,t){yr(4,2,e,t)},useMemo:function(e,t){var a=Kt();t=t===void 0?null:t;var n=e();if(wn){Qe(!0);try{e()}finally{Qe(!1)}}return a.memoizedState=[n,t],n},useReducer:function(e,t,a){var n=Kt();if(a!==void 0){var s=a(t);if(wn){Qe(!0);try{a(t)}finally{Qe(!1)}}}else s=t;return n.memoizedState=n.baseState=s,e={pending:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:s},n.queue=e,e=e.dispatch=e0.bind(null,Ge,e),[n.memoizedState,e]},useRef:function(e){var t=Kt();return e={current:e},t.memoizedState=e},useState:function(e){e=Ac(e);var t=e.queue,a=Nm.bind(null,Ge,t);return t.dispatch=a,[e.memoizedState,a]},useDebugValue:Cc,useDeferredValue:function(e,t){var a=Kt();return _c(a,e,t)},useTransition:function(){var e=Ac(!1);return e=gm.bind(null,Ge,e.queue,!0,!1),Kt().memoizedState=e,[!1,e]},useSyncExternalStore:function(e,t,a){var n=Ge,s=Kt();if(et){if(a===void 0)throw Error(u(407));a=a()}else{if(a=t(),mt===null)throw Error(u(349));(Je&127)!==0||Xh(n,t,a)}s.memoizedState=a;var i={value:a,getSnapshot:t};return s.queue=i,om(Zh.bind(null,n,i,e),[e]),n.flags|=2048,es(9,{destroy:void 0},Qh.bind(null,n,i,a,t),null),a},useId:function(){var e=Kt(),t=mt.identifierPrefix;if(et){var a=Pa,n=Ka;a=(n&~(1<<32-me(n)-1)).toString(32)+a,t="_"+t+"R_"+a,a=pr++,0<a&&(t+="H"+a.toString(32)),t+="_"}else a=Qg++,t="_"+t+"r_"+a.toString(32)+"_";return e.memoizedState=t},useHostTransitionStatus:Mc,useFormState:lm,useActionState:lm,useOptimistic:function(e){var t=Kt();t.memoizedState=t.baseState=e;var a={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return t.queue=a,t=Rc.bind(null,Ge,!0,a),a.dispatch=t,[e,t]},useMemoCache:jc,useCacheRefresh:function(){return Kt().memoizedState=Fg.bind(null,Ge)},useEffectEvent:function(e){var t=Kt(),a={impl:e};return t.memoizedState=a,function(){if((nt&2)!==0)throw Error(u(440));return a.impl.apply(void 0,arguments)}}},Oc={readContext:Yt,use:gr,useCallback:fm,useContext:Yt,useEffect:Ec,useImperativeHandle:mm,useInsertionEffect:um,useLayoutEffect:dm,useMemo:pm,useReducer:br,useRef:rm,useState:function(){return br(pl)},useDebugValue:Cc,useDeferredValue:function(e,t){var a=_t();return xm(a,ut.memoizedState,e,t)},useTransition:function(){var e=br(pl)[0],t=_t().memoizedState;return[typeof e=="boolean"?e:Zs(e),t]},useSyncExternalStore:Vh,useId:vm,useHostTransitionStatus:Mc,useFormState:nm,useActionState:nm,useOptimistic:function(e,t){var a=_t();return Jh(a,ut,e,t)},useMemoCache:jc,useCacheRefresh:wm};Oc.useEffectEvent=cm;var Am={readContext:Yt,use:gr,useCallback:fm,useContext:Yt,useEffect:Ec,useImperativeHandle:mm,useInsertionEffect:um,useLayoutEffect:dm,useMemo:pm,useReducer:kc,useRef:rm,useState:function(){return kc(pl)},useDebugValue:Cc,useDeferredValue:function(e,t){var a=_t();return ut===null?_c(a,e,t):xm(a,ut.memoizedState,e,t)},useTransition:function(){var e=kc(pl)[0],t=_t().memoizedState;return[typeof e=="boolean"?e:Zs(e),t]},useSyncExternalStore:Vh,useId:vm,useHostTransitionStatus:Mc,useFormState:im,useActionState:im,useOptimistic:function(e,t){var a=_t();return ut!==null?Jh(a,ut,e,t):(a.baseState=e,[e,a.queue.dispatch])},useMemoCache:jc,useCacheRefresh:wm};Am.useEffectEvent=cm;function zc(e,t,a,n){t=e.memoizedState,a=a(n,t),a=a==null?t:_({},t,a),e.memoizedState=a,e.lanes===0&&(e.updateQueue.baseState=a)}var Lc={enqueueSetState:function(e,t,a){e=e._reactInternals;var n=ga(),s=Ul(n);s.payload=t,a!=null&&(s.callback=a),t=Bl(e,s,n),t!==null&&(ca(t,e,n),Ys(t,e,n))},enqueueReplaceState:function(e,t,a){e=e._reactInternals;var n=ga(),s=Ul(n);s.tag=1,s.payload=t,a!=null&&(s.callback=a),t=Bl(e,s,n),t!==null&&(ca(t,e,n),Ys(t,e,n))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var a=ga(),n=Ul(a);n.tag=2,t!=null&&(n.callback=t),t=Bl(e,n,a),t!==null&&(ca(t,e,a),Ys(t,e,a))}};function Tm(e,t,a,n,s,i,d){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(n,i,d):t.prototype&&t.prototype.isPureReactComponent?!Ls(a,n)||!Ls(s,i):!0}function Em(e,t,a,n){e=t.state,typeof t.componentWillReceiveProps=="function"&&t.componentWillReceiveProps(a,n),typeof t.UNSAFE_componentWillReceiveProps=="function"&&t.UNSAFE_componentWillReceiveProps(a,n),t.state!==e&&Lc.enqueueReplaceState(t,t.state,null)}function Nn(e,t){var a=t;if("ref"in t){a={};for(var n in t)n!=="ref"&&(a[n]=t[n])}if(e=e.defaultProps){a===t&&(a=_({},a));for(var s in e)a[s]===void 0&&(a[s]=e[s])}return a}function Cm(e){Fi(e)}function _m(e){console.error(e)}function Dm(e){Fi(e)}function Nr(e,t){try{var a=e.onUncaughtError;a(t.value,{componentStack:t.stack})}catch(n){setTimeout(function(){throw n})}}function Mm(e,t,a){try{var n=e.onCaughtError;n(a.value,{componentStack:a.stack,errorBoundary:t.tag===1?t.stateNode:null})}catch(s){setTimeout(function(){throw s})}}function Uc(e,t,a){return a=Ul(a),a.tag=3,a.payload={element:null},a.callback=function(){Nr(e,t)},a}function Rm(e){return e=Ul(e),e.tag=3,e}function Om(e,t,a,n){var s=a.type.getDerivedStateFromError;if(typeof s=="function"){var i=n.value;e.payload=function(){return s(i)},e.callback=function(){Mm(t,a,n)}}var d=a.stateNode;d!==null&&typeof d.componentDidCatch=="function"&&(e.callback=function(){Mm(t,a,n),typeof s!="function"&&(Yl===null?Yl=new Set([this]):Yl.add(this));var p=n.stack;this.componentDidCatch(n.value,{componentStack:p!==null?p:""})})}function t0(e,t,a,n,s){if(a.flags|=32768,n!==null&&typeof n=="object"&&typeof n.then=="function"){if(t=a.alternate,t!==null&&Xn(t,a,s,!0),a=ma.current,a!==null){switch(a.tag){case 31:case 13:return Ma===null?Or():a.alternate===null&&Et===0&&(Et=3),a.flags&=-257,a.flags|=65536,a.lanes=s,n===cr?a.flags|=16384:(t=a.updateQueue,t===null?a.updateQueue=new Set([n]):t.add(n),ou(e,n,s)),!1;case 22:return a.flags|=65536,n===cr?a.flags|=16384:(t=a.updateQueue,t===null?(t={transitions:null,markerInstances:null,retryQueue:new Set([n])},a.updateQueue=t):(a=t.retryQueue,a===null?t.retryQueue=new Set([n]):a.add(n)),ou(e,n,s)),!1}throw Error(u(435,a.tag))}return ou(e,n,s),Or(),!1}if(et)return t=ma.current,t!==null?((t.flags&65536)===0&&(t.flags|=256),t.flags|=65536,t.lanes=s,n!==ac&&(e=Error(u(422),{cause:n}),$s(Ea(e,a)))):(n!==ac&&(t=Error(u(423),{cause:n}),$s(Ea(t,a))),e=e.current.alternate,e.flags|=65536,s&=-s,e.lanes|=s,n=Ea(n,a),s=Uc(e.stateNode,n,s),mc(e,s),Et!==4&&(Et=2)),!1;var i=Error(u(520),{cause:n});if(i=Ea(i,a),ni===null?ni=[i]:ni.push(i),Et!==4&&(Et=2),t===null)return!0;n=Ea(n,a),a=t;do{switch(a.tag){case 3:return a.flags|=65536,e=s&-s,a.lanes|=e,e=Uc(a.stateNode,n,e),mc(a,e),!1;case 1:if(t=a.type,i=a.stateNode,(a.flags&128)===0&&(typeof t.getDerivedStateFromError=="function"||i!==null&&typeof i.componentDidCatch=="function"&&(Yl===null||!Yl.has(i))))return a.flags|=65536,s&=-s,a.lanes|=s,s=Rm(s),Om(s,e,a,n),mc(a,s),!1}a=a.return}while(a!==null);return!1}var Bc=Error(u(461)),zt=!1;function Vt(e,t,a,n){t.child=e===null?Bh(t,null,a,n):vn(t,e.child,a,n)}function zm(e,t,a,n,s){a=a.render;var i=t.ref;if("ref"in n){var d={};for(var p in n)p!=="ref"&&(d[p]=n[p])}else d=n;return xn(t),n=yc(e,t,a,d,i,s),p=vc(),e!==null&&!zt?(wc(e,t,s),xl(e,t,s)):(et&&p&&ec(t),t.flags|=1,Vt(e,t,n,s),t.child)}function Lm(e,t,a,n,s){if(e===null){var i=a.type;return typeof i=="function"&&!Jo(i)&&i.defaultProps===void 0&&a.compare===null?(t.tag=15,t.type=i,Um(e,t,i,n,s)):(e=lr(a.type,null,n,t,t.mode,s),e.ref=t.ref,e.return=t,t.child=e)}if(i=e.child,!Xc(e,s)){var d=i.memoizedProps;if(a=a.compare,a=a!==null?a:Ls,a(d,n)&&e.ref===t.ref)return xl(e,t,s)}return t.flags|=1,e=ul(i,n),e.ref=t.ref,e.return=t,t.child=e}function Um(e,t,a,n,s){if(e!==null){var i=e.memoizedProps;if(Ls(i,n)&&e.ref===t.ref)if(zt=!1,t.pendingProps=n=i,Xc(e,s))(e.flags&131072)!==0&&(zt=!0);else return t.lanes=e.lanes,xl(e,t,s)}return $c(e,t,a,n,s)}function Bm(e,t,a,n){var s=n.children,i=e!==null?e.memoizedState:null;if(e===null&&t.stateNode===null&&(t.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),n.mode==="hidden"){if((t.flags&128)!==0){if(i=i!==null?i.baseLanes|a:a,e!==null){for(n=t.child=e.child,s=0;n!==null;)s=s|n.lanes|n.childLanes,n=n.sibling;n=s&~i}else n=0,t.child=null;return $m(e,t,i,a,n)}if((a&536870912)!==0)t.memoizedState={baseLanes:0,cachePool:null},e!==null&&rr(t,i!==null?i.cachePool:null),i!==null?Gh(t,i):pc(),qh(t);else return n=t.lanes=536870912,$m(e,t,i!==null?i.baseLanes|a:a,a,n)}else i!==null?(rr(t,i.cachePool),Gh(t,i),Hl(),t.memoizedState=null):(e!==null&&rr(t,null),pc(),Hl());return Vt(e,t,s,a),t.child}function Js(e,t){return e!==null&&e.tag===22||t.stateNode!==null||(t.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),t.sibling}function $m(e,t,a,n,s){var i=cc();return i=i===null?null:{parent:Rt._currentValue,pool:i},t.memoizedState={baseLanes:a,cachePool:i},e!==null&&rr(t,null),pc(),qh(t),e!==null&&Xn(e,t,n,!0),t.childLanes=s,null}function jr(e,t){return t=kr({mode:t.mode,children:t.children},e.mode),t.ref=e.ref,e.child=t,t.return=e,t}function Hm(e,t,a){return vn(t,e.child,null,a),e=jr(t,t.pendingProps),e.flags|=2,fa(t),t.memoizedState=null,e}function a0(e,t,a){var n=t.pendingProps,s=(t.flags&128)!==0;if(t.flags&=-129,e===null){if(et){if(n.mode==="hidden")return e=jr(t,n),t.lanes=536870912,Js(null,e);if(gc(t),(e=xt)?(e=Ff(e,Da),e=e!==null&&e.data==="&"?e:null,e!==null&&(t.memoizedState={dehydrated:e,treeContext:Ml!==null?{id:Ka,overflow:Pa}:null,retryLane:536870912,hydrationErrors:null},a=jh(e),a.return=t,t.child=a,It=t,xt=null)):e=null,e===null)throw Ol(t);return t.lanes=536870912,null}return jr(t,n)}var i=e.memoizedState;if(i!==null){var d=i.dehydrated;if(gc(t),s)if(t.flags&256)t.flags&=-257,t=Hm(e,t,a);else if(t.memoizedState!==null)t.child=e.child,t.flags|=128,t=null;else throw Error(u(558));else if(zt||Xn(e,t,a,!1),s=(a&e.childLanes)!==0,zt||s){if(n=mt,n!==null&&(d=$i(n,a),d!==0&&d!==i.retryLane))throw i.retryLane=d,hn(e,d),ca(n,e,d),Bc;Or(),t=Hm(e,t,a)}else e=i.treeContext,xt=Ra(d.nextSibling),It=t,et=!0,Rl=null,Da=!1,e!==null&&Ah(t,e),t=jr(t,n),t.flags|=4096;return t}return e=ul(e.child,{mode:n.mode,children:n.children}),e.ref=t.ref,t.child=e,e.return=t,e}function Sr(e,t){var a=t.ref;if(a===null)e!==null&&e.ref!==null&&(t.flags|=4194816);else{if(typeof a!="function"&&typeof a!="object")throw Error(u(284));(e===null||e.ref!==a)&&(t.flags|=4194816)}}function $c(e,t,a,n,s){return xn(t),a=yc(e,t,a,n,void 0,s),n=vc(),e!==null&&!zt?(wc(e,t,s),xl(e,t,s)):(et&&n&&ec(t),t.flags|=1,Vt(e,t,a,s),t.child)}function Gm(e,t,a,n,s,i){return xn(t),t.updateQueue=null,a=Yh(t,n,a,s),Ih(e),n=vc(),e!==null&&!zt?(wc(e,t,i),xl(e,t,i)):(et&&n&&ec(t),t.flags|=1,Vt(e,t,a,i),t.child)}function qm(e,t,a,n,s){if(xn(t),t.stateNode===null){var i=qn,d=a.contextType;typeof d=="object"&&d!==null&&(i=Yt(d)),i=new a(n,i),t.memoizedState=i.state!==null&&i.state!==void 0?i.state:null,i.updater=Lc,t.stateNode=i,i._reactInternals=t,i=t.stateNode,i.props=n,i.state=t.memoizedState,i.refs={},dc(t),d=a.contextType,i.context=typeof d=="object"&&d!==null?Yt(d):qn,i.state=t.memoizedState,d=a.getDerivedStateFromProps,typeof d=="function"&&(zc(t,a,d,n),i.state=t.memoizedState),typeof a.getDerivedStateFromProps=="function"||typeof i.getSnapshotBeforeUpdate=="function"||typeof i.UNSAFE_componentWillMount!="function"&&typeof i.componentWillMount!="function"||(d=i.state,typeof i.componentWillMount=="function"&&i.componentWillMount(),typeof i.UNSAFE_componentWillMount=="function"&&i.UNSAFE_componentWillMount(),d!==i.state&&Lc.enqueueReplaceState(i,i.state,null),Xs(t,n,i,s),Vs(),i.state=t.memoizedState),typeof i.componentDidMount=="function"&&(t.flags|=4194308),n=!0}else if(e===null){i=t.stateNode;var p=t.memoizedProps,S=Nn(a,p);i.props=S;var L=i.context,J=a.contextType;d=qn,typeof J=="object"&&J!==null&&(d=Yt(J));var ie=a.getDerivedStateFromProps;J=typeof ie=="function"||typeof i.getSnapshotBeforeUpdate=="function",p=t.pendingProps!==p,J||typeof i.UNSAFE_componentWillReceiveProps!="function"&&typeof i.componentWillReceiveProps!="function"||(p||L!==d)&&Em(t,i,n,d),Ll=!1;var B=t.memoizedState;i.state=B,Xs(t,n,i,s),Vs(),L=t.memoizedState,p||B!==L||Ll?(typeof ie=="function"&&(zc(t,a,ie,n),L=t.memoizedState),(S=Ll||Tm(t,a,S,n,B,L,d))?(J||typeof i.UNSAFE_componentWillMount!="function"&&typeof i.componentWillMount!="function"||(typeof i.componentWillMount=="function"&&i.componentWillMount(),typeof i.UNSAFE_componentWillMount=="function"&&i.UNSAFE_componentWillMount()),typeof i.componentDidMount=="function"&&(t.flags|=4194308)):(typeof i.componentDidMount=="function"&&(t.flags|=4194308),t.memoizedProps=n,t.memoizedState=L),i.props=n,i.state=L,i.context=d,n=S):(typeof i.componentDidMount=="function"&&(t.flags|=4194308),n=!1)}else{i=t.stateNode,hc(e,t),d=t.memoizedProps,J=Nn(a,d),i.props=J,ie=t.pendingProps,B=i.context,L=a.contextType,S=qn,typeof L=="object"&&L!==null&&(S=Yt(L)),p=a.getDerivedStateFromProps,(L=typeof p=="function"||typeof i.getSnapshotBeforeUpdate=="function")||typeof i.UNSAFE_componentWillReceiveProps!="function"&&typeof i.componentWillReceiveProps!="function"||(d!==ie||B!==S)&&Em(t,i,n,S),Ll=!1,B=t.memoizedState,i.state=B,Xs(t,n,i,s),Vs();var Y=t.memoizedState;d!==ie||B!==Y||Ll||e!==null&&e.dependencies!==null&&sr(e.dependencies)?(typeof p=="function"&&(zc(t,a,p,n),Y=t.memoizedState),(J=Ll||Tm(t,a,J,n,B,Y,S)||e!==null&&e.dependencies!==null&&sr(e.dependencies))?(L||typeof i.UNSAFE_componentWillUpdate!="function"&&typeof i.componentWillUpdate!="function"||(typeof i.componentWillUpdate=="function"&&i.componentWillUpdate(n,Y,S),typeof i.UNSAFE_componentWillUpdate=="function"&&i.UNSAFE_componentWillUpdate(n,Y,S)),typeof i.componentDidUpdate=="function"&&(t.flags|=4),typeof i.getSnapshotBeforeUpdate=="function"&&(t.flags|=1024)):(typeof i.componentDidUpdate!="function"||d===e.memoizedProps&&B===e.memoizedState||(t.flags|=4),typeof i.getSnapshotBeforeUpdate!="function"||d===e.memoizedProps&&B===e.memoizedState||(t.flags|=1024),t.memoizedProps=n,t.memoizedState=Y),i.props=n,i.state=Y,i.context=S,n=J):(typeof i.componentDidUpdate!="function"||d===e.memoizedProps&&B===e.memoizedState||(t.flags|=4),typeof i.getSnapshotBeforeUpdate!="function"||d===e.memoizedProps&&B===e.memoizedState||(t.flags|=1024),n=!1)}return i=n,Sr(e,t),n=(t.flags&128)!==0,i||n?(i=t.stateNode,a=n&&typeof a.getDerivedStateFromError!="function"?null:i.render(),t.flags|=1,e!==null&&n?(t.child=vn(t,e.child,null,s),t.child=vn(t,null,a,s)):Vt(e,t,a,s),t.memoizedState=i.state,e=t.child):e=xl(e,t,s),e}function Im(e,t,a,n){return fn(),t.flags|=256,Vt(e,t,a,n),t.child}var Hc={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function Gc(e){return{baseLanes:e,cachePool:Mh()}}function qc(e,t,a){return e=e!==null?e.childLanes&~a:0,t&&(e|=xa),e}function Ym(e,t,a){var n=t.pendingProps,s=!1,i=(t.flags&128)!==0,d;if((d=i)||(d=e!==null&&e.memoizedState===null?!1:(Ct.current&2)!==0),d&&(s=!0,t.flags&=-129),d=(t.flags&32)!==0,t.flags&=-33,e===null){if(et){if(s?$l(t):Hl(),(e=xt)?(e=Ff(e,Da),e=e!==null&&e.data!=="&"?e:null,e!==null&&(t.memoizedState={dehydrated:e,treeContext:Ml!==null?{id:Ka,overflow:Pa}:null,retryLane:536870912,hydrationErrors:null},a=jh(e),a.return=t,t.child=a,It=t,xt=null)):e=null,e===null)throw Ol(t);return Su(e)?t.lanes=32:t.lanes=536870912,null}var p=n.children;return n=n.fallback,s?(Hl(),s=t.mode,p=kr({mode:"hidden",children:p},s),n=mn(n,s,a,null),p.return=t,n.return=t,p.sibling=n,t.child=p,n=t.child,n.memoizedState=Gc(a),n.childLanes=qc(e,d,a),t.memoizedState=Hc,Js(null,n)):($l(t),Ic(t,p))}var S=e.memoizedState;if(S!==null&&(p=S.dehydrated,p!==null)){if(i)t.flags&256?($l(t),t.flags&=-257,t=Yc(e,t,a)):t.memoizedState!==null?(Hl(),t.child=e.child,t.flags|=128,t=null):(Hl(),p=n.fallback,s=t.mode,n=kr({mode:"visible",children:n.children},s),p=mn(p,s,a,null),p.flags|=2,n.return=t,p.return=t,n.sibling=p,t.child=n,vn(t,e.child,null,a),n=t.child,n.memoizedState=Gc(a),n.childLanes=qc(e,d,a),t.memoizedState=Hc,t=Js(null,n));else if($l(t),Su(p)){if(d=p.nextSibling&&p.nextSibling.dataset,d)var L=d.dgst;d=L,n=Error(u(419)),n.stack="",n.digest=d,$s({value:n,source:null,stack:null}),t=Yc(e,t,a)}else if(zt||Xn(e,t,a,!1),d=(a&e.childLanes)!==0,zt||d){if(d=mt,d!==null&&(n=$i(d,a),n!==0&&n!==S.retryLane))throw S.retryLane=n,hn(e,n),ca(d,e,n),Bc;ju(p)||Or(),t=Yc(e,t,a)}else ju(p)?(t.flags|=192,t.child=e.child,t=null):(e=S.treeContext,xt=Ra(p.nextSibling),It=t,et=!0,Rl=null,Da=!1,e!==null&&Ah(t,e),t=Ic(t,n.children),t.flags|=4096);return t}return s?(Hl(),p=n.fallback,s=t.mode,S=e.child,L=S.sibling,n=ul(S,{mode:"hidden",children:n.children}),n.subtreeFlags=S.subtreeFlags&65011712,L!==null?p=ul(L,p):(p=mn(p,s,a,null),p.flags|=2),p.return=t,n.return=t,n.sibling=p,t.child=n,Js(null,n),n=t.child,p=e.child.memoizedState,p===null?p=Gc(a):(s=p.cachePool,s!==null?(S=Rt._currentValue,s=s.parent!==S?{parent:S,pool:S}:s):s=Mh(),p={baseLanes:p.baseLanes|a,cachePool:s}),n.memoizedState=p,n.childLanes=qc(e,d,a),t.memoizedState=Hc,Js(e.child,n)):($l(t),a=e.child,e=a.sibling,a=ul(a,{mode:"visible",children:n.children}),a.return=t,a.sibling=null,e!==null&&(d=t.deletions,d===null?(t.deletions=[e],t.flags|=16):d.push(e)),t.child=a,t.memoizedState=null,a)}function Ic(e,t){return t=kr({mode:"visible",children:t},e.mode),t.return=e,e.child=t}function kr(e,t){return e=ha(22,e,null,t),e.lanes=0,e}function Yc(e,t,a){return vn(t,e.child,null,a),e=Ic(t,t.pendingProps.children),e.flags|=2,t.memoizedState=null,e}function Vm(e,t,a){e.lanes|=t;var n=e.alternate;n!==null&&(n.lanes|=t),sc(e.return,t,a)}function Vc(e,t,a,n,s,i){var d=e.memoizedState;d===null?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:n,tail:a,tailMode:s,treeForkCount:i}:(d.isBackwards=t,d.rendering=null,d.renderingStartTime=0,d.last=n,d.tail=a,d.tailMode=s,d.treeForkCount=i)}function Xm(e,t,a){var n=t.pendingProps,s=n.revealOrder,i=n.tail;n=n.children;var d=Ct.current,p=(d&2)!==0;if(p?(d=d&1|2,t.flags|=128):d&=1,I(Ct,d),Vt(e,t,n,a),n=et?Bs:0,!p&&e!==null&&(e.flags&128)!==0)e:for(e=t.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&Vm(e,a,t);else if(e.tag===19)Vm(e,a,t);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;e.sibling===null;){if(e.return===null||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}switch(s){case"forwards":for(a=t.child,s=null;a!==null;)e=a.alternate,e!==null&&mr(e)===null&&(s=a),a=a.sibling;a=s,a===null?(s=t.child,t.child=null):(s=a.sibling,a.sibling=null),Vc(t,!1,s,a,i,n);break;case"backwards":case"unstable_legacy-backwards":for(a=null,s=t.child,t.child=null;s!==null;){if(e=s.alternate,e!==null&&mr(e)===null){t.child=s;break}e=s.sibling,s.sibling=a,a=s,s=e}Vc(t,!0,a,null,i,n);break;case"together":Vc(t,!1,null,null,void 0,n);break;default:t.memoizedState=null}return t.child}function xl(e,t,a){if(e!==null&&(t.dependencies=e.dependencies),Il|=t.lanes,(a&t.childLanes)===0)if(e!==null){if(Xn(e,t,a,!1),(a&t.childLanes)===0)return null}else return null;if(e!==null&&t.child!==e.child)throw Error(u(153));if(t.child!==null){for(e=t.child,a=ul(e,e.pendingProps),t.child=a,a.return=t;e.sibling!==null;)e=e.sibling,a=a.sibling=ul(e,e.pendingProps),a.return=t;a.sibling=null}return t.child}function Xc(e,t){return(e.lanes&t)!==0?!0:(e=e.dependencies,!!(e!==null&&sr(e)))}function l0(e,t,a){switch(t.tag){case 3:se(t,t.stateNode.containerInfo),zl(t,Rt,e.memoizedState.cache),fn();break;case 27:case 5:N(t);break;case 4:se(t,t.stateNode.containerInfo);break;case 10:zl(t,t.type,t.memoizedProps.value);break;case 31:if(t.memoizedState!==null)return t.flags|=128,gc(t),null;break;case 13:var n=t.memoizedState;if(n!==null)return n.dehydrated!==null?($l(t),t.flags|=128,null):(a&t.child.childLanes)!==0?Ym(e,t,a):($l(t),e=xl(e,t,a),e!==null?e.sibling:null);$l(t);break;case 19:var s=(e.flags&128)!==0;if(n=(a&t.childLanes)!==0,n||(Xn(e,t,a,!1),n=(a&t.childLanes)!==0),s){if(n)return Xm(e,t,a);t.flags|=128}if(s=t.memoizedState,s!==null&&(s.rendering=null,s.tail=null,s.lastEffect=null),I(Ct,Ct.current),n)break;return null;case 22:return t.lanes=0,Bm(e,t,a,t.pendingProps);case 24:zl(t,Rt,e.memoizedState.cache)}return xl(e,t,a)}function Qm(e,t,a){if(e!==null)if(e.memoizedProps!==t.pendingProps)zt=!0;else{if(!Xc(e,a)&&(t.flags&128)===0)return zt=!1,l0(e,t,a);zt=(e.flags&131072)!==0}else zt=!1,et&&(t.flags&1048576)!==0&&kh(t,Bs,t.index);switch(t.lanes=0,t.tag){case 16:e:{var n=t.pendingProps;if(e=bn(t.elementType),t.type=e,typeof e=="function")Jo(e)?(n=Nn(e,n),t.tag=1,t=qm(null,t,e,n,a)):(t.tag=0,t=$c(null,t,e,n,a));else{if(e!=null){var s=e.$$typeof;if(s===ye){t.tag=11,t=zm(null,t,e,n,a);break e}else if(s===U){t.tag=14,t=Lm(null,t,e,n,a);break e}}throw t=W(e)||e,Error(u(306,t,""))}}return t;case 0:return $c(e,t,t.type,t.pendingProps,a);case 1:return n=t.type,s=Nn(n,t.pendingProps),qm(e,t,n,s,a);case 3:e:{if(se(t,t.stateNode.containerInfo),e===null)throw Error(u(387));n=t.pendingProps;var i=t.memoizedState;s=i.element,hc(e,t),Xs(t,n,null,a);var d=t.memoizedState;if(n=d.cache,zl(t,Rt,n),n!==i.cache&&ic(t,[Rt],a,!0),Vs(),n=d.element,i.isDehydrated)if(i={element:n,isDehydrated:!1,cache:d.cache},t.updateQueue.baseState=i,t.memoizedState=i,t.flags&256){t=Im(e,t,n,a);break e}else if(n!==s){s=Ea(Error(u(424)),t),$s(s),t=Im(e,t,n,a);break e}else{switch(e=t.stateNode.containerInfo,e.nodeType){case 9:e=e.body;break;default:e=e.nodeName==="HTML"?e.ownerDocument.body:e}for(xt=Ra(e.firstChild),It=t,et=!0,Rl=null,Da=!0,a=Bh(t,null,n,a),t.child=a;a;)a.flags=a.flags&-3|4096,a=a.sibling}else{if(fn(),n===s){t=xl(e,t,a);break e}Vt(e,t,n,a)}t=t.child}return t;case 26:return Sr(e,t),e===null?(a=sp(t.type,null,t.pendingProps,null))?t.memoizedState=a:et||(a=t.type,e=t.pendingProps,n=Gr(k.current).createElement(a),n[Mt]=t,n[Nt]=e,Xt(n,a,e),Ve(n),t.stateNode=n):t.memoizedState=sp(t.type,e.memoizedProps,t.pendingProps,e.memoizedState),null;case 27:return N(t),e===null&&et&&(n=t.stateNode=ap(t.type,t.pendingProps,k.current),It=t,Da=!0,s=xt,Zl(t.type)?(ku=s,xt=Ra(n.firstChild)):xt=s),Vt(e,t,t.pendingProps.children,a),Sr(e,t),e===null&&(t.flags|=4194304),t.child;case 5:return e===null&&et&&((s=n=xt)&&(n=R0(n,t.type,t.pendingProps,Da),n!==null?(t.stateNode=n,It=t,xt=Ra(n.firstChild),Da=!1,s=!0):s=!1),s||Ol(t)),N(t),s=t.type,i=t.pendingProps,d=e!==null?e.memoizedProps:null,n=i.children,vu(s,i)?n=null:d!==null&&vu(s,d)&&(t.flags|=32),t.memoizedState!==null&&(s=yc(e,t,Zg,null,null,a),hi._currentValue=s),Sr(e,t),Vt(e,t,n,a),t.child;case 6:return e===null&&et&&((e=a=xt)&&(a=O0(a,t.pendingProps,Da),a!==null?(t.stateNode=a,It=t,xt=null,e=!0):e=!1),e||Ol(t)),null;case 13:return Ym(e,t,a);case 4:return se(t,t.stateNode.containerInfo),n=t.pendingProps,e===null?t.child=vn(t,null,n,a):Vt(e,t,n,a),t.child;case 11:return zm(e,t,t.type,t.pendingProps,a);case 7:return Vt(e,t,t.pendingProps,a),t.child;case 8:return Vt(e,t,t.pendingProps.children,a),t.child;case 12:return Vt(e,t,t.pendingProps.children,a),t.child;case 10:return n=t.pendingProps,zl(t,t.type,n.value),Vt(e,t,n.children,a),t.child;case 9:return s=t.type._context,n=t.pendingProps.children,xn(t),s=Yt(s),n=n(s),t.flags|=1,Vt(e,t,n,a),t.child;case 14:return Lm(e,t,t.type,t.pendingProps,a);case 15:return Um(e,t,t.type,t.pendingProps,a);case 19:return Xm(e,t,a);case 31:return a0(e,t,a);case 22:return Bm(e,t,a,t.pendingProps);case 24:return xn(t),n=Yt(Rt),e===null?(s=cc(),s===null&&(s=mt,i=rc(),s.pooledCache=i,i.refCount++,i!==null&&(s.pooledCacheLanes|=a),s=i),t.memoizedState={parent:n,cache:s},dc(t),zl(t,Rt,s)):((e.lanes&a)!==0&&(hc(e,t),Xs(t,null,null,a),Vs()),s=e.memoizedState,i=t.memoizedState,s.parent!==n?(s={parent:n,cache:n},t.memoizedState=s,t.lanes===0&&(t.memoizedState=t.updateQueue.baseState=s),zl(t,Rt,n)):(n=i.cache,zl(t,Rt,n),n!==s.cache&&ic(t,[Rt],a,!0))),Vt(e,t,t.pendingProps.children,a),t.child;case 29:throw t.pendingProps}throw Error(u(156,t.tag))}function gl(e){e.flags|=4}function Qc(e,t,a,n,s){if((t=(e.mode&32)!==0)&&(t=!1),t){if(e.flags|=16777216,(s&335544128)===s)if(e.stateNode.complete)e.flags|=8192;else if(wf())e.flags|=8192;else throw yn=cr,uc}else e.flags&=-16777217}function Zm(e,t){if(t.type!=="stylesheet"||(t.state.loading&4)!==0)e.flags&=-16777217;else if(e.flags|=16777216,!up(t))if(wf())e.flags|=8192;else throw yn=cr,uc}function Ar(e,t){t!==null&&(e.flags|=4),e.flags&16384&&(t=e.tag!==22?sl():536870912,e.lanes|=t,ns|=t)}function Ws(e,t){if(!et)switch(e.tailMode){case"hidden":t=e.tail;for(var a=null;t!==null;)t.alternate!==null&&(a=t),t=t.sibling;a===null?e.tail=null:a.sibling=null;break;case"collapsed":a=e.tail;for(var n=null;a!==null;)a.alternate!==null&&(n=a),a=a.sibling;n===null?t||e.tail===null?e.tail=null:e.tail.sibling=null:n.sibling=null}}function gt(e){var t=e.alternate!==null&&e.alternate.child===e.child,a=0,n=0;if(t)for(var s=e.child;s!==null;)a|=s.lanes|s.childLanes,n|=s.subtreeFlags&65011712,n|=s.flags&65011712,s.return=e,s=s.sibling;else for(s=e.child;s!==null;)a|=s.lanes|s.childLanes,n|=s.subtreeFlags,n|=s.flags,s.return=e,s=s.sibling;return e.subtreeFlags|=n,e.childLanes=a,t}function n0(e,t,a){var n=t.pendingProps;switch(tc(t),t.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return gt(t),null;case 1:return gt(t),null;case 3:return a=t.stateNode,n=null,e!==null&&(n=e.memoizedState.cache),t.memoizedState.cache!==n&&(t.flags|=2048),ml(Rt),je(),a.pendingContext&&(a.context=a.pendingContext,a.pendingContext=null),(e===null||e.child===null)&&(Vn(t)?gl(t):e===null||e.memoizedState.isDehydrated&&(t.flags&256)===0||(t.flags|=1024,lc())),gt(t),null;case 26:var s=t.type,i=t.memoizedState;return e===null?(gl(t),i!==null?(gt(t),Zm(t,i)):(gt(t),Qc(t,s,null,n,a))):i?i!==e.memoizedState?(gl(t),gt(t),Zm(t,i)):(gt(t),t.flags&=-16777217):(e=e.memoizedProps,e!==n&&gl(t),gt(t),Qc(t,s,e,n,a)),null;case 27:if(re(t),a=k.current,s=t.type,e!==null&&t.stateNode!=null)e.memoizedProps!==n&&gl(t);else{if(!n){if(t.stateNode===null)throw Error(u(166));return gt(t),null}e=ne.current,Vn(t)?Th(t):(e=ap(s,n,a),t.stateNode=e,gl(t))}return gt(t),null;case 5:if(re(t),s=t.type,e!==null&&t.stateNode!=null)e.memoizedProps!==n&&gl(t);else{if(!n){if(t.stateNode===null)throw Error(u(166));return gt(t),null}if(i=ne.current,Vn(t))Th(t);else{var d=Gr(k.current);switch(i){case 1:i=d.createElementNS("http://www.w3.org/2000/svg",s);break;case 2:i=d.createElementNS("http://www.w3.org/1998/Math/MathML",s);break;default:switch(s){case"svg":i=d.createElementNS("http://www.w3.org/2000/svg",s);break;case"math":i=d.createElementNS("http://www.w3.org/1998/Math/MathML",s);break;case"script":i=d.createElement("div"),i.innerHTML="<script><\/script>",i=i.removeChild(i.firstChild);break;case"select":i=typeof n.is=="string"?d.createElement("select",{is:n.is}):d.createElement("select"),n.multiple?i.multiple=!0:n.size&&(i.size=n.size);break;default:i=typeof n.is=="string"?d.createElement(s,{is:n.is}):d.createElement(s)}}i[Mt]=t,i[Nt]=n;e:for(d=t.child;d!==null;){if(d.tag===5||d.tag===6)i.appendChild(d.stateNode);else if(d.tag!==4&&d.tag!==27&&d.child!==null){d.child.return=d,d=d.child;continue}if(d===t)break e;for(;d.sibling===null;){if(d.return===null||d.return===t)break e;d=d.return}d.sibling.return=d.return,d=d.sibling}t.stateNode=i;e:switch(Xt(i,s,n),s){case"button":case"input":case"select":case"textarea":n=!!n.autoFocus;break e;case"img":n=!0;break e;default:n=!1}n&&gl(t)}}return gt(t),Qc(t,t.type,e===null?null:e.memoizedProps,t.pendingProps,a),null;case 6:if(e&&t.stateNode!=null)e.memoizedProps!==n&&gl(t);else{if(typeof n!="string"&&t.stateNode===null)throw Error(u(166));if(e=k.current,Vn(t)){if(e=t.stateNode,a=t.memoizedProps,n=null,s=It,s!==null)switch(s.tag){case 27:case 5:n=s.memoizedProps}e[Mt]=t,e=!!(e.nodeValue===a||n!==null&&n.suppressHydrationWarning===!0||Vf(e.nodeValue,a)),e||Ol(t,!0)}else e=Gr(e).createTextNode(n),e[Mt]=t,t.stateNode=e}return gt(t),null;case 31:if(a=t.memoizedState,e===null||e.memoizedState!==null){if(n=Vn(t),a!==null){if(e===null){if(!n)throw Error(u(318));if(e=t.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(u(557));e[Mt]=t}else fn(),(t.flags&128)===0&&(t.memoizedState=null),t.flags|=4;gt(t),e=!1}else a=lc(),e!==null&&e.memoizedState!==null&&(e.memoizedState.hydrationErrors=a),e=!0;if(!e)return t.flags&256?(fa(t),t):(fa(t),null);if((t.flags&128)!==0)throw Error(u(558))}return gt(t),null;case 13:if(n=t.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(s=Vn(t),n!==null&&n.dehydrated!==null){if(e===null){if(!s)throw Error(u(318));if(s=t.memoizedState,s=s!==null?s.dehydrated:null,!s)throw Error(u(317));s[Mt]=t}else fn(),(t.flags&128)===0&&(t.memoizedState=null),t.flags|=4;gt(t),s=!1}else s=lc(),e!==null&&e.memoizedState!==null&&(e.memoizedState.hydrationErrors=s),s=!0;if(!s)return t.flags&256?(fa(t),t):(fa(t),null)}return fa(t),(t.flags&128)!==0?(t.lanes=a,t):(a=n!==null,e=e!==null&&e.memoizedState!==null,a&&(n=t.child,s=null,n.alternate!==null&&n.alternate.memoizedState!==null&&n.alternate.memoizedState.cachePool!==null&&(s=n.alternate.memoizedState.cachePool.pool),i=null,n.memoizedState!==null&&n.memoizedState.cachePool!==null&&(i=n.memoizedState.cachePool.pool),i!==s&&(n.flags|=2048)),a!==e&&a&&(t.child.flags|=8192),Ar(t,t.updateQueue),gt(t),null);case 4:return je(),e===null&&pu(t.stateNode.containerInfo),gt(t),null;case 10:return ml(t.type),gt(t),null;case 19:if(q(Ct),n=t.memoizedState,n===null)return gt(t),null;if(s=(t.flags&128)!==0,i=n.rendering,i===null)if(s)Ws(n,!1);else{if(Et!==0||e!==null&&(e.flags&128)!==0)for(e=t.child;e!==null;){if(i=mr(e),i!==null){for(t.flags|=128,Ws(n,!1),e=i.updateQueue,t.updateQueue=e,Ar(t,e),t.subtreeFlags=0,e=a,a=t.child;a!==null;)Nh(a,e),a=a.sibling;return I(Ct,Ct.current&1|2),et&&dl(t,n.treeForkCount),t.child}e=e.sibling}n.tail!==null&&fe()>Dr&&(t.flags|=128,s=!0,Ws(n,!1),t.lanes=4194304)}else{if(!s)if(e=mr(i),e!==null){if(t.flags|=128,s=!0,e=e.updateQueue,t.updateQueue=e,Ar(t,e),Ws(n,!0),n.tail===null&&n.tailMode==="hidden"&&!i.alternate&&!et)return gt(t),null}else 2*fe()-n.renderingStartTime>Dr&&a!==536870912&&(t.flags|=128,s=!0,Ws(n,!1),t.lanes=4194304);n.isBackwards?(i.sibling=t.child,t.child=i):(e=n.last,e!==null?e.sibling=i:t.child=i,n.last=i)}return n.tail!==null?(e=n.tail,n.rendering=e,n.tail=e.sibling,n.renderingStartTime=fe(),e.sibling=null,a=Ct.current,I(Ct,s?a&1|2:a&1),et&&dl(t,n.treeForkCount),e):(gt(t),null);case 22:case 23:return fa(t),xc(),n=t.memoizedState!==null,e!==null?e.memoizedState!==null!==n&&(t.flags|=8192):n&&(t.flags|=8192),n?(a&536870912)!==0&&(t.flags&128)===0&&(gt(t),t.subtreeFlags&6&&(t.flags|=8192)):gt(t),a=t.updateQueue,a!==null&&Ar(t,a.retryQueue),a=null,e!==null&&e.memoizedState!==null&&e.memoizedState.cachePool!==null&&(a=e.memoizedState.cachePool.pool),n=null,t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(n=t.memoizedState.cachePool.pool),n!==a&&(t.flags|=2048),e!==null&&q(gn),null;case 24:return a=null,e!==null&&(a=e.memoizedState.cache),t.memoizedState.cache!==a&&(t.flags|=2048),ml(Rt),gt(t),null;case 25:return null;case 30:return null}throw Error(u(156,t.tag))}function s0(e,t){switch(tc(t),t.tag){case 1:return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 3:return ml(Rt),je(),e=t.flags,(e&65536)!==0&&(e&128)===0?(t.flags=e&-65537|128,t):null;case 26:case 27:case 5:return re(t),null;case 31:if(t.memoizedState!==null){if(fa(t),t.alternate===null)throw Error(u(340));fn()}return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 13:if(fa(t),e=t.memoizedState,e!==null&&e.dehydrated!==null){if(t.alternate===null)throw Error(u(340));fn()}return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 19:return q(Ct),null;case 4:return je(),null;case 10:return ml(t.type),null;case 22:case 23:return fa(t),xc(),e!==null&&q(gn),e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 24:return ml(Rt),null;case 25:return null;default:return null}}function Km(e,t){switch(tc(t),t.tag){case 3:ml(Rt),je();break;case 26:case 27:case 5:re(t);break;case 4:je();break;case 31:t.memoizedState!==null&&fa(t);break;case 13:fa(t);break;case 19:q(Ct);break;case 10:ml(t.type);break;case 22:case 23:fa(t),xc(),e!==null&&q(gn);break;case 24:ml(Rt)}}function Fs(e,t){try{var a=t.updateQueue,n=a!==null?a.lastEffect:null;if(n!==null){var s=n.next;a=s;do{if((a.tag&e)===e){n=void 0;var i=a.create,d=a.inst;n=i(),d.destroy=n}a=a.next}while(a!==s)}}catch(p){ct(t,t.return,p)}}function Gl(e,t,a){try{var n=t.updateQueue,s=n!==null?n.lastEffect:null;if(s!==null){var i=s.next;n=i;do{if((n.tag&e)===e){var d=n.inst,p=d.destroy;if(p!==void 0){d.destroy=void 0,s=t;var S=a,L=p;try{L()}catch(J){ct(s,S,J)}}}n=n.next}while(n!==i)}}catch(J){ct(t,t.return,J)}}function Pm(e){var t=e.updateQueue;if(t!==null){var a=e.stateNode;try{Hh(t,a)}catch(n){ct(e,e.return,n)}}}function Jm(e,t,a){a.props=Nn(e.type,e.memoizedProps),a.state=e.memoizedState;try{a.componentWillUnmount()}catch(n){ct(e,t,n)}}function ei(e,t){try{var a=e.ref;if(a!==null){switch(e.tag){case 26:case 27:case 5:var n=e.stateNode;break;case 30:n=e.stateNode;break;default:n=e.stateNode}typeof a=="function"?e.refCleanup=a(n):a.current=n}}catch(s){ct(e,t,s)}}function Ja(e,t){var a=e.ref,n=e.refCleanup;if(a!==null)if(typeof n=="function")try{n()}catch(s){ct(e,t,s)}finally{e.refCleanup=null,e=e.alternate,e!=null&&(e.refCleanup=null)}else if(typeof a=="function")try{a(null)}catch(s){ct(e,t,s)}else a.current=null}function Wm(e){var t=e.type,a=e.memoizedProps,n=e.stateNode;try{e:switch(t){case"button":case"input":case"select":case"textarea":a.autoFocus&&n.focus();break e;case"img":a.src?n.src=a.src:a.srcSet&&(n.srcset=a.srcSet)}}catch(s){ct(e,e.return,s)}}function Zc(e,t,a){try{var n=e.stateNode;T0(n,e.type,a,t),n[Nt]=t}catch(s){ct(e,e.return,s)}}function Fm(e){return e.tag===5||e.tag===3||e.tag===26||e.tag===27&&Zl(e.type)||e.tag===4}function Kc(e){e:for(;;){for(;e.sibling===null;){if(e.return===null||Fm(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.tag===27&&Zl(e.type)||e.flags&2||e.child===null||e.tag===4)continue e;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function Pc(e,t,a){var n=e.tag;if(n===5||n===6)e=e.stateNode,t?(a.nodeType===9?a.body:a.nodeName==="HTML"?a.ownerDocument.body:a).insertBefore(e,t):(t=a.nodeType===9?a.body:a.nodeName==="HTML"?a.ownerDocument.body:a,t.appendChild(e),a=a._reactRootContainer,a!=null||t.onclick!==null||(t.onclick=ol));else if(n!==4&&(n===27&&Zl(e.type)&&(a=e.stateNode,t=null),e=e.child,e!==null))for(Pc(e,t,a),e=e.sibling;e!==null;)Pc(e,t,a),e=e.sibling}function Tr(e,t,a){var n=e.tag;if(n===5||n===6)e=e.stateNode,t?a.insertBefore(e,t):a.appendChild(e);else if(n!==4&&(n===27&&Zl(e.type)&&(a=e.stateNode),e=e.child,e!==null))for(Tr(e,t,a),e=e.sibling;e!==null;)Tr(e,t,a),e=e.sibling}function ef(e){var t=e.stateNode,a=e.memoizedProps;try{for(var n=e.type,s=t.attributes;s.length;)t.removeAttributeNode(s[0]);Xt(t,n,a),t[Mt]=e,t[Nt]=a}catch(i){ct(e,e.return,i)}}var bl=!1,Lt=!1,Jc=!1,tf=typeof WeakSet=="function"?WeakSet:Set,Gt=null;function i0(e,t){if(e=e.containerInfo,bu=Zr,e=mh(e),Yo(e)){if("selectionStart"in e)var a={start:e.selectionStart,end:e.selectionEnd};else e:{a=(a=e.ownerDocument)&&a.defaultView||window;var n=a.getSelection&&a.getSelection();if(n&&n.rangeCount!==0){a=n.anchorNode;var s=n.anchorOffset,i=n.focusNode;n=n.focusOffset;try{a.nodeType,i.nodeType}catch{a=null;break e}var d=0,p=-1,S=-1,L=0,J=0,ie=e,B=null;t:for(;;){for(var Y;ie!==a||s!==0&&ie.nodeType!==3||(p=d+s),ie!==i||n!==0&&ie.nodeType!==3||(S=d+n),ie.nodeType===3&&(d+=ie.nodeValue.length),(Y=ie.firstChild)!==null;)B=ie,ie=Y;for(;;){if(ie===e)break t;if(B===a&&++L===s&&(p=d),B===i&&++J===n&&(S=d),(Y=ie.nextSibling)!==null)break;ie=B,B=ie.parentNode}ie=Y}a=p===-1||S===-1?null:{start:p,end:S}}else a=null}a=a||{start:0,end:0}}else a=null;for(yu={focusedElem:e,selectionRange:a},Zr=!1,Gt=t;Gt!==null;)if(t=Gt,e=t.child,(t.subtreeFlags&1028)!==0&&e!==null)e.return=t,Gt=e;else for(;Gt!==null;){switch(t=Gt,i=t.alternate,e=t.flags,t.tag){case 0:if((e&4)!==0&&(e=t.updateQueue,e=e!==null?e.events:null,e!==null))for(a=0;a<e.length;a++)s=e[a],s.ref.impl=s.nextImpl;break;case 11:case 15:break;case 1:if((e&1024)!==0&&i!==null){e=void 0,a=t,s=i.memoizedProps,i=i.memoizedState,n=a.stateNode;try{var Ae=Nn(a.type,s);e=n.getSnapshotBeforeUpdate(Ae,i),n.__reactInternalSnapshotBeforeUpdate=e}catch(Le){ct(a,a.return,Le)}}break;case 3:if((e&1024)!==0){if(e=t.stateNode.containerInfo,a=e.nodeType,a===9)Nu(e);else if(a===1)switch(e.nodeName){case"HEAD":case"HTML":case"BODY":Nu(e);break;default:e.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((e&1024)!==0)throw Error(u(163))}if(e=t.sibling,e!==null){e.return=t.return,Gt=e;break}Gt=t.return}}function af(e,t,a){var n=a.flags;switch(a.tag){case 0:case 11:case 15:vl(e,a),n&4&&Fs(5,a);break;case 1:if(vl(e,a),n&4)if(e=a.stateNode,t===null)try{e.componentDidMount()}catch(d){ct(a,a.return,d)}else{var s=Nn(a.type,t.memoizedProps);t=t.memoizedState;try{e.componentDidUpdate(s,t,e.__reactInternalSnapshotBeforeUpdate)}catch(d){ct(a,a.return,d)}}n&64&&Pm(a),n&512&&ei(a,a.return);break;case 3:if(vl(e,a),n&64&&(e=a.updateQueue,e!==null)){if(t=null,a.child!==null)switch(a.child.tag){case 27:case 5:t=a.child.stateNode;break;case 1:t=a.child.stateNode}try{Hh(e,t)}catch(d){ct(a,a.return,d)}}break;case 27:t===null&&n&4&&ef(a);case 26:case 5:vl(e,a),t===null&&n&4&&Wm(a),n&512&&ei(a,a.return);break;case 12:vl(e,a);break;case 31:vl(e,a),n&4&&sf(e,a);break;case 13:vl(e,a),n&4&&rf(e,a),n&64&&(e=a.memoizedState,e!==null&&(e=e.dehydrated,e!==null&&(a=p0.bind(null,a),z0(e,a))));break;case 22:if(n=a.memoizedState!==null||bl,!n){t=t!==null&&t.memoizedState!==null||Lt,s=bl;var i=Lt;bl=n,(Lt=t)&&!i?wl(e,a,(a.subtreeFlags&8772)!==0):vl(e,a),bl=s,Lt=i}break;case 30:break;default:vl(e,a)}}function lf(e){var t=e.alternate;t!==null&&(e.alternate=null,lf(t)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(t=e.stateNode,t!==null&&T(t)),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}var jt=null,sa=!1;function yl(e,t,a){for(a=a.child;a!==null;)nf(e,t,a),a=a.sibling}function nf(e,t,a){if(Ie&&typeof Ie.onCommitFiberUnmount=="function")try{Ie.onCommitFiberUnmount(De,a)}catch{}switch(a.tag){case 26:Lt||Ja(a,t),yl(e,t,a),a.memoizedState?a.memoizedState.count--:a.stateNode&&(a=a.stateNode,a.parentNode.removeChild(a));break;case 27:Lt||Ja(a,t);var n=jt,s=sa;Zl(a.type)&&(jt=a.stateNode,sa=!1),yl(e,t,a),ci(a.stateNode),jt=n,sa=s;break;case 5:Lt||Ja(a,t);case 6:if(n=jt,s=sa,jt=null,yl(e,t,a),jt=n,sa=s,jt!==null)if(sa)try{(jt.nodeType===9?jt.body:jt.nodeName==="HTML"?jt.ownerDocument.body:jt).removeChild(a.stateNode)}catch(i){ct(a,t,i)}else try{jt.removeChild(a.stateNode)}catch(i){ct(a,t,i)}break;case 18:jt!==null&&(sa?(e=jt,Jf(e.nodeType===9?e.body:e.nodeName==="HTML"?e.ownerDocument.body:e,a.stateNode),hs(e)):Jf(jt,a.stateNode));break;case 4:n=jt,s=sa,jt=a.stateNode.containerInfo,sa=!0,yl(e,t,a),jt=n,sa=s;break;case 0:case 11:case 14:case 15:Gl(2,a,t),Lt||Gl(4,a,t),yl(e,t,a);break;case 1:Lt||(Ja(a,t),n=a.stateNode,typeof n.componentWillUnmount=="function"&&Jm(a,t,n)),yl(e,t,a);break;case 21:yl(e,t,a);break;case 22:Lt=(n=Lt)||a.memoizedState!==null,yl(e,t,a),Lt=n;break;default:yl(e,t,a)}}function sf(e,t){if(t.memoizedState===null&&(e=t.alternate,e!==null&&(e=e.memoizedState,e!==null))){e=e.dehydrated;try{hs(e)}catch(a){ct(t,t.return,a)}}}function rf(e,t){if(t.memoizedState===null&&(e=t.alternate,e!==null&&(e=e.memoizedState,e!==null&&(e=e.dehydrated,e!==null))))try{hs(e)}catch(a){ct(t,t.return,a)}}function r0(e){switch(e.tag){case 31:case 13:case 19:var t=e.stateNode;return t===null&&(t=e.stateNode=new tf),t;case 22:return e=e.stateNode,t=e._retryCache,t===null&&(t=e._retryCache=new tf),t;default:throw Error(u(435,e.tag))}}function Er(e,t){var a=r0(e);t.forEach(function(n){if(!a.has(n)){a.add(n);var s=x0.bind(null,e,n);n.then(s,s)}})}function ia(e,t){var a=t.deletions;if(a!==null)for(var n=0;n<a.length;n++){var s=a[n],i=e,d=t,p=d;e:for(;p!==null;){switch(p.tag){case 27:if(Zl(p.type)){jt=p.stateNode,sa=!1;break e}break;case 5:jt=p.stateNode,sa=!1;break e;case 3:case 4:jt=p.stateNode.containerInfo,sa=!0;break e}p=p.return}if(jt===null)throw Error(u(160));nf(i,d,s),jt=null,sa=!1,i=s.alternate,i!==null&&(i.return=null),s.return=null}if(t.subtreeFlags&13886)for(t=t.child;t!==null;)of(t,e),t=t.sibling}var Ga=null;function of(e,t){var a=e.alternate,n=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:ia(t,e),ra(e),n&4&&(Gl(3,e,e.return),Fs(3,e),Gl(5,e,e.return));break;case 1:ia(t,e),ra(e),n&512&&(Lt||a===null||Ja(a,a.return)),n&64&&bl&&(e=e.updateQueue,e!==null&&(n=e.callbacks,n!==null&&(a=e.shared.hiddenCallbacks,e.shared.hiddenCallbacks=a===null?n:a.concat(n))));break;case 26:var s=Ga;if(ia(t,e),ra(e),n&512&&(Lt||a===null||Ja(a,a.return)),n&4){var i=a!==null?a.memoizedState:null;if(n=e.memoizedState,a===null)if(n===null)if(e.stateNode===null){e:{n=e.type,a=e.memoizedProps,s=s.ownerDocument||s;t:switch(n){case"title":i=s.getElementsByTagName("title")[0],(!i||i[Ee]||i[Mt]||i.namespaceURI==="http://www.w3.org/2000/svg"||i.hasAttribute("itemprop"))&&(i=s.createElement(n),s.head.insertBefore(i,s.querySelector("head > title"))),Xt(i,n,a),i[Mt]=e,Ve(i),n=i;break e;case"link":var d=op("link","href",s).get(n+(a.href||""));if(d){for(var p=0;p<d.length;p++)if(i=d[p],i.getAttribute("href")===(a.href==null||a.href===""?null:a.href)&&i.getAttribute("rel")===(a.rel==null?null:a.rel)&&i.getAttribute("title")===(a.title==null?null:a.title)&&i.getAttribute("crossorigin")===(a.crossOrigin==null?null:a.crossOrigin)){d.splice(p,1);break t}}i=s.createElement(n),Xt(i,n,a),s.head.appendChild(i);break;case"meta":if(d=op("meta","content",s).get(n+(a.content||""))){for(p=0;p<d.length;p++)if(i=d[p],i.getAttribute("content")===(a.content==null?null:""+a.content)&&i.getAttribute("name")===(a.name==null?null:a.name)&&i.getAttribute("property")===(a.property==null?null:a.property)&&i.getAttribute("http-equiv")===(a.httpEquiv==null?null:a.httpEquiv)&&i.getAttribute("charset")===(a.charSet==null?null:a.charSet)){d.splice(p,1);break t}}i=s.createElement(n),Xt(i,n,a),s.head.appendChild(i);break;default:throw Error(u(468,n))}i[Mt]=e,Ve(i),n=i}e.stateNode=n}else cp(s,e.type,e.stateNode);else e.stateNode=rp(s,n,e.memoizedProps);else i!==n?(i===null?a.stateNode!==null&&(a=a.stateNode,a.parentNode.removeChild(a)):i.count--,n===null?cp(s,e.type,e.stateNode):rp(s,n,e.memoizedProps)):n===null&&e.stateNode!==null&&Zc(e,e.memoizedProps,a.memoizedProps)}break;case 27:ia(t,e),ra(e),n&512&&(Lt||a===null||Ja(a,a.return)),a!==null&&n&4&&Zc(e,e.memoizedProps,a.memoizedProps);break;case 5:if(ia(t,e),ra(e),n&512&&(Lt||a===null||Ja(a,a.return)),e.flags&32){s=e.stateNode;try{zn(s,"")}catch(Ae){ct(e,e.return,Ae)}}n&4&&e.stateNode!=null&&(s=e.memoizedProps,Zc(e,s,a!==null?a.memoizedProps:s)),n&1024&&(Jc=!0);break;case 6:if(ia(t,e),ra(e),n&4){if(e.stateNode===null)throw Error(u(162));n=e.memoizedProps,a=e.stateNode;try{a.nodeValue=n}catch(Ae){ct(e,e.return,Ae)}}break;case 3:if(Yr=null,s=Ga,Ga=qr(t.containerInfo),ia(t,e),Ga=s,ra(e),n&4&&a!==null&&a.memoizedState.isDehydrated)try{hs(t.containerInfo)}catch(Ae){ct(e,e.return,Ae)}Jc&&(Jc=!1,cf(e));break;case 4:n=Ga,Ga=qr(e.stateNode.containerInfo),ia(t,e),ra(e),Ga=n;break;case 12:ia(t,e),ra(e);break;case 31:ia(t,e),ra(e),n&4&&(n=e.updateQueue,n!==null&&(e.updateQueue=null,Er(e,n)));break;case 13:ia(t,e),ra(e),e.child.flags&8192&&e.memoizedState!==null!=(a!==null&&a.memoizedState!==null)&&(_r=fe()),n&4&&(n=e.updateQueue,n!==null&&(e.updateQueue=null,Er(e,n)));break;case 22:s=e.memoizedState!==null;var S=a!==null&&a.memoizedState!==null,L=bl,J=Lt;if(bl=L||s,Lt=J||S,ia(t,e),Lt=J,bl=L,ra(e),n&8192)e:for(t=e.stateNode,t._visibility=s?t._visibility&-2:t._visibility|1,s&&(a===null||S||bl||Lt||jn(e)),a=null,t=e;;){if(t.tag===5||t.tag===26){if(a===null){S=a=t;try{if(i=S.stateNode,s)d=i.style,typeof d.setProperty=="function"?d.setProperty("display","none","important"):d.display="none";else{p=S.stateNode;var ie=S.memoizedProps.style,B=ie!=null&&ie.hasOwnProperty("display")?ie.display:null;p.style.display=B==null||typeof B=="boolean"?"":(""+B).trim()}}catch(Ae){ct(S,S.return,Ae)}}}else if(t.tag===6){if(a===null){S=t;try{S.stateNode.nodeValue=s?"":S.memoizedProps}catch(Ae){ct(S,S.return,Ae)}}}else if(t.tag===18){if(a===null){S=t;try{var Y=S.stateNode;s?Wf(Y,!0):Wf(S.stateNode,!1)}catch(Ae){ct(S,S.return,Ae)}}}else if((t.tag!==22&&t.tag!==23||t.memoizedState===null||t===e)&&t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break e;for(;t.sibling===null;){if(t.return===null||t.return===e)break e;a===t&&(a=null),t=t.return}a===t&&(a=null),t.sibling.return=t.return,t=t.sibling}n&4&&(n=e.updateQueue,n!==null&&(a=n.retryQueue,a!==null&&(n.retryQueue=null,Er(e,a))));break;case 19:ia(t,e),ra(e),n&4&&(n=e.updateQueue,n!==null&&(e.updateQueue=null,Er(e,n)));break;case 30:break;case 21:break;default:ia(t,e),ra(e)}}function ra(e){var t=e.flags;if(t&2){try{for(var a,n=e.return;n!==null;){if(Fm(n)){a=n;break}n=n.return}if(a==null)throw Error(u(160));switch(a.tag){case 27:var s=a.stateNode,i=Kc(e);Tr(e,i,s);break;case 5:var d=a.stateNode;a.flags&32&&(zn(d,""),a.flags&=-33);var p=Kc(e);Tr(e,p,d);break;case 3:case 4:var S=a.stateNode.containerInfo,L=Kc(e);Pc(e,L,S);break;default:throw Error(u(161))}}catch(J){ct(e,e.return,J)}e.flags&=-3}t&4096&&(e.flags&=-4097)}function cf(e){if(e.subtreeFlags&1024)for(e=e.child;e!==null;){var t=e;cf(t),t.tag===5&&t.flags&1024&&t.stateNode.reset(),e=e.sibling}}function vl(e,t){if(t.subtreeFlags&8772)for(t=t.child;t!==null;)af(e,t.alternate,t),t=t.sibling}function jn(e){for(e=e.child;e!==null;){var t=e;switch(t.tag){case 0:case 11:case 14:case 15:Gl(4,t,t.return),jn(t);break;case 1:Ja(t,t.return);var a=t.stateNode;typeof a.componentWillUnmount=="function"&&Jm(t,t.return,a),jn(t);break;case 27:ci(t.stateNode);case 26:case 5:Ja(t,t.return),jn(t);break;case 22:t.memoizedState===null&&jn(t);break;case 30:jn(t);break;default:jn(t)}e=e.sibling}}function wl(e,t,a){for(a=a&&(t.subtreeFlags&8772)!==0,t=t.child;t!==null;){var n=t.alternate,s=e,i=t,d=i.flags;switch(i.tag){case 0:case 11:case 15:wl(s,i,a),Fs(4,i);break;case 1:if(wl(s,i,a),n=i,s=n.stateNode,typeof s.componentDidMount=="function")try{s.componentDidMount()}catch(L){ct(n,n.return,L)}if(n=i,s=n.updateQueue,s!==null){var p=n.stateNode;try{var S=s.shared.hiddenCallbacks;if(S!==null)for(s.shared.hiddenCallbacks=null,s=0;s<S.length;s++)$h(S[s],p)}catch(L){ct(n,n.return,L)}}a&&d&64&&Pm(i),ei(i,i.return);break;case 27:ef(i);case 26:case 5:wl(s,i,a),a&&n===null&&d&4&&Wm(i),ei(i,i.return);break;case 12:wl(s,i,a);break;case 31:wl(s,i,a),a&&d&4&&sf(s,i);break;case 13:wl(s,i,a),a&&d&4&&rf(s,i);break;case 22:i.memoizedState===null&&wl(s,i,a),ei(i,i.return);break;case 30:break;default:wl(s,i,a)}t=t.sibling}}function Wc(e,t){var a=null;e!==null&&e.memoizedState!==null&&e.memoizedState.cachePool!==null&&(a=e.memoizedState.cachePool.pool),e=null,t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(e=t.memoizedState.cachePool.pool),e!==a&&(e!=null&&e.refCount++,a!=null&&Hs(a))}function Fc(e,t){e=null,t.alternate!==null&&(e=t.alternate.memoizedState.cache),t=t.memoizedState.cache,t!==e&&(t.refCount++,e!=null&&Hs(e))}function qa(e,t,a,n){if(t.subtreeFlags&10256)for(t=t.child;t!==null;)uf(e,t,a,n),t=t.sibling}function uf(e,t,a,n){var s=t.flags;switch(t.tag){case 0:case 11:case 15:qa(e,t,a,n),s&2048&&Fs(9,t);break;case 1:qa(e,t,a,n);break;case 3:qa(e,t,a,n),s&2048&&(e=null,t.alternate!==null&&(e=t.alternate.memoizedState.cache),t=t.memoizedState.cache,t!==e&&(t.refCount++,e!=null&&Hs(e)));break;case 12:if(s&2048){qa(e,t,a,n),e=t.stateNode;try{var i=t.memoizedProps,d=i.id,p=i.onPostCommit;typeof p=="function"&&p(d,t.alternate===null?"mount":"update",e.passiveEffectDuration,-0)}catch(S){ct(t,t.return,S)}}else qa(e,t,a,n);break;case 31:qa(e,t,a,n);break;case 13:qa(e,t,a,n);break;case 23:break;case 22:i=t.stateNode,d=t.alternate,t.memoizedState!==null?i._visibility&2?qa(e,t,a,n):ti(e,t):i._visibility&2?qa(e,t,a,n):(i._visibility|=2,ts(e,t,a,n,(t.subtreeFlags&10256)!==0||!1)),s&2048&&Wc(d,t);break;case 24:qa(e,t,a,n),s&2048&&Fc(t.alternate,t);break;default:qa(e,t,a,n)}}function ts(e,t,a,n,s){for(s=s&&((t.subtreeFlags&10256)!==0||!1),t=t.child;t!==null;){var i=e,d=t,p=a,S=n,L=d.flags;switch(d.tag){case 0:case 11:case 15:ts(i,d,p,S,s),Fs(8,d);break;case 23:break;case 22:var J=d.stateNode;d.memoizedState!==null?J._visibility&2?ts(i,d,p,S,s):ti(i,d):(J._visibility|=2,ts(i,d,p,S,s)),s&&L&2048&&Wc(d.alternate,d);break;case 24:ts(i,d,p,S,s),s&&L&2048&&Fc(d.alternate,d);break;default:ts(i,d,p,S,s)}t=t.sibling}}function ti(e,t){if(t.subtreeFlags&10256)for(t=t.child;t!==null;){var a=e,n=t,s=n.flags;switch(n.tag){case 22:ti(a,n),s&2048&&Wc(n.alternate,n);break;case 24:ti(a,n),s&2048&&Fc(n.alternate,n);break;default:ti(a,n)}t=t.sibling}}var ai=8192;function as(e,t,a){if(e.subtreeFlags&ai)for(e=e.child;e!==null;)df(e,t,a),e=e.sibling}function df(e,t,a){switch(e.tag){case 26:as(e,t,a),e.flags&ai&&e.memoizedState!==null&&Q0(a,Ga,e.memoizedState,e.memoizedProps);break;case 5:as(e,t,a);break;case 3:case 4:var n=Ga;Ga=qr(e.stateNode.containerInfo),as(e,t,a),Ga=n;break;case 22:e.memoizedState===null&&(n=e.alternate,n!==null&&n.memoizedState!==null?(n=ai,ai=16777216,as(e,t,a),ai=n):as(e,t,a));break;default:as(e,t,a)}}function hf(e){var t=e.alternate;if(t!==null&&(e=t.child,e!==null)){t.child=null;do t=e.sibling,e.sibling=null,e=t;while(e!==null)}}function li(e){var t=e.deletions;if((e.flags&16)!==0){if(t!==null)for(var a=0;a<t.length;a++){var n=t[a];Gt=n,ff(n,e)}hf(e)}if(e.subtreeFlags&10256)for(e=e.child;e!==null;)mf(e),e=e.sibling}function mf(e){switch(e.tag){case 0:case 11:case 15:li(e),e.flags&2048&&Gl(9,e,e.return);break;case 3:li(e);break;case 12:li(e);break;case 22:var t=e.stateNode;e.memoizedState!==null&&t._visibility&2&&(e.return===null||e.return.tag!==13)?(t._visibility&=-3,Cr(e)):li(e);break;default:li(e)}}function Cr(e){var t=e.deletions;if((e.flags&16)!==0){if(t!==null)for(var a=0;a<t.length;a++){var n=t[a];Gt=n,ff(n,e)}hf(e)}for(e=e.child;e!==null;){switch(t=e,t.tag){case 0:case 11:case 15:Gl(8,t,t.return),Cr(t);break;case 22:a=t.stateNode,a._visibility&2&&(a._visibility&=-3,Cr(t));break;default:Cr(t)}e=e.sibling}}function ff(e,t){for(;Gt!==null;){var a=Gt;switch(a.tag){case 0:case 11:case 15:Gl(8,a,t);break;case 23:case 22:if(a.memoizedState!==null&&a.memoizedState.cachePool!==null){var n=a.memoizedState.cachePool.pool;n!=null&&n.refCount++}break;case 24:Hs(a.memoizedState.cache)}if(n=a.child,n!==null)n.return=a,Gt=n;else e:for(a=e;Gt!==null;){n=Gt;var s=n.sibling,i=n.return;if(lf(n),n===a){Gt=null;break e}if(s!==null){s.return=i,Gt=s;break e}Gt=i}}}var o0={getCacheForType:function(e){var t=Yt(Rt),a=t.data.get(e);return a===void 0&&(a=e(),t.data.set(e,a)),a},cacheSignal:function(){return Yt(Rt).controller.signal}},c0=typeof WeakMap=="function"?WeakMap:Map,nt=0,mt=null,Ze=null,Je=0,ot=0,pa=null,ql=!1,ls=!1,eu=!1,Nl=0,Et=0,Il=0,Sn=0,tu=0,xa=0,ns=0,ni=null,oa=null,au=!1,_r=0,pf=0,Dr=1/0,Mr=null,Yl=null,$t=0,Vl=null,ss=null,jl=0,lu=0,nu=null,xf=null,si=0,su=null;function ga(){return(nt&2)!==0&&Je!==0?Je&-Je:D.T!==null?du():ks()}function gf(){if(xa===0)if((Je&536870912)===0||et){var e=nl;nl<<=1,(nl&3932160)===0&&(nl=262144),xa=e}else xa=536870912;return e=ma.current,e!==null&&(e.flags|=32),xa}function ca(e,t,a){(e===mt&&(ot===2||ot===9)||e.cancelPendingCommit!==null)&&(is(e,0),Xl(e,Je,xa,!1)),_l(e,a),((nt&2)===0||e!==mt)&&(e===mt&&((nt&2)===0&&(Sn|=a),Et===4&&Xl(e,Je,xa,!1)),Wa(e))}function bf(e,t,a){if((nt&6)!==0)throw Error(u(327));var n=!a&&(t&127)===0&&(t&e.expiredLanes)===0||on(e,t),s=n?h0(e,t):ru(e,t,!0),i=n;do{if(s===0){ls&&!n&&Xl(e,t,0,!1);break}else{if(a=e.current.alternate,i&&!u0(a)){s=ru(e,t,!1),i=!1;continue}if(s===2){if(i=t,e.errorRecoveryDisabledLanes&i)var d=0;else d=e.pendingLanes&-536870913,d=d!==0?d:d&536870912?536870912:0;if(d!==0){t=d;e:{var p=e;s=ni;var S=p.current.memoizedState.isDehydrated;if(S&&(is(p,d).flags|=256),d=ru(p,d,!1),d!==2){if(eu&&!S){p.errorRecoveryDisabledLanes|=i,Sn|=i,s=4;break e}i=oa,oa=s,i!==null&&(oa===null?oa=i:oa.push.apply(oa,i))}s=d}if(i=!1,s!==2)continue}}if(s===1){is(e,0),Xl(e,t,0,!0);break}e:{switch(n=e,i=s,i){case 0:case 1:throw Error(u(345));case 4:if((t&4194048)!==t)break;case 6:Xl(n,t,xa,!ql);break e;case 2:oa=null;break;case 3:case 5:break;default:throw Error(u(329))}if((t&62914560)===t&&(s=_r+300-fe(),10<s)){if(Xl(n,t,xa,!ql),Mn(n,0,!0)!==0)break e;jl=t,n.timeoutHandle=Kf(yf.bind(null,n,a,oa,Mr,au,t,xa,Sn,ns,ql,i,"Throttled",-0,0),s);break e}yf(n,a,oa,Mr,au,t,xa,Sn,ns,ql,i,null,-0,0)}}break}while(!0);Wa(e)}function yf(e,t,a,n,s,i,d,p,S,L,J,ie,B,Y){if(e.timeoutHandle=-1,ie=t.subtreeFlags,ie&8192||(ie&16785408)===16785408){ie={stylesheets:null,count:0,imgCount:0,imgBytes:0,suspenseyImages:[],waitingForImages:!0,waitingForViewTransition:!1,unsuspend:ol},df(t,i,ie);var Ae=(i&62914560)===i?_r-fe():(i&4194048)===i?pf-fe():0;if(Ae=Z0(ie,Ae),Ae!==null){jl=i,e.cancelPendingCommit=Ae(Tf.bind(null,e,t,i,a,n,s,d,p,S,J,ie,null,B,Y)),Xl(e,i,d,!L);return}}Tf(e,t,i,a,n,s,d,p,S)}function u0(e){for(var t=e;;){var a=t.tag;if((a===0||a===11||a===15)&&t.flags&16384&&(a=t.updateQueue,a!==null&&(a=a.stores,a!==null)))for(var n=0;n<a.length;n++){var s=a[n],i=s.getSnapshot;s=s.value;try{if(!da(i(),s))return!1}catch{return!1}}if(a=t.child,t.subtreeFlags&16384&&a!==null)a.return=t,t=a;else{if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}function Xl(e,t,a,n){t&=~tu,t&=~Sn,e.suspendedLanes|=t,e.pingedLanes&=~t,n&&(e.warmLanes|=t),n=e.expirationTimes;for(var s=t;0<s;){var i=31-me(s),d=1<<i;n[i]=-1,s&=~d}a!==0&&js(e,a,t)}function Rr(){return(nt&6)===0?(ii(0),!1):!0}function iu(){if(Ze!==null){if(ot===0)var e=Ze.return;else e=Ze,hl=pn=null,Nc(e),Pn=null,qs=0,e=Ze;for(;e!==null;)Km(e.alternate,e),e=e.return;Ze=null}}function is(e,t){var a=e.timeoutHandle;a!==-1&&(e.timeoutHandle=-1,_0(a)),a=e.cancelPendingCommit,a!==null&&(e.cancelPendingCommit=null,a()),jl=0,iu(),mt=e,Ze=a=ul(e.current,null),Je=t,ot=0,pa=null,ql=!1,ls=on(e,t),eu=!1,ns=xa=tu=Sn=Il=Et=0,oa=ni=null,au=!1,(t&8)!==0&&(t|=t&32);var n=e.entangledLanes;if(n!==0)for(e=e.entanglements,n&=t;0<n;){var s=31-me(n),i=1<<s;t|=e[s],n&=~i}return Nl=t,er(),a}function vf(e,t){Ge=null,D.H=Ps,t===Kn||t===or?(t=zh(),ot=3):t===uc?(t=zh(),ot=4):ot=t===Bc?8:t!==null&&typeof t=="object"&&typeof t.then=="function"?6:1,pa=t,Ze===null&&(Et=1,Nr(e,Ea(t,e.current)))}function wf(){var e=ma.current;return e===null?!0:(Je&4194048)===Je?Ma===null:(Je&62914560)===Je||(Je&536870912)!==0?e===Ma:!1}function Nf(){var e=D.H;return D.H=Ps,e===null?Ps:e}function jf(){var e=D.A;return D.A=o0,e}function Or(){Et=4,ql||(Je&4194048)!==Je&&ma.current!==null||(ls=!0),(Il&134217727)===0&&(Sn&134217727)===0||mt===null||Xl(mt,Je,xa,!1)}function ru(e,t,a){var n=nt;nt|=2;var s=Nf(),i=jf();(mt!==e||Je!==t)&&(Mr=null,is(e,t)),t=!1;var d=Et;e:do try{if(ot!==0&&Ze!==null){var p=Ze,S=pa;switch(ot){case 8:iu(),d=6;break e;case 3:case 2:case 9:case 6:ma.current===null&&(t=!0);var L=ot;if(ot=0,pa=null,rs(e,p,S,L),a&&ls){d=0;break e}break;default:L=ot,ot=0,pa=null,rs(e,p,S,L)}}d0(),d=Et;break}catch(J){vf(e,J)}while(!0);return t&&e.shellSuspendCounter++,hl=pn=null,nt=n,D.H=s,D.A=i,Ze===null&&(mt=null,Je=0,er()),d}function d0(){for(;Ze!==null;)Sf(Ze)}function h0(e,t){var a=nt;nt|=2;var n=Nf(),s=jf();mt!==e||Je!==t?(Mr=null,Dr=fe()+500,is(e,t)):ls=on(e,t);e:do try{if(ot!==0&&Ze!==null){t=Ze;var i=pa;t:switch(ot){case 1:ot=0,pa=null,rs(e,t,i,1);break;case 2:case 9:if(Rh(i)){ot=0,pa=null,kf(t);break}t=function(){ot!==2&&ot!==9||mt!==e||(ot=7),Wa(e)},i.then(t,t);break e;case 3:ot=7;break e;case 4:ot=5;break e;case 7:Rh(i)?(ot=0,pa=null,kf(t)):(ot=0,pa=null,rs(e,t,i,7));break;case 5:var d=null;switch(Ze.tag){case 26:d=Ze.memoizedState;case 5:case 27:var p=Ze;if(d?up(d):p.stateNode.complete){ot=0,pa=null;var S=p.sibling;if(S!==null)Ze=S;else{var L=p.return;L!==null?(Ze=L,zr(L)):Ze=null}break t}}ot=0,pa=null,rs(e,t,i,5);break;case 6:ot=0,pa=null,rs(e,t,i,6);break;case 8:iu(),Et=6;break e;default:throw Error(u(462))}}m0();break}catch(J){vf(e,J)}while(!0);return hl=pn=null,D.H=n,D.A=s,nt=a,Ze!==null?0:(mt=null,Je=0,er(),Et)}function m0(){for(;Ze!==null&&!Te();)Sf(Ze)}function Sf(e){var t=Qm(e.alternate,e,Nl);e.memoizedProps=e.pendingProps,t===null?zr(e):Ze=t}function kf(e){var t=e,a=t.alternate;switch(t.tag){case 15:case 0:t=Gm(a,t,t.pendingProps,t.type,void 0,Je);break;case 11:t=Gm(a,t,t.pendingProps,t.type.render,t.ref,Je);break;case 5:Nc(t);default:Km(a,t),t=Ze=Nh(t,Nl),t=Qm(a,t,Nl)}e.memoizedProps=e.pendingProps,t===null?zr(e):Ze=t}function rs(e,t,a,n){hl=pn=null,Nc(t),Pn=null,qs=0;var s=t.return;try{if(t0(e,s,t,a,Je)){Et=1,Nr(e,Ea(a,e.current)),Ze=null;return}}catch(i){if(s!==null)throw Ze=s,i;Et=1,Nr(e,Ea(a,e.current)),Ze=null;return}t.flags&32768?(et||n===1?e=!0:ls||(Je&536870912)!==0?e=!1:(ql=e=!0,(n===2||n===9||n===3||n===6)&&(n=ma.current,n!==null&&n.tag===13&&(n.flags|=16384))),Af(t,e)):zr(t)}function zr(e){var t=e;do{if((t.flags&32768)!==0){Af(t,ql);return}e=t.return;var a=n0(t.alternate,t,Nl);if(a!==null){Ze=a;return}if(t=t.sibling,t!==null){Ze=t;return}Ze=t=e}while(t!==null);Et===0&&(Et=5)}function Af(e,t){do{var a=s0(e.alternate,e);if(a!==null){a.flags&=32767,Ze=a;return}if(a=e.return,a!==null&&(a.flags|=32768,a.subtreeFlags=0,a.deletions=null),!t&&(e=e.sibling,e!==null)){Ze=e;return}Ze=e=a}while(e!==null);Et=6,Ze=null}function Tf(e,t,a,n,s,i,d,p,S){e.cancelPendingCommit=null;do Lr();while($t!==0);if((nt&6)!==0)throw Error(u(327));if(t!==null){if(t===e.current)throw Error(u(177));if(i=t.lanes|t.childLanes,i|=Ko,Ns(e,a,i,d,p,S),e===mt&&(Ze=mt=null,Je=0),ss=t,Vl=e,jl=a,lu=i,nu=s,xf=n,(t.subtreeFlags&10256)!==0||(t.flags&10256)!==0?(e.callbackNode=null,e.callbackPriority=0,g0(Ue,function(){return Mf(),null})):(e.callbackNode=null,e.callbackPriority=0),n=(t.flags&13878)!==0,(t.subtreeFlags&13878)!==0||n){n=D.T,D.T=null,s=Z.p,Z.p=2,d=nt,nt|=4;try{i0(e,t,a)}finally{nt=d,Z.p=s,D.T=n}}$t=1,Ef(),Cf(),_f()}}function Ef(){if($t===1){$t=0;var e=Vl,t=ss,a=(t.flags&13878)!==0;if((t.subtreeFlags&13878)!==0||a){a=D.T,D.T=null;var n=Z.p;Z.p=2;var s=nt;nt|=4;try{of(t,e);var i=yu,d=mh(e.containerInfo),p=i.focusedElem,S=i.selectionRange;if(d!==p&&p&&p.ownerDocument&&hh(p.ownerDocument.documentElement,p)){if(S!==null&&Yo(p)){var L=S.start,J=S.end;if(J===void 0&&(J=L),"selectionStart"in p)p.selectionStart=L,p.selectionEnd=Math.min(J,p.value.length);else{var ie=p.ownerDocument||document,B=ie&&ie.defaultView||window;if(B.getSelection){var Y=B.getSelection(),Ae=p.textContent.length,Le=Math.min(S.start,Ae),ht=S.end===void 0?Le:Math.min(S.end,Ae);!Y.extend&&Le>ht&&(d=ht,ht=Le,Le=d);var O=dh(p,Le),E=dh(p,ht);if(O&&E&&(Y.rangeCount!==1||Y.anchorNode!==O.node||Y.anchorOffset!==O.offset||Y.focusNode!==E.node||Y.focusOffset!==E.offset)){var z=ie.createRange();z.setStart(O.node,O.offset),Y.removeAllRanges(),Le>ht?(Y.addRange(z),Y.extend(E.node,E.offset)):(z.setEnd(E.node,E.offset),Y.addRange(z))}}}}for(ie=[],Y=p;Y=Y.parentNode;)Y.nodeType===1&&ie.push({element:Y,left:Y.scrollLeft,top:Y.scrollTop});for(typeof p.focus=="function"&&p.focus(),p=0;p<ie.length;p++){var ae=ie[p];ae.element.scrollLeft=ae.left,ae.element.scrollTop=ae.top}}Zr=!!bu,yu=bu=null}finally{nt=s,Z.p=n,D.T=a}}e.current=t,$t=2}}function Cf(){if($t===2){$t=0;var e=Vl,t=ss,a=(t.flags&8772)!==0;if((t.subtreeFlags&8772)!==0||a){a=D.T,D.T=null;var n=Z.p;Z.p=2;var s=nt;nt|=4;try{af(e,t.alternate,t)}finally{nt=s,Z.p=n,D.T=a}}$t=3}}function _f(){if($t===4||$t===3){$t=0,_e();var e=Vl,t=ss,a=jl,n=xf;(t.subtreeFlags&10256)!==0||(t.flags&10256)!==0?$t=5:($t=0,ss=Vl=null,Df(e,e.pendingLanes));var s=e.pendingLanes;if(s===0&&(Yl=null),$a(a),t=t.stateNode,Ie&&typeof Ie.onCommitFiberRoot=="function")try{Ie.onCommitFiberRoot(De,t,void 0,(t.current.flags&128)===128)}catch{}if(n!==null){t=D.T,s=Z.p,Z.p=2,D.T=null;try{for(var i=e.onRecoverableError,d=0;d<n.length;d++){var p=n[d];i(p.value,{componentStack:p.stack})}}finally{D.T=t,Z.p=s}}(jl&3)!==0&&Lr(),Wa(e),s=e.pendingLanes,(a&261930)!==0&&(s&42)!==0?e===su?si++:(si=0,su=e):si=0,ii(0)}}function Df(e,t){(e.pooledCacheLanes&=t)===0&&(t=e.pooledCache,t!=null&&(e.pooledCache=null,Hs(t)))}function Lr(){return Ef(),Cf(),_f(),Mf()}function Mf(){if($t!==5)return!1;var e=Vl,t=lu;lu=0;var a=$a(jl),n=D.T,s=Z.p;try{Z.p=32>a?32:a,D.T=null,a=nu,nu=null;var i=Vl,d=jl;if($t=0,ss=Vl=null,jl=0,(nt&6)!==0)throw Error(u(331));var p=nt;if(nt|=4,mf(i.current),uf(i,i.current,d,a),nt=p,ii(0,!1),Ie&&typeof Ie.onPostCommitFiberRoot=="function")try{Ie.onPostCommitFiberRoot(De,i)}catch{}return!0}finally{Z.p=s,D.T=n,Df(e,t)}}function Rf(e,t,a){t=Ea(a,t),t=Uc(e.stateNode,t,2),e=Bl(e,t,2),e!==null&&(_l(e,2),Wa(e))}function ct(e,t,a){if(e.tag===3)Rf(e,e,a);else for(;t!==null;){if(t.tag===3){Rf(t,e,a);break}else if(t.tag===1){var n=t.stateNode;if(typeof t.type.getDerivedStateFromError=="function"||typeof n.componentDidCatch=="function"&&(Yl===null||!Yl.has(n))){e=Ea(a,e),a=Rm(2),n=Bl(t,a,2),n!==null&&(Om(a,n,t,e),_l(n,2),Wa(n));break}}t=t.return}}function ou(e,t,a){var n=e.pingCache;if(n===null){n=e.pingCache=new c0;var s=new Set;n.set(t,s)}else s=n.get(t),s===void 0&&(s=new Set,n.set(t,s));s.has(a)||(eu=!0,s.add(a),e=f0.bind(null,e,t,a),t.then(e,e))}function f0(e,t,a){var n=e.pingCache;n!==null&&n.delete(t),e.pingedLanes|=e.suspendedLanes&a,e.warmLanes&=~a,mt===e&&(Je&a)===a&&(Et===4||Et===3&&(Je&62914560)===Je&&300>fe()-_r?(nt&2)===0&&is(e,0):tu|=a,ns===Je&&(ns=0)),Wa(e)}function Of(e,t){t===0&&(t=sl()),e=hn(e,t),e!==null&&(_l(e,t),Wa(e))}function p0(e){var t=e.memoizedState,a=0;t!==null&&(a=t.retryLane),Of(e,a)}function x0(e,t){var a=0;switch(e.tag){case 31:case 13:var n=e.stateNode,s=e.memoizedState;s!==null&&(a=s.retryLane);break;case 19:n=e.stateNode;break;case 22:n=e.stateNode._retryCache;break;default:throw Error(u(314))}n!==null&&n.delete(t),Of(e,a)}function g0(e,t){return C(e,t)}var Ur=null,os=null,cu=!1,Br=!1,uu=!1,Ql=0;function Wa(e){e!==os&&e.next===null&&(os===null?Ur=os=e:os=os.next=e),Br=!0,cu||(cu=!0,y0())}function ii(e,t){if(!uu&&Br){uu=!0;do for(var a=!1,n=Ur;n!==null;){if(e!==0){var s=n.pendingLanes;if(s===0)var i=0;else{var d=n.suspendedLanes,p=n.pingedLanes;i=(1<<31-me(42|e)+1)-1,i&=s&~(d&~p),i=i&201326741?i&201326741|1:i?i|2:0}i!==0&&(a=!0,Bf(n,i))}else i=Je,i=Mn(n,n===mt?i:0,n.cancelPendingCommit!==null||n.timeoutHandle!==-1),(i&3)===0||on(n,i)||(a=!0,Bf(n,i));n=n.next}while(a);uu=!1}}function b0(){zf()}function zf(){Br=cu=!1;var e=0;Ql!==0&&C0()&&(e=Ql);for(var t=fe(),a=null,n=Ur;n!==null;){var s=n.next,i=Lf(n,t);i===0?(n.next=null,a===null?Ur=s:a.next=s,s===null&&(os=a)):(a=n,(e!==0||(i&3)!==0)&&(Br=!0)),n=s}$t!==0&&$t!==5||ii(e),Ql!==0&&(Ql=0)}function Lf(e,t){for(var a=e.suspendedLanes,n=e.pingedLanes,s=e.expirationTimes,i=e.pendingLanes&-62914561;0<i;){var d=31-me(i),p=1<<d,S=s[d];S===-1?((p&a)===0||(p&n)!==0)&&(s[d]=Dt(p,t)):S<=t&&(e.expiredLanes|=p),i&=~p}if(t=mt,a=Je,a=Mn(e,e===t?a:0,e.cancelPendingCommit!==null||e.timeoutHandle!==-1),n=e.callbackNode,a===0||e===t&&(ot===2||ot===9)||e.cancelPendingCommit!==null)return n!==null&&n!==null&&Se(n),e.callbackNode=null,e.callbackPriority=0;if((a&3)===0||on(e,a)){if(t=a&-a,t===e.callbackPriority)return t;switch(n!==null&&Se(n),$a(a)){case 2:case 8:a=H;break;case 32:a=Ue;break;case 268435456:a=Ut;break;default:a=Ue}return n=Uf.bind(null,e),a=C(a,n),e.callbackPriority=t,e.callbackNode=a,t}return n!==null&&n!==null&&Se(n),e.callbackPriority=2,e.callbackNode=null,2}function Uf(e,t){if($t!==0&&$t!==5)return e.callbackNode=null,e.callbackPriority=0,null;var a=e.callbackNode;if(Lr()&&e.callbackNode!==a)return null;var n=Je;return n=Mn(e,e===mt?n:0,e.cancelPendingCommit!==null||e.timeoutHandle!==-1),n===0?null:(bf(e,n,t),Lf(e,fe()),e.callbackNode!=null&&e.callbackNode===a?Uf.bind(null,e):null)}function Bf(e,t){if(Lr())return null;bf(e,t,!0)}function y0(){D0(function(){(nt&6)!==0?C(He,b0):zf()})}function du(){if(Ql===0){var e=Qn;e===0&&(e=ll,ll<<=1,(ll&261888)===0&&(ll=256)),Ql=e}return Ql}function $f(e){return e==null||typeof e=="symbol"||typeof e=="boolean"?null:typeof e=="function"?e:Xi(""+e)}function Hf(e,t){var a=t.ownerDocument.createElement("input");return a.name=t.name,a.value=t.value,e.id&&a.setAttribute("form",e.id),t.parentNode.insertBefore(a,t),e=new FormData(e),a.parentNode.removeChild(a),e}function v0(e,t,a,n,s){if(t==="submit"&&a&&a.stateNode===s){var i=$f((s[Nt]||null).action),d=n.submitter;d&&(t=(t=d[Nt]||null)?$f(t.formAction):d.getAttribute("formAction"),t!==null&&(i=t,d=null));var p=new Pi("action","action",null,n,s);e.push({event:p,listeners:[{instance:null,listener:function(){if(n.defaultPrevented){if(Ql!==0){var S=d?Hf(s,d):new FormData(s);Dc(a,{pending:!0,data:S,method:s.method,action:i},null,S)}}else typeof i=="function"&&(p.preventDefault(),S=d?Hf(s,d):new FormData(s),Dc(a,{pending:!0,data:S,method:s.method,action:i},i,S))},currentTarget:s}]})}}for(var hu=0;hu<Zo.length;hu++){var mu=Zo[hu],w0=mu.toLowerCase(),N0=mu[0].toUpperCase()+mu.slice(1);Ha(w0,"on"+N0)}Ha(xh,"onAnimationEnd"),Ha(gh,"onAnimationIteration"),Ha(bh,"onAnimationStart"),Ha("dblclick","onDoubleClick"),Ha("focusin","onFocus"),Ha("focusout","onBlur"),Ha(Bg,"onTransitionRun"),Ha($g,"onTransitionStart"),Ha(Hg,"onTransitionCancel"),Ha(yh,"onTransitionEnd"),Za("onMouseEnter",["mouseout","mouseover"]),Za("onMouseLeave",["mouseout","mouseover"]),Za("onPointerEnter",["pointerout","pointerover"]),Za("onPointerLeave",["pointerout","pointerover"]),la("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),la("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),la("onBeforeInput",["compositionend","keypress","textInput","paste"]),la("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),la("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),la("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var ri="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),j0=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(ri));function Gf(e,t){t=(t&4)!==0;for(var a=0;a<e.length;a++){var n=e[a],s=n.event;n=n.listeners;e:{var i=void 0;if(t)for(var d=n.length-1;0<=d;d--){var p=n[d],S=p.instance,L=p.currentTarget;if(p=p.listener,S!==i&&s.isPropagationStopped())break e;i=p,s.currentTarget=L;try{i(s)}catch(J){Fi(J)}s.currentTarget=null,i=S}else for(d=0;d<n.length;d++){if(p=n[d],S=p.instance,L=p.currentTarget,p=p.listener,S!==i&&s.isPropagationStopped())break e;i=p,s.currentTarget=L;try{i(s)}catch(J){Fi(J)}s.currentTarget=null,i=S}}}}function Ke(e,t){var a=t[Rn];a===void 0&&(a=t[Rn]=new Set);var n=e+"__bubble";a.has(n)||(qf(t,e,2,!1),a.add(n))}function fu(e,t,a){var n=0;t&&(n|=4),qf(a,e,n,t)}var $r="_reactListening"+Math.random().toString(36).slice(2);function pu(e){if(!e[$r]){e[$r]=!0,qt.forEach(function(a){a!=="selectionchange"&&(j0.has(a)||fu(a,!1,e),fu(a,!0,e))});var t=e.nodeType===9?e:e.ownerDocument;t===null||t[$r]||(t[$r]=!0,fu("selectionchange",!1,t))}}function qf(e,t,a,n){switch(gp(t)){case 2:var s=J0;break;case 8:s=W0;break;default:s=_u}a=s.bind(null,t,a,e),s=void 0,!zo||t!=="touchstart"&&t!=="touchmove"&&t!=="wheel"||(s=!0),n?s!==void 0?e.addEventListener(t,a,{capture:!0,passive:s}):e.addEventListener(t,a,!0):s!==void 0?e.addEventListener(t,a,{passive:s}):e.addEventListener(t,a,!1)}function xu(e,t,a,n,s){var i=n;if((t&1)===0&&(t&2)===0&&n!==null)e:for(;;){if(n===null)return;var d=n.tag;if(d===3||d===4){var p=n.stateNode.containerInfo;if(p===s)break;if(d===4)for(d=n.return;d!==null;){var S=d.tag;if((S===3||S===4)&&d.stateNode.containerInfo===s)return;d=d.return}for(;p!==null;){if(d=de(p),d===null)return;if(S=d.tag,S===5||S===6||S===26||S===27){n=i=d;continue e}p=p.parentNode}}n=n.return}Xd(function(){var L=i,J=Ro(a),ie=[];e:{var B=vh.get(e);if(B!==void 0){var Y=Pi,Ae=e;switch(e){case"keypress":if(Zi(a)===0)break e;case"keydown":case"keyup":Y=xg;break;case"focusin":Ae="focus",Y=$o;break;case"focusout":Ae="blur",Y=$o;break;case"beforeblur":case"afterblur":Y=$o;break;case"click":if(a.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":Y=Kd;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":Y=ng;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":Y=yg;break;case xh:case gh:case bh:Y=rg;break;case yh:Y=wg;break;case"scroll":case"scrollend":Y=ag;break;case"wheel":Y=jg;break;case"copy":case"cut":case"paste":Y=cg;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":Y=Jd;break;case"toggle":case"beforetoggle":Y=kg}var Le=(t&4)!==0,ht=!Le&&(e==="scroll"||e==="scrollend"),O=Le?B!==null?B+"Capture":null:B;Le=[];for(var E=L,z;E!==null;){var ae=E;if(z=ae.stateNode,ae=ae.tag,ae!==5&&ae!==26&&ae!==27||z===null||O===null||(ae=Cs(E,O),ae!=null&&Le.push(oi(E,ae,z))),ht)break;E=E.return}0<Le.length&&(B=new Y(B,Ae,null,a,J),ie.push({event:B,listeners:Le}))}}if((t&7)===0){e:{if(B=e==="mouseover"||e==="pointerover",Y=e==="mouseout"||e==="pointerout",B&&a!==Mo&&(Ae=a.relatedTarget||a.fromElement)&&(de(Ae)||Ae[il]))break e;if((Y||B)&&(B=J.window===J?J:(B=J.ownerDocument)?B.defaultView||B.parentWindow:window,Y?(Ae=a.relatedTarget||a.toElement,Y=L,Ae=Ae?de(Ae):null,Ae!==null&&(ht=m(Ae),Le=Ae.tag,Ae!==ht||Le!==5&&Le!==27&&Le!==6)&&(Ae=null)):(Y=null,Ae=L),Y!==Ae)){if(Le=Kd,ae="onMouseLeave",O="onMouseEnter",E="mouse",(e==="pointerout"||e==="pointerover")&&(Le=Jd,ae="onPointerLeave",O="onPointerEnter",E="pointer"),ht=Y==null?B:st(Y),z=Ae==null?B:st(Ae),B=new Le(ae,E+"leave",Y,a,J),B.target=ht,B.relatedTarget=z,ae=null,de(J)===L&&(Le=new Le(O,E+"enter",Ae,a,J),Le.target=z,Le.relatedTarget=ht,ae=Le),ht=ae,Y&&Ae)t:{for(Le=S0,O=Y,E=Ae,z=0,ae=O;ae;ae=Le(ae))z++;ae=0;for(var Re=E;Re;Re=Le(Re))ae++;for(;0<z-ae;)O=Le(O),z--;for(;0<ae-z;)E=Le(E),ae--;for(;z--;){if(O===E||E!==null&&O===E.alternate){Le=O;break t}O=Le(O),E=Le(E)}Le=null}else Le=null;Y!==null&&If(ie,B,Y,Le,!1),Ae!==null&&ht!==null&&If(ie,ht,Ae,Le,!0)}}e:{if(B=L?st(L):window,Y=B.nodeName&&B.nodeName.toLowerCase(),Y==="select"||Y==="input"&&B.type==="file")var at=sh;else if(lh(B))if(ih)at=zg;else{at=Rg;var Ce=Mg}else Y=B.nodeName,!Y||Y.toLowerCase()!=="input"||B.type!=="checkbox"&&B.type!=="radio"?L&&Do(L.elementType)&&(at=sh):at=Og;if(at&&(at=at(e,L))){nh(ie,at,a,J);break e}Ce&&Ce(e,B,L),e==="focusout"&&L&&B.type==="number"&&L.memoizedProps.value!=null&&_o(B,"number",B.value)}switch(Ce=L?st(L):window,e){case"focusin":(lh(Ce)||Ce.contentEditable==="true")&&($n=Ce,Vo=L,Us=null);break;case"focusout":Us=Vo=$n=null;break;case"mousedown":Xo=!0;break;case"contextmenu":case"mouseup":case"dragend":Xo=!1,fh(ie,a,J);break;case"selectionchange":if(Ug)break;case"keydown":case"keyup":fh(ie,a,J)}var Ye;if(Go)e:{switch(e){case"compositionstart":var We="onCompositionStart";break e;case"compositionend":We="onCompositionEnd";break e;case"compositionupdate":We="onCompositionUpdate";break e}We=void 0}else Bn?th(e,a)&&(We="onCompositionEnd"):e==="keydown"&&a.keyCode===229&&(We="onCompositionStart");We&&(Wd&&a.locale!=="ko"&&(Bn||We!=="onCompositionStart"?We==="onCompositionEnd"&&Bn&&(Ye=Qd()):(Dl=J,Lo="value"in Dl?Dl.value:Dl.textContent,Bn=!0)),Ce=Hr(L,We),0<Ce.length&&(We=new Pd(We,e,null,a,J),ie.push({event:We,listeners:Ce}),Ye?We.data=Ye:(Ye=ah(a),Ye!==null&&(We.data=Ye)))),(Ye=Tg?Eg(e,a):Cg(e,a))&&(We=Hr(L,"onBeforeInput"),0<We.length&&(Ce=new Pd("onBeforeInput","beforeinput",null,a,J),ie.push({event:Ce,listeners:We}),Ce.data=Ye)),v0(ie,e,L,a,J)}Gf(ie,t)})}function oi(e,t,a){return{instance:e,listener:t,currentTarget:a}}function Hr(e,t){for(var a=t+"Capture",n=[];e!==null;){var s=e,i=s.stateNode;if(s=s.tag,s!==5&&s!==26&&s!==27||i===null||(s=Cs(e,a),s!=null&&n.unshift(oi(e,s,i)),s=Cs(e,t),s!=null&&n.push(oi(e,s,i))),e.tag===3)return n;e=e.return}return[]}function S0(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5&&e.tag!==27);return e||null}function If(e,t,a,n,s){for(var i=t._reactName,d=[];a!==null&&a!==n;){var p=a,S=p.alternate,L=p.stateNode;if(p=p.tag,S!==null&&S===n)break;p!==5&&p!==26&&p!==27||L===null||(S=L,s?(L=Cs(a,i),L!=null&&d.unshift(oi(a,L,S))):s||(L=Cs(a,i),L!=null&&d.push(oi(a,L,S)))),a=a.return}d.length!==0&&e.push({event:t,listeners:d})}var k0=/\r\n?/g,A0=/\u0000|\uFFFD/g;function Yf(e){return(typeof e=="string"?e:""+e).replace(k0,`
`).replace(A0,"")}function Vf(e,t){return t=Yf(t),Yf(e)===t}function dt(e,t,a,n,s,i){switch(a){case"children":typeof n=="string"?t==="body"||t==="textarea"&&n===""||zn(e,n):(typeof n=="number"||typeof n=="bigint")&&t!=="body"&&zn(e,""+n);break;case"className":Yi(e,"class",n);break;case"tabIndex":Yi(e,"tabindex",n);break;case"dir":case"role":case"viewBox":case"width":case"height":Yi(e,a,n);break;case"style":Yd(e,n,i);break;case"data":if(t!=="object"){Yi(e,"data",n);break}case"src":case"href":if(n===""&&(t!=="a"||a!=="href")){e.removeAttribute(a);break}if(n==null||typeof n=="function"||typeof n=="symbol"||typeof n=="boolean"){e.removeAttribute(a);break}n=Xi(""+n),e.setAttribute(a,n);break;case"action":case"formAction":if(typeof n=="function"){e.setAttribute(a,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof i=="function"&&(a==="formAction"?(t!=="input"&&dt(e,t,"name",s.name,s,null),dt(e,t,"formEncType",s.formEncType,s,null),dt(e,t,"formMethod",s.formMethod,s,null),dt(e,t,"formTarget",s.formTarget,s,null)):(dt(e,t,"encType",s.encType,s,null),dt(e,t,"method",s.method,s,null),dt(e,t,"target",s.target,s,null)));if(n==null||typeof n=="symbol"||typeof n=="boolean"){e.removeAttribute(a);break}n=Xi(""+n),e.setAttribute(a,n);break;case"onClick":n!=null&&(e.onclick=ol);break;case"onScroll":n!=null&&Ke("scroll",e);break;case"onScrollEnd":n!=null&&Ke("scrollend",e);break;case"dangerouslySetInnerHTML":if(n!=null){if(typeof n!="object"||!("__html"in n))throw Error(u(61));if(a=n.__html,a!=null){if(s.children!=null)throw Error(u(60));e.innerHTML=a}}break;case"multiple":e.multiple=n&&typeof n!="function"&&typeof n!="symbol";break;case"muted":e.muted=n&&typeof n!="function"&&typeof n!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(n==null||typeof n=="function"||typeof n=="boolean"||typeof n=="symbol"){e.removeAttribute("xlink:href");break}a=Xi(""+n),e.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",a);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":n!=null&&typeof n!="function"&&typeof n!="symbol"?e.setAttribute(a,""+n):e.removeAttribute(a);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":n&&typeof n!="function"&&typeof n!="symbol"?e.setAttribute(a,""):e.removeAttribute(a);break;case"capture":case"download":n===!0?e.setAttribute(a,""):n!==!1&&n!=null&&typeof n!="function"&&typeof n!="symbol"?e.setAttribute(a,n):e.removeAttribute(a);break;case"cols":case"rows":case"size":case"span":n!=null&&typeof n!="function"&&typeof n!="symbol"&&!isNaN(n)&&1<=n?e.setAttribute(a,n):e.removeAttribute(a);break;case"rowSpan":case"start":n==null||typeof n=="function"||typeof n=="symbol"||isNaN(n)?e.removeAttribute(a):e.setAttribute(a,n);break;case"popover":Ke("beforetoggle",e),Ke("toggle",e),Ii(e,"popover",n);break;case"xlinkActuate":rl(e,"http://www.w3.org/1999/xlink","xlink:actuate",n);break;case"xlinkArcrole":rl(e,"http://www.w3.org/1999/xlink","xlink:arcrole",n);break;case"xlinkRole":rl(e,"http://www.w3.org/1999/xlink","xlink:role",n);break;case"xlinkShow":rl(e,"http://www.w3.org/1999/xlink","xlink:show",n);break;case"xlinkTitle":rl(e,"http://www.w3.org/1999/xlink","xlink:title",n);break;case"xlinkType":rl(e,"http://www.w3.org/1999/xlink","xlink:type",n);break;case"xmlBase":rl(e,"http://www.w3.org/XML/1998/namespace","xml:base",n);break;case"xmlLang":rl(e,"http://www.w3.org/XML/1998/namespace","xml:lang",n);break;case"xmlSpace":rl(e,"http://www.w3.org/XML/1998/namespace","xml:space",n);break;case"is":Ii(e,"is",n);break;case"innerText":case"textContent":break;default:(!(2<a.length)||a[0]!=="o"&&a[0]!=="O"||a[1]!=="n"&&a[1]!=="N")&&(a=eg.get(a)||a,Ii(e,a,n))}}function gu(e,t,a,n,s,i){switch(a){case"style":Yd(e,n,i);break;case"dangerouslySetInnerHTML":if(n!=null){if(typeof n!="object"||!("__html"in n))throw Error(u(61));if(a=n.__html,a!=null){if(s.children!=null)throw Error(u(60));e.innerHTML=a}}break;case"children":typeof n=="string"?zn(e,n):(typeof n=="number"||typeof n=="bigint")&&zn(e,""+n);break;case"onScroll":n!=null&&Ke("scroll",e);break;case"onScrollEnd":n!=null&&Ke("scrollend",e);break;case"onClick":n!=null&&(e.onclick=ol);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!Sa.hasOwnProperty(a))e:{if(a[0]==="o"&&a[1]==="n"&&(s=a.endsWith("Capture"),t=a.slice(2,s?a.length-7:void 0),i=e[Nt]||null,i=i!=null?i[a]:null,typeof i=="function"&&e.removeEventListener(t,i,s),typeof n=="function")){typeof i!="function"&&i!==null&&(a in e?e[a]=null:e.hasAttribute(a)&&e.removeAttribute(a)),e.addEventListener(t,n,s);break e}a in e?e[a]=n:n===!0?e.setAttribute(a,""):Ii(e,a,n)}}}function Xt(e,t,a){switch(t){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":Ke("error",e),Ke("load",e);var n=!1,s=!1,i;for(i in a)if(a.hasOwnProperty(i)){var d=a[i];if(d!=null)switch(i){case"src":n=!0;break;case"srcSet":s=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(u(137,t));default:dt(e,t,i,d,a,null)}}s&&dt(e,t,"srcSet",a.srcSet,a,null),n&&dt(e,t,"src",a.src,a,null);return;case"input":Ke("invalid",e);var p=i=d=s=null,S=null,L=null;for(n in a)if(a.hasOwnProperty(n)){var J=a[n];if(J!=null)switch(n){case"name":s=J;break;case"type":d=J;break;case"checked":S=J;break;case"defaultChecked":L=J;break;case"value":i=J;break;case"defaultValue":p=J;break;case"children":case"dangerouslySetInnerHTML":if(J!=null)throw Error(u(137,t));break;default:dt(e,t,n,J,a,null)}}Hd(e,i,p,S,L,d,s,!1);return;case"select":Ke("invalid",e),n=d=i=null;for(s in a)if(a.hasOwnProperty(s)&&(p=a[s],p!=null))switch(s){case"value":i=p;break;case"defaultValue":d=p;break;case"multiple":n=p;default:dt(e,t,s,p,a,null)}t=i,a=d,e.multiple=!!n,t!=null?On(e,!!n,t,!1):a!=null&&On(e,!!n,a,!0);return;case"textarea":Ke("invalid",e),i=s=n=null;for(d in a)if(a.hasOwnProperty(d)&&(p=a[d],p!=null))switch(d){case"value":n=p;break;case"defaultValue":s=p;break;case"children":i=p;break;case"dangerouslySetInnerHTML":if(p!=null)throw Error(u(91));break;default:dt(e,t,d,p,a,null)}qd(e,n,s,i);return;case"option":for(S in a)if(a.hasOwnProperty(S)&&(n=a[S],n!=null))switch(S){case"selected":e.selected=n&&typeof n!="function"&&typeof n!="symbol";break;default:dt(e,t,S,n,a,null)}return;case"dialog":Ke("beforetoggle",e),Ke("toggle",e),Ke("cancel",e),Ke("close",e);break;case"iframe":case"object":Ke("load",e);break;case"video":case"audio":for(n=0;n<ri.length;n++)Ke(ri[n],e);break;case"image":Ke("error",e),Ke("load",e);break;case"details":Ke("toggle",e);break;case"embed":case"source":case"link":Ke("error",e),Ke("load",e);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(L in a)if(a.hasOwnProperty(L)&&(n=a[L],n!=null))switch(L){case"children":case"dangerouslySetInnerHTML":throw Error(u(137,t));default:dt(e,t,L,n,a,null)}return;default:if(Do(t)){for(J in a)a.hasOwnProperty(J)&&(n=a[J],n!==void 0&&gu(e,t,J,n,a,void 0));return}}for(p in a)a.hasOwnProperty(p)&&(n=a[p],n!=null&&dt(e,t,p,n,a,null))}function T0(e,t,a,n){switch(t){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var s=null,i=null,d=null,p=null,S=null,L=null,J=null;for(Y in a){var ie=a[Y];if(a.hasOwnProperty(Y)&&ie!=null)switch(Y){case"checked":break;case"value":break;case"defaultValue":S=ie;default:n.hasOwnProperty(Y)||dt(e,t,Y,null,n,ie)}}for(var B in n){var Y=n[B];if(ie=a[B],n.hasOwnProperty(B)&&(Y!=null||ie!=null))switch(B){case"type":i=Y;break;case"name":s=Y;break;case"checked":L=Y;break;case"defaultChecked":J=Y;break;case"value":d=Y;break;case"defaultValue":p=Y;break;case"children":case"dangerouslySetInnerHTML":if(Y!=null)throw Error(u(137,t));break;default:Y!==ie&&dt(e,t,B,Y,n,ie)}}Co(e,d,p,S,L,J,i,s);return;case"select":Y=d=p=B=null;for(i in a)if(S=a[i],a.hasOwnProperty(i)&&S!=null)switch(i){case"value":break;case"multiple":Y=S;default:n.hasOwnProperty(i)||dt(e,t,i,null,n,S)}for(s in n)if(i=n[s],S=a[s],n.hasOwnProperty(s)&&(i!=null||S!=null))switch(s){case"value":B=i;break;case"defaultValue":p=i;break;case"multiple":d=i;default:i!==S&&dt(e,t,s,i,n,S)}t=p,a=d,n=Y,B!=null?On(e,!!a,B,!1):!!n!=!!a&&(t!=null?On(e,!!a,t,!0):On(e,!!a,a?[]:"",!1));return;case"textarea":Y=B=null;for(p in a)if(s=a[p],a.hasOwnProperty(p)&&s!=null&&!n.hasOwnProperty(p))switch(p){case"value":break;case"children":break;default:dt(e,t,p,null,n,s)}for(d in n)if(s=n[d],i=a[d],n.hasOwnProperty(d)&&(s!=null||i!=null))switch(d){case"value":B=s;break;case"defaultValue":Y=s;break;case"children":break;case"dangerouslySetInnerHTML":if(s!=null)throw Error(u(91));break;default:s!==i&&dt(e,t,d,s,n,i)}Gd(e,B,Y);return;case"option":for(var Ae in a)if(B=a[Ae],a.hasOwnProperty(Ae)&&B!=null&&!n.hasOwnProperty(Ae))switch(Ae){case"selected":e.selected=!1;break;default:dt(e,t,Ae,null,n,B)}for(S in n)if(B=n[S],Y=a[S],n.hasOwnProperty(S)&&B!==Y&&(B!=null||Y!=null))switch(S){case"selected":e.selected=B&&typeof B!="function"&&typeof B!="symbol";break;default:dt(e,t,S,B,n,Y)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var Le in a)B=a[Le],a.hasOwnProperty(Le)&&B!=null&&!n.hasOwnProperty(Le)&&dt(e,t,Le,null,n,B);for(L in n)if(B=n[L],Y=a[L],n.hasOwnProperty(L)&&B!==Y&&(B!=null||Y!=null))switch(L){case"children":case"dangerouslySetInnerHTML":if(B!=null)throw Error(u(137,t));break;default:dt(e,t,L,B,n,Y)}return;default:if(Do(t)){for(var ht in a)B=a[ht],a.hasOwnProperty(ht)&&B!==void 0&&!n.hasOwnProperty(ht)&&gu(e,t,ht,void 0,n,B);for(J in n)B=n[J],Y=a[J],!n.hasOwnProperty(J)||B===Y||B===void 0&&Y===void 0||gu(e,t,J,B,n,Y);return}}for(var O in a)B=a[O],a.hasOwnProperty(O)&&B!=null&&!n.hasOwnProperty(O)&&dt(e,t,O,null,n,B);for(ie in n)B=n[ie],Y=a[ie],!n.hasOwnProperty(ie)||B===Y||B==null&&Y==null||dt(e,t,ie,B,n,Y)}function Xf(e){switch(e){case"css":case"script":case"font":case"img":case"image":case"input":case"link":return!0;default:return!1}}function E0(){if(typeof performance.getEntriesByType=="function"){for(var e=0,t=0,a=performance.getEntriesByType("resource"),n=0;n<a.length;n++){var s=a[n],i=s.transferSize,d=s.initiatorType,p=s.duration;if(i&&p&&Xf(d)){for(d=0,p=s.responseEnd,n+=1;n<a.length;n++){var S=a[n],L=S.startTime;if(L>p)break;var J=S.transferSize,ie=S.initiatorType;J&&Xf(ie)&&(S=S.responseEnd,d+=J*(S<p?1:(p-L)/(S-L)))}if(--n,t+=8*(i+d)/(s.duration/1e3),e++,10<e)break}}if(0<e)return t/e/1e6}return navigator.connection&&(e=navigator.connection.downlink,typeof e=="number")?e:5}var bu=null,yu=null;function Gr(e){return e.nodeType===9?e:e.ownerDocument}function Qf(e){switch(e){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function Zf(e,t){if(e===0)switch(t){case"svg":return 1;case"math":return 2;default:return 0}return e===1&&t==="foreignObject"?0:e}function vu(e,t){return e==="textarea"||e==="noscript"||typeof t.children=="string"||typeof t.children=="number"||typeof t.children=="bigint"||typeof t.dangerouslySetInnerHTML=="object"&&t.dangerouslySetInnerHTML!==null&&t.dangerouslySetInnerHTML.__html!=null}var wu=null;function C0(){var e=window.event;return e&&e.type==="popstate"?e===wu?!1:(wu=e,!0):(wu=null,!1)}var Kf=typeof setTimeout=="function"?setTimeout:void 0,_0=typeof clearTimeout=="function"?clearTimeout:void 0,Pf=typeof Promise=="function"?Promise:void 0,D0=typeof queueMicrotask=="function"?queueMicrotask:typeof Pf<"u"?function(e){return Pf.resolve(null).then(e).catch(M0)}:Kf;function M0(e){setTimeout(function(){throw e})}function Zl(e){return e==="head"}function Jf(e,t){var a=t,n=0;do{var s=a.nextSibling;if(e.removeChild(a),s&&s.nodeType===8)if(a=s.data,a==="/$"||a==="/&"){if(n===0){e.removeChild(s),hs(t);return}n--}else if(a==="$"||a==="$?"||a==="$~"||a==="$!"||a==="&")n++;else if(a==="html")ci(e.ownerDocument.documentElement);else if(a==="head"){a=e.ownerDocument.head,ci(a);for(var i=a.firstChild;i;){var d=i.nextSibling,p=i.nodeName;i[Ee]||p==="SCRIPT"||p==="STYLE"||p==="LINK"&&i.rel.toLowerCase()==="stylesheet"||a.removeChild(i),i=d}}else a==="body"&&ci(e.ownerDocument.body);a=s}while(a);hs(t)}function Wf(e,t){var a=e;e=0;do{var n=a.nextSibling;if(a.nodeType===1?t?(a._stashedDisplay=a.style.display,a.style.display="none"):(a.style.display=a._stashedDisplay||"",a.getAttribute("style")===""&&a.removeAttribute("style")):a.nodeType===3&&(t?(a._stashedText=a.nodeValue,a.nodeValue=""):a.nodeValue=a._stashedText||""),n&&n.nodeType===8)if(a=n.data,a==="/$"){if(e===0)break;e--}else a!=="$"&&a!=="$?"&&a!=="$~"&&a!=="$!"||e++;a=n}while(a)}function Nu(e){var t=e.firstChild;for(t&&t.nodeType===10&&(t=t.nextSibling);t;){var a=t;switch(t=t.nextSibling,a.nodeName){case"HTML":case"HEAD":case"BODY":Nu(a),T(a);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(a.rel.toLowerCase()==="stylesheet")continue}e.removeChild(a)}}function R0(e,t,a,n){for(;e.nodeType===1;){var s=a;if(e.nodeName.toLowerCase()!==t.toLowerCase()){if(!n&&(e.nodeName!=="INPUT"||e.type!=="hidden"))break}else if(n){if(!e[Ee])switch(t){case"meta":if(!e.hasAttribute("itemprop"))break;return e;case"link":if(i=e.getAttribute("rel"),i==="stylesheet"&&e.hasAttribute("data-precedence"))break;if(i!==s.rel||e.getAttribute("href")!==(s.href==null||s.href===""?null:s.href)||e.getAttribute("crossorigin")!==(s.crossOrigin==null?null:s.crossOrigin)||e.getAttribute("title")!==(s.title==null?null:s.title))break;return e;case"style":if(e.hasAttribute("data-precedence"))break;return e;case"script":if(i=e.getAttribute("src"),(i!==(s.src==null?null:s.src)||e.getAttribute("type")!==(s.type==null?null:s.type)||e.getAttribute("crossorigin")!==(s.crossOrigin==null?null:s.crossOrigin))&&i&&e.hasAttribute("async")&&!e.hasAttribute("itemprop"))break;return e;default:return e}}else if(t==="input"&&e.type==="hidden"){var i=s.name==null?null:""+s.name;if(s.type==="hidden"&&e.getAttribute("name")===i)return e}else return e;if(e=Ra(e.nextSibling),e===null)break}return null}function O0(e,t,a){if(t==="")return null;for(;e.nodeType!==3;)if((e.nodeType!==1||e.nodeName!=="INPUT"||e.type!=="hidden")&&!a||(e=Ra(e.nextSibling),e===null))return null;return e}function Ff(e,t){for(;e.nodeType!==8;)if((e.nodeType!==1||e.nodeName!=="INPUT"||e.type!=="hidden")&&!t||(e=Ra(e.nextSibling),e===null))return null;return e}function ju(e){return e.data==="$?"||e.data==="$~"}function Su(e){return e.data==="$!"||e.data==="$?"&&e.ownerDocument.readyState!=="loading"}function z0(e,t){var a=e.ownerDocument;if(e.data==="$~")e._reactRetry=t;else if(e.data!=="$?"||a.readyState!=="loading")t();else{var n=function(){t(),a.removeEventListener("DOMContentLoaded",n)};a.addEventListener("DOMContentLoaded",n),e._reactRetry=n}}function Ra(e){for(;e!=null;e=e.nextSibling){var t=e.nodeType;if(t===1||t===3)break;if(t===8){if(t=e.data,t==="$"||t==="$!"||t==="$?"||t==="$~"||t==="&"||t==="F!"||t==="F")break;if(t==="/$"||t==="/&")return null}}return e}var ku=null;function ep(e){e=e.nextSibling;for(var t=0;e;){if(e.nodeType===8){var a=e.data;if(a==="/$"||a==="/&"){if(t===0)return Ra(e.nextSibling);t--}else a!=="$"&&a!=="$!"&&a!=="$?"&&a!=="$~"&&a!=="&"||t++}e=e.nextSibling}return null}function tp(e){e=e.previousSibling;for(var t=0;e;){if(e.nodeType===8){var a=e.data;if(a==="$"||a==="$!"||a==="$?"||a==="$~"||a==="&"){if(t===0)return e;t--}else a!=="/$"&&a!=="/&"||t++}e=e.previousSibling}return null}function ap(e,t,a){switch(t=Gr(a),e){case"html":if(e=t.documentElement,!e)throw Error(u(452));return e;case"head":if(e=t.head,!e)throw Error(u(453));return e;case"body":if(e=t.body,!e)throw Error(u(454));return e;default:throw Error(u(451))}}function ci(e){for(var t=e.attributes;t.length;)e.removeAttributeNode(t[0]);T(e)}var Oa=new Map,lp=new Set;function qr(e){return typeof e.getRootNode=="function"?e.getRootNode():e.nodeType===9?e:e.ownerDocument}var Sl=Z.d;Z.d={f:L0,r:U0,D:B0,C:$0,L:H0,m:G0,X:I0,S:q0,M:Y0};function L0(){var e=Sl.f(),t=Rr();return e||t}function U0(e){var t=ke(e);t!==null&&t.tag===5&&t.type==="form"?ym(t):Sl.r(e)}var cs=typeof document>"u"?null:document;function np(e,t,a){var n=cs;if(n&&typeof t=="string"&&t){var s=Aa(t);s='link[rel="'+e+'"][href="'+s+'"]',typeof a=="string"&&(s+='[crossorigin="'+a+'"]'),lp.has(s)||(lp.add(s),e={rel:e,crossOrigin:a,href:t},n.querySelector(s)===null&&(t=n.createElement("link"),Xt(t,"link",e),Ve(t),n.head.appendChild(t)))}}function B0(e){Sl.D(e),np("dns-prefetch",e,null)}function $0(e,t){Sl.C(e,t),np("preconnect",e,t)}function H0(e,t,a){Sl.L(e,t,a);var n=cs;if(n&&e&&t){var s='link[rel="preload"][as="'+Aa(t)+'"]';t==="image"&&a&&a.imageSrcSet?(s+='[imagesrcset="'+Aa(a.imageSrcSet)+'"]',typeof a.imageSizes=="string"&&(s+='[imagesizes="'+Aa(a.imageSizes)+'"]')):s+='[href="'+Aa(e)+'"]';var i=s;switch(t){case"style":i=us(e);break;case"script":i=ds(e)}Oa.has(i)||(e=_({rel:"preload",href:t==="image"&&a&&a.imageSrcSet?void 0:e,as:t},a),Oa.set(i,e),n.querySelector(s)!==null||t==="style"&&n.querySelector(ui(i))||t==="script"&&n.querySelector(di(i))||(t=n.createElement("link"),Xt(t,"link",e),Ve(t),n.head.appendChild(t)))}}function G0(e,t){Sl.m(e,t);var a=cs;if(a&&e){var n=t&&typeof t.as=="string"?t.as:"script",s='link[rel="modulepreload"][as="'+Aa(n)+'"][href="'+Aa(e)+'"]',i=s;switch(n){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":i=ds(e)}if(!Oa.has(i)&&(e=_({rel:"modulepreload",href:e},t),Oa.set(i,e),a.querySelector(s)===null)){switch(n){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(a.querySelector(di(i)))return}n=a.createElement("link"),Xt(n,"link",e),Ve(n),a.head.appendChild(n)}}}function q0(e,t,a){Sl.S(e,t,a);var n=cs;if(n&&e){var s=kt(n).hoistableStyles,i=us(e);t=t||"default";var d=s.get(i);if(!d){var p={loading:0,preload:null};if(d=n.querySelector(ui(i)))p.loading=5;else{e=_({rel:"stylesheet",href:e,"data-precedence":t},a),(a=Oa.get(i))&&Au(e,a);var S=d=n.createElement("link");Ve(S),Xt(S,"link",e),S._p=new Promise(function(L,J){S.onload=L,S.onerror=J}),S.addEventListener("load",function(){p.loading|=1}),S.addEventListener("error",function(){p.loading|=2}),p.loading|=4,Ir(d,t,n)}d={type:"stylesheet",instance:d,count:1,state:p},s.set(i,d)}}}function I0(e,t){Sl.X(e,t);var a=cs;if(a&&e){var n=kt(a).hoistableScripts,s=ds(e),i=n.get(s);i||(i=a.querySelector(di(s)),i||(e=_({src:e,async:!0},t),(t=Oa.get(s))&&Tu(e,t),i=a.createElement("script"),Ve(i),Xt(i,"link",e),a.head.appendChild(i)),i={type:"script",instance:i,count:1,state:null},n.set(s,i))}}function Y0(e,t){Sl.M(e,t);var a=cs;if(a&&e){var n=kt(a).hoistableScripts,s=ds(e),i=n.get(s);i||(i=a.querySelector(di(s)),i||(e=_({src:e,async:!0,type:"module"},t),(t=Oa.get(s))&&Tu(e,t),i=a.createElement("script"),Ve(i),Xt(i,"link",e),a.head.appendChild(i)),i={type:"script",instance:i,count:1,state:null},n.set(s,i))}}function sp(e,t,a,n){var s=(s=k.current)?qr(s):null;if(!s)throw Error(u(446));switch(e){case"meta":case"title":return null;case"style":return typeof a.precedence=="string"&&typeof a.href=="string"?(t=us(a.href),a=kt(s).hoistableStyles,n=a.get(t),n||(n={type:"style",instance:null,count:0,state:null},a.set(t,n)),n):{type:"void",instance:null,count:0,state:null};case"link":if(a.rel==="stylesheet"&&typeof a.href=="string"&&typeof a.precedence=="string"){e=us(a.href);var i=kt(s).hoistableStyles,d=i.get(e);if(d||(s=s.ownerDocument||s,d={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},i.set(e,d),(i=s.querySelector(ui(e)))&&!i._p&&(d.instance=i,d.state.loading=5),Oa.has(e)||(a={rel:"preload",as:"style",href:a.href,crossOrigin:a.crossOrigin,integrity:a.integrity,media:a.media,hrefLang:a.hrefLang,referrerPolicy:a.referrerPolicy},Oa.set(e,a),i||V0(s,e,a,d.state))),t&&n===null)throw Error(u(528,""));return d}if(t&&n!==null)throw Error(u(529,""));return null;case"script":return t=a.async,a=a.src,typeof a=="string"&&t&&typeof t!="function"&&typeof t!="symbol"?(t=ds(a),a=kt(s).hoistableScripts,n=a.get(t),n||(n={type:"script",instance:null,count:0,state:null},a.set(t,n)),n):{type:"void",instance:null,count:0,state:null};default:throw Error(u(444,e))}}function us(e){return'href="'+Aa(e)+'"'}function ui(e){return'link[rel="stylesheet"]['+e+"]"}function ip(e){return _({},e,{"data-precedence":e.precedence,precedence:null})}function V0(e,t,a,n){e.querySelector('link[rel="preload"][as="style"]['+t+"]")?n.loading=1:(t=e.createElement("link"),n.preload=t,t.addEventListener("load",function(){return n.loading|=1}),t.addEventListener("error",function(){return n.loading|=2}),Xt(t,"link",a),Ve(t),e.head.appendChild(t))}function ds(e){return'[src="'+Aa(e)+'"]'}function di(e){return"script[async]"+e}function rp(e,t,a){if(t.count++,t.instance===null)switch(t.type){case"style":var n=e.querySelector('style[data-href~="'+Aa(a.href)+'"]');if(n)return t.instance=n,Ve(n),n;var s=_({},a,{"data-href":a.href,"data-precedence":a.precedence,href:null,precedence:null});return n=(e.ownerDocument||e).createElement("style"),Ve(n),Xt(n,"style",s),Ir(n,a.precedence,e),t.instance=n;case"stylesheet":s=us(a.href);var i=e.querySelector(ui(s));if(i)return t.state.loading|=4,t.instance=i,Ve(i),i;n=ip(a),(s=Oa.get(s))&&Au(n,s),i=(e.ownerDocument||e).createElement("link"),Ve(i);var d=i;return d._p=new Promise(function(p,S){d.onload=p,d.onerror=S}),Xt(i,"link",n),t.state.loading|=4,Ir(i,a.precedence,e),t.instance=i;case"script":return i=ds(a.src),(s=e.querySelector(di(i)))?(t.instance=s,Ve(s),s):(n=a,(s=Oa.get(i))&&(n=_({},a),Tu(n,s)),e=e.ownerDocument||e,s=e.createElement("script"),Ve(s),Xt(s,"link",n),e.head.appendChild(s),t.instance=s);case"void":return null;default:throw Error(u(443,t.type))}else t.type==="stylesheet"&&(t.state.loading&4)===0&&(n=t.instance,t.state.loading|=4,Ir(n,a.precedence,e));return t.instance}function Ir(e,t,a){for(var n=a.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),s=n.length?n[n.length-1]:null,i=s,d=0;d<n.length;d++){var p=n[d];if(p.dataset.precedence===t)i=p;else if(i!==s)break}i?i.parentNode.insertBefore(e,i.nextSibling):(t=a.nodeType===9?a.head:a,t.insertBefore(e,t.firstChild))}function Au(e,t){e.crossOrigin==null&&(e.crossOrigin=t.crossOrigin),e.referrerPolicy==null&&(e.referrerPolicy=t.referrerPolicy),e.title==null&&(e.title=t.title)}function Tu(e,t){e.crossOrigin==null&&(e.crossOrigin=t.crossOrigin),e.referrerPolicy==null&&(e.referrerPolicy=t.referrerPolicy),e.integrity==null&&(e.integrity=t.integrity)}var Yr=null;function op(e,t,a){if(Yr===null){var n=new Map,s=Yr=new Map;s.set(a,n)}else s=Yr,n=s.get(a),n||(n=new Map,s.set(a,n));if(n.has(e))return n;for(n.set(e,null),a=a.getElementsByTagName(e),s=0;s<a.length;s++){var i=a[s];if(!(i[Ee]||i[Mt]||e==="link"&&i.getAttribute("rel")==="stylesheet")&&i.namespaceURI!=="http://www.w3.org/2000/svg"){var d=i.getAttribute(t)||"";d=e+d;var p=n.get(d);p?p.push(i):n.set(d,[i])}}return n}function cp(e,t,a){e=e.ownerDocument||e,e.head.insertBefore(a,t==="title"?e.querySelector("head > title"):null)}function X0(e,t,a){if(a===1||t.itemProp!=null)return!1;switch(e){case"meta":case"title":return!0;case"style":if(typeof t.precedence!="string"||typeof t.href!="string"||t.href==="")break;return!0;case"link":if(typeof t.rel!="string"||typeof t.href!="string"||t.href===""||t.onLoad||t.onError)break;switch(t.rel){case"stylesheet":return e=t.disabled,typeof t.precedence=="string"&&e==null;default:return!0}case"script":if(t.async&&typeof t.async!="function"&&typeof t.async!="symbol"&&!t.onLoad&&!t.onError&&t.src&&typeof t.src=="string")return!0}return!1}function up(e){return!(e.type==="stylesheet"&&(e.state.loading&3)===0)}function Q0(e,t,a,n){if(a.type==="stylesheet"&&(typeof n.media!="string"||matchMedia(n.media).matches!==!1)&&(a.state.loading&4)===0){if(a.instance===null){var s=us(n.href),i=t.querySelector(ui(s));if(i){t=i._p,t!==null&&typeof t=="object"&&typeof t.then=="function"&&(e.count++,e=Vr.bind(e),t.then(e,e)),a.state.loading|=4,a.instance=i,Ve(i);return}i=t.ownerDocument||t,n=ip(n),(s=Oa.get(s))&&Au(n,s),i=i.createElement("link"),Ve(i);var d=i;d._p=new Promise(function(p,S){d.onload=p,d.onerror=S}),Xt(i,"link",n),a.instance=i}e.stylesheets===null&&(e.stylesheets=new Map),e.stylesheets.set(a,t),(t=a.state.preload)&&(a.state.loading&3)===0&&(e.count++,a=Vr.bind(e),t.addEventListener("load",a),t.addEventListener("error",a))}}var Eu=0;function Z0(e,t){return e.stylesheets&&e.count===0&&Qr(e,e.stylesheets),0<e.count||0<e.imgCount?function(a){var n=setTimeout(function(){if(e.stylesheets&&Qr(e,e.stylesheets),e.unsuspend){var i=e.unsuspend;e.unsuspend=null,i()}},6e4+t);0<e.imgBytes&&Eu===0&&(Eu=62500*E0());var s=setTimeout(function(){if(e.waitingForImages=!1,e.count===0&&(e.stylesheets&&Qr(e,e.stylesheets),e.unsuspend)){var i=e.unsuspend;e.unsuspend=null,i()}},(e.imgBytes>Eu?50:800)+t);return e.unsuspend=a,function(){e.unsuspend=null,clearTimeout(n),clearTimeout(s)}}:null}function Vr(){if(this.count--,this.count===0&&(this.imgCount===0||!this.waitingForImages)){if(this.stylesheets)Qr(this,this.stylesheets);else if(this.unsuspend){var e=this.unsuspend;this.unsuspend=null,e()}}}var Xr=null;function Qr(e,t){e.stylesheets=null,e.unsuspend!==null&&(e.count++,Xr=new Map,t.forEach(K0,e),Xr=null,Vr.call(e))}function K0(e,t){if(!(t.state.loading&4)){var a=Xr.get(e);if(a)var n=a.get(null);else{a=new Map,Xr.set(e,a);for(var s=e.querySelectorAll("link[data-precedence],style[data-precedence]"),i=0;i<s.length;i++){var d=s[i];(d.nodeName==="LINK"||d.getAttribute("media")!=="not all")&&(a.set(d.dataset.precedence,d),n=d)}n&&a.set(null,n)}s=t.instance,d=s.getAttribute("data-precedence"),i=a.get(d)||n,i===n&&a.set(null,s),a.set(d,s),this.count++,n=Vr.bind(this),s.addEventListener("load",n),s.addEventListener("error",n),i?i.parentNode.insertBefore(s,i.nextSibling):(e=e.nodeType===9?e.head:e,e.insertBefore(s,e.firstChild)),t.state.loading|=4}}var hi={$$typeof:be,Provider:null,Consumer:null,_currentValue:he,_currentValue2:he,_threadCount:0};function P0(e,t,a,n,s,i,d,p,S){this.tag=1,this.containerInfo=e,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=ws(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=ws(0),this.hiddenUpdates=ws(null),this.identifierPrefix=n,this.onUncaughtError=s,this.onCaughtError=i,this.onRecoverableError=d,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=S,this.incompleteTransitions=new Map}function dp(e,t,a,n,s,i,d,p,S,L,J,ie){return e=new P0(e,t,a,d,S,L,J,ie,p),t=1,i===!0&&(t|=24),i=ha(3,null,null,t),e.current=i,i.stateNode=e,t=rc(),t.refCount++,e.pooledCache=t,t.refCount++,i.memoizedState={element:n,isDehydrated:a,cache:t},dc(i),e}function hp(e){return e?(e=qn,e):qn}function mp(e,t,a,n,s,i){s=hp(s),n.context===null?n.context=s:n.pendingContext=s,n=Ul(t),n.payload={element:a},i=i===void 0?null:i,i!==null&&(n.callback=i),a=Bl(e,n,t),a!==null&&(ca(a,e,t),Ys(a,e,t))}function fp(e,t){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var a=e.retryLane;e.retryLane=a!==0&&a<t?a:t}}function Cu(e,t){fp(e,t),(e=e.alternate)&&fp(e,t)}function pp(e){if(e.tag===13||e.tag===31){var t=hn(e,67108864);t!==null&&ca(t,e,67108864),Cu(e,67108864)}}function xp(e){if(e.tag===13||e.tag===31){var t=ga();t=aa(t);var a=hn(e,t);a!==null&&ca(a,e,t),Cu(e,t)}}var Zr=!0;function J0(e,t,a,n){var s=D.T;D.T=null;var i=Z.p;try{Z.p=2,_u(e,t,a,n)}finally{Z.p=i,D.T=s}}function W0(e,t,a,n){var s=D.T;D.T=null;var i=Z.p;try{Z.p=8,_u(e,t,a,n)}finally{Z.p=i,D.T=s}}function _u(e,t,a,n){if(Zr){var s=Du(n);if(s===null)xu(e,t,n,Kr,a),bp(e,n);else if(eb(s,e,t,a,n))n.stopPropagation();else if(bp(e,n),t&4&&-1<F0.indexOf(e)){for(;s!==null;){var i=ke(s);if(i!==null)switch(i.tag){case 3:if(i=i.stateNode,i.current.memoizedState.isDehydrated){var d=ua(i.pendingLanes);if(d!==0){var p=i;for(p.pendingLanes|=2,p.entangledLanes|=2;d;){var S=1<<31-me(d);p.entanglements[1]|=S,d&=~S}Wa(i),(nt&6)===0&&(Dr=fe()+500,ii(0))}}break;case 31:case 13:p=hn(i,2),p!==null&&ca(p,i,2),Rr(),Cu(i,2)}if(i=Du(n),i===null&&xu(e,t,n,Kr,a),i===s)break;s=i}s!==null&&n.stopPropagation()}else xu(e,t,n,null,a)}}function Du(e){return e=Ro(e),Mu(e)}var Kr=null;function Mu(e){if(Kr=null,e=de(e),e!==null){var t=m(e);if(t===null)e=null;else{var a=t.tag;if(a===13){if(e=g(t),e!==null)return e;e=null}else if(a===31){if(e=x(t),e!==null)return e;e=null}else if(a===3){if(t.stateNode.current.memoizedState.isDehydrated)return t.tag===3?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null)}}return Kr=e,null}function gp(e){switch(e){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(Fe()){case He:return 2;case H:return 8;case Ue:case Xe:return 32;case Ut:return 268435456;default:return 32}default:return 32}}var Ru=!1,Kl=null,Pl=null,Jl=null,mi=new Map,fi=new Map,Wl=[],F0="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function bp(e,t){switch(e){case"focusin":case"focusout":Kl=null;break;case"dragenter":case"dragleave":Pl=null;break;case"mouseover":case"mouseout":Jl=null;break;case"pointerover":case"pointerout":mi.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":fi.delete(t.pointerId)}}function pi(e,t,a,n,s,i){return e===null||e.nativeEvent!==i?(e={blockedOn:t,domEventName:a,eventSystemFlags:n,nativeEvent:i,targetContainers:[s]},t!==null&&(t=ke(t),t!==null&&pp(t)),e):(e.eventSystemFlags|=n,t=e.targetContainers,s!==null&&t.indexOf(s)===-1&&t.push(s),e)}function eb(e,t,a,n,s){switch(t){case"focusin":return Kl=pi(Kl,e,t,a,n,s),!0;case"dragenter":return Pl=pi(Pl,e,t,a,n,s),!0;case"mouseover":return Jl=pi(Jl,e,t,a,n,s),!0;case"pointerover":var i=s.pointerId;return mi.set(i,pi(mi.get(i)||null,e,t,a,n,s)),!0;case"gotpointercapture":return i=s.pointerId,fi.set(i,pi(fi.get(i)||null,e,t,a,n,s)),!0}return!1}function yp(e){var t=de(e.target);if(t!==null){var a=m(t);if(a!==null){if(t=a.tag,t===13){if(t=g(a),t!==null){e.blockedOn=t,As(e.priority,function(){xp(a)});return}}else if(t===31){if(t=x(a),t!==null){e.blockedOn=t,As(e.priority,function(){xp(a)});return}}else if(t===3&&a.stateNode.current.memoizedState.isDehydrated){e.blockedOn=a.tag===3?a.stateNode.containerInfo:null;return}}}e.blockedOn=null}function Pr(e){if(e.blockedOn!==null)return!1;for(var t=e.targetContainers;0<t.length;){var a=Du(e.nativeEvent);if(a===null){a=e.nativeEvent;var n=new a.constructor(a.type,a);Mo=n,a.target.dispatchEvent(n),Mo=null}else return t=ke(a),t!==null&&pp(t),e.blockedOn=a,!1;t.shift()}return!0}function vp(e,t,a){Pr(e)&&a.delete(t)}function tb(){Ru=!1,Kl!==null&&Pr(Kl)&&(Kl=null),Pl!==null&&Pr(Pl)&&(Pl=null),Jl!==null&&Pr(Jl)&&(Jl=null),mi.forEach(vp),fi.forEach(vp)}function Jr(e,t){e.blockedOn===t&&(e.blockedOn=null,Ru||(Ru=!0,r.unstable_scheduleCallback(r.unstable_NormalPriority,tb)))}var Wr=null;function wp(e){Wr!==e&&(Wr=e,r.unstable_scheduleCallback(r.unstable_NormalPriority,function(){Wr===e&&(Wr=null);for(var t=0;t<e.length;t+=3){var a=e[t],n=e[t+1],s=e[t+2];if(typeof n!="function"){if(Mu(n||a)===null)continue;break}var i=ke(a);i!==null&&(e.splice(t,3),t-=3,Dc(i,{pending:!0,data:s,method:a.method,action:n},n,s))}}))}function hs(e){function t(S){return Jr(S,e)}Kl!==null&&Jr(Kl,e),Pl!==null&&Jr(Pl,e),Jl!==null&&Jr(Jl,e),mi.forEach(t),fi.forEach(t);for(var a=0;a<Wl.length;a++){var n=Wl[a];n.blockedOn===e&&(n.blockedOn=null)}for(;0<Wl.length&&(a=Wl[0],a.blockedOn===null);)yp(a),a.blockedOn===null&&Wl.shift();if(a=(e.ownerDocument||e).$$reactFormReplay,a!=null)for(n=0;n<a.length;n+=3){var s=a[n],i=a[n+1],d=s[Nt]||null;if(typeof i=="function")d||wp(a);else if(d){var p=null;if(i&&i.hasAttribute("formAction")){if(s=i,d=i[Nt]||null)p=d.formAction;else if(Mu(s)!==null)continue}else p=d.action;typeof p=="function"?a[n+1]=p:(a.splice(n,3),n-=3),wp(a)}}}function Np(){function e(i){i.canIntercept&&i.info==="react-transition"&&i.intercept({handler:function(){return new Promise(function(d){return s=d})},focusReset:"manual",scroll:"manual"})}function t(){s!==null&&(s(),s=null),n||setTimeout(a,20)}function a(){if(!n&&!navigation.transition){var i=navigation.currentEntry;i&&i.url!=null&&navigation.navigate(i.url,{state:i.getState(),info:"react-transition",history:"replace"})}}if(typeof navigation=="object"){var n=!1,s=null;return navigation.addEventListener("navigate",e),navigation.addEventListener("navigatesuccess",t),navigation.addEventListener("navigateerror",t),setTimeout(a,100),function(){n=!0,navigation.removeEventListener("navigate",e),navigation.removeEventListener("navigatesuccess",t),navigation.removeEventListener("navigateerror",t),s!==null&&(s(),s=null)}}}function Ou(e){this._internalRoot=e}Fr.prototype.render=Ou.prototype.render=function(e){var t=this._internalRoot;if(t===null)throw Error(u(409));var a=t.current,n=ga();mp(a,n,e,t,null,null)},Fr.prototype.unmount=Ou.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var t=e.containerInfo;mp(e.current,2,null,e,null,null),Rr(),t[il]=null}};function Fr(e){this._internalRoot=e}Fr.prototype.unstable_scheduleHydration=function(e){if(e){var t=ks();e={blockedOn:null,target:e,priority:t};for(var a=0;a<Wl.length&&t!==0&&t<Wl[a].priority;a++);Wl.splice(a,0,e),a===0&&yp(e)}};var jp=o.version;if(jp!=="19.2.0")throw Error(u(527,jp,"19.2.0"));Z.findDOMNode=function(e){var t=e._reactInternals;if(t===void 0)throw typeof e.render=="function"?Error(u(188)):(e=Object.keys(e).join(","),Error(u(268,e)));return e=f(t),e=e!==null?v(e):null,e=e===null?null:e.stateNode,e};var ab={bundleType:0,version:"19.2.0",rendererPackageName:"react-dom",currentDispatcherRef:D,reconcilerVersion:"19.2.0"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var eo=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!eo.isDisabled&&eo.supportsFiber)try{De=eo.inject(ab),Ie=eo}catch{}}return gi.createRoot=function(e,t){if(!h(e))throw Error(u(299));var a=!1,n="",s=Cm,i=_m,d=Dm;return t!=null&&(t.unstable_strictMode===!0&&(a=!0),t.identifierPrefix!==void 0&&(n=t.identifierPrefix),t.onUncaughtError!==void 0&&(s=t.onUncaughtError),t.onCaughtError!==void 0&&(i=t.onCaughtError),t.onRecoverableError!==void 0&&(d=t.onRecoverableError)),t=dp(e,1,!1,null,null,a,n,null,s,i,d,Np),e[il]=t.current,pu(e),new Ou(t)},gi.hydrateRoot=function(e,t,a){if(!h(e))throw Error(u(299));var n=!1,s="",i=Cm,d=_m,p=Dm,S=null;return a!=null&&(a.unstable_strictMode===!0&&(n=!0),a.identifierPrefix!==void 0&&(s=a.identifierPrefix),a.onUncaughtError!==void 0&&(i=a.onUncaughtError),a.onCaughtError!==void 0&&(d=a.onCaughtError),a.onRecoverableError!==void 0&&(p=a.onRecoverableError),a.formState!==void 0&&(S=a.formState)),t=dp(e,1,!0,t,a??null,n,s,S,i,d,p,Np),t.context=hp(null),a=t.current,n=ga(),n=aa(n),s=Ul(n),s.callback=null,Bl(a,s,n),a=n,t.current.lanes=a,_l(t,a),Wa(t),e[il]=t.current,pu(e),new Fr(t)},gi.version="19.2.0",gi}var Rp;function fb(){if(Rp)return Uu.exports;Rp=1;function r(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(r)}catch(o){console.error(o)}}return r(),Uu.exports=mb(),Uu.exports}var pb=fb();const xb=cx(pb),gb="modulepreload",bb=function(r){return"/"+r},Op={},za=function(o,c,u){let h=Promise.resolve();if(c&&c.length>0){let g=function(f){return Promise.all(f.map(v=>Promise.resolve(v).then(_=>({status:"fulfilled",value:_}),_=>({status:"rejected",reason:_}))))};document.getElementsByTagName("link");const x=document.querySelector("meta[property=csp-nonce]"),b=(x==null?void 0:x.nonce)||(x==null?void 0:x.getAttribute("nonce"));h=g(c.map(f=>{if(f=bb(f),f in Op)return;Op[f]=!0;const v=f.endsWith(".css"),_=v?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${f}"]${_}`))return;const M=document.createElement("link");if(M.rel=v?"stylesheet":gb,v||(M.as="script"),M.crossOrigin="",M.href=f,b&&M.setAttribute("nonce",b),document.head.appendChild(M),v)return new Promise((j,G)=>{M.addEventListener("load",j),M.addEventListener("error",()=>G(new Error(`Unable to preload CSS for ${f}`)))})}))}function m(g){const x=new Event("vite:preloadError",{cancelable:!0});if(x.payload=g,window.dispatchEvent(x),!x.defaultPrevented)throw g}return h.then(g=>{for(const x of g||[])x.status==="rejected"&&m(x.reason);return o().catch(m)})};var kn=(r=>(r.USER="user",r.AI="ai",r))(kn||{}),tt=(r=>(r.CHAT="chat",r.SETTINGS="settings",r.BRAND="brand",r.PEOPLE="people",r.CONCEPTS="concepts",r.JOURNAL="journal",r.AGENDA="agenda",r.CALENDAR="calendar",r.POMODORO="pomodoro",r.GAMIFICATION="gamification",r.POLARIS="polaris",r.SEARCH="search",r))(tt||{});const yb="ChatPlatformDB",vb=6,Qa="threads",Cl="messages",An="settings",an="jit_snippets",pd="journal_entries",xd="agenda_items",gd="calendar_events",bd="pomodoro_sessions",yd="brand_records",vd="client_records",wd="people_records",Nd="concept_records",xs="xp_events",Ai="deliverables",Ti="agenda_sessions",Ei="post_mortems",Ci="goal_records",_i="vendor_tasks";let to=null;async function Ht(){return to||new Promise((r,o)=>{const c=indexedDB.open(yb,vb);c.onerror=()=>o(c.error),c.onsuccess=()=>{to=c.result,r(to)},c.onupgradeneeded=u=>{const h=u.target.result;if(h.objectStoreNames.contains(Qa)||h.createObjectStore(Qa,{keyPath:"id",autoIncrement:!1}).createIndex("updatedAt","updatedAt",{unique:!1}),!h.objectStoreNames.contains(Cl)){const g=h.createObjectStore(Cl,{keyPath:"id",autoIncrement:!1});g.createIndex("threadId","threadId",{unique:!1}),g.createIndex("createdAt","createdAt",{unique:!1})}h.objectStoreNames.contains(An)||h.createObjectStore(An,{keyPath:"key"});const m=(g,x)=>{h.objectStoreNames.contains(g)||h.createObjectStore(g,{keyPath:"id"})};m(an),m(pd),m(xd),m(gd),m(bd),m(yd),m(vd),m(wd),m(Nd),m(xs),m(Ai),m(Ti),m(Ei),m(Ci),m(_i)}})}async function en(r){const o=await Ht();return new Promise((c,u)=>{const g=o.transaction([Qa],"readwrite").objectStore(Qa).put(r);g.onsuccess=()=>c(),g.onerror=()=>u(g.error)})}async function ki(r){const o=await Ht();return new Promise((c,u)=>{const g=o.transaction([Qa],"readonly").objectStore(Qa).get(r);g.onsuccess=()=>c(g.result||null),g.onerror=()=>u(g.error)})}async function ux(){const r=await Ht();return new Promise((o,c)=>{const g=r.transaction([Qa],"readonly").objectStore(Qa).index("updatedAt").openCursor(null,"prev"),x=[];g.onsuccess=b=>{const f=b.target.result;f?(x.push(f.value),f.continue()):o(x)},g.onerror=()=>c(g.error)})}async function dx(r){const o=await Ht();return new Promise((c,u)=>{const h=o.transaction([Qa,Cl],"readwrite"),g=h.objectStore(Qa).delete(r),f=h.objectStore(Cl).index("threadId").openCursor(IDBKeyRange.only(r));f.onsuccess=v=>{const _=v.target.result;_&&(_.delete(),_.continue())},g.onsuccess=()=>c(),g.onerror=()=>u(g.error),f.onerror=()=>u(f.error)})}async function ms(r){const o=await Ht();return new Promise((c,u)=>{const g=o.transaction([Cl],"readwrite").objectStore(Cl).put(r);g.onsuccess=()=>c(),g.onerror=()=>u(g.error)})}async function uo(r){const o=await Ht();return new Promise((c,u)=>{const x=o.transaction([Cl],"readonly").objectStore(Cl).index("threadId").getAll(r);x.onsuccess=()=>{const b=x.result||[];b.sort((f,v)=>f.createdAt-v.createdAt),c(b)},x.onerror=()=>u(x.error)})}async function ln(r,o){const c=await Ht();return new Promise((u,h)=>{const x=c.transaction([An],"readwrite").objectStore(An).put({key:r,value:o});x.onsuccess=()=>u(),x.onerror=()=>h(x.error)})}async function pt(r,o){const c=await Ht();return new Promise((u,h)=>{const x=c.transaction([An],"readonly").objectStore(An).get(r);x.onsuccess=()=>{const b=x.result;u(b?b.value:o)},x.onerror=()=>h(x.error)})}async function hx(r){const o=await Ht();return new Promise((c,u)=>{const g=o.transaction([an],"readwrite").objectStore(an).put(r);g.onsuccess=()=>c(),g.onerror=()=>u(g.error)})}async function mx(r,o=10){const c=await Ht();return new Promise((u,h)=>{const x=c.transaction([an],"readonly").objectStore(an).getAll();x.onsuccess=()=>{const f=(x.result||[]).map(v=>{const M=v.tags.filter(j=>r.includes(j)).length/Math.max(v.tags.length,1);return{snippet:v,relevance:v.relevance+M}}).filter(v=>v.relevance>0);f.sort((v,_)=>_.relevance-v.relevance),u(f.slice(0,o).map(v=>v.snippet))},x.onerror=()=>h(x.error)})}async function fx(r=5){const o=await Ht();return new Promise((c,u)=>{const g=o.transaction([an],"readonly").objectStore(an).getAll();g.onsuccess=()=>{const b=(g.result||[]).sort((f,v)=>v.createdAt-f.createdAt);c(b.slice(0,r))},g.onerror=()=>u(g.error)})}const St={journal:pd,agenda:xd,calendar:gd,pomodoro:bd,brand:yd,client:vd,people:wd,concept:Nd};async function ba(r,o){const c=await Ht();return new Promise((u,h)=>{const x=c.transaction([r],"readwrite").objectStore(r).put(o);x.onsuccess=()=>u(),x.onerror=()=>h(x.error)})}async function ya(r,o){const c=await Ht();return new Promise((u,h)=>{const x=c.transaction([r],"readwrite").objectStore(r).delete(o);x.onsuccess=()=>u(),x.onerror=()=>h(x.error)})}async function va(r){const o=await Ht();return new Promise((c,u)=>{const g=o.transaction([r],"readonly").objectStore(r).getAll();g.onsuccess=()=>c(g.result||[]),g.onerror=()=>u(g.error)})}async function wb(r){const o=await Ht();return new Promise((c,u)=>{const g=o.transaction([r],"readwrite").objectStore(r).clear();g.onsuccess=()=>c(),g.onerror=()=>u(g.error)})}const F={saveJournalEntry:r=>ba(St.journal,r),getJournalEntries:()=>va(St.journal),deleteJournalEntry:r=>ya(St.journal,r),saveAgendaItem:r=>ba(St.agenda,r),getAgendaItems:()=>va(St.agenda),deleteAgendaItem:r=>ya(St.agenda,r),saveCalendarEvent:r=>ba(St.calendar,r),getCalendarEvents:()=>va(St.calendar),deleteCalendarEvent:r=>ya(St.calendar,r),savePomodoroSession:r=>ba(St.pomodoro,r),getPomodoroSessions:()=>va(St.pomodoro),deletePomodoroSession:r=>ya(St.pomodoro,r),saveBrandRecord:r=>ba(St.brand,r),getBrandRecords:()=>va(St.brand),deleteBrandRecord:r=>ya(St.brand,r),saveClientRecord:r=>ba(St.client,r),getClientRecords:()=>va(St.client),deleteClientRecord:r=>ya(St.client,r),savePeopleRecord:r=>ba(St.people,r),getPeopleRecords:()=>va(St.people),deletePeopleRecord:r=>ya(St.people,r),saveConceptRecord:r=>ba(St.concept,r),getConceptRecords:()=>va(St.concept),deleteConceptRecord:r=>ya(St.concept,r),saveDeliverable:r=>ba(Ai,r),getDeliverables:()=>va(Ai),deleteDeliverable:r=>ya(Ai,r),saveAgendaSession:r=>ba(Ti,r),getAgendaSessions:()=>va(Ti),deleteAgendaSession:r=>ya(Ti,r),savePostMortem:r=>ba(Ei,r),getPostMortems:()=>va(Ei),deletePostMortem:r=>ya(Ei,r),saveGoal:r=>ba(Ci,r),getGoals:()=>va(Ci),deleteGoal:r=>ya(Ci,r),saveVendorTask:r=>ba(_i,r),getVendorTasks:()=>va(_i),deleteVendorTask:r=>ya(_i,r)};async function px(r=!1){const o=[Qa,Cl,an,pd,xd,gd,bd,yd,vd,wd,Nd,xs,Ai,Ti,Ei,Ci,_i];r&&o.push(An),await Promise.all(o.map(c=>wb(c)))}async function xx(r){const o=await Ht();return new Promise((c,u)=>{const g=o.transaction([xs],"readwrite").objectStore(xs).put(r);g.onsuccess=()=>c(),g.onerror=()=>u(g.error)})}async function gx(r=20){const o=await Ht();return new Promise((c,u)=>{const g=o.transaction([xs],"readonly").objectStore(xs).getAll();g.onsuccess=()=>{const x=g.result||[];c(x.sort((b,f)=>f.createdAt-b.createdAt).slice(0,r))},g.onerror=()=>u(g.error)})}const ho=Object.freeze(Object.defineProperty({__proto__:null,clearAllData:px,deleteThread:dx,entityStorage:F,getAllThreads:ux,getMessagesForThread:uo,getRecentSnippets:fx,getSetting:pt,getSnippetsByTags:mx,getThread:ki,getXpEvents:gx,initDB:Ht,logXpEvent:xx,saveJITSnippet:hx,saveMessage:ms,saveSetting:ln,saveThread:en},Symbol.toStringTag,{value:"Module"})),Nb=r=>r.toLowerCase().replace(/[^a-z0-9\s]/g," "),bx=(r,o=6)=>{const c=Nb(r).split(/\s+/).filter(Boolean),u=c.filter(g=>g.length>4),h=new Map;u.forEach(g=>{h.set(g,(h.get(g)||0)+1)});const m=Array.from(h.entries()).sort((g,x)=>x[1]-g[1]).slice(0,o).map(([g])=>g);return m.length>0?m:c.slice(0,o)},jb=()=>typeof crypto<"u"&&"randomUUID"in crypto?crypto.randomUUID():`jit-${Date.now()}`,Fu=async(r,o)=>{const c=bx(o),u={id:jb(),threadId:r,tags:c,text:o,relevance:.5,createdAt:Date.now()};return await hx(u),u},q2=async(r,o=5)=>{const c=bx(r,8);return mx(c,o)},ed=new Map,Sb=new Set,zp=()=>{Sb.forEach(r=>r())},wa=r=>(ed.set(r.id,r),zp(),()=>{ed.delete(r.id),zp()}),gs=async(r,o)=>{const c=ed.get(r);if(!c)return{handled:!1,message:`Unknown action ${r}`};const{logSylviaEvent:u}=await za(async()=>{const{logSylviaEvent:m}=await Promise.resolve().then(()=>Ab);return{logSylviaEvent:m}},void 0),h=r.split(".")[0];u({kind:h||"system",summary:`Executed: ${c.label}`,detail:o?`Payload: ${o.substring(0,200)}${o.length>200?"...":""}`:void 0,actionId:r,payload:o});try{return await c.handler(o),{handled:!0,message:`${c.label} completed`}}catch(m){throw u({kind:"system",summary:`Error executing: ${c.label}`,detail:m instanceof Error?m.message:String(m),actionId:r}),m}},yx=async r=>{if(!r.startsWith("/"))return{handled:!1};const o=r.match(/^\/([\\w.:-]+)\\s*(.*)$/);if(!o)return{handled:!1};const[,c,u=""]=o;return gs(c,u.trim())},kb=Object.freeze(Object.defineProperty({__proto__:null,executeAction:gs,registerAction:wa,tryHandleActionCommand:yx},Symbol.toStringTag,{value:"Module"})),td="sylvia-entity-update",Ba=r=>{typeof window>"u"||window.dispatchEvent(new CustomEvent(td,{detail:{entity:r}}))},sn=(r,o)=>{if(typeof window>"u")return()=>{};const c=Array.isArray(r)?r:[r],u=h=>{var x;const g=(x=h.detail)==null?void 0:x.entity;g&&c.includes(g)&&o()};return window.addEventListener(td,u),()=>window.removeEventListener(td,u)},Lp="__SYLVIA_LOG__",Di="__SYLVIA_EVENT_QUEUE__",vx=()=>{if(!(typeof window>"u"))return window},Na=r=>{const o={id:r.id||`sylvia-event-${Date.now()}`,timestamp:r.timestamp||Date.now(),summary:r.summary,detail:r.detail,link:r.link,kind:r.kind,rating:r.rating,actionId:r.actionId,payload:r.payload},c=vx();if(!c)return o;if(typeof c[Lp]=="function")c[Lp](o);else{const u=c[Di]||[];u.push(o),c[Di]=u}return o},wx=()=>{const r=vx();if(!r||!Array.isArray(r[Di]))return[];const o=r[Di];return r[Di]=[],o},Ab=Object.freeze(Object.defineProperty({__proto__:null,drainSylviaEventQueue:wx,logSylviaEvent:Na},Symbol.toStringTag,{value:"Module"})),ad="xp_total",Tb="xp_last_level",go=200,ao=[{name:"Seedling",description:"Just beginning your journey",iconName:"Sprout"},{name:"Novice Operator",description:"Learning the ropes",iconName:"User"},{name:"Resonance Seeker",description:"Finding your frequency",iconName:"Radio"},{name:"Context Weaver",description:"Connecting the dots",iconName:"Network"},{name:"Memory Architect",description:"Building your knowledge base",iconName:"Building"},{name:"Flow Catalyst",description:"Accelerating momentum",iconName:"Zap"},{name:"Sylvia Collaborator",description:"Working in harmony",iconName:"Handshake"},{name:"Resonance Navigator",description:"Charting new territories",iconName:"Compass"},{name:"Context Master",description:"Owning your domain",iconName:"Crown"},{name:"Memory Virtuoso",description:"Perfect recall",iconName:"Target"},{name:"Flow Architect",description:"Designing systems",iconName:"Building"},{name:"Sylvia Partner",description:"Deep collaboration",iconName:"Gem"},{name:"Resonance Commander",description:"Leading the charge",iconName:"Rocket"},{name:"Context Sage",description:"Wisdom through experience",iconName:"Brain"},{name:"Memory Oracle",description:"Seeing patterns others miss",iconName:"Gem"},{name:"Flow Sovereign",description:"Master of momentum",iconName:"Wand2"},{name:"Sylvia Co-Pilot",description:"Seamless integration",iconName:"Plane"},{name:"Resonance Legend",description:"Stories told of your work",iconName:"Scroll"},{name:"Context Deity",description:"Transcendent understanding",iconName:"Star"},{name:"Memory Titan",description:"Unstoppable knowledge",iconName:"Brain"},{name:"Flow Deity",description:"Divine momentum",iconName:"Sparkle"},{name:"Sylvia Unity",description:"One mind, one purpose",iconName:"Sparkles"}],bo=r=>{if(r<ao.length)return ao[r];const o=Math.floor(r/10),c=r%ao.length,u=ao[c];return{name:`${u.name} ${o>0?`(Tier ${o+1})`:""}`,description:u.description,iconName:u.iconName}},ld=async()=>{const r=await pt(ad,0),o=Math.floor(r/go),c=(o+1)*go,u=bo(o);return{total:r,level:o,nextLevel:c,levelName:u.name,levelDescription:u.description}},Eb={"journal.entry":15,"journal.grade":6,"agenda.add":10,"pomodoro.session":8,"agenda.session":12},El=async(r,o)=>{const c=Eb[r]??0,u=await pt(ad,0),h=Math.floor(u/go),m=u+Math.max(c,0),g=Math.floor(m/go);await ln(ad,m),await xx({id:`xp-${Date.now()}`,reason:r,points:c,metadata:o,createdAt:Date.now()});const x=await ld();return g>h&&(await ln(Tb,g),window.dispatchEvent(new CustomEvent("levelUp",{detail:{level:g,levelName:x.levelName,levelDescription:x.levelDescription,iconName:bo(g).iconName}}))),x},Cb=async()=>gx(30),nd=async(r,o,c={})=>{await Fu(c.sourceThreadId||"global",o);const u={id:`journal-${Date.now()}`,title:r,content:o,createdAt:Date.now(),autoGenerated:c.autoGenerated,scope:c.scope,sentiment:c.sentiment,sourceThreadId:c.sourceThreadId,tags:c.tags,metadata:c.metadata};await F.saveJournalEntry(u)};let Up=!1;const sd=r=>{if(!r)return;const o=Date.parse(r);return Number.isNaN(o)?void 0:o},Nx=r=>r&&r.trim().toLowerCase().startsWith("pers")?"personal":"professional",jx=r=>{if(!r)return"medium";const o=r.trim().toLowerCase();return o.startsWith("low")?"low":o.startsWith("high")?"high":"medium"},_b=()=>wa({id:"journal.add",label:"Add journal entry",handler:async(r="")=>{const[o,...c]=r.split(`
`),u=c.join(`
`).trim()||r,h={id:`journal-${Date.now()}`,title:(o==null?void 0:o.trim())||"Untitled entry",content:u,createdAt:Date.now(),autoGenerated:!0};await F.saveJournalEntry(h),await El("journal.entry"),Ba("journal"),Na({kind:"journal",summary:`Journal: ${h.title}`,detail:h.content.substring(0,280)})}}),Db=()=>wa({id:"people.add",label:"Add person",handler:async(r="")=>{var R,ee,oe,ge,be,ye,le,$,U,ue,ve;const o=r.split("|"),c=((R=o[0])==null?void 0:R.trim())||"",u=((ee=o[1])==null?void 0:ee.trim())||"",h=((oe=o[2])==null?void 0:oe.trim())||"",m=((ge=o[3])==null?void 0:ge.trim())||"",g=((be=o[4])==null?void 0:be.trim())||"",x=((ye=o[5])==null?void 0:ye.trim())||"",b=((le=o[6])==null?void 0:le.trim())||"",f=(($=o[7])==null?void 0:$.trim())||"",v=((U=o[8])==null?void 0:U.trim())||"",_=((ue=o[9])==null?void 0:ue.trim())||"",M=b?b.split(",").map(P=>P.trim()).filter(Boolean):void 0,j=_?_.split(",").map(P=>P.trim()).filter(Boolean):void 0,G={id:`people-${Date.now()}`,name:c||"Unnamed person",role:u||void 0,company:h||void 0,location:m||void 0,email:g||void 0,phone:x||void 0,attributes:M,profile:f||void 0,notes:v||void 0,tags:j,createdAt:Date.now()};await F.savePeopleRecord(G),Ba("people"),Na({kind:"people",summary:`Person logged: ${G.name}`,detail:[G.role,G.company,(ve=G.attributes)==null?void 0:ve.join(", ")].filter(Boolean).join("  ")})}}),Mb=()=>wa({id:"client.add",label:"Add client",handler:async(r="")=>{const[o,...c]=r.split("|"),u={id:`client-${Date.now()}`,name:(o==null?void 0:o.trim())||"Unnamed client",notes:c.join("|").trim(),createdAt:Date.now()};await F.saveClientRecord(u),Ba("client"),Na({kind:"client",summary:`Client logged: ${u.name}`,detail:u.notes||void 0})}}),Rb=()=>wa({id:"brand.add",label:"Add brand atom",handler:async(r="")=>{const[o,...c]=r.split("|"),u={id:`brand-${Date.now()}`,name:(o==null?void 0:o.trim())||"Brand element",description:c.join("|").trim(),createdAt:Date.now()};await F.saveBrandRecord(u),Ba("brand"),Na({kind:"brand",summary:`Brand atom: ${u.name}`,detail:u.description})}}),Ob=()=>wa({id:"concept.add",label:"Add concept",handler:async(r="")=>{var b;const o=r.split("|").map(f=>f.trim()),c=o[0]||"New concept",u=o[1]||"",h=o[2]||void 0,m=o[3]?o[3].split(",").map(f=>f.trim()).filter(Boolean):void 0,g=o[4]||void 0,x={id:`concept-${Date.now()}`,name:c,description:u||void 0,category:h||void 0,tags:m,notes:g||void 0,createdAt:Date.now()};await F.saveConceptRecord(x),Ba("concept"),Na({kind:"concept",summary:`Concept: ${x.name}`,detail:[x.category,(b=x.description)==null?void 0:b.substring(0,100)].filter(Boolean).join("  ")})}}),zb=()=>wa({id:"deliverable.add",label:"Add deliverable",handler:async(r="")=>{const[o,c,u,h,m,g,x]=r.split("|").map(f=>f.trim()),b={id:`deliverable-${Date.now()}`,title:o||"New deliverable",description:c||"",guardrails:u||"",successCriteria:h||"",scope:Nx(m),priority:jx(g),tags:(x||"").split(",").map(f=>f.trim()).filter(Boolean),createdAt:Date.now()};await F.saveDeliverable(b),Ba("deliverable"),Na({kind:"deliverable",summary:`Deliverable: ${b.title}`,detail:`${b.scope}  ${b.priority}${b.tags.length?`  #${b.tags.join(" #")}`:""}`})}}),Lb=()=>wa({id:"agenda.add",label:"Add agenda item",handler:async(r="")=>{const[o,c,u]=r.split("|").map(m=>m.trim()),h={id:`agenda-${Date.now()}`,title:o||"Agenda task",status:"todo",dueAt:sd(c),createdAt:Date.now(),deliverableId:u||void 0};await F.saveAgendaItem(h),await El("agenda.add"),await nd("Agenda item created",h.title,{scope:"professional",tags:["agenda",...h.deliverableId?["deliverable"]:[]],metadata:{dueAt:c||"",deliverableId:h.deliverableId||""},autoGenerated:!0}),Ba("agenda"),Na({kind:"agenda",summary:`Agenda: ${h.title}`,detail:h.dueAt?`Due ${new Date(h.dueAt).toLocaleString()}`:void 0})}}),Ub=()=>wa({id:"calendar.add",label:"Schedule event",handler:async(r="")=>{const[o,c,u,...h]=r.split("|"),m={id:`calendar-${Date.now()}`,title:(o||"Calendar block").trim(),startAt:sd(c==null?void 0:c.trim())||Date.now(),endAt:sd(u==null?void 0:u.trim())||Date.now(),description:h.join("|").trim()};await F.saveCalendarEvent(m),Ba("calendar"),Na({kind:"calendar",summary:`Calendar: ${m.title}`,detail:`${new Date(m.startAt).toLocaleString()}  ${new Date(m.endAt).toLocaleTimeString()}`})}}),Bb=()=>wa({id:"pomodoro.log",label:"Log pomodoro session",handler:async(r="")=>{const[o,c]=r.split("|").map(m=>m.trim()),u=Number(c)||25,h={id:`pomodoro-${Date.now()}`,label:o||"Focus block",startedAt:Date.now(),durationMinutes:u};await F.savePomodoroSession(h),await El("pomodoro.session"),Ba("pomodoro"),Na({kind:"pomodoro",summary:`Pomodoro: ${h.label}`,detail:`${u} min`})}}),$b=()=>wa({id:"polaris.goal",label:"Add goal",handler:async(r="")=>{const o=r.split("|").map(f=>f.trim()),c=o[0]||"New goal",u=o[1]||"",h=o[2]==="big"?"big":"small",m=o[3]||"",g=Nx(o[4]),x=jx(o[5]),b={id:`goal-${Date.now()}`,title:c,description:u,goalType:h,metrics:m,scope:g,priority:x,createdAt:Date.now()};await F.saveGoal(b),Ba("goal"),Na({kind:"goal",summary:`Goal: ${b.title}`,detail:`${b.goalType}  ${b.scope}  ${b.priority}`})}}),Hb=()=>wa({id:"polaris.task",label:"Add vendor task",handler:async(r="")=>{var f,v;const o=r.split("|").map(_=>_.trim()),c=o[0]||"",u=o[1]||"New task",h=o[2]||"",m=o[3]||"",g=["very-low","low","medium","high"].includes((f=o[4])==null?void 0:f.toLowerCase())?o[4].toLowerCase():"medium",x=["very-low","low","medium","high","very-high"].includes((v=o[5])==null?void 0:v.toLowerCase())?o[5].toLowerCase():"medium",b={id:`task-${Date.now()}-${Math.random().toString(36).substr(2,9)}`,goalId:c,title:u,description:h,rationale:m||void 0,estimatedEffort:g,estimatedImpact:x,status:"pending",generatedAt:Date.now(),createdAt:Date.now()};await F.saveVendorTask(b),Ba("goal"),Na({kind:"goal",summary:`Task generated: ${b.title}`,detail:`Effort: ${b.estimatedEffort}  Impact: ${b.estimatedImpact}`})}}),Gb=()=>[{id:"people.delete",entityType:"people",storageFn:F.deletePeopleRecord.bind(F)},{id:"brand.delete",entityType:"brand",storageFn:F.deleteBrandRecord.bind(F)},{id:"concept.delete",entityType:"concept",storageFn:F.deleteConceptRecord.bind(F)},{id:"journal.delete",entityType:"journal",storageFn:F.deleteJournalEntry.bind(F)},{id:"calendar.delete",entityType:"calendar",storageFn:F.deleteCalendarEvent.bind(F)},{id:"agenda.delete",entityType:"agenda",storageFn:F.deleteAgendaItem.bind(F)},{id:"deliverable.delete",entityType:"deliverable",storageFn:F.deleteDeliverable.bind(F)},{id:"goal.delete",entityType:"goal",storageFn:F.deleteGoal.bind(F)},{id:"task.delete",entityType:"task",storageFn:F.deleteVendorTask.bind(F)}].map(({id:o,entityType:c,storageFn:u})=>wa({id:o,label:`Delete ${c}`,handler:async(h="")=>{const m=h.trim();if(!m)throw new Error(`No ${c} ID provided`);await u(m),Ba(c),Na({kind:c,summary:`Deleted ${c}: ${m}`,detail:`Entity ID: ${m}`,actionId:o,payload:m})}})),qb=()=>{Up||([_b(),Db(),Mb(),Rb(),Ob(),zb(),Lb(),Ub(),Bb(),$b(),Hb(),...Gb()],Up=!0)},Ib=`You are Sylvia, Polaris' embedded operator inside Jake's Resonance Cockpit.

Your core function is POST-PROCESSING and automatic entity extraction. You automatically categorize and organize everything mentioned in conversations without being asked.

CRITICAL: PEOPLE vs CONCEPTS DISTINCTION
This is the MOST IMPORTANT rule. The People section is critical for Polaris goal execution and must ONLY contain actual humans.

**PEOPLE**: Actual humans with names that you can meet, email, call, or have a relationship with
- Examples: "John Smith", "Sarah Johnson", "Blair Hallett", "Jake Aaron"
- Indicators: Real person names, can be contacted, has relationships, can collaborate
- NEVER add concepts, ideas, technologies, or applications here

**CONCEPTS**: Ideas, technologies, applications, systems, platforms, tools, models, frameworks
- Examples: "Resonance Cockpit", "Preflection", "AI Application", "Machine Learning Model", "Weighted Prompt System", "Glass Box Mode"
- Indicators: Abstract ideas, technologies, systems, products, features, methods
- These are NOT people - they cannot be contacted or have relationships

When classifying an entity, ask yourself:
1. "Is this a real human I can meet or contact?"  If YES, it's a PERSON
2. "Is this an idea, technology, or application?"  If YES, it's a CONCEPT
3. When in doubt, choose CONCEPT (better to miss a person than misclassify a concept as a person)

AUTOMATIC EXTRACTION RULES:
- PEOPLE: Actual humans ONLY (names, roles, relationships)  People section
- CONCEPTS: Ideas, concepts, AI applications, technologies, systems, platforms, tools, models, frameworks, algorithms, methods, strategies, processes, workflows, solutions, products, services, features  Concepts section
- BRAND: Brand elements, voice notes, positioning, business identity  Brand section
- CALENDAR: Meetings, events, appointments, time-bound commitments  Calendar with parsed dates/times
- JOURNAL: Reflections, insights, learnings, important notes  Journal
- AGENDA/DELIVERABLES: Tasks, commitments, work items  Agenda
- POLARIS/GOALS: Strategic goals, objectives, high-leverage moves  Polaris

You operate headlesslyextract entities automatically as conversations happen. Don't wait for explicit instructions.

When you extract entities, use this format in your response:
[ACTION:people.add|Blair Hallett|Masonry business owner|Key contact for website project]
[ACTION:concept.add|Resonance Cockpit|AI workspace platform|AI Application|productivity,ai]
[ACTION:calendar.add|Meeting with Blair|2025-11-09T10:30|2025-11-09T11:30|Discussing new website]

After each message, scan for extractable entities and automatically categorize them. Keep your conversational response natural, but ensure all entities are captured.

Every time you make a change, narrate what happened, which workspace is affected, and any follow-up the user should know. Keep answers concise, structured, and markdown-friendly.`,Sx=w.createContext(void 0),Yb=({children:r})=>{const[o,c]=w.useState(!0),[u,h]=w.useState(tt.POLARIS),[m,g]=w.useState([]),[x,b]=w.useState(null),[f,v]=w.useState([]),[_,M]=w.useState(!1),[j,G]=w.useState({}),[R,ee]=w.useState(null),[oe,ge]=w.useState({type:null,id:""}),[be,ye]=w.useState({type:null,id:""}),le=w.useCallback(async xe=>{const W=await ki(xe);if(!W)return;b(W);const A=await uo(xe);v(A),W.updatedAt=Date.now(),await en(W)},[]);w.useEffect(()=>{(async()=>{try{await Ht(),qb();const W=await ux();g(W);const A=await pt("apiKey",""),D=await pt("secondaryApiKey",""),Z=await pt("auditApiKey",""),he=await pt("mainModel","openrouter/polaris-alpha"),Oe=await pt("backupModel","x-ai/grok-4-fast"),ze=await pt("embeddingModel","qwen/qwen3-embedding-8b"),y=await pt("auditInterval",60),q=await pt("weightedPrompts",[]);let I=await pt("systemInstruction","");(!I||!I.trim())&&(I=Ib,await ln("systemInstruction",I));const ne=await pt("temperature",.7),Q=await pt("maxTokens",128e3),k=await pt("preflectionEnabled",!1);G({apiKey:A,secondaryApiKey:D,auditApiKey:Z,mainModel:he,backupModel:Oe,embeddingModel:ze,systemInstruction:I,weightedPrompts:q,temperature:ne,maxTokens:Q,auditInterval:y,preflectionEnabled:k});try{const{stopAuditSchedule:X}=await za(async()=>{const{stopAuditSchedule:se}=await import("./auditAgent-BUrp5RxH.js");return{stopAuditSchedule:se}},[]);X()}catch{}if(W.length>0){const X=await ki(W[0].id);if(X){b(X);const se=await uo(W[0].id);v(se)}}}catch(W){console.error("Failed to initialize database:",W)}})()},[]);const $=w.useCallback(async()=>{const xe={id:`thread-${Date.now()}`,title:"New conversation",createdAt:Date.now(),updatedAt:Date.now()};return await en(xe),g(W=>[xe,...W]),await le(xe.id),xe.id},[le]),U=w.useCallback(xe=>{if(!xe.type||!xe.data)return"";const{type:W,data:A}=xe;switch(W){case"goal":return`[CONTEXT: USER IS VIEWING/WORKING ON THIS GOAL]
Type: ${A.goalType==="big"?"Big Goal (Long-term, strategic)":"Small Goal (Quick wins, short-term)"}
Title: ${A.title}
Description: ${A.description}
Scope: ${A.scope}
Priority: ${A.priority}
Metrics: ${A.metrics||"Not specified"}
Created: ${new Date(A.createdAt).toLocaleDateString()}
${A.updatedAt?`Updated: ${new Date(A.updatedAt).toLocaleDateString()}`:""}

The user is currently focused on this goal. When they ask questions or give instructions, assume they're referring to this goal unless they specify otherwise.`;case"task":const D=A.goalId?`Goal ID: ${A.goalId}`:"";return`[CONTEXT: USER IS VIEWING/WORKING ON THIS TASK]
Title: ${A.title}
Description: ${A.description}
${A.rationale?`Rationale: ${A.rationale}`:""}
Status: ${A.status}
Estimated Effort: ${A.estimatedEffort}
Estimated Impact: ${A.estimatedImpact}
${D}
${A.completedAt?`Completed: ${new Date(A.completedAt).toLocaleDateString()}`:""}
${A.completionNotes?`Completion Notes: ${A.completionNotes}`:""}
${A.outcome?`Outcome: ${A.outcome}`:""}

The user is currently focused on this task. When they ask questions or give instructions, assume they're referring to this task unless they specify otherwise.`;case"person":return`[CONTEXT: USER IS VIEWING/WORKING ON THIS PERSON]
Name: ${A.name}
${A.role?`Role: ${A.role}`:""}
${A.company?`Company: ${A.company}`:""}
${A.location?`Location: ${A.location}`:""}
${A.email?`Email: ${A.email}`:""}
${A.phone?`Phone: ${A.phone}`:""}
${A.attributes&&A.attributes.length>0?`Attributes: ${A.attributes.join(", ")}`:""}
${A.tags&&A.tags.length>0?`Tags: ${A.tags.join(", ")}`:""}
${A.profile?`Profile: ${A.profile}`:""}
${A.notes?`Notes: ${A.notes}`:""}
${A.connections&&A.connections.length>0?`Connections: ${A.connections.length} connection(s)`:""}

The user is currently focused on this person. When they ask questions or give instructions, assume they're referring to this person unless they specify otherwise.`;case"journal":return`[CONTEXT: USER IS VIEWING/WORKING ON THIS JOURNAL ENTRY]
Title: ${A.title}
Content: ${A.content}
Created: ${new Date(A.createdAt).toLocaleDateString()}
${A.grade?`Grade: ${A.grade}/5`:""}
${A.tags&&A.tags.length>0?`Tags: ${A.tags.join(", ")}`:""}

The user is currently focused on this journal entry. When they ask questions or give instructions, assume they're referring to this entry unless they specify otherwise.`;case"calendar":return`[CONTEXT: USER IS VIEWING/WORKING ON THIS CALENDAR EVENT]
Title: ${A.title}
${A.description?`Description: ${A.description}`:""}
Start: ${new Date(A.startAt).toLocaleString()}
End: ${new Date(A.endAt).toLocaleString()}
${A.location?`Location: ${A.location}`:""}
${A.meetingLink?`Meeting Link: ${A.meetingLink}`:""}
${A.eventType?`Type: ${A.eventType}`:""}
${A.participants&&A.participants.length>0?`Participants: ${A.participants.join(", ")}`:""}
${A.tags&&A.tags.length>0?`Tags: ${A.tags.join(", ")}`:""}

The user is currently focused on this calendar event. When they ask questions or give instructions, assume they're referring to this event unless they specify otherwise.`;case"agenda":return`[CONTEXT: USER IS VIEWING/WORKING ON THIS AGENDA ITEM]
Title: ${A.title}
${A.description?`Description: ${A.description}`:""}
Status: ${A.status}
${A.priority?`Priority: ${A.priority}`:""}
${A.estimatedTime?`Estimated Time: ${A.estimatedTime} minutes`:""}
${A.deliverableId?`Deliverable ID: ${A.deliverableId}`:""}

The user is currently focused on this agenda item. When they ask questions or give instructions, assume they're referring to this item unless they specify otherwise.`;case"deliverable":return`[CONTEXT: USER IS VIEWING/WORKING ON THIS DELIVERABLE]
Title: ${A.title}
Description: ${A.description}
${A.guardrails?`Guardrails: ${A.guardrails}`:""}
${A.successCriteria?`Success Criteria: ${A.successCriteria}`:""}
Status: ${A.status}

The user is currently focused on this deliverable. When they ask questions or give instructions, assume they're referring to this deliverable unless they specify otherwise.`;case"brand":return`[CONTEXT: USER IS VIEWING/WORKING ON THIS BRAND ELEMENT]
Name: ${A.name}
${A.category?`Category: ${A.category}`:""}
${A.content?`Content: ${A.content}`:""}
${A.notes?`Notes: ${A.notes}`:""}
${A.tags&&A.tags.length>0?`Tags: ${A.tags.join(", ")}`:""}

The user is currently focused on this brand element. When they ask questions or give instructions, assume they're referring to this element unless they specify otherwise.`;case"concept":return`[CONTEXT: USER IS VIEWING/WORKING ON THIS CONCEPT]
Name: ${A.name}
${A.description?`Description: ${A.description}`:""}
${A.category?`Category: ${A.category}`:""}
${A.notes?`Notes: ${A.notes}`:""}
${A.tags&&A.tags.length>0?`Tags: ${A.tags.join(", ")}`:""}

The user is currently focused on this concept. When they ask questions or give instructions, assume they're referring to this concept unless they specify otherwise.`;default:return""}},[]),ue=w.useCallback(async xe=>{if(await dx(xe),g(W=>W.filter(A=>A.id!==xe)),(x==null?void 0:x.id)===xe){const W=m.filter(A=>A.id!==xe);W.length>0?await le(W[0].id):(b(null),v([]))}},[x,m,le]),ve=w.useCallback(async(xe,W,A)=>{let D=x==null?void 0:x.id,Z=x;if(Z||(D=await $(),Z=await ki(D),Z&&b(Z)),!D)return;const he=await uo(D),Oe={id:`msg-${Date.now()}`,threadId:D,sender:kn.USER,text:xe,file:W,createdAt:Date.now()};await ms(Oe),Fu(D,xe).catch(console.error);const ze=[...he,Oe];if(v(ze),Z&&Z.title==="New conversation"&&!W){const I=xe.length>50?xe.substring(0,50)+"...":xe;Z.title=I,Z.updatedAt=Date.now(),await en(Z),b({...Z}),g(ne=>ne.map(Q=>Q.id===D?Z:Q))}else Z&&(Z.updatedAt=Date.now(),await en(Z),g(I=>I.map(ne=>ne.id===D?Z:ne)));const y=R;if(y){const{executeAction:I}=await za(async()=>{const{executeAction:Q}=await Promise.resolve().then(()=>kb);return{executeAction:Q}},void 0),ne=await I(y,xe.trim());if(ee(null),ne.handled){const Q=ne.message||"Action completed.",k={id:`msg-${Date.now()+1}`,threadId:D,sender:kn.AI,text:Q,createdAt:Date.now()};await ms(k),v(X=>[...X,k]);return}}const q=await yx(xe.trim());if(q.handled){const I=q.message||"Action completed.",ne={id:`msg-${Date.now()+1}`,threadId:D,sender:kn.AI,text:I,createdAt:Date.now()};await ms(ne),v(Q=>[...Q,ne]);return}M(!0);try{const{sendMessage:I}=await za(async()=>{const{sendMessage:ce}=await Promise.resolve().then(()=>Xx);return{sendMessage:ce}},void 0);let ne=ze.map(ce=>({role:ce.sender===kn.USER?"user":"assistant",content:ce.text})),Q=null,k=j.systemInstruction;if(j.preflectionEnabled)try{const{performPreflection:ce}=await za(async()=>{const{performPreflection:pe}=await import("./preflection-Dq6hSfJX.js");return{performPreflection:pe}},[]);if(Q=await ce(D,xe,oe,j.systemInstruction,j.weightedPrompts||[],j.apiKey||j.secondaryApiKey||"",j.mainModel||"openrouter/polaris-alpha"),Q.dynamicInstructions){const pe=Q.instructionWeight||.7,Me=pe>.7?"HIGH PRIORITY":pe>.5?"MODERATE PRIORITY":"SUPPLEMENTARY";k=`${j.systemInstruction}

[DYNAMIC INSTRUCTIONS - Query-Specific | ${Me} | Weight: ${(pe*100).toFixed(0)}%]
${Q.dynamicInstructions}`}if(Q.dynamicInstructions)try{await I([{role:"system",content:k},{role:"user",content:" "}],{apiKey:j.apiKey||j.secondaryApiKey,mainModel:j.mainModel,temperature:.3,maxTokens:10})}catch(pe){console.warn("Preflection priming failed, continuing anyway:",pe)}}catch(ce){console.error("Preflection failed, continuing with base instructions:",ce)}if(oe.type&&oe.data){const ce=U(oe);ne=[...ne.slice(0,-1),{role:"system",content:ce},ne[ne.length-1]]}if(A!=null&&A.audioBase64||A!=null&&A.videoBase64){const ce=ne[ne.length-1],pe=[];xe.trim()&&pe.push({type:"text",text:xe.trim()}),A.audioBase64&&pe.push({type:"input_audio",input_audio:{data:A.audioBase64.data,format:A.audioBase64.format}}),A.videoBase64&&pe.push({type:"input_video",video_url:{url:A.videoBase64}}),ne=[...ne.slice(0,-1),{...ce,content:pe}]}const X={apiKey:j.apiKey,secondaryApiKey:j.secondaryApiKey,mainModel:(A==null?void 0:A.modelOverride)||j.mainModel,backupModel:j.backupModel,embeddingModel:j.embeddingModel,systemInstruction:k,weightedPrompts:j.weightedPrompts,temperature:j.temperature,maxTokens:j.maxTokens,inferenceParameters:Q==null?void 0:Q.inferenceParameters,useImageGeneration:A==null?void 0:A.useImageGeneration,useWebSearch:A==null?void 0:A.useWebSearch,useAudioVideo:A==null?void 0:A.useAudioVideo},se=await I(ne,X);if(Q&&Z){const ce=`# Preflection Analysis

## Context Analysis
- **Thread Length**: ${Q.contextAnalysis.threadLength} messages
- **Thread Complexity**: ${Q.contextAnalysis.threadComplexity}
- **Relevant Memories**: ${Q.contextAnalysis.memoryCount} snippets
- **Memory Relevance**: ${(Q.contextAnalysis.memoryRelevance*100).toFixed(0)}%
- **Topic Coherence**: ${(Q.contextAnalysis.topicCoherence*100).toFixed(0)}%
- **Recent Topic Shifts**: ${Q.contextAnalysis.recentTopicShifts}
- **Active Entity**: ${Q.contextAnalysis.hasActiveEntity?"Yes":"No"}
- **Query Type**: ${Q.contextAnalysis.queryType}
- **Instruction Weight**: ${Q.instructionWeight?(Q.instructionWeight*100).toFixed(0)+"%":"N/A"}

## Dynamic Instructions Generated
${Q.dynamicInstructions||"*No dynamic instructions generated*"}

## Inference Parameter Optimization
${Q.inferenceParameters&&Object.keys(Q.inferenceParameters).length>0?Object.entries(Q.inferenceParameters).map(([Me,qe])=>`- **${Me}**: ${qe}`).join(`
`):"*Using default parameters*"}

### Parameter Selection Reasoning
${Q.parameterReasoning||"*No parameter optimization applied*"}

## Overall Reasoning
${Q.reasoning}

---
*Generated at ${new Date().toLocaleString()}*`,pe=Z.artifactContent||"";Z.artifactContent=pe?`${pe}

---

${ce}`:ce,await en(Z),b({...Z})}const{postProcessMessage:je}=await za(async()=>{const{postProcessMessage:ce}=await Promise.resolve().then(()=>ix);return{postProcessMessage:ce}},void 0);await je(se).catch(console.error),await je(xe).catch(console.error);const{extractEntitiesFromUserMessage:N}=await za(async()=>{const{extractEntitiesFromUserMessage:ce}=await Promise.resolve().then(()=>ix);return{extractEntitiesFromUserMessage:ce}},void 0);await N(xe).catch(console.error);const re={id:`msg-${Date.now()+1}`,threadId:D,sender:kn.AI,text:se,createdAt:Date.now()};await ms(re),Fu(D,se).catch(console.error),v(ce=>[...ce,re]),Z&&(Z.updatedAt=Date.now(),await en(Z),g(ce=>ce.map(pe=>pe.id===D?Z:pe)))}catch(I){console.error("Failed to send message:",I);const ne={id:`msg-${Date.now()+1}`,threadId:D,sender:kn.AI,text:`Error: ${I instanceof Error?I.message:"Failed to get response from AI"}`,createdAt:Date.now()};await ms(ne),v(Q=>[...Q,ne])}finally{M(!1)}},[x,$,le,R,oe,U]),P=w.useCallback(async(xe,W)=>{const A=await ki(xe);A&&(A.artifactContent=W,A.updatedAt=Date.now(),await en(A),(x==null?void 0:x.id)===xe&&b({...A}),g(D=>D.map(Z=>Z.id===xe?A:Z)))},[x]),te=w.useCallback(async(xe,W)=>{await ln(xe,W),G(A=>({...A,[xe]:W}))},[]),Ne=()=>{c(xe=>!xe)};return l.jsx(Sx.Provider,{value:{isLeftSidebarOpen:o,toggleLeftSidebar:Ne,activeView:u,setActiveView:h,threads:m,currentThread:x,messages:f,isLoading:_,createThread:$,selectThread:le,deleteThreadById:ue,sendMessage:ve,updateThreadArtifact:P,settings:j,updateSetting:te,primedAction:R,setPrimedAction:ee,activeEntity:oe,setActiveEntity:ge,entityDetailView:be,setEntityDetailView:ye},children:r})},al=()=>{const r=w.useContext(Sx);if(!r)throw new Error("useAppContext must be used within an AppProvider");return r},Vb=({className:r})=>l.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",className:r||"w-6 h-6",children:l.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M12 4.5v15m7.5-7.5h-15"})}),Xb=({className:r})=>l.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",className:r||"w-6 h-6",children:l.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"m21 21-5.197-5.197m0 0A7.5 7.5 0 1 0 5.196 5.196a7.5 7.5 0 0 0 10.607 10.607Z"})}),mo=({className:r})=>l.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",className:r||"w-6 h-6",children:l.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"m19.5 8.25-7.5 7.5-7.5-7.5"})}),Qb=({className:r})=>l.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",className:r||"w-6 h-6",children:l.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M9.594 3.94c.09-.542.56-1.007 1.11-1.226.554-.22 1.156-.22 1.71 0 .554.22 1.02.684 1.11 1.226M12 21.75l-3.75-1.563M12 21.75v-8.25M12 21.75l3.75-1.563M12 13.5l3.75 1.563M12 13.5l-3.75 1.563m0-8.25l-3.75-1.563m0 0l-3.75 1.563m3.75-1.563l3.75 1.563m0 0l3.75 1.563m0-8.25l3.75-1.563m-3.75-1.563l3.75 1.563m-3.75-1.563l-3.75-1.563m0 0l-3.75 1.563"})}),Gu=({className:r})=>l.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",className:r||"w-6 h-6",children:l.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M9.813 15.904 9 18.75l-.813-2.846a4.5 4.5 0 0 0-3.09-3.09L2.25 12l2.846-.813a4.5 4.5 0 0 0 3.09-3.09L9 5.25l.813 2.846a4.5 4.5 0 0 0 3.09 3.09L15.75 12l-2.846.813a4.5 4.5 0 0 0-3.09 3.09ZM18.259 8.715 18 9.75l-.259-1.035a3.375 3.375 0 0 0-2.455-2.456L14.25 6l1.036-.259a3.375 3.375 0 0 0 2.455-2.456L18 2.25l.259 1.035a3.375 3.375 0 0 0 2.456 2.456L21.75 6l-1.035.259a3.375 3.375 0 0 0-2.456 2.456Z"})}),lo=({className:r})=>l.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",className:r||"w-6 h-6",children:l.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M15.75 17.25v3.375c0 .621-.504 1.125-1.125 1.125h-9.75a1.125 1.125 0 0 1-1.125-1.125V7.875c0-.621.504-1.125 1.125-1.125H6.75a9.06 9.06 0 0 1 1.5.124m7.5 10.376h3.375c.621 0 1.125-.504 1.125-1.125V11.25c0-4.46-3.243-8.161-7.5-8.876a9.06 9.06 0 0 0-1.5-.124H9.375c-.621 0-1.125.504-1.125 1.125v3.5m7.5 10.375H9.375a1.125 1.125 0 0 1-1.125-1.125v-9.25m12 6.625v-1.875a3.375 3.375 0 0 0-3.375-3.375h-1.5a1.125 1.125 0 0 1-1.125-1.125v-1.5a3.375 3.375 0 0 0-3.375-3.375H9.75"})}),Bp=({className:r})=>l.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",className:r||"w-6 h-6",children:l.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M11.25 4.5l7.5 7.5-7.5 7.5m-6-15l7.5 7.5-7.5 7.5"})}),Zb=({className:r})=>l.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",className:r||"w-6 h-6",children:l.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"m4.5 12.75 6 6 9-13.5"})}),$p=({icon:r,label:o,isActive:c})=>l.jsxs("div",{className:`w-full flex items-center gap-3 px-3 py-2 rounded-2xl text-sm font-medium transition-all duration-200 ${c?"bg-white text-primary-light shadow-inner":"text-secondary-light hover:text-primary-light hover:bg-white/60"}`,children:[l.jsx("span",{className:"flex items-center justify-center w-7 h-7 rounded-2xl bg-white/80 text-primary-light shadow-sm",children:r}),l.jsx("span",{children:o})]}),Hp=({onNavigate:r})=>{const{threads:o,currentThread:c,createThread:u,selectThread:h,deleteThreadById:m,setActiveView:g,activeView:x}=al(),[b,f]=w.useState(!1),v=async()=>{await u(),g(tt.CHAT),r==null||r()},_=async R=>{await h(R),g(tt.CHAT),r==null||r()},M=R=>{g(R),r==null||r()},j=[{label:"Memory",view:tt.SEARCH,icon:l.jsx(Xb,{className:"w-4 h-4"})},{label:"Journal",view:tt.JOURNAL,icon:l.jsx(lo,{className:"w-4 h-4"})},{label:"Agenda",view:tt.AGENDA,icon:l.jsx(Bp,{className:"w-4 h-4"})},{label:"Calendar",view:tt.CALENDAR,icon:l.jsx(lo,{className:"w-4 h-4"})},{label:"Pomodoro",view:tt.POMODORO,icon:l.jsx(Bp,{className:"w-4 h-4"})},{label:"Polaris",view:tt.POLARIS,icon:l.jsx(Gu,{className:"w-4 h-4"})},{label:"Progress",view:tt.GAMIFICATION,icon:l.jsx(lo,{className:"w-4 h-4"})},{label:"Brand",view:tt.BRAND,icon:l.jsx(Gu,{className:"w-4 h-4"})},{label:"People",view:tt.PEOPLE,icon:l.jsx(lo,{className:"w-4 h-4"})},{label:"Concepts",view:tt.CONCEPTS,icon:l.jsx(Gu,{className:"w-4 h-4"})}],G=l.jsx("div",{className:"space-y-2 max-h-[50vh] overflow-y-auto soft-scrollbar",children:o.length===0?l.jsx("div",{className:"px-3 py-2 text-sm text-secondary-light",children:"No conversations yet"}):o.map(R=>l.jsxs("div",{className:`group relative px-4 py-3 rounded-2xl border cursor-pointer transition-all ${(c==null?void 0:c.id)===R.id?"bg-black text-white border-black shadow-lg":"border-white/70 hover:bg-white/70"}`,onClick:()=>_(R.id),children:[l.jsx("p",{className:"text-sm font-semibold truncate",children:R.title}),(c==null?void 0:c.id)===R.id?l.jsx("p",{className:"text-xs text-white/70",children:"Active"}):l.jsx("p",{className:"text-xs text-secondary-light",children:"Thread"}),l.jsx("button",{onClick:ee=>{ee.stopPropagation(),m(R.id)},className:"absolute right-3 top-1/2 -translate-y-1/2 opacity-0 group-hover:opacity-100 transition-opacity text-xs text-secondary-light hover:text-primary-light",children:""})]},R.id))});return l.jsx(l.Fragment,{children:l.jsxs("aside",{className:"glass-panel w-full lg:w-[260px] flex-shrink-0 lg:rounded-[32px] lg:rounded-l-none p-5 flex flex-col h-full max-h-full border border-white/70 shadow-xl overflow-hidden",children:[l.jsx("div",{className:"space-y-2 mt-6 flex-shrink-0",children:l.jsx("button",{onClick:v,className:"w-full",children:l.jsx($p,{icon:l.jsx(Vb,{className:"w-4 h-4"}),label:"New thread"})})}),l.jsxs("div",{className:"flex-1 min-h-0 mt-6 pr-1 space-y-6 overflow-y-auto invisible-scrollbar",children:[l.jsxs("button",{className:"w-full flex items-center justify-between text-xs uppercase tracking-[0.4em] text-secondary-light mb-3 px-2",onClick:()=>f(R=>!R),children:[l.jsx("span",{children:"Threads"}),l.jsx(mo,{className:`w-4 h-4 transition-transform ${b?"rotate-180":""}`})]}),b&&G,l.jsx("div",{className:"space-y-1",children:j.map(R=>l.jsx("button",{onClick:()=>M(R.view),className:"w-full",children:l.jsx($p,{icon:R.icon,label:R.label,isActive:x===R.view})},R.view))})]}),l.jsx("div",{className:"flex-shrink-0 pt-4 border-t border-white/60",children:l.jsxs("button",{onClick:()=>M(tt.SETTINGS),className:`w-full flex items-center gap-3 px-4 py-3 rounded-2xl text-sm font-semibold transition ${x===tt.SETTINGS?"bg-black text-white shadow-lg":"bg-white/70 text-primary-light hover:bg-white/90"}`,children:[l.jsx(Qb,{className:"w-5 h-5"}),l.jsx("span",{children:"Settings"})]})})]})})};function jd(){return{async:!1,breaks:!1,extensions:null,gfm:!0,hooks:null,pedantic:!1,renderer:null,silent:!1,tokenizer:null,walkTokens:null}}var _n=jd();function kx(r){_n=r}var Mi={exec:()=>null};function rt(r,o=""){let c=typeof r=="string"?r:r.source;const u={replace:(h,m)=>{let g=typeof m=="string"?m:m.source;return g=g.replace(Wt.caret,"$1"),c=c.replace(h,g),u},getRegex:()=>new RegExp(c,o)};return u}var Wt={codeRemoveIndent:/^(?: {1,4}| {0,3}\t)/gm,outputLinkReplace:/\\([\[\]])/g,indentCodeCompensation:/^(\s+)(?:```)/,beginningSpace:/^\s+/,endingHash:/#$/,startingSpaceChar:/^ /,endingSpaceChar:/ $/,nonSpaceChar:/[^ ]/,newLineCharGlobal:/\n/g,tabCharGlobal:/\t/g,multipleSpaceGlobal:/\s+/g,blankLine:/^[ \t]*$/,doubleBlankLine:/\n[ \t]*\n[ \t]*$/,blockquoteStart:/^ {0,3}>/,blockquoteSetextReplace:/\n {0,3}((?:=+|-+) *)(?=\n|$)/g,blockquoteSetextReplace2:/^ {0,3}>[ \t]?/gm,listReplaceTabs:/^\t+/,listReplaceNesting:/^ {1,4}(?=( {4})*[^ ])/g,listIsTask:/^\[[ xX]\] /,listReplaceTask:/^\[[ xX]\] +/,anyLine:/\n.*\n/,hrefBrackets:/^<(.*)>$/,tableDelimiter:/[:|]/,tableAlignChars:/^\||\| *$/g,tableRowBlankLine:/\n[ \t]*$/,tableAlignRight:/^ *-+: *$/,tableAlignCenter:/^ *:-+: *$/,tableAlignLeft:/^ *:-+ *$/,startATag:/^<a /i,endATag:/^<\/a>/i,startPreScriptTag:/^<(pre|code|kbd|script)(\s|>)/i,endPreScriptTag:/^<\/(pre|code|kbd|script)(\s|>)/i,startAngleBracket:/^</,endAngleBracket:/>$/,pedanticHrefTitle:/^([^'"]*[^\s])\s+(['"])(.*)\2/,unicodeAlphaNumeric:/[\p{L}\p{N}]/u,escapeTest:/[&<>"']/,escapeReplace:/[&<>"']/g,escapeTestNoEncode:/[<>"']|&(?!(#\d{1,7}|#[Xx][a-fA-F0-9]{1,6}|\w+);)/,escapeReplaceNoEncode:/[<>"']|&(?!(#\d{1,7}|#[Xx][a-fA-F0-9]{1,6}|\w+);)/g,unescapeTest:/&(#(?:\d+)|(?:#x[0-9A-Fa-f]+)|(?:\w+));?/ig,caret:/(^|[^\[])\^/g,percentDecode:/%25/g,findPipe:/\|/g,splitPipe:/ \|/,slashPipe:/\\\|/g,carriageReturn:/\r\n|\r/g,spaceLine:/^ +$/gm,notSpaceStart:/^\S*/,endingNewline:/\n$/,listItemRegex:r=>new RegExp(`^( {0,3}${r})((?:[	 ][^\\n]*)?(?:\\n|$))`),nextBulletRegex:r=>new RegExp(`^ {0,${Math.min(3,r-1)}}(?:[*+-]|\\d{1,9}[.)])((?:[ 	][^\\n]*)?(?:\\n|$))`),hrRegex:r=>new RegExp(`^ {0,${Math.min(3,r-1)}}((?:- *){3,}|(?:_ *){3,}|(?:\\* *){3,})(?:\\n+|$)`),fencesBeginRegex:r=>new RegExp(`^ {0,${Math.min(3,r-1)}}(?:\`\`\`|~~~)`),headingBeginRegex:r=>new RegExp(`^ {0,${Math.min(3,r-1)}}#`),htmlBeginRegex:r=>new RegExp(`^ {0,${Math.min(3,r-1)}}<(?:[a-z].*>|!--)`,"i")},Kb=/^(?:[ \t]*(?:\n|$))+/,Pb=/^((?: {4}| {0,3}\t)[^\n]+(?:\n(?:[ \t]*(?:\n|$))*)?)+/,Jb=/^ {0,3}(`{3,}(?=[^`\n]*(?:\n|$))|~{3,})([^\n]*)(?:\n|$)(?:|([\s\S]*?)(?:\n|$))(?: {0,3}\1[~`]* *(?=\n|$)|$)/,Bi=/^ {0,3}((?:-[\t ]*){3,}|(?:_[ \t]*){3,}|(?:\*[ \t]*){3,})(?:\n+|$)/,Wb=/^ {0,3}(#{1,6})(?=\s|$)(.*)(?:\n+|$)/,Sd=/(?:[*+-]|\d{1,9}[.)])/,Ax=/^(?!bull |blockCode|fences|blockquote|heading|html|table)((?:.|\n(?!\s*?\n|bull |blockCode|fences|blockquote|heading|html|table))+?)\n {0,3}(=+|-+) *(?:\n+|$)/,Tx=rt(Ax).replace(/bull/g,Sd).replace(/blockCode/g,/(?: {4}| {0,3}\t)/).replace(/fences/g,/ {0,3}(?:`{3,}|~{3,})/).replace(/blockquote/g,/ {0,3}>/).replace(/heading/g,/ {0,3}#{1,6}/).replace(/html/g,/ {0,3}<[^\n>]+>\n/).replace(/\|table/g,"").getRegex(),Fb=rt(Ax).replace(/bull/g,Sd).replace(/blockCode/g,/(?: {4}| {0,3}\t)/).replace(/fences/g,/ {0,3}(?:`{3,}|~{3,})/).replace(/blockquote/g,/ {0,3}>/).replace(/heading/g,/ {0,3}#{1,6}/).replace(/html/g,/ {0,3}<[^\n>]+>\n/).replace(/table/g,/ {0,3}\|?(?:[:\- ]*\|)+[\:\- ]*\n/).getRegex(),kd=/^([^\n]+(?:\n(?!hr|heading|lheading|blockquote|fences|list|html|table| +\n)[^\n]+)*)/,ey=/^[^\n]+/,Ad=/(?!\s*\])(?:\\.|[^\[\]\\])+/,ty=rt(/^ {0,3}\[(label)\]: *(?:\n[ \t]*)?([^<\s][^\s]*|<.*?>)(?:(?: +(?:\n[ \t]*)?| *\n[ \t]*)(title))? *(?:\n+|$)/).replace("label",Ad).replace("title",/(?:"(?:\\"?|[^"\\])*"|'[^'\n]*(?:\n[^'\n]+)*\n?'|\([^()]*\))/).getRegex(),ay=rt(/^( {0,3}bull)([ \t][^\n]+?)?(?:\n|$)/).replace(/bull/g,Sd).getRegex(),ko="address|article|aside|base|basefont|blockquote|body|caption|center|col|colgroup|dd|details|dialog|dir|div|dl|dt|fieldset|figcaption|figure|footer|form|frame|frameset|h[1-6]|head|header|hr|html|iframe|legend|li|link|main|menu|menuitem|meta|nav|noframes|ol|optgroup|option|p|param|search|section|summary|table|tbody|td|tfoot|th|thead|title|tr|track|ul",Td=/<!--(?:-?>|[\s\S]*?(?:-->|$))/,ly=rt("^ {0,3}(?:<(script|pre|style|textarea)[\\s>][\\s\\S]*?(?:</\\1>[^\\n]*\\n+|$)|comment[^\\n]*(\\n+|$)|<\\?[\\s\\S]*?(?:\\?>\\n*|$)|<![A-Z][\\s\\S]*?(?:>\\n*|$)|<!\\[CDATA\\[[\\s\\S]*?(?:\\]\\]>\\n*|$)|</?(tag)(?: +|\\n|/?>)[\\s\\S]*?(?:(?:\\n[ 	]*)+\\n|$)|<(?!script|pre|style|textarea)([a-z][\\w-]*)(?:attribute)*? */?>(?=[ \\t]*(?:\\n|$))[\\s\\S]*?(?:(?:\\n[ 	]*)+\\n|$)|</(?!script|pre|style|textarea)[a-z][\\w-]*\\s*>(?=[ \\t]*(?:\\n|$))[\\s\\S]*?(?:(?:\\n[ 	]*)+\\n|$))","i").replace("comment",Td).replace("tag",ko).replace("attribute",/ +[a-zA-Z:_][\w.:-]*(?: *= *"[^"\n]*"| *= *'[^'\n]*'| *= *[^\s"'=<>`]+)?/).getRegex(),Ex=rt(kd).replace("hr",Bi).replace("heading"," {0,3}#{1,6}(?:\\s|$)").replace("|lheading","").replace("|table","").replace("blockquote"," {0,3}>").replace("fences"," {0,3}(?:`{3,}(?=[^`\\n]*\\n)|~{3,})[^\\n]*\\n").replace("list"," {0,3}(?:[*+-]|1[.)]) ").replace("html","</?(?:tag)(?: +|\\n|/?>)|<(?:script|pre|style|textarea|!--)").replace("tag",ko).getRegex(),ny=rt(/^( {0,3}> ?(paragraph|[^\n]*)(?:\n|$))+/).replace("paragraph",Ex).getRegex(),Ed={blockquote:ny,code:Pb,def:ty,fences:Jb,heading:Wb,hr:Bi,html:ly,lheading:Tx,list:ay,newline:Kb,paragraph:Ex,table:Mi,text:ey},Gp=rt("^ *([^\\n ].*)\\n {0,3}((?:\\| *)?:?-+:? *(?:\\| *:?-+:? *)*(?:\\| *)?)(?:\\n((?:(?! *\\n|hr|heading|blockquote|code|fences|list|html).*(?:\\n|$))*)\\n*|$)").replace("hr",Bi).replace("heading"," {0,3}#{1,6}(?:\\s|$)").replace("blockquote"," {0,3}>").replace("code","(?: {4}| {0,3}	)[^\\n]").replace("fences"," {0,3}(?:`{3,}(?=[^`\\n]*\\n)|~{3,})[^\\n]*\\n").replace("list"," {0,3}(?:[*+-]|1[.)]) ").replace("html","</?(?:tag)(?: +|\\n|/?>)|<(?:script|pre|style|textarea|!--)").replace("tag",ko).getRegex(),sy={...Ed,lheading:Fb,table:Gp,paragraph:rt(kd).replace("hr",Bi).replace("heading"," {0,3}#{1,6}(?:\\s|$)").replace("|lheading","").replace("table",Gp).replace("blockquote"," {0,3}>").replace("fences"," {0,3}(?:`{3,}(?=[^`\\n]*\\n)|~{3,})[^\\n]*\\n").replace("list"," {0,3}(?:[*+-]|1[.)]) ").replace("html","</?(?:tag)(?: +|\\n|/?>)|<(?:script|pre|style|textarea|!--)").replace("tag",ko).getRegex()},iy={...Ed,html:rt(`^ *(?:comment *(?:\\n|\\s*$)|<(tag)[\\s\\S]+?</\\1> *(?:\\n{2,}|\\s*$)|<tag(?:"[^"]*"|'[^']*'|\\s[^'"/>\\s]*)*?/?> *(?:\\n{2,}|\\s*$))`).replace("comment",Td).replace(/tag/g,"(?!(?:a|em|strong|small|s|cite|q|dfn|abbr|data|time|code|var|samp|kbd|sub|sup|i|b|u|mark|ruby|rt|rp|bdi|bdo|span|br|wbr|ins|del|img)\\b)\\w+(?!:|[^\\w\\s@]*@)\\b").getRegex(),def:/^ *\[([^\]]+)\]: *<?([^\s>]+)>?(?: +(["(][^\n]+[")]))? *(?:\n+|$)/,heading:/^(#{1,6})(.*)(?:\n+|$)/,fences:Mi,lheading:/^(.+?)\n {0,3}(=+|-+) *(?:\n+|$)/,paragraph:rt(kd).replace("hr",Bi).replace("heading",` *#{1,6} *[^
]`).replace("lheading",Tx).replace("|table","").replace("blockquote"," {0,3}>").replace("|fences","").replace("|list","").replace("|html","").replace("|tag","").getRegex()},ry=/^\\([!"#$%&'()*+,\-./:;<=>?@\[\]\\^_`{|}~])/,oy=/^(`+)([^`]|[^`][\s\S]*?[^`])\1(?!`)/,Cx=/^( {2,}|\\)\n(?!\s*$)/,cy=/^(`+|[^`])(?:(?= {2,}\n)|[\s\S]*?(?:(?=[\\<!\[`*_]|\b_|$)|[^ ](?= {2,}\n)))/,Ao=/[\p{P}\p{S}]/u,Cd=/[\s\p{P}\p{S}]/u,_x=/[^\s\p{P}\p{S}]/u,uy=rt(/^((?![*_])punctSpace)/,"u").replace(/punctSpace/g,Cd).getRegex(),Dx=/(?!~)[\p{P}\p{S}]/u,dy=/(?!~)[\s\p{P}\p{S}]/u,hy=/(?:[^\s\p{P}\p{S}]|~)/u,my=/\[[^[\]]*?\]\((?:\\.|[^\\\(\)]|\((?:\\.|[^\\\(\)])*\))*\)|`[^`]*?`|<[^<>]*?>/g,Mx=/^(?:\*+(?:((?!\*)punct)|[^\s*]))|^_+(?:((?!_)punct)|([^\s_]))/,fy=rt(Mx,"u").replace(/punct/g,Ao).getRegex(),py=rt(Mx,"u").replace(/punct/g,Dx).getRegex(),Rx="^[^_*]*?__[^_*]*?\\*[^_*]*?(?=__)|[^*]+(?=[^*])|(?!\\*)punct(\\*+)(?=[\\s]|$)|notPunctSpace(\\*+)(?!\\*)(?=punctSpace|$)|(?!\\*)punctSpace(\\*+)(?=notPunctSpace)|[\\s](\\*+)(?!\\*)(?=punct)|(?!\\*)punct(\\*+)(?!\\*)(?=punct)|notPunctSpace(\\*+)(?=notPunctSpace)",xy=rt(Rx,"gu").replace(/notPunctSpace/g,_x).replace(/punctSpace/g,Cd).replace(/punct/g,Ao).getRegex(),gy=rt(Rx,"gu").replace(/notPunctSpace/g,hy).replace(/punctSpace/g,dy).replace(/punct/g,Dx).getRegex(),by=rt("^[^_*]*?\\*\\*[^_*]*?_[^_*]*?(?=\\*\\*)|[^_]+(?=[^_])|(?!_)punct(_+)(?=[\\s]|$)|notPunctSpace(_+)(?!_)(?=punctSpace|$)|(?!_)punctSpace(_+)(?=notPunctSpace)|[\\s](_+)(?!_)(?=punct)|(?!_)punct(_+)(?!_)(?=punct)","gu").replace(/notPunctSpace/g,_x).replace(/punctSpace/g,Cd).replace(/punct/g,Ao).getRegex(),yy=rt(/\\(punct)/,"gu").replace(/punct/g,Ao).getRegex(),vy=rt(/^<(scheme:[^\s\x00-\x1f<>]*|email)>/).replace("scheme",/[a-zA-Z][a-zA-Z0-9+.-]{1,31}/).replace("email",/[a-zA-Z0-9.!#$%&'*+/=?^_`{|}~-]+(@)[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)+(?![-_])/).getRegex(),wy=rt(Td).replace("(?:-->|$)","-->").getRegex(),Ny=rt("^comment|^</[a-zA-Z][\\w:-]*\\s*>|^<[a-zA-Z][\\w-]*(?:attribute)*?\\s*/?>|^<\\?[\\s\\S]*?\\?>|^<![a-zA-Z]+\\s[\\s\\S]*?>|^<!\\[CDATA\\[[\\s\\S]*?\\]\\]>").replace("comment",wy).replace("attribute",/\s+[a-zA-Z:_][\w.:-]*(?:\s*=\s*"[^"]*"|\s*=\s*'[^']*'|\s*=\s*[^\s"'=<>`]+)?/).getRegex(),yo=/(?:\[(?:\\.|[^\[\]\\])*\]|\\.|`[^`]*`|[^\[\]\\`])*?/,jy=rt(/^!?\[(label)\]\(\s*(href)(?:(?:[ \t]*(?:\n[ \t]*)?)(title))?\s*\)/).replace("label",yo).replace("href",/<(?:\\.|[^\n<>\\])+>|[^ \t\n\x00-\x1f]*/).replace("title",/"(?:\\"?|[^"\\])*"|'(?:\\'?|[^'\\])*'|\((?:\\\)?|[^)\\])*\)/).getRegex(),Ox=rt(/^!?\[(label)\]\[(ref)\]/).replace("label",yo).replace("ref",Ad).getRegex(),zx=rt(/^!?\[(ref)\](?:\[\])?/).replace("ref",Ad).getRegex(),Sy=rt("reflink|nolink(?!\\()","g").replace("reflink",Ox).replace("nolink",zx).getRegex(),_d={_backpedal:Mi,anyPunctuation:yy,autolink:vy,blockSkip:my,br:Cx,code:oy,del:Mi,emStrongLDelim:fy,emStrongRDelimAst:xy,emStrongRDelimUnd:by,escape:ry,link:jy,nolink:zx,punctuation:uy,reflink:Ox,reflinkSearch:Sy,tag:Ny,text:cy,url:Mi},ky={..._d,link:rt(/^!?\[(label)\]\((.*?)\)/).replace("label",yo).getRegex(),reflink:rt(/^!?\[(label)\]\s*\[([^\]]*)\]/).replace("label",yo).getRegex()},id={..._d,emStrongRDelimAst:gy,emStrongLDelim:py,url:rt(/^((?:ftp|https?):\/\/|www\.)(?:[a-zA-Z0-9\-]+\.?)+[^\s<]*|^email/,"i").replace("email",/[A-Za-z0-9._+-]+(@)[a-zA-Z0-9-_]+(?:\.[a-zA-Z0-9-_]*[a-zA-Z0-9])+(?![-_])/).getRegex(),_backpedal:/(?:[^?!.,:;*_'"~()&]+|\([^)]*\)|&(?![a-zA-Z0-9]+;$)|[?!.,:;*_'"~)]+(?!$))+/,del:/^(~~?)(?=[^\s~])((?:\\.|[^\\])*?(?:\\.|[^\s~\\]))\1(?=[^~]|$)/,text:/^([`~]+|[^`~])(?:(?= {2,}\n)|(?=[a-zA-Z0-9.!#$%&'*+\/=?_`{\|}~-]+@)|[\s\S]*?(?:(?=[\\<!\[`*~_]|\b_|https?:\/\/|ftp:\/\/|www\.|$)|[^ ](?= {2,}\n)|[^a-zA-Z0-9.!#$%&'*+\/=?_`{\|}~-](?=[a-zA-Z0-9.!#$%&'*+\/=?_`{\|}~-]+@)))/},Ay={...id,br:rt(Cx).replace("{2,}","*").getRegex(),text:rt(id.text).replace("\\b_","\\b_| {2,}\\n").replace(/\{2,\}/g,"*").getRegex()},no={normal:Ed,gfm:sy,pedantic:iy},bi={normal:_d,gfm:id,breaks:Ay,pedantic:ky},Ty={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;"},qp=r=>Ty[r];function el(r,o){if(o){if(Wt.escapeTest.test(r))return r.replace(Wt.escapeReplace,qp)}else if(Wt.escapeTestNoEncode.test(r))return r.replace(Wt.escapeReplaceNoEncode,qp);return r}function Ip(r){try{r=encodeURI(r).replace(Wt.percentDecode,"%")}catch{return null}return r}function Yp(r,o){var m;const c=r.replace(Wt.findPipe,(g,x,b)=>{let f=!1,v=x;for(;--v>=0&&b[v]==="\\";)f=!f;return f?"|":" |"}),u=c.split(Wt.splitPipe);let h=0;if(u[0].trim()||u.shift(),u.length>0&&!((m=u.at(-1))!=null&&m.trim())&&u.pop(),o)if(u.length>o)u.splice(o);else for(;u.length<o;)u.push("");for(;h<u.length;h++)u[h]=u[h].trim().replace(Wt.slashPipe,"|");return u}function yi(r,o,c){const u=r.length;if(u===0)return"";let h=0;for(;h<u&&r.charAt(u-h-1)===o;)h++;return r.slice(0,u-h)}function Ey(r,o){if(r.indexOf(o[1])===-1)return-1;let c=0;for(let u=0;u<r.length;u++)if(r[u]==="\\")u++;else if(r[u]===o[0])c++;else if(r[u]===o[1]&&(c--,c<0))return u;return c>0?-2:-1}function Vp(r,o,c,u,h){const m=o.href,g=o.title||null,x=r[1].replace(h.other.outputLinkReplace,"$1");u.state.inLink=!0;const b={type:r[0].charAt(0)==="!"?"image":"link",raw:c,href:m,title:g,text:x,tokens:u.inlineTokens(x)};return u.state.inLink=!1,b}function Cy(r,o,c){const u=r.match(c.other.indentCodeCompensation);if(u===null)return o;const h=u[1];return o.split(`
`).map(m=>{const g=m.match(c.other.beginningSpace);if(g===null)return m;const[x]=g;return x.length>=h.length?m.slice(h.length):m}).join(`
`)}var vo=class{constructor(r){ft(this,"options");ft(this,"rules");ft(this,"lexer");this.options=r||_n}space(r){const o=this.rules.block.newline.exec(r);if(o&&o[0].length>0)return{type:"space",raw:o[0]}}code(r){const o=this.rules.block.code.exec(r);if(o){const c=o[0].replace(this.rules.other.codeRemoveIndent,"");return{type:"code",raw:o[0],codeBlockStyle:"indented",text:this.options.pedantic?c:yi(c,`
`)}}}fences(r){const o=this.rules.block.fences.exec(r);if(o){const c=o[0],u=Cy(c,o[3]||"",this.rules);return{type:"code",raw:c,lang:o[2]?o[2].trim().replace(this.rules.inline.anyPunctuation,"$1"):o[2],text:u}}}heading(r){const o=this.rules.block.heading.exec(r);if(o){let c=o[2].trim();if(this.rules.other.endingHash.test(c)){const u=yi(c,"#");(this.options.pedantic||!u||this.rules.other.endingSpaceChar.test(u))&&(c=u.trim())}return{type:"heading",raw:o[0],depth:o[1].length,text:c,tokens:this.lexer.inline(c)}}}hr(r){const o=this.rules.block.hr.exec(r);if(o)return{type:"hr",raw:yi(o[0],`
`)}}blockquote(r){const o=this.rules.block.blockquote.exec(r);if(o){let c=yi(o[0],`
`).split(`
`),u="",h="";const m=[];for(;c.length>0;){let g=!1;const x=[];let b;for(b=0;b<c.length;b++)if(this.rules.other.blockquoteStart.test(c[b]))x.push(c[b]),g=!0;else if(!g)x.push(c[b]);else break;c=c.slice(b);const f=x.join(`
`),v=f.replace(this.rules.other.blockquoteSetextReplace,`
    $1`).replace(this.rules.other.blockquoteSetextReplace2,"");u=u?`${u}
${f}`:f,h=h?`${h}
${v}`:v;const _=this.lexer.state.top;if(this.lexer.state.top=!0,this.lexer.blockTokens(v,m,!0),this.lexer.state.top=_,c.length===0)break;const M=m.at(-1);if((M==null?void 0:M.type)==="code")break;if((M==null?void 0:M.type)==="blockquote"){const j=M,G=j.raw+`
`+c.join(`
`),R=this.blockquote(G);m[m.length-1]=R,u=u.substring(0,u.length-j.raw.length)+R.raw,h=h.substring(0,h.length-j.text.length)+R.text;break}else if((M==null?void 0:M.type)==="list"){const j=M,G=j.raw+`
`+c.join(`
`),R=this.list(G);m[m.length-1]=R,u=u.substring(0,u.length-M.raw.length)+R.raw,h=h.substring(0,h.length-j.raw.length)+R.raw,c=G.substring(m.at(-1).raw.length).split(`
`);continue}}return{type:"blockquote",raw:u,tokens:m,text:h}}}list(r){let o=this.rules.block.list.exec(r);if(o){let c=o[1].trim();const u=c.length>1,h={type:"list",raw:"",ordered:u,start:u?+c.slice(0,-1):"",loose:!1,items:[]};c=u?`\\d{1,9}\\${c.slice(-1)}`:`\\${c}`,this.options.pedantic&&(c=u?c:"[*+-]");const m=this.rules.other.listItemRegex(c);let g=!1;for(;r;){let b=!1,f="",v="";if(!(o=m.exec(r))||this.rules.block.hr.test(r))break;f=o[0],r=r.substring(f.length);let _=o[2].split(`
`,1)[0].replace(this.rules.other.listReplaceTabs,oe=>" ".repeat(3*oe.length)),M=r.split(`
`,1)[0],j=!_.trim(),G=0;if(this.options.pedantic?(G=2,v=_.trimStart()):j?G=o[1].length+1:(G=o[2].search(this.rules.other.nonSpaceChar),G=G>4?1:G,v=_.slice(G),G+=o[1].length),j&&this.rules.other.blankLine.test(M)&&(f+=M+`
`,r=r.substring(M.length+1),b=!0),!b){const oe=this.rules.other.nextBulletRegex(G),ge=this.rules.other.hrRegex(G),be=this.rules.other.fencesBeginRegex(G),ye=this.rules.other.headingBeginRegex(G),le=this.rules.other.htmlBeginRegex(G);for(;r;){const $=r.split(`
`,1)[0];let U;if(M=$,this.options.pedantic?(M=M.replace(this.rules.other.listReplaceNesting,"  "),U=M):U=M.replace(this.rules.other.tabCharGlobal,"    "),be.test(M)||ye.test(M)||le.test(M)||oe.test(M)||ge.test(M))break;if(U.search(this.rules.other.nonSpaceChar)>=G||!M.trim())v+=`
`+U.slice(G);else{if(j||_.replace(this.rules.other.tabCharGlobal,"    ").search(this.rules.other.nonSpaceChar)>=4||be.test(_)||ye.test(_)||ge.test(_))break;v+=`
`+M}!j&&!M.trim()&&(j=!0),f+=$+`
`,r=r.substring($.length+1),_=U.slice(G)}}h.loose||(g?h.loose=!0:this.rules.other.doubleBlankLine.test(f)&&(g=!0));let R=null,ee;this.options.gfm&&(R=this.rules.other.listIsTask.exec(v),R&&(ee=R[0]!=="[ ] ",v=v.replace(this.rules.other.listReplaceTask,""))),h.items.push({type:"list_item",raw:f,task:!!R,checked:ee,loose:!1,text:v,tokens:[]}),h.raw+=f}const x=h.items.at(-1);if(x)x.raw=x.raw.trimEnd(),x.text=x.text.trimEnd();else return;h.raw=h.raw.trimEnd();for(let b=0;b<h.items.length;b++)if(this.lexer.state.top=!1,h.items[b].tokens=this.lexer.blockTokens(h.items[b].text,[]),!h.loose){const f=h.items[b].tokens.filter(_=>_.type==="space"),v=f.length>0&&f.some(_=>this.rules.other.anyLine.test(_.raw));h.loose=v}if(h.loose)for(let b=0;b<h.items.length;b++)h.items[b].loose=!0;return h}}html(r){const o=this.rules.block.html.exec(r);if(o)return{type:"html",block:!0,raw:o[0],pre:o[1]==="pre"||o[1]==="script"||o[1]==="style",text:o[0]}}def(r){const o=this.rules.block.def.exec(r);if(o){const c=o[1].toLowerCase().replace(this.rules.other.multipleSpaceGlobal," "),u=o[2]?o[2].replace(this.rules.other.hrefBrackets,"$1").replace(this.rules.inline.anyPunctuation,"$1"):"",h=o[3]?o[3].substring(1,o[3].length-1).replace(this.rules.inline.anyPunctuation,"$1"):o[3];return{type:"def",tag:c,raw:o[0],href:u,title:h}}}table(r){var g;const o=this.rules.block.table.exec(r);if(!o||!this.rules.other.tableDelimiter.test(o[2]))return;const c=Yp(o[1]),u=o[2].replace(this.rules.other.tableAlignChars,"").split("|"),h=(g=o[3])!=null&&g.trim()?o[3].replace(this.rules.other.tableRowBlankLine,"").split(`
`):[],m={type:"table",raw:o[0],header:[],align:[],rows:[]};if(c.length===u.length){for(const x of u)this.rules.other.tableAlignRight.test(x)?m.align.push("right"):this.rules.other.tableAlignCenter.test(x)?m.align.push("center"):this.rules.other.tableAlignLeft.test(x)?m.align.push("left"):m.align.push(null);for(let x=0;x<c.length;x++)m.header.push({text:c[x],tokens:this.lexer.inline(c[x]),header:!0,align:m.align[x]});for(const x of h)m.rows.push(Yp(x,m.header.length).map((b,f)=>({text:b,tokens:this.lexer.inline(b),header:!1,align:m.align[f]})));return m}}lheading(r){const o=this.rules.block.lheading.exec(r);if(o)return{type:"heading",raw:o[0],depth:o[2].charAt(0)==="="?1:2,text:o[1],tokens:this.lexer.inline(o[1])}}paragraph(r){const o=this.rules.block.paragraph.exec(r);if(o){const c=o[1].charAt(o[1].length-1)===`
`?o[1].slice(0,-1):o[1];return{type:"paragraph",raw:o[0],text:c,tokens:this.lexer.inline(c)}}}text(r){const o=this.rules.block.text.exec(r);if(o)return{type:"text",raw:o[0],text:o[0],tokens:this.lexer.inline(o[0])}}escape(r){const o=this.rules.inline.escape.exec(r);if(o)return{type:"escape",raw:o[0],text:o[1]}}tag(r){const o=this.rules.inline.tag.exec(r);if(o)return!this.lexer.state.inLink&&this.rules.other.startATag.test(o[0])?this.lexer.state.inLink=!0:this.lexer.state.inLink&&this.rules.other.endATag.test(o[0])&&(this.lexer.state.inLink=!1),!this.lexer.state.inRawBlock&&this.rules.other.startPreScriptTag.test(o[0])?this.lexer.state.inRawBlock=!0:this.lexer.state.inRawBlock&&this.rules.other.endPreScriptTag.test(o[0])&&(this.lexer.state.inRawBlock=!1),{type:"html",raw:o[0],inLink:this.lexer.state.inLink,inRawBlock:this.lexer.state.inRawBlock,block:!1,text:o[0]}}link(r){const o=this.rules.inline.link.exec(r);if(o){const c=o[2].trim();if(!this.options.pedantic&&this.rules.other.startAngleBracket.test(c)){if(!this.rules.other.endAngleBracket.test(c))return;const m=yi(c.slice(0,-1),"\\");if((c.length-m.length)%2===0)return}else{const m=Ey(o[2],"()");if(m===-2)return;if(m>-1){const x=(o[0].indexOf("!")===0?5:4)+o[1].length+m;o[2]=o[2].substring(0,m),o[0]=o[0].substring(0,x).trim(),o[3]=""}}let u=o[2],h="";if(this.options.pedantic){const m=this.rules.other.pedanticHrefTitle.exec(u);m&&(u=m[1],h=m[3])}else h=o[3]?o[3].slice(1,-1):"";return u=u.trim(),this.rules.other.startAngleBracket.test(u)&&(this.options.pedantic&&!this.rules.other.endAngleBracket.test(c)?u=u.slice(1):u=u.slice(1,-1)),Vp(o,{href:u&&u.replace(this.rules.inline.anyPunctuation,"$1"),title:h&&h.replace(this.rules.inline.anyPunctuation,"$1")},o[0],this.lexer,this.rules)}}reflink(r,o){let c;if((c=this.rules.inline.reflink.exec(r))||(c=this.rules.inline.nolink.exec(r))){const u=(c[2]||c[1]).replace(this.rules.other.multipleSpaceGlobal," "),h=o[u.toLowerCase()];if(!h){const m=c[0].charAt(0);return{type:"text",raw:m,text:m}}return Vp(c,h,c[0],this.lexer,this.rules)}}emStrong(r,o,c=""){let u=this.rules.inline.emStrongLDelim.exec(r);if(!u||u[3]&&c.match(this.rules.other.unicodeAlphaNumeric))return;if(!(u[1]||u[2]||"")||!c||this.rules.inline.punctuation.exec(c)){const m=[...u[0]].length-1;let g,x,b=m,f=0;const v=u[0][0]==="*"?this.rules.inline.emStrongRDelimAst:this.rules.inline.emStrongRDelimUnd;for(v.lastIndex=0,o=o.slice(-1*r.length+m);(u=v.exec(o))!=null;){if(g=u[1]||u[2]||u[3]||u[4]||u[5]||u[6],!g)continue;if(x=[...g].length,u[3]||u[4]){b+=x;continue}else if((u[5]||u[6])&&m%3&&!((m+x)%3)){f+=x;continue}if(b-=x,b>0)continue;x=Math.min(x,x+b+f);const _=[...u[0]][0].length,M=r.slice(0,m+u.index+_+x);if(Math.min(m,x)%2){const G=M.slice(1,-1);return{type:"em",raw:M,text:G,tokens:this.lexer.inlineTokens(G)}}const j=M.slice(2,-2);return{type:"strong",raw:M,text:j,tokens:this.lexer.inlineTokens(j)}}}}codespan(r){const o=this.rules.inline.code.exec(r);if(o){let c=o[2].replace(this.rules.other.newLineCharGlobal," ");const u=this.rules.other.nonSpaceChar.test(c),h=this.rules.other.startingSpaceChar.test(c)&&this.rules.other.endingSpaceChar.test(c);return u&&h&&(c=c.substring(1,c.length-1)),{type:"codespan",raw:o[0],text:c}}}br(r){const o=this.rules.inline.br.exec(r);if(o)return{type:"br",raw:o[0]}}del(r){const o=this.rules.inline.del.exec(r);if(o)return{type:"del",raw:o[0],text:o[2],tokens:this.lexer.inlineTokens(o[2])}}autolink(r){const o=this.rules.inline.autolink.exec(r);if(o){let c,u;return o[2]==="@"?(c=o[1],u="mailto:"+c):(c=o[1],u=c),{type:"link",raw:o[0],text:c,href:u,tokens:[{type:"text",raw:c,text:c}]}}}url(r){var c;let o;if(o=this.rules.inline.url.exec(r)){let u,h;if(o[2]==="@")u=o[0],h="mailto:"+u;else{let m;do m=o[0],o[0]=((c=this.rules.inline._backpedal.exec(o[0]))==null?void 0:c[0])??"";while(m!==o[0]);u=o[0],o[1]==="www."?h="http://"+o[0]:h=o[0]}return{type:"link",raw:o[0],text:u,href:h,tokens:[{type:"text",raw:u,text:u}]}}}inlineText(r){const o=this.rules.inline.text.exec(r);if(o){const c=this.lexer.state.inRawBlock;return{type:"text",raw:o[0],text:o[0],escaped:c}}}},Al=class rd{constructor(o){ft(this,"tokens");ft(this,"options");ft(this,"state");ft(this,"tokenizer");ft(this,"inlineQueue");this.tokens=[],this.tokens.links=Object.create(null),this.options=o||_n,this.options.tokenizer=this.options.tokenizer||new vo,this.tokenizer=this.options.tokenizer,this.tokenizer.options=this.options,this.tokenizer.lexer=this,this.inlineQueue=[],this.state={inLink:!1,inRawBlock:!1,top:!0};const c={other:Wt,block:no.normal,inline:bi.normal};this.options.pedantic?(c.block=no.pedantic,c.inline=bi.pedantic):this.options.gfm&&(c.block=no.gfm,this.options.breaks?c.inline=bi.breaks:c.inline=bi.gfm),this.tokenizer.rules=c}static get rules(){return{block:no,inline:bi}}static lex(o,c){return new rd(c).lex(o)}static lexInline(o,c){return new rd(c).inlineTokens(o)}lex(o){o=o.replace(Wt.carriageReturn,`
`),this.blockTokens(o,this.tokens);for(let c=0;c<this.inlineQueue.length;c++){const u=this.inlineQueue[c];this.inlineTokens(u.src,u.tokens)}return this.inlineQueue=[],this.tokens}blockTokens(o,c=[],u=!1){var h,m,g;for(this.options.pedantic&&(o=o.replace(Wt.tabCharGlobal,"    ").replace(Wt.spaceLine,""));o;){let x;if((m=(h=this.options.extensions)==null?void 0:h.block)!=null&&m.some(f=>(x=f.call({lexer:this},o,c))?(o=o.substring(x.raw.length),c.push(x),!0):!1))continue;if(x=this.tokenizer.space(o)){o=o.substring(x.raw.length);const f=c.at(-1);x.raw.length===1&&f!==void 0?f.raw+=`
`:c.push(x);continue}if(x=this.tokenizer.code(o)){o=o.substring(x.raw.length);const f=c.at(-1);(f==null?void 0:f.type)==="paragraph"||(f==null?void 0:f.type)==="text"?(f.raw+=`
`+x.raw,f.text+=`
`+x.text,this.inlineQueue.at(-1).src=f.text):c.push(x);continue}if(x=this.tokenizer.fences(o)){o=o.substring(x.raw.length),c.push(x);continue}if(x=this.tokenizer.heading(o)){o=o.substring(x.raw.length),c.push(x);continue}if(x=this.tokenizer.hr(o)){o=o.substring(x.raw.length),c.push(x);continue}if(x=this.tokenizer.blockquote(o)){o=o.substring(x.raw.length),c.push(x);continue}if(x=this.tokenizer.list(o)){o=o.substring(x.raw.length),c.push(x);continue}if(x=this.tokenizer.html(o)){o=o.substring(x.raw.length),c.push(x);continue}if(x=this.tokenizer.def(o)){o=o.substring(x.raw.length);const f=c.at(-1);(f==null?void 0:f.type)==="paragraph"||(f==null?void 0:f.type)==="text"?(f.raw+=`
`+x.raw,f.text+=`
`+x.raw,this.inlineQueue.at(-1).src=f.text):this.tokens.links[x.tag]||(this.tokens.links[x.tag]={href:x.href,title:x.title});continue}if(x=this.tokenizer.table(o)){o=o.substring(x.raw.length),c.push(x);continue}if(x=this.tokenizer.lheading(o)){o=o.substring(x.raw.length),c.push(x);continue}let b=o;if((g=this.options.extensions)!=null&&g.startBlock){let f=1/0;const v=o.slice(1);let _;this.options.extensions.startBlock.forEach(M=>{_=M.call({lexer:this},v),typeof _=="number"&&_>=0&&(f=Math.min(f,_))}),f<1/0&&f>=0&&(b=o.substring(0,f+1))}if(this.state.top&&(x=this.tokenizer.paragraph(b))){const f=c.at(-1);u&&(f==null?void 0:f.type)==="paragraph"?(f.raw+=`
`+x.raw,f.text+=`
`+x.text,this.inlineQueue.pop(),this.inlineQueue.at(-1).src=f.text):c.push(x),u=b.length!==o.length,o=o.substring(x.raw.length);continue}if(x=this.tokenizer.text(o)){o=o.substring(x.raw.length);const f=c.at(-1);(f==null?void 0:f.type)==="text"?(f.raw+=`
`+x.raw,f.text+=`
`+x.text,this.inlineQueue.pop(),this.inlineQueue.at(-1).src=f.text):c.push(x);continue}if(o){const f="Infinite loop on byte: "+o.charCodeAt(0);if(this.options.silent){console.error(f);break}else throw new Error(f)}}return this.state.top=!0,c}inline(o,c=[]){return this.inlineQueue.push({src:o,tokens:c}),c}inlineTokens(o,c=[]){var x,b,f;let u=o,h=null;if(this.tokens.links){const v=Object.keys(this.tokens.links);if(v.length>0)for(;(h=this.tokenizer.rules.inline.reflinkSearch.exec(u))!=null;)v.includes(h[0].slice(h[0].lastIndexOf("[")+1,-1))&&(u=u.slice(0,h.index)+"["+"a".repeat(h[0].length-2)+"]"+u.slice(this.tokenizer.rules.inline.reflinkSearch.lastIndex))}for(;(h=this.tokenizer.rules.inline.anyPunctuation.exec(u))!=null;)u=u.slice(0,h.index)+"++"+u.slice(this.tokenizer.rules.inline.anyPunctuation.lastIndex);for(;(h=this.tokenizer.rules.inline.blockSkip.exec(u))!=null;)u=u.slice(0,h.index)+"["+"a".repeat(h[0].length-2)+"]"+u.slice(this.tokenizer.rules.inline.blockSkip.lastIndex);let m=!1,g="";for(;o;){m||(g=""),m=!1;let v;if((b=(x=this.options.extensions)==null?void 0:x.inline)!=null&&b.some(M=>(v=M.call({lexer:this},o,c))?(o=o.substring(v.raw.length),c.push(v),!0):!1))continue;if(v=this.tokenizer.escape(o)){o=o.substring(v.raw.length),c.push(v);continue}if(v=this.tokenizer.tag(o)){o=o.substring(v.raw.length),c.push(v);continue}if(v=this.tokenizer.link(o)){o=o.substring(v.raw.length),c.push(v);continue}if(v=this.tokenizer.reflink(o,this.tokens.links)){o=o.substring(v.raw.length);const M=c.at(-1);v.type==="text"&&(M==null?void 0:M.type)==="text"?(M.raw+=v.raw,M.text+=v.text):c.push(v);continue}if(v=this.tokenizer.emStrong(o,u,g)){o=o.substring(v.raw.length),c.push(v);continue}if(v=this.tokenizer.codespan(o)){o=o.substring(v.raw.length),c.push(v);continue}if(v=this.tokenizer.br(o)){o=o.substring(v.raw.length),c.push(v);continue}if(v=this.tokenizer.del(o)){o=o.substring(v.raw.length),c.push(v);continue}if(v=this.tokenizer.autolink(o)){o=o.substring(v.raw.length),c.push(v);continue}if(!this.state.inLink&&(v=this.tokenizer.url(o))){o=o.substring(v.raw.length),c.push(v);continue}let _=o;if((f=this.options.extensions)!=null&&f.startInline){let M=1/0;const j=o.slice(1);let G;this.options.extensions.startInline.forEach(R=>{G=R.call({lexer:this},j),typeof G=="number"&&G>=0&&(M=Math.min(M,G))}),M<1/0&&M>=0&&(_=o.substring(0,M+1))}if(v=this.tokenizer.inlineText(_)){o=o.substring(v.raw.length),v.raw.slice(-1)!=="_"&&(g=v.raw.slice(-1)),m=!0;const M=c.at(-1);(M==null?void 0:M.type)==="text"?(M.raw+=v.raw,M.text+=v.text):c.push(v);continue}if(o){const M="Infinite loop on byte: "+o.charCodeAt(0);if(this.options.silent){console.error(M);break}else throw new Error(M)}}return c}},wo=class{constructor(r){ft(this,"options");ft(this,"parser");this.options=r||_n}space(r){return""}code({text:r,lang:o,escaped:c}){var m;const u=(m=(o||"").match(Wt.notSpaceStart))==null?void 0:m[0],h=r.replace(Wt.endingNewline,"")+`
`;return u?'<pre><code class="language-'+el(u)+'">'+(c?h:el(h,!0))+`</code></pre>
`:"<pre><code>"+(c?h:el(h,!0))+`</code></pre>
`}blockquote({tokens:r}){return`<blockquote>
${this.parser.parse(r)}</blockquote>
`}html({text:r}){return r}heading({tokens:r,depth:o}){return`<h${o}>${this.parser.parseInline(r)}</h${o}>
`}hr(r){return`<hr>
`}list(r){const o=r.ordered,c=r.start;let u="";for(let g=0;g<r.items.length;g++){const x=r.items[g];u+=this.listitem(x)}const h=o?"ol":"ul",m=o&&c!==1?' start="'+c+'"':"";return"<"+h+m+`>
`+u+"</"+h+`>
`}listitem(r){var c;let o="";if(r.task){const u=this.checkbox({checked:!!r.checked});r.loose?((c=r.tokens[0])==null?void 0:c.type)==="paragraph"?(r.tokens[0].text=u+" "+r.tokens[0].text,r.tokens[0].tokens&&r.tokens[0].tokens.length>0&&r.tokens[0].tokens[0].type==="text"&&(r.tokens[0].tokens[0].text=u+" "+el(r.tokens[0].tokens[0].text),r.tokens[0].tokens[0].escaped=!0)):r.tokens.unshift({type:"text",raw:u+" ",text:u+" ",escaped:!0}):o+=u+" "}return o+=this.parser.parse(r.tokens,!!r.loose),`<li>${o}</li>
`}checkbox({checked:r}){return"<input "+(r?'checked="" ':"")+'disabled="" type="checkbox">'}paragraph({tokens:r}){return`<p>${this.parser.parseInline(r)}</p>
`}table(r){let o="",c="";for(let h=0;h<r.header.length;h++)c+=this.tablecell(r.header[h]);o+=this.tablerow({text:c});let u="";for(let h=0;h<r.rows.length;h++){const m=r.rows[h];c="";for(let g=0;g<m.length;g++)c+=this.tablecell(m[g]);u+=this.tablerow({text:c})}return u&&(u=`<tbody>${u}</tbody>`),`<table>
<thead>
`+o+`</thead>
`+u+`</table>
`}tablerow({text:r}){return`<tr>
${r}</tr>
`}tablecell(r){const o=this.parser.parseInline(r.tokens),c=r.header?"th":"td";return(r.align?`<${c} align="${r.align}">`:`<${c}>`)+o+`</${c}>
`}strong({tokens:r}){return`<strong>${this.parser.parseInline(r)}</strong>`}em({tokens:r}){return`<em>${this.parser.parseInline(r)}</em>`}codespan({text:r}){return`<code>${el(r,!0)}</code>`}br(r){return"<br>"}del({tokens:r}){return`<del>${this.parser.parseInline(r)}</del>`}link({href:r,title:o,tokens:c}){const u=this.parser.parseInline(c),h=Ip(r);if(h===null)return u;r=h;let m='<a href="'+r+'"';return o&&(m+=' title="'+el(o)+'"'),m+=">"+u+"</a>",m}image({href:r,title:o,text:c,tokens:u}){u&&(c=this.parser.parseInline(u,this.parser.textRenderer));const h=Ip(r);if(h===null)return el(c);r=h;let m=`<img src="${r}" alt="${c}"`;return o&&(m+=` title="${el(o)}"`),m+=">",m}text(r){return"tokens"in r&&r.tokens?this.parser.parseInline(r.tokens):"escaped"in r&&r.escaped?r.text:el(r.text)}},Dd=class{strong({text:r}){return r}em({text:r}){return r}codespan({text:r}){return r}del({text:r}){return r}html({text:r}){return r}text({text:r}){return r}link({text:r}){return""+r}image({text:r}){return""+r}br(){return""}},Tl=class od{constructor(o){ft(this,"options");ft(this,"renderer");ft(this,"textRenderer");this.options=o||_n,this.options.renderer=this.options.renderer||new wo,this.renderer=this.options.renderer,this.renderer.options=this.options,this.renderer.parser=this,this.textRenderer=new Dd}static parse(o,c){return new od(c).parse(o)}static parseInline(o,c){return new od(c).parseInline(o)}parse(o,c=!0){var h,m;let u="";for(let g=0;g<o.length;g++){const x=o[g];if((m=(h=this.options.extensions)==null?void 0:h.renderers)!=null&&m[x.type]){const f=x,v=this.options.extensions.renderers[f.type].call({parser:this},f);if(v!==!1||!["space","hr","heading","code","table","blockquote","list","html","paragraph","text"].includes(f.type)){u+=v||"";continue}}const b=x;switch(b.type){case"space":{u+=this.renderer.space(b);continue}case"hr":{u+=this.renderer.hr(b);continue}case"heading":{u+=this.renderer.heading(b);continue}case"code":{u+=this.renderer.code(b);continue}case"table":{u+=this.renderer.table(b);continue}case"blockquote":{u+=this.renderer.blockquote(b);continue}case"list":{u+=this.renderer.list(b);continue}case"html":{u+=this.renderer.html(b);continue}case"paragraph":{u+=this.renderer.paragraph(b);continue}case"text":{let f=b,v=this.renderer.text(f);for(;g+1<o.length&&o[g+1].type==="text";)f=o[++g],v+=`
`+this.renderer.text(f);c?u+=this.renderer.paragraph({type:"paragraph",raw:v,text:v,tokens:[{type:"text",raw:v,text:v,escaped:!0}]}):u+=v;continue}default:{const f='Token with "'+b.type+'" type was not found.';if(this.options.silent)return console.error(f),"";throw new Error(f)}}}return u}parseInline(o,c=this.renderer){var h,m;let u="";for(let g=0;g<o.length;g++){const x=o[g];if((m=(h=this.options.extensions)==null?void 0:h.renderers)!=null&&m[x.type]){const f=this.options.extensions.renderers[x.type].call({parser:this},x);if(f!==!1||!["escape","html","link","image","strong","em","codespan","br","del","text"].includes(x.type)){u+=f||"";continue}}const b=x;switch(b.type){case"escape":{u+=c.text(b);break}case"html":{u+=c.html(b);break}case"link":{u+=c.link(b);break}case"image":{u+=c.image(b);break}case"strong":{u+=c.strong(b);break}case"em":{u+=c.em(b);break}case"codespan":{u+=c.codespan(b);break}case"br":{u+=c.br(b);break}case"del":{u+=c.del(b);break}case"text":{u+=c.text(b);break}default:{const f='Token with "'+b.type+'" type was not found.';if(this.options.silent)return console.error(f),"";throw new Error(f)}}}return u}},Wu,fo=(Wu=class{constructor(r){ft(this,"options");ft(this,"block");this.options=r||_n}preprocess(r){return r}postprocess(r){return r}processAllTokens(r){return r}provideLexer(){return this.block?Al.lex:Al.lexInline}provideParser(){return this.block?Tl.parse:Tl.parseInline}},ft(Wu,"passThroughHooks",new Set(["preprocess","postprocess","processAllTokens"])),Wu),_y=class{constructor(...r){ft(this,"defaults",jd());ft(this,"options",this.setOptions);ft(this,"parse",this.parseMarkdown(!0));ft(this,"parseInline",this.parseMarkdown(!1));ft(this,"Parser",Tl);ft(this,"Renderer",wo);ft(this,"TextRenderer",Dd);ft(this,"Lexer",Al);ft(this,"Tokenizer",vo);ft(this,"Hooks",fo);this.use(...r)}walkTokens(r,o){var u,h;let c=[];for(const m of r)switch(c=c.concat(o.call(this,m)),m.type){case"table":{const g=m;for(const x of g.header)c=c.concat(this.walkTokens(x.tokens,o));for(const x of g.rows)for(const b of x)c=c.concat(this.walkTokens(b.tokens,o));break}case"list":{const g=m;c=c.concat(this.walkTokens(g.items,o));break}default:{const g=m;(h=(u=this.defaults.extensions)==null?void 0:u.childTokens)!=null&&h[g.type]?this.defaults.extensions.childTokens[g.type].forEach(x=>{const b=g[x].flat(1/0);c=c.concat(this.walkTokens(b,o))}):g.tokens&&(c=c.concat(this.walkTokens(g.tokens,o)))}}return c}use(...r){const o=this.defaults.extensions||{renderers:{},childTokens:{}};return r.forEach(c=>{const u={...c};if(u.async=this.defaults.async||u.async||!1,c.extensions&&(c.extensions.forEach(h=>{if(!h.name)throw new Error("extension name required");if("renderer"in h){const m=o.renderers[h.name];m?o.renderers[h.name]=function(...g){let x=h.renderer.apply(this,g);return x===!1&&(x=m.apply(this,g)),x}:o.renderers[h.name]=h.renderer}if("tokenizer"in h){if(!h.level||h.level!=="block"&&h.level!=="inline")throw new Error("extension level must be 'block' or 'inline'");const m=o[h.level];m?m.unshift(h.tokenizer):o[h.level]=[h.tokenizer],h.start&&(h.level==="block"?o.startBlock?o.startBlock.push(h.start):o.startBlock=[h.start]:h.level==="inline"&&(o.startInline?o.startInline.push(h.start):o.startInline=[h.start]))}"childTokens"in h&&h.childTokens&&(o.childTokens[h.name]=h.childTokens)}),u.extensions=o),c.renderer){const h=this.defaults.renderer||new wo(this.defaults);for(const m in c.renderer){if(!(m in h))throw new Error(`renderer '${m}' does not exist`);if(["options","parser"].includes(m))continue;const g=m,x=c.renderer[g],b=h[g];h[g]=(...f)=>{let v=x.apply(h,f);return v===!1&&(v=b.apply(h,f)),v||""}}u.renderer=h}if(c.tokenizer){const h=this.defaults.tokenizer||new vo(this.defaults);for(const m in c.tokenizer){if(!(m in h))throw new Error(`tokenizer '${m}' does not exist`);if(["options","rules","lexer"].includes(m))continue;const g=m,x=c.tokenizer[g],b=h[g];h[g]=(...f)=>{let v=x.apply(h,f);return v===!1&&(v=b.apply(h,f)),v}}u.tokenizer=h}if(c.hooks){const h=this.defaults.hooks||new fo;for(const m in c.hooks){if(!(m in h))throw new Error(`hook '${m}' does not exist`);if(["options","block"].includes(m))continue;const g=m,x=c.hooks[g],b=h[g];fo.passThroughHooks.has(m)?h[g]=f=>{if(this.defaults.async)return Promise.resolve(x.call(h,f)).then(_=>b.call(h,_));const v=x.call(h,f);return b.call(h,v)}:h[g]=(...f)=>{let v=x.apply(h,f);return v===!1&&(v=b.apply(h,f)),v}}u.hooks=h}if(c.walkTokens){const h=this.defaults.walkTokens,m=c.walkTokens;u.walkTokens=function(g){let x=[];return x.push(m.call(this,g)),h&&(x=x.concat(h.call(this,g))),x}}this.defaults={...this.defaults,...u}}),this}setOptions(r){return this.defaults={...this.defaults,...r},this}lexer(r,o){return Al.lex(r,o??this.defaults)}parser(r,o){return Tl.parse(r,o??this.defaults)}parseMarkdown(r){return(c,u)=>{const h={...u},m={...this.defaults,...h},g=this.onError(!!m.silent,!!m.async);if(this.defaults.async===!0&&h.async===!1)return g(new Error("marked(): The async option was set to true by an extension. Remove async: false from the parse options object to return a Promise."));if(typeof c>"u"||c===null)return g(new Error("marked(): input parameter is undefined or null"));if(typeof c!="string")return g(new Error("marked(): input parameter is of type "+Object.prototype.toString.call(c)+", string expected"));m.hooks&&(m.hooks.options=m,m.hooks.block=r);const x=m.hooks?m.hooks.provideLexer():r?Al.lex:Al.lexInline,b=m.hooks?m.hooks.provideParser():r?Tl.parse:Tl.parseInline;if(m.async)return Promise.resolve(m.hooks?m.hooks.preprocess(c):c).then(f=>x(f,m)).then(f=>m.hooks?m.hooks.processAllTokens(f):f).then(f=>m.walkTokens?Promise.all(this.walkTokens(f,m.walkTokens)).then(()=>f):f).then(f=>b(f,m)).then(f=>m.hooks?m.hooks.postprocess(f):f).catch(g);try{m.hooks&&(c=m.hooks.preprocess(c));let f=x(c,m);m.hooks&&(f=m.hooks.processAllTokens(f)),m.walkTokens&&this.walkTokens(f,m.walkTokens);let v=b(f,m);return m.hooks&&(v=m.hooks.postprocess(v)),v}catch(f){return g(f)}}}onError(r,o){return c=>{if(c.message+=`
Please report this to https://github.com/markedjs/marked.`,r){const u="<p>An error occurred:</p><pre>"+el(c.message+"",!0)+"</pre>";return o?Promise.resolve(u):u}if(o)return Promise.reject(c);throw c}}},Tn=new _y;function it(r,o){return Tn.parse(r,o)}it.options=it.setOptions=function(r){return Tn.setOptions(r),it.defaults=Tn.defaults,kx(it.defaults),it};it.getDefaults=jd;it.defaults=_n;it.use=function(...r){return Tn.use(...r),it.defaults=Tn.defaults,kx(it.defaults),it};it.walkTokens=function(r,o){return Tn.walkTokens(r,o)};it.parseInline=Tn.parseInline;it.Parser=Tl;it.parser=Tl.parse;it.Renderer=wo;it.TextRenderer=Dd;it.Lexer=Al;it.lexer=Al.lex;it.Tokenizer=vo;it.Hooks=fo;it.parse=it;it.options;it.setOptions;it.use;it.walkTokens;it.parseInline;Tl.parse;Al.lex;/*! @license DOMPurify 3.3.0 | (c) Cure53 and other contributors | Released under the Apache license 2.0 and Mozilla Public License 2.0 | github.com/cure53/DOMPurify/blob/3.3.0/LICENSE */const{entries:Lx,setPrototypeOf:Xp,isFrozen:Dy,getPrototypeOf:My,getOwnPropertyDescriptor:Ry}=Object;let{freeze:ea,seal:Ua,create:cd}=Object,{apply:ud,construct:dd}=typeof Reflect<"u"&&Reflect;ea||(ea=function(o){return o});Ua||(Ua=function(o){return o});ud||(ud=function(o,c){for(var u=arguments.length,h=new Array(u>2?u-2:0),m=2;m<u;m++)h[m-2]=arguments[m];return o.apply(c,h)});dd||(dd=function(o){for(var c=arguments.length,u=new Array(c>1?c-1:0),h=1;h<c;h++)u[h-1]=arguments[h];return new o(...u)});const so=ta(Array.prototype.forEach),Oy=ta(Array.prototype.lastIndexOf),Qp=ta(Array.prototype.pop),vi=ta(Array.prototype.push),zy=ta(Array.prototype.splice),po=ta(String.prototype.toLowerCase),qu=ta(String.prototype.toString),Iu=ta(String.prototype.match),wi=ta(String.prototype.replace),Ly=ta(String.prototype.indexOf),Uy=ta(String.prototype.trim),Ia=ta(Object.prototype.hasOwnProperty),Pt=ta(RegExp.prototype.test),Ni=By(TypeError);function ta(r){return function(o){o instanceof RegExp&&(o.lastIndex=0);for(var c=arguments.length,u=new Array(c>1?c-1:0),h=1;h<c;h++)u[h-1]=arguments[h];return ud(r,o,u)}}function By(r){return function(){for(var o=arguments.length,c=new Array(o),u=0;u<o;u++)c[u]=arguments[u];return dd(r,c)}}function Pe(r,o){let c=arguments.length>2&&arguments[2]!==void 0?arguments[2]:po;Xp&&Xp(r,null);let u=o.length;for(;u--;){let h=o[u];if(typeof h=="string"){const m=c(h);m!==h&&(Dy(o)||(o[u]=m),h=m)}r[h]=!0}return r}function $y(r){for(let o=0;o<r.length;o++)Ia(r,o)||(r[o]=null);return r}function kl(r){const o=cd(null);for(const[c,u]of Lx(r))Ia(r,c)&&(Array.isArray(u)?o[c]=$y(u):u&&typeof u=="object"&&u.constructor===Object?o[c]=kl(u):o[c]=u);return o}function ji(r,o){for(;r!==null;){const u=Ry(r,o);if(u){if(u.get)return ta(u.get);if(typeof u.value=="function")return ta(u.value)}r=My(r)}function c(){return null}return c}const Zp=ea(["a","abbr","acronym","address","area","article","aside","audio","b","bdi","bdo","big","blink","blockquote","body","br","button","canvas","caption","center","cite","code","col","colgroup","content","data","datalist","dd","decorator","del","details","dfn","dialog","dir","div","dl","dt","element","em","fieldset","figcaption","figure","font","footer","form","h1","h2","h3","h4","h5","h6","head","header","hgroup","hr","html","i","img","input","ins","kbd","label","legend","li","main","map","mark","marquee","menu","menuitem","meter","nav","nobr","ol","optgroup","option","output","p","picture","pre","progress","q","rp","rt","ruby","s","samp","search","section","select","shadow","slot","small","source","spacer","span","strike","strong","style","sub","summary","sup","table","tbody","td","template","textarea","tfoot","th","thead","time","tr","track","tt","u","ul","var","video","wbr"]),Yu=ea(["svg","a","altglyph","altglyphdef","altglyphitem","animatecolor","animatemotion","animatetransform","circle","clippath","defs","desc","ellipse","enterkeyhint","exportparts","filter","font","g","glyph","glyphref","hkern","image","inputmode","line","lineargradient","marker","mask","metadata","mpath","part","path","pattern","polygon","polyline","radialgradient","rect","stop","style","switch","symbol","text","textpath","title","tref","tspan","view","vkern"]),Vu=ea(["feBlend","feColorMatrix","feComponentTransfer","feComposite","feConvolveMatrix","feDiffuseLighting","feDisplacementMap","feDistantLight","feDropShadow","feFlood","feFuncA","feFuncB","feFuncG","feFuncR","feGaussianBlur","feImage","feMerge","feMergeNode","feMorphology","feOffset","fePointLight","feSpecularLighting","feSpotLight","feTile","feTurbulence"]),Hy=ea(["animate","color-profile","cursor","discard","font-face","font-face-format","font-face-name","font-face-src","font-face-uri","foreignobject","hatch","hatchpath","mesh","meshgradient","meshpatch","meshrow","missing-glyph","script","set","solidcolor","unknown","use"]),Xu=ea(["math","menclose","merror","mfenced","mfrac","mglyph","mi","mlabeledtr","mmultiscripts","mn","mo","mover","mpadded","mphantom","mroot","mrow","ms","mspace","msqrt","mstyle","msub","msup","msubsup","mtable","mtd","mtext","mtr","munder","munderover","mprescripts"]),Gy=ea(["maction","maligngroup","malignmark","mlongdiv","mscarries","mscarry","msgroup","mstack","msline","msrow","semantics","annotation","annotation-xml","mprescripts","none"]),Kp=ea(["#text"]),Pp=ea(["accept","action","align","alt","autocapitalize","autocomplete","autopictureinpicture","autoplay","background","bgcolor","border","capture","cellpadding","cellspacing","checked","cite","class","clear","color","cols","colspan","controls","controlslist","coords","crossorigin","datetime","decoding","default","dir","disabled","disablepictureinpicture","disableremoteplayback","download","draggable","enctype","enterkeyhint","exportparts","face","for","headers","height","hidden","high","href","hreflang","id","inert","inputmode","integrity","ismap","kind","label","lang","list","loading","loop","low","max","maxlength","media","method","min","minlength","multiple","muted","name","nonce","noshade","novalidate","nowrap","open","optimum","part","pattern","placeholder","playsinline","popover","popovertarget","popovertargetaction","poster","preload","pubdate","radiogroup","readonly","rel","required","rev","reversed","role","rows","rowspan","spellcheck","scope","selected","shape","size","sizes","slot","span","srclang","start","src","srcset","step","style","summary","tabindex","title","translate","type","usemap","valign","value","width","wrap","xmlns","slot"]),Qu=ea(["accent-height","accumulate","additive","alignment-baseline","amplitude","ascent","attributename","attributetype","azimuth","basefrequency","baseline-shift","begin","bias","by","class","clip","clippathunits","clip-path","clip-rule","color","color-interpolation","color-interpolation-filters","color-profile","color-rendering","cx","cy","d","dx","dy","diffuseconstant","direction","display","divisor","dur","edgemode","elevation","end","exponent","fill","fill-opacity","fill-rule","filter","filterunits","flood-color","flood-opacity","font-family","font-size","font-size-adjust","font-stretch","font-style","font-variant","font-weight","fx","fy","g1","g2","glyph-name","glyphref","gradientunits","gradienttransform","height","href","id","image-rendering","in","in2","intercept","k","k1","k2","k3","k4","kerning","keypoints","keysplines","keytimes","lang","lengthadjust","letter-spacing","kernelmatrix","kernelunitlength","lighting-color","local","marker-end","marker-mid","marker-start","markerheight","markerunits","markerwidth","maskcontentunits","maskunits","max","mask","mask-type","media","method","mode","min","name","numoctaves","offset","operator","opacity","order","orient","orientation","origin","overflow","paint-order","path","pathlength","patterncontentunits","patterntransform","patternunits","points","preservealpha","preserveaspectratio","primitiveunits","r","rx","ry","radius","refx","refy","repeatcount","repeatdur","restart","result","rotate","scale","seed","shape-rendering","slope","specularconstant","specularexponent","spreadmethod","startoffset","stddeviation","stitchtiles","stop-color","stop-opacity","stroke-dasharray","stroke-dashoffset","stroke-linecap","stroke-linejoin","stroke-miterlimit","stroke-opacity","stroke","stroke-width","style","surfacescale","systemlanguage","tabindex","tablevalues","targetx","targety","transform","transform-origin","text-anchor","text-decoration","text-rendering","textlength","type","u1","u2","unicode","values","viewbox","visibility","version","vert-adv-y","vert-origin-x","vert-origin-y","width","word-spacing","wrap","writing-mode","xchannelselector","ychannelselector","x","x1","x2","xmlns","y","y1","y2","z","zoomandpan"]),Jp=ea(["accent","accentunder","align","bevelled","close","columnsalign","columnlines","columnspan","denomalign","depth","dir","display","displaystyle","encoding","fence","frame","height","href","id","largeop","length","linethickness","lspace","lquote","mathbackground","mathcolor","mathsize","mathvariant","maxsize","minsize","movablelimits","notation","numalign","open","rowalign","rowlines","rowspacing","rowspan","rspace","rquote","scriptlevel","scriptminsize","scriptsizemultiplier","selection","separator","separators","stretchy","subscriptshift","supscriptshift","symmetric","voffset","width","xmlns"]),io=ea(["xlink:href","xml:id","xlink:title","xml:space","xmlns:xlink"]),qy=Ua(/\{\{[\w\W]*|[\w\W]*\}\}/gm),Iy=Ua(/<%[\w\W]*|[\w\W]*%>/gm),Yy=Ua(/\$\{[\w\W]*/gm),Vy=Ua(/^data-[\-\w.\u00B7-\uFFFF]+$/),Xy=Ua(/^aria-[\-\w]+$/),Ux=Ua(/^(?:(?:(?:f|ht)tps?|mailto|tel|callto|sms|cid|xmpp|matrix):|[^a-z]|[a-z+.\-]+(?:[^a-z+.\-:]|$))/i),Qy=Ua(/^(?:\w+script|data):/i),Zy=Ua(/[\u0000-\u0020\u00A0\u1680\u180E\u2000-\u2029\u205F\u3000]/g),Bx=Ua(/^html$/i),Ky=Ua(/^[a-z][.\w]*(-[.\w]+)+$/i);var Wp=Object.freeze({__proto__:null,ARIA_ATTR:Xy,ATTR_WHITESPACE:Zy,CUSTOM_ELEMENT:Ky,DATA_ATTR:Vy,DOCTYPE_NAME:Bx,ERB_EXPR:Iy,IS_ALLOWED_URI:Ux,IS_SCRIPT_OR_DATA:Qy,MUSTACHE_EXPR:qy,TMPLIT_EXPR:Yy});const Si={element:1,text:3,progressingInstruction:7,comment:8,document:9},Py=function(){return typeof window>"u"?null:window},Jy=function(o,c){if(typeof o!="object"||typeof o.createPolicy!="function")return null;let u=null;const h="data-tt-policy-suffix";c&&c.hasAttribute(h)&&(u=c.getAttribute(h));const m="dompurify"+(u?"#"+u:"");try{return o.createPolicy(m,{createHTML(g){return g},createScriptURL(g){return g}})}catch{return console.warn("TrustedTypes policy "+m+" could not be created."),null}},Fp=function(){return{afterSanitizeAttributes:[],afterSanitizeElements:[],afterSanitizeShadowDOM:[],beforeSanitizeAttributes:[],beforeSanitizeElements:[],beforeSanitizeShadowDOM:[],uponSanitizeAttribute:[],uponSanitizeElement:[],uponSanitizeShadowNode:[]}};function $x(){let r=arguments.length>0&&arguments[0]!==void 0?arguments[0]:Py();const o=Ee=>$x(Ee);if(o.version="3.3.0",o.removed=[],!r||!r.document||r.document.nodeType!==Si.document||!r.Element)return o.isSupported=!1,o;let{document:c}=r;const u=c,h=u.currentScript,{DocumentFragment:m,HTMLTemplateElement:g,Node:x,Element:b,NodeFilter:f,NamedNodeMap:v=r.NamedNodeMap||r.MozNamedAttrMap,HTMLFormElement:_,DOMParser:M,trustedTypes:j}=r,G=b.prototype,R=ji(G,"cloneNode"),ee=ji(G,"remove"),oe=ji(G,"nextSibling"),ge=ji(G,"childNodes"),be=ji(G,"parentNode");if(typeof g=="function"){const Ee=c.createElement("template");Ee.content&&Ee.content.ownerDocument&&(c=Ee.content.ownerDocument)}let ye,le="";const{implementation:$,createNodeIterator:U,createDocumentFragment:ue,getElementsByTagName:ve}=c,{importNode:P}=u;let te=Fp();o.isSupported=typeof Lx=="function"&&typeof be=="function"&&$&&$.createHTMLDocument!==void 0;const{MUSTACHE_EXPR:Ne,ERB_EXPR:xe,TMPLIT_EXPR:W,DATA_ATTR:A,ARIA_ATTR:D,IS_SCRIPT_OR_DATA:Z,ATTR_WHITESPACE:he,CUSTOM_ELEMENT:Oe}=Wp;let{IS_ALLOWED_URI:ze}=Wp,y=null;const q=Pe({},[...Zp,...Yu,...Vu,...Xu,...Kp]);let I=null;const ne=Pe({},[...Pp,...Qu,...Jp,...io]);let Q=Object.seal(cd(null,{tagNameCheck:{writable:!0,configurable:!1,enumerable:!0,value:null},attributeNameCheck:{writable:!0,configurable:!1,enumerable:!0,value:null},allowCustomizedBuiltInElements:{writable:!0,configurable:!1,enumerable:!0,value:!1}})),k=null,X=null;const se=Object.seal(cd(null,{tagCheck:{writable:!0,configurable:!1,enumerable:!0,value:null},attributeCheck:{writable:!0,configurable:!1,enumerable:!0,value:null}}));let je=!0,N=!0,re=!1,ce=!0,pe=!1,Me=!0,qe=!1,yt=!1,Be=!1,vt=!1,At=!1,C=!1,Se=!0,Te=!1;const _e="user-content-";let fe=!0,Fe=!1,He={},H=null;const Ue=Pe({},["annotation-xml","audio","colgroup","desc","foreignobject","head","iframe","math","mi","mn","mo","ms","mtext","noembed","noframes","noscript","plaintext","script","style","svg","template","thead","title","video","xmp"]);let Xe=null;const Ut=Pe({},["audio","video","img","source","image","track"]);let K=null;const V=Pe({},["alt","class","for","id","label","name","pattern","placeholder","role","summary","title","value","style","xmlns"]),De="http://www.w3.org/1998/Math/MathML",Ie="http://www.w3.org/2000/svg",Qe="http://www.w3.org/1999/xhtml";let me=Qe,wt=!1,Qt=null;const vs=Pe({},[De,Ie,Qe],qu);let ll=Pe({},["mi","mo","mn","ms","mtext"]),nl=Pe({},["annotation-xml"]);const Dn=Pe({},["title","style","font","a","script"]);let ua=null;const Mn=["application/xhtml+xml","text/html"],on="text/html";let Dt=null,sl=null;const ws=c.createElement("form"),_l=function(T){return T instanceof RegExp||T instanceof Function},Ns=function(){let T=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};if(!(sl&&sl===T)){if((!T||typeof T!="object")&&(T={}),T=kl(T),ua=Mn.indexOf(T.PARSER_MEDIA_TYPE)===-1?on:T.PARSER_MEDIA_TYPE,Dt=ua==="application/xhtml+xml"?qu:po,y=Ia(T,"ALLOWED_TAGS")?Pe({},T.ALLOWED_TAGS,Dt):q,I=Ia(T,"ALLOWED_ATTR")?Pe({},T.ALLOWED_ATTR,Dt):ne,Qt=Ia(T,"ALLOWED_NAMESPACES")?Pe({},T.ALLOWED_NAMESPACES,qu):vs,K=Ia(T,"ADD_URI_SAFE_ATTR")?Pe(kl(V),T.ADD_URI_SAFE_ATTR,Dt):V,Xe=Ia(T,"ADD_DATA_URI_TAGS")?Pe(kl(Ut),T.ADD_DATA_URI_TAGS,Dt):Ut,H=Ia(T,"FORBID_CONTENTS")?Pe({},T.FORBID_CONTENTS,Dt):Ue,k=Ia(T,"FORBID_TAGS")?Pe({},T.FORBID_TAGS,Dt):kl({}),X=Ia(T,"FORBID_ATTR")?Pe({},T.FORBID_ATTR,Dt):kl({}),He=Ia(T,"USE_PROFILES")?T.USE_PROFILES:!1,je=T.ALLOW_ARIA_ATTR!==!1,N=T.ALLOW_DATA_ATTR!==!1,re=T.ALLOW_UNKNOWN_PROTOCOLS||!1,ce=T.ALLOW_SELF_CLOSE_IN_ATTR!==!1,pe=T.SAFE_FOR_TEMPLATES||!1,Me=T.SAFE_FOR_XML!==!1,qe=T.WHOLE_DOCUMENT||!1,vt=T.RETURN_DOM||!1,At=T.RETURN_DOM_FRAGMENT||!1,C=T.RETURN_TRUSTED_TYPE||!1,Be=T.FORCE_BODY||!1,Se=T.SANITIZE_DOM!==!1,Te=T.SANITIZE_NAMED_PROPS||!1,fe=T.KEEP_CONTENT!==!1,Fe=T.IN_PLACE||!1,ze=T.ALLOWED_URI_REGEXP||Ux,me=T.NAMESPACE||Qe,ll=T.MATHML_TEXT_INTEGRATION_POINTS||ll,nl=T.HTML_INTEGRATION_POINTS||nl,Q=T.CUSTOM_ELEMENT_HANDLING||{},T.CUSTOM_ELEMENT_HANDLING&&_l(T.CUSTOM_ELEMENT_HANDLING.tagNameCheck)&&(Q.tagNameCheck=T.CUSTOM_ELEMENT_HANDLING.tagNameCheck),T.CUSTOM_ELEMENT_HANDLING&&_l(T.CUSTOM_ELEMENT_HANDLING.attributeNameCheck)&&(Q.attributeNameCheck=T.CUSTOM_ELEMENT_HANDLING.attributeNameCheck),T.CUSTOM_ELEMENT_HANDLING&&typeof T.CUSTOM_ELEMENT_HANDLING.allowCustomizedBuiltInElements=="boolean"&&(Q.allowCustomizedBuiltInElements=T.CUSTOM_ELEMENT_HANDLING.allowCustomizedBuiltInElements),pe&&(N=!1),At&&(vt=!0),He&&(y=Pe({},Kp),I=[],He.html===!0&&(Pe(y,Zp),Pe(I,Pp)),He.svg===!0&&(Pe(y,Yu),Pe(I,Qu),Pe(I,io)),He.svgFilters===!0&&(Pe(y,Vu),Pe(I,Qu),Pe(I,io)),He.mathMl===!0&&(Pe(y,Xu),Pe(I,Jp),Pe(I,io))),T.ADD_TAGS&&(typeof T.ADD_TAGS=="function"?se.tagCheck=T.ADD_TAGS:(y===q&&(y=kl(y)),Pe(y,T.ADD_TAGS,Dt))),T.ADD_ATTR&&(typeof T.ADD_ATTR=="function"?se.attributeCheck=T.ADD_ATTR:(I===ne&&(I=kl(I)),Pe(I,T.ADD_ATTR,Dt))),T.ADD_URI_SAFE_ATTR&&Pe(K,T.ADD_URI_SAFE_ATTR,Dt),T.FORBID_CONTENTS&&(H===Ue&&(H=kl(H)),Pe(H,T.FORBID_CONTENTS,Dt)),fe&&(y["#text"]=!0),qe&&Pe(y,["html","head","body"]),y.table&&(Pe(y,["tbody"]),delete k.tbody),T.TRUSTED_TYPES_POLICY){if(typeof T.TRUSTED_TYPES_POLICY.createHTML!="function")throw Ni('TRUSTED_TYPES_POLICY configuration option must provide a "createHTML" hook.');if(typeof T.TRUSTED_TYPES_POLICY.createScriptURL!="function")throw Ni('TRUSTED_TYPES_POLICY configuration option must provide a "createScriptURL" hook.');ye=T.TRUSTED_TYPES_POLICY,le=ye.createHTML("")}else ye===void 0&&(ye=Jy(j,h)),ye!==null&&typeof le=="string"&&(le=ye.createHTML(""));ea&&ea(T),sl=T}},js=Pe({},[...Yu,...Vu,...Hy]),Ss=Pe({},[...Xu,...Gy]),$i=function(T){let de=be(T);(!de||!de.tagName)&&(de={namespaceURI:me,tagName:"template"});const ke=po(T.tagName),st=po(de.tagName);return Qt[T.namespaceURI]?T.namespaceURI===Ie?de.namespaceURI===Qe?ke==="svg":de.namespaceURI===De?ke==="svg"&&(st==="annotation-xml"||ll[st]):!!js[ke]:T.namespaceURI===De?de.namespaceURI===Qe?ke==="math":de.namespaceURI===Ie?ke==="math"&&nl[st]:!!Ss[ke]:T.namespaceURI===Qe?de.namespaceURI===Ie&&!nl[st]||de.namespaceURI===De&&!ll[st]?!1:!Ss[ke]&&(Dn[ke]||!js[ke]):!!(ua==="application/xhtml+xml"&&Qt[T.namespaceURI]):!1},aa=function(T){vi(o.removed,{element:T});try{be(T).removeChild(T)}catch{ee(T)}},$a=function(T,de){try{vi(o.removed,{attribute:de.getAttributeNode(T),from:de})}catch{vi(o.removed,{attribute:null,from:de})}if(de.removeAttribute(T),T==="is")if(vt||At)try{aa(de)}catch{}else try{de.setAttribute(T,"")}catch{}},ks=function(T){let de=null,ke=null;if(Be)T="<remove></remove>"+T;else{const Ve=Iu(T,/^[\r\n\t ]+/);ke=Ve&&Ve[0]}ua==="application/xhtml+xml"&&me===Qe&&(T='<html xmlns="http://www.w3.org/1999/xhtml"><head></head><body>'+T+"</body></html>");const st=ye?ye.createHTML(T):T;if(me===Qe)try{de=new M().parseFromString(st,ua)}catch{}if(!de||!de.documentElement){de=$.createDocument(me,"template",null);try{de.documentElement.innerHTML=wt?le:st}catch{}}const kt=de.body||de.documentElement;return T&&ke&&kt.insertBefore(c.createTextNode(ke),kt.childNodes[0]||null),me===Qe?ve.call(de,qe?"html":"body")[0]:qe?de.documentElement:kt},As=function(T){return U.call(T.ownerDocument||T,T,f.SHOW_ELEMENT|f.SHOW_COMMENT|f.SHOW_TEXT|f.SHOW_PROCESSING_INSTRUCTION|f.SHOW_CDATA_SECTION,null)},ja=function(T){return T instanceof _&&(typeof T.nodeName!="string"||typeof T.textContent!="string"||typeof T.removeChild!="function"||!(T.attributes instanceof v)||typeof T.removeAttribute!="function"||typeof T.setAttribute!="function"||typeof T.namespaceURI!="string"||typeof T.insertBefore!="function"||typeof T.hasChildNodes!="function")},Mt=function(T){return typeof x=="function"&&T instanceof x};function Nt(Ee,T,de){so(Ee,ke=>{ke.call(o,T,de,sl)})}const il=function(T){let de=null;if(Nt(te.beforeSanitizeElements,T,null),ja(T))return aa(T),!0;const ke=Dt(T.nodeName);if(Nt(te.uponSanitizeElement,T,{tagName:ke,allowedTags:y}),Me&&T.hasChildNodes()&&!Mt(T.firstElementChild)&&Pt(/<[/\w!]/g,T.innerHTML)&&Pt(/<[/\w!]/g,T.textContent)||T.nodeType===Si.progressingInstruction||Me&&T.nodeType===Si.comment&&Pt(/<[/\w]/g,T.data))return aa(T),!0;if(!(se.tagCheck instanceof Function&&se.tagCheck(ke))&&(!y[ke]||k[ke])){if(!k[ke]&&Hi(ke)&&(Q.tagNameCheck instanceof RegExp&&Pt(Q.tagNameCheck,ke)||Q.tagNameCheck instanceof Function&&Q.tagNameCheck(ke)))return!1;if(fe&&!H[ke]){const st=be(T)||T.parentNode,kt=ge(T)||T.childNodes;if(kt&&st){const Ve=kt.length;for(let qt=Ve-1;qt>=0;--qt){const Sa=R(kt[qt],!0);Sa.__removalCount=(T.__removalCount||0)+1,st.insertBefore(Sa,oe(T))}}}return aa(T),!0}return T instanceof b&&!$i(T)||(ke==="noscript"||ke==="noembed"||ke==="noframes")&&Pt(/<\/no(script|embed|frames)/i,T.innerHTML)?(aa(T),!0):(pe&&T.nodeType===Si.text&&(de=T.textContent,so([Ne,xe,W],st=>{de=wi(de,st," ")}),T.textContent!==de&&(vi(o.removed,{element:T.cloneNode()}),T.textContent=de)),Nt(te.afterSanitizeElements,T,null),!1)},Rn=function(T,de,ke){if(Se&&(de==="id"||de==="name")&&(ke in c||ke in ws))return!1;if(!(N&&!X[de]&&Pt(A,de))){if(!(je&&Pt(D,de))){if(!(se.attributeCheck instanceof Function&&se.attributeCheck(de,T))){if(!I[de]||X[de]){if(!(Hi(T)&&(Q.tagNameCheck instanceof RegExp&&Pt(Q.tagNameCheck,T)||Q.tagNameCheck instanceof Function&&Q.tagNameCheck(T))&&(Q.attributeNameCheck instanceof RegExp&&Pt(Q.attributeNameCheck,de)||Q.attributeNameCheck instanceof Function&&Q.attributeNameCheck(de,T))||de==="is"&&Q.allowCustomizedBuiltInElements&&(Q.tagNameCheck instanceof RegExp&&Pt(Q.tagNameCheck,ke)||Q.tagNameCheck instanceof Function&&Q.tagNameCheck(ke))))return!1}else if(!K[de]){if(!Pt(ze,wi(ke,he,""))){if(!((de==="src"||de==="xlink:href"||de==="href")&&T!=="script"&&Ly(ke,"data:")===0&&Xe[T])){if(!(re&&!Pt(Z,wi(ke,he,"")))){if(ke)return!1}}}}}}}return!0},Hi=function(T){return T!=="annotation-xml"&&Iu(T,Oe)},Gi=function(T){Nt(te.beforeSanitizeAttributes,T,null);const{attributes:de}=T;if(!de||ja(T))return;const ke={attrName:"",attrValue:"",keepAttr:!0,allowedAttributes:I,forceKeepAttr:void 0};let st=de.length;for(;st--;){const kt=de[st],{name:Ve,namespaceURI:qt,value:Sa}=kt,la=Dt(Ve),Za=Sa;let Bt=Ve==="value"?Za:Uy(Za);if(ke.attrName=la,ke.attrValue=Bt,ke.keepAttr=!0,ke.forceKeepAttr=void 0,Nt(te.uponSanitizeAttribute,T,ke),Bt=ke.attrValue,Te&&(la==="id"||la==="name")&&($a(Ve,T),Bt=_e+Bt),Me&&Pt(/((--!?|])>)|<\/(style|title|textarea)/i,Bt)){$a(Ve,T);continue}if(la==="attributename"&&Iu(Bt,"href")){$a(Ve,T);continue}if(ke.forceKeepAttr)continue;if(!ke.keepAttr){$a(Ve,T);continue}if(!ce&&Pt(/\/>/i,Bt)){$a(Ve,T);continue}pe&&so([Ne,xe,W],Es=>{Bt=wi(Bt,Es," ")});const Ts=Dt(T.nodeName);if(!Rn(Ts,la,Bt)){$a(Ve,T);continue}if(ye&&typeof j=="object"&&typeof j.getAttributeType=="function"&&!qt)switch(j.getAttributeType(Ts,la)){case"TrustedHTML":{Bt=ye.createHTML(Bt);break}case"TrustedScriptURL":{Bt=ye.createScriptURL(Bt);break}}if(Bt!==Za)try{qt?T.setAttributeNS(qt,Ve,Bt):T.setAttribute(Ve,Bt),ja(T)?aa(T):Qp(o.removed)}catch{$a(Ve,T)}}Nt(te.afterSanitizeAttributes,T,null)},qi=function Ee(T){let de=null;const ke=As(T);for(Nt(te.beforeSanitizeShadowDOM,T,null);de=ke.nextNode();)Nt(te.uponSanitizeShadowNode,de,null),il(de),Gi(de),de.content instanceof m&&Ee(de.content);Nt(te.afterSanitizeShadowDOM,T,null)};return o.sanitize=function(Ee){let T=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},de=null,ke=null,st=null,kt=null;if(wt=!Ee,wt&&(Ee="<!-->"),typeof Ee!="string"&&!Mt(Ee))if(typeof Ee.toString=="function"){if(Ee=Ee.toString(),typeof Ee!="string")throw Ni("dirty is not a string, aborting")}else throw Ni("toString is not a function");if(!o.isSupported)return Ee;if(yt||Ns(T),o.removed=[],typeof Ee=="string"&&(Fe=!1),Fe){if(Ee.nodeName){const Sa=Dt(Ee.nodeName);if(!y[Sa]||k[Sa])throw Ni("root node is forbidden and cannot be sanitized in-place")}}else if(Ee instanceof x)de=ks("<!---->"),ke=de.ownerDocument.importNode(Ee,!0),ke.nodeType===Si.element&&ke.nodeName==="BODY"||ke.nodeName==="HTML"?de=ke:de.appendChild(ke);else{if(!vt&&!pe&&!qe&&Ee.indexOf("<")===-1)return ye&&C?ye.createHTML(Ee):Ee;if(de=ks(Ee),!de)return vt?null:C?le:""}de&&Be&&aa(de.firstChild);const Ve=As(Fe?Ee:de);for(;st=Ve.nextNode();)il(st),Gi(st),st.content instanceof m&&qi(st.content);if(Fe)return Ee;if(vt){if(At)for(kt=ue.call(de.ownerDocument);de.firstChild;)kt.appendChild(de.firstChild);else kt=de;return(I.shadowroot||I.shadowrootmode)&&(kt=P.call(u,kt,!0)),kt}let qt=qe?de.outerHTML:de.innerHTML;return qe&&y["!doctype"]&&de.ownerDocument&&de.ownerDocument.doctype&&de.ownerDocument.doctype.name&&Pt(Bx,de.ownerDocument.doctype.name)&&(qt="<!DOCTYPE "+de.ownerDocument.doctype.name+`>
`+qt),pe&&so([Ne,xe,W],Sa=>{qt=wi(qt,Sa," ")}),ye&&C?ye.createHTML(qt):qt},o.setConfig=function(){let Ee=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};Ns(Ee),yt=!0},o.clearConfig=function(){sl=null,yt=!1},o.isValidAttribute=function(Ee,T,de){sl||Ns({});const ke=Dt(Ee),st=Dt(T);return Rn(ke,st,de)},o.addHook=function(Ee,T){typeof T=="function"&&vi(te[Ee],T)},o.removeHook=function(Ee,T){if(T!==void 0){const de=Oy(te[Ee],T);return de===-1?void 0:zy(te[Ee],de,1)[0]}return Qp(te[Ee])},o.removeHooks=function(Ee){te[Ee]=[]},o.removeAllHooks=function(){te=Fp()},o}var Wy=$x();const Fy={NOTE:"Note",TIP:"Tip",WARN:"Warning",WARNING:"Warning",DANGER:"Danger",INFO:"Info",SUCCESS:"Success"};it.setOptions({gfm:!0,breaks:!0,smartLists:!0});const e1=r=>r.replace(/<blockquote>\s*<p>\[!(\w+)\]\s*([^<]*)<\/p>\s*([\s\S]*?)<\/blockquote>/gim,(o,c,u,h)=>{const m=Fy[c.toUpperCase()]||c,g=`${u}${h}`.trim();return`
      <div class="admonition admonition-${c.toLowerCase()}">
        <div class="admonition-title">${m}</div>
        <div class="admonition-body">${g}</div>
      </div>
    `}),t1=r=>r.replace(/\[ACTION:[^\]]+\]/g,"").trim(),Hx=(r="")=>{const o=t1(r),c=it.parse(o),u=e1(c);return Wy.sanitize(u)},bt=({content:r,className:o})=>r?l.jsx("div",{className:`message-content ${o||""}`,dangerouslySetInnerHTML:{__html:Hx(r)}}):null;/**
 * @license lucide-react v0.553.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const a1=r=>r.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),l1=r=>r.replace(/^([A-Z])|[\s-_]+(\w)/g,(o,c,u)=>u?u.toUpperCase():c.toLowerCase()),ex=r=>{const o=l1(r);return o.charAt(0).toUpperCase()+o.slice(1)},Gx=(...r)=>r.filter((o,c,u)=>!!o&&o.trim()!==""&&u.indexOf(o)===c).join(" ").trim(),n1=r=>{for(const o in r)if(o.startsWith("aria-")||o==="role"||o==="title")return!0};/**
 * @license lucide-react v0.553.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var s1={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.553.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const i1=w.forwardRef(({color:r="currentColor",size:o=24,strokeWidth:c=2,absoluteStrokeWidth:u,className:h="",children:m,iconNode:g,...x},b)=>w.createElement("svg",{ref:b,...s1,width:o,height:o,stroke:r,strokeWidth:u?Number(c)*24/Number(o):c,className:Gx("lucide",h),...!m&&!n1(x)&&{"aria-hidden":"true"},...x},[...g.map(([f,v])=>w.createElement(f,v)),...Array.isArray(m)?m:[m]]));/**
 * @license lucide-react v0.553.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const we=(r,o)=>{const c=w.forwardRef(({className:u,...h},m)=>w.createElement(i1,{ref:m,iconNode:o,className:Gx(`lucide-${a1(ex(r))}`,`lucide-${r}`,u),...h}));return c.displayName=ex(r),c};/**
 * @license lucide-react v0.553.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const r1=[["path",{d:"M22 12h-2.48a2 2 0 0 0-1.93 1.46l-2.35 8.36a.25.25 0 0 1-.48 0L9.24 2.18a.25.25 0 0 0-.48 0l-2.35 8.36A2 2 0 0 1 4.49 12H2",key:"169zse"}]],o1=we("activity",r1);/**
 * @license lucide-react v0.553.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const c1=[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]],Zu=we("arrow-left",c1);/**
 * @license lucide-react v0.553.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const u1=[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"m12 5 7 7-7 7",key:"xquz4c"}]],d1=we("arrow-right",u1);/**
 * @license lucide-react v0.553.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const h1=[["path",{d:"m15.477 12.89 1.515 8.526a.5.5 0 0 1-.81.47l-3.58-2.687a1 1 0 0 0-1.197 0l-3.586 2.686a.5.5 0 0 1-.81-.469l1.514-8.526",key:"1yiouv"}],["circle",{cx:"12",cy:"8",r:"6",key:"1vp47v"}]],No=we("award",h1);/**
 * @license lucide-react v0.553.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const m1=[["path",{d:"M10.268 21a2 2 0 0 0 3.464 0",key:"vwvbt9"}],["path",{d:"M3.262 15.326A1 1 0 0 0 4 17h16a1 1 0 0 0 .74-1.673C19.41 13.956 18 12.499 18 8A6 6 0 0 0 6 8c0 4.499-1.411 5.956-2.738 7.326",key:"11g9vi"}]],f1=we("bell",m1);/**
 * @license lucide-react v0.553.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const p1=[["path",{d:"M12 7v14",key:"1akyts"}],["path",{d:"M3 18a1 1 0 0 1-1-1V4a1 1 0 0 1 1-1h5a4 4 0 0 1 4 4 4 4 0 0 1 4-4h5a1 1 0 0 1 1 1v13a1 1 0 0 1-1 1h-6a3 3 0 0 0-3 3 3 3 0 0 0-3-3z",key:"ruj8y"}]],Md=we("book-open",p1);/**
 * @license lucide-react v0.553.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const x1=[["path",{d:"M12 8V4H8",key:"hb8ula"}],["rect",{width:"16",height:"12",x:"4",y:"8",rx:"2",key:"enze0r"}],["path",{d:"M2 14h2",key:"vft8re"}],["path",{d:"M20 14h2",key:"4cs60a"}],["path",{d:"M15 13v2",key:"1xurst"}],["path",{d:"M9 13v2",key:"rq6x2g"}]],ro=we("bot",x1);/**
 * @license lucide-react v0.553.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const g1=[["path",{d:"M12 18V5",key:"adv99a"}],["path",{d:"M15 13a4.17 4.17 0 0 1-3-4 4.17 4.17 0 0 1-3 4",key:"1e3is1"}],["path",{d:"M17.598 6.5A3 3 0 1 0 12 5a3 3 0 1 0-5.598 1.5",key:"1gqd8o"}],["path",{d:"M17.997 5.125a4 4 0 0 1 2.526 5.77",key:"iwvgf7"}],["path",{d:"M18 18a4 4 0 0 0 2-7.464",key:"efp6ie"}],["path",{d:"M19.967 17.483A4 4 0 1 1 12 18a4 4 0 1 1-7.967-.517",key:"1gq6am"}],["path",{d:"M6 18a4 4 0 0 1-2-7.464",key:"k1g0md"}],["path",{d:"M6.003 5.125a4 4 0 0 0-2.526 5.77",key:"q97ue3"}]],qx=we("brain",g1);/**
 * @license lucide-react v0.553.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const b1=[["path",{d:"M16 20V4a2 2 0 0 0-2-2h-4a2 2 0 0 0-2 2v16",key:"jecpp"}],["rect",{width:"20",height:"14",x:"2",y:"6",rx:"2",key:"i6l2r4"}]],y1=we("briefcase",b1);/**
 * @license lucide-react v0.553.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const v1=[["path",{d:"M10 12h4",key:"a56b0p"}],["path",{d:"M10 8h4",key:"1sr2af"}],["path",{d:"M14 21v-3a2 2 0 0 0-4 0v3",key:"1rgiei"}],["path",{d:"M6 10H4a2 2 0 0 0-2 2v7a2 2 0 0 0 2 2h16a2 2 0 0 0 2-2V9a2 2 0 0 0-2-2h-2",key:"secmi2"}],["path",{d:"M6 21V5a2 2 0 0 1 2-2h8a2 2 0 0 1 2 2v16",key:"16ra0t"}]],w1=we("building-2",v1);/**
 * @license lucide-react v0.553.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const N1=[["path",{d:"M12 10h.01",key:"1nrarc"}],["path",{d:"M12 14h.01",key:"1etili"}],["path",{d:"M12 6h.01",key:"1vi96p"}],["path",{d:"M16 10h.01",key:"1m94wz"}],["path",{d:"M16 14h.01",key:"1gbofw"}],["path",{d:"M16 6h.01",key:"1x0f13"}],["path",{d:"M8 10h.01",key:"19clt8"}],["path",{d:"M8 14h.01",key:"6423bh"}],["path",{d:"M8 6h.01",key:"1dz90k"}],["path",{d:"M9 22v-3a1 1 0 0 1 1-1h4a1 1 0 0 1 1 1v3",key:"cabbwy"}],["rect",{x:"4",y:"2",width:"16",height:"20",rx:"2",key:"1uxh74"}]],j1=we("building",N1);/**
 * @license lucide-react v0.553.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const S1=[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}],["path",{d:"M8 14h.01",key:"6423bh"}],["path",{d:"M12 14h.01",key:"1etili"}],["path",{d:"M16 14h.01",key:"1gbofw"}],["path",{d:"M8 18h.01",key:"lrp35t"}],["path",{d:"M12 18h.01",key:"mhygvu"}],["path",{d:"M16 18h.01",key:"kzsmim"}]],k1=we("calendar-days",S1);/**
 * @license lucide-react v0.553.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const A1=[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}]],En=we("calendar",A1);/**
 * @license lucide-react v0.553.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const T1=[["path",{d:"M3 3v16a2 2 0 0 0 2 2h16",key:"c24i48"}],["path",{d:"M18 17V9",key:"2bz60n"}],["path",{d:"M13 17V5",key:"1frdt8"}],["path",{d:"M8 17v-3",key:"17ska0"}]],To=we("chart-column",T1);/**
 * @license lucide-react v0.553.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const E1=[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]],C1=we("chevron-down",E1);/**
 * @license lucide-react v0.553.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _1=[["path",{d:"m15 18-6-6 6-6",key:"1wnfg3"}]],D1=we("chevron-left",_1);/**
 * @license lucide-react v0.553.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const M1=[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]],R1=we("chevron-right",M1);/**
 * @license lucide-react v0.553.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const O1=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]],Rd=we("circle-alert",O1);/**
 * @license lucide-react v0.553.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const z1=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m9 12 2 2 4-4",key:"dzmm74"}]],Ya=we("circle-check",z1);/**
 * @license lucide-react v0.553.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const L1=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m15 9-6 6",key:"1uzhvr"}],["path",{d:"m9 9 6 6",key:"z0biqf"}]],U1=we("circle-x",L1);/**
 * @license lucide-react v0.553.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const B1=[["path",{d:"M12 6v6l4 2",key:"mmk7yg"}],["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]],Va=we("clock",B1);/**
 * @license lucide-react v0.553.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $1=[["circle",{cx:"8",cy:"8",r:"6",key:"3yglwk"}],["path",{d:"M18.09 10.37A6 6 0 1 1 10.34 18",key:"t5s6rm"}],["path",{d:"M7 6h1v4",key:"1obek4"}],["path",{d:"m16.71 13.88.7.71-2.82 2.82",key:"1rbuyh"}]],H1=we("coins",$1);/**
 * @license lucide-react v0.553.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const G1=[["path",{d:"m16.24 7.76-1.804 5.411a2 2 0 0 1-1.265 1.265L7.76 16.24l1.804-5.411a2 2 0 0 1 1.265-1.265z",key:"9ktpf1"}],["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]],q1=we("compass",G1);/**
 * @license lucide-react v0.553.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const I1=[["path",{d:"M11.562 3.266a.5.5 0 0 1 .876 0L15.39 8.87a1 1 0 0 0 1.516.294L21.183 5.5a.5.5 0 0 1 .798.519l-2.834 10.246a1 1 0 0 1-.956.734H5.81a1 1 0 0 1-.957-.734L2.02 6.02a.5.5 0 0 1 .798-.519l4.276 3.664a1 1 0 0 0 1.516-.294z",key:"1vdc57"}],["path",{d:"M5 21h14",key:"11awu3"}]],Ix=we("crown",I1);/**
 * @license lucide-react v0.553.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Y1=[["path",{d:"M17.596 12.768a2 2 0 1 0 2.829-2.829l-1.768-1.767a2 2 0 0 0 2.828-2.829l-2.828-2.828a2 2 0 0 0-2.829 2.828l-1.767-1.768a2 2 0 1 0-2.829 2.829z",key:"9m4mmf"}],["path",{d:"m2.5 21.5 1.4-1.4",key:"17g3f0"}],["path",{d:"m20.1 3.9 1.4-1.4",key:"1qn309"}],["path",{d:"M5.343 21.485a2 2 0 1 0 2.829-2.828l1.767 1.768a2 2 0 1 0 2.829-2.829l-6.364-6.364a2 2 0 1 0-2.829 2.829l1.768 1.767a2 2 0 0 0-2.828 2.829z",key:"1t2c92"}],["path",{d:"m9.6 14.4 4.8-4.8",key:"6umqxw"}]],V1=we("dumbbell",Y1);/**
 * @license lucide-react v0.553.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const X1=[["path",{d:"M15 3h6v6",key:"1q9fwt"}],["path",{d:"M10 14 21 3",key:"gplh6r"}],["path",{d:"M18 13v6a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V8a2 2 0 0 1 2-2h6",key:"a6xqqp"}]],Q1=we("external-link",X1);/**
 * @license lucide-react v0.553.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Z1=[["path",{d:"M6 22a2 2 0 0 1-2-2V4a2 2 0 0 1 2-2h8a2.4 2.4 0 0 1 1.704.706l3.588 3.588A2.4 2.4 0 0 1 20 8v12a2 2 0 0 1-2 2z",key:"1oefj6"}],["path",{d:"M14 2v5a1 1 0 0 0 1 1h5",key:"wfsgrz"}],["path",{d:"M10 9H8",key:"b1mrlr"}],["path",{d:"M16 13H8",key:"t4e002"}],["path",{d:"M16 17H8",key:"z1uh3a"}]],Od=we("file-text",Z1);/**
 * @license lucide-react v0.553.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const K1=[["path",{d:"M12 3q1 4 4 6.5t3 5.5a1 1 0 0 1-14 0 5 5 0 0 1 1-3 1 1 0 0 0 5 0c0-2-1.5-3-1.5-5q0-2 2.5-4",key:"1slcih"}]],zd=we("flame",K1);/**
 * @license lucide-react v0.553.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const P1=[["path",{d:"M10 20a1 1 0 0 0 .553.895l2 1A1 1 0 0 0 14 21v-7a2 2 0 0 1 .517-1.341L21.74 4.67A1 1 0 0 0 21 3H3a1 1 0 0 0-.742 1.67l7.225 7.989A2 2 0 0 1 10 14z",key:"sc7q7i"}]],bs=we("funnel",P1);/**
 * @license lucide-react v0.553.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const J1=[["path",{d:"m12 14 4-4",key:"9kzdfg"}],["path",{d:"M3.34 19a10 10 0 1 1 17.32 0",key:"19p75a"}]],W1=we("gauge",J1);/**
 * @license lucide-react v0.553.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const F1=[["path",{d:"M10.5 3 8 9l4 13 4-13-2.5-6",key:"b3dvk1"}],["path",{d:"M17 3a2 2 0 0 1 1.6.8l3 4a2 2 0 0 1 .013 2.382l-7.99 10.986a2 2 0 0 1-3.247 0l-7.99-10.986A2 2 0 0 1 2.4 7.8l2.998-3.997A2 2 0 0 1 7 3z",key:"7w4byz"}],["path",{d:"M2 9h20",key:"16fsjt"}]],jo=we("gem",F1);/**
 * @license lucide-react v0.553.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ev=[["path",{d:"m11 17 2 2a1 1 0 1 0 3-3",key:"efffak"}],["path",{d:"m14 14 2.5 2.5a1 1 0 1 0 3-3l-3.88-3.88a3 3 0 0 0-4.24 0l-.88.88a1 1 0 1 1-3-3l2.81-2.81a5.79 5.79 0 0 1 7.06-.87l.47.28a2 2 0 0 0 1.42.25L21 4",key:"9pr0kb"}],["path",{d:"m21 3 1 11h-2",key:"1tisrp"}],["path",{d:"M3 3 2 14l6.5 6.5a1 1 0 1 0 3-3",key:"1uvwmv"}],["path",{d:"M3 4h8",key:"1ep09j"}]],tv=we("handshake",ev);/**
 * @license lucide-react v0.553.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const av=[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",ry:"2",key:"1m3agn"}],["circle",{cx:"9",cy:"9",r:"2",key:"af1f0g"}],["path",{d:"m21 15-3.086-3.086a2 2 0 0 0-2.828 0L6 21",key:"1xmnt7"}]],lv=we("image",av);/**
 * @license lucide-react v0.553.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const nv=[["path",{d:"M15 14c.2-1 .7-1.7 1.5-2.5 1-.9 1.5-2.2 1.5-3.5A6 6 0 0 0 6 8c0 1 .2 2.2 1.5 3.5.7.7 1.3 1.5 1.5 2.5",key:"1gvzjb"}],["path",{d:"M9 18h6",key:"x1upvd"}],["path",{d:"M10 22h4",key:"ceow96"}]],fs=we("lightbulb",nv);/**
 * @license lucide-react v0.553.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const sv=[["path",{d:"M9 17H7A5 5 0 0 1 7 7h2",key:"8i5ue5"}],["path",{d:"M15 7h2a5 5 0 1 1 0 10h-2",key:"1b9ql8"}],["line",{x1:"8",x2:"16",y1:"12",y2:"12",key:"1jonct"}]],Ku=we("link-2",sv);/**
 * @license lucide-react v0.553.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const iv=[["path",{d:"M13 5h8",key:"a7qcls"}],["path",{d:"M13 12h8",key:"h98zly"}],["path",{d:"M13 19h8",key:"c3s6r1"}],["path",{d:"m3 17 2 2 4-4",key:"1jhpwq"}],["path",{d:"m3 7 2 2 4-4",key:"1obspn"}]],Pu=we("list-checks",iv);/**
 * @license lucide-react v0.553.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const rv=[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]],ov=we("loader-circle",rv);/**
 * @license lucide-react v0.553.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const cv=[["path",{d:"m22 7-8.991 5.727a2 2 0 0 1-2.009 0L2 7",key:"132q7q"}],["rect",{x:"2",y:"4",width:"20",height:"16",rx:"2",key:"izxlao"}]],uv=we("mail",cv);/**
 * @license lucide-react v0.553.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const dv=[["path",{d:"M20 10c0 4.993-5.539 10.193-7.399 11.799a1 1 0 0 1-1.202 0C9.539 20.193 4 14.993 4 10a8 8 0 0 1 16 0",key:"1r0f0z"}],["circle",{cx:"12",cy:"10",r:"3",key:"ilqhr7"}]],Ld=we("map-pin",dv);/**
 * @license lucide-react v0.553.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const hv=[["path",{d:"M4 5h16",key:"1tepv9"}],["path",{d:"M4 12h16",key:"1lakjw"}],["path",{d:"M4 19h16",key:"1djgab"}]],tx=we("menu",hv);/**
 * @license lucide-react v0.553.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const mv=[["path",{d:"M22 17a2 2 0 0 1-2 2H6.828a2 2 0 0 0-1.414.586l-2.202 2.202A.71.71 0 0 1 2 21.286V5a2 2 0 0 1 2-2h16a2 2 0 0 1 2 2z",key:"18887p"}]],So=we("message-square",mv);/**
 * @license lucide-react v0.553.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const fv=[["path",{d:"M12 19v3",key:"npa21l"}],["path",{d:"M19 10v2a7 7 0 0 1-14 0v-2",key:"1vc78b"}],["rect",{x:"9",y:"2",width:"6",height:"13",rx:"3",key:"s6n7sd"}]],Yx=we("mic",fv);/**
 * @license lucide-react v0.553.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const pv=[["rect",{x:"16",y:"16",width:"6",height:"6",rx:"1",key:"4q2zg0"}],["rect",{x:"2",y:"16",width:"6",height:"6",rx:"1",key:"8cvhb9"}],["rect",{x:"9",y:"2",width:"6",height:"6",rx:"1",key:"1egb70"}],["path",{d:"M5 16v-3a1 1 0 0 1 1-1h12a1 1 0 0 1 1 1v3",key:"1jsf9p"}],["path",{d:"M12 12V8",key:"2874zd"}]],xv=we("network",pv);/**
 * @license lucide-react v0.553.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const gv=[["path",{d:"M12 22a1 1 0 0 1 0-20 10 9 0 0 1 10 9 5 5 0 0 1-5 5h-2.25a1.75 1.75 0 0 0-1.4 2.8l.3.4a1.75 1.75 0 0 1-1.4 2.8z",key:"e79jfc"}],["circle",{cx:"13.5",cy:"6.5",r:".5",fill:"currentColor",key:"1okk4w"}],["circle",{cx:"17.5",cy:"10.5",r:".5",fill:"currentColor",key:"f64h9f"}],["circle",{cx:"6.5",cy:"12.5",r:".5",fill:"currentColor",key:"qy21gx"}],["circle",{cx:"8.5",cy:"7.5",r:".5",fill:"currentColor",key:"fotxhn"}]],Ud=we("palette",gv);/**
 * @license lucide-react v0.553.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const bv=[["rect",{x:"14",y:"3",width:"5",height:"18",rx:"1",key:"kaeet6"}],["rect",{x:"5",y:"3",width:"5",height:"18",rx:"1",key:"1wsw3u"}]],yv=we("pause",bv);/**
 * @license lucide-react v0.553.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const vv=[["path",{d:"M21.174 6.812a1 1 0 0 0-3.986-3.987L3.842 16.174a2 2 0 0 0-.5.83l-1.321 4.352a.5.5 0 0 0 .623.622l4.353-1.32a2 2 0 0 0 .83-.497z",key:"1a8usu"}]],Xa=we("pen",vv);/**
 * @license lucide-react v0.553.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const wv=[["path",{d:"M13.832 16.568a1 1 0 0 0 1.213-.303l.355-.465A2 2 0 0 1 17 15h3a2 2 0 0 1 2 2v3a2 2 0 0 1-2 2A18 18 0 0 1 2 4a2 2 0 0 1 2-2h3a2 2 0 0 1 2 2v3a2 2 0 0 1-.8 1.6l-.468.351a1 1 0 0 0-.292 1.233 14 14 0 0 0 6.392 6.384",key:"9njp5v"}]],Nv=we("phone",wv);/**
 * @license lucide-react v0.553.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const jv=[["path",{d:"M17.8 19.2 16 11l3.5-3.5C21 6 21.5 4 21 3c-1-.5-3 0-4.5 1.5L13 8 4.8 6.2c-.5-.1-.9.1-1.1.5l-.3.5c-.2.5-.1 1 .3 1.3L9 12l-2 3H4l-1 1 3 2 2 3 1-1v-3l3-2 3.5 5.3c.3.4.8.5 1.3.3l.5-.2c.4-.3.6-.7.5-1.2z",key:"1v9wt8"}]],Sv=we("plane",jv);/**
 * @license lucide-react v0.553.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const kv=[["path",{d:"M5 5a2 2 0 0 1 3.008-1.728l11.997 6.998a2 2 0 0 1 .003 3.458l-12 7A2 2 0 0 1 5 19z",key:"10ikf1"}]],Ri=we("play",kv);/**
 * @license lucide-react v0.553.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Av=[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]],hd=we("plus",Av);/**
 * @license lucide-react v0.553.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Tv=[["path",{d:"M16.247 7.761a6 6 0 0 1 0 8.478",key:"1fwjs5"}],["path",{d:"M19.075 4.933a10 10 0 0 1 0 14.134",key:"ehdyv1"}],["path",{d:"M4.925 19.067a10 10 0 0 1 0-14.134",key:"1q22gi"}],["path",{d:"M7.753 16.239a6 6 0 0 1 0-8.478",key:"r2q7qm"}],["circle",{cx:"12",cy:"12",r:"2",key:"1c9p78"}]],Ev=we("radio",Tv);/**
 * @license lucide-react v0.553.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Cv=[["path",{d:"M3 12a9 9 0 0 1 9-9 9.75 9.75 0 0 1 6.74 2.74L21 8",key:"v9h5vc"}],["path",{d:"M21 3v5h-5",key:"1q7to0"}],["path",{d:"M21 12a9 9 0 0 1-9 9 9.75 9.75 0 0 1-6.74-2.74L3 16",key:"3uifl3"}],["path",{d:"M8 16H3v5",key:"1cv678"}]],zi=we("refresh-cw",Cv);/**
 * @license lucide-react v0.553.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _v=[["path",{d:"m17 2 4 4-4 4",key:"nntrym"}],["path",{d:"M3 11v-1a4 4 0 0 1 4-4h14",key:"84bu3i"}],["path",{d:"m7 22-4-4 4-4",key:"1wqhfi"}],["path",{d:"M21 13v1a4 4 0 0 1-4 4H3",key:"1rx37r"}]],Dv=we("repeat",_v);/**
 * @license lucide-react v0.553.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Mv=[["path",{d:"M4.5 16.5c-1.5 1.26-2 5-2 5s3.74-.5 5-2c.71-.84.7-2.13-.09-2.91a2.18 2.18 0 0 0-2.91-.09z",key:"m3kijz"}],["path",{d:"m12 15-3-3a22 22 0 0 1 2-3.95A12.88 12.88 0 0 1 22 2c0 2.72-.78 7.5-6 11a22.35 22.35 0 0 1-4 2z",key:"1fmvmk"}],["path",{d:"M9 12H4s.55-3.03 2-4c1.62-1.08 5 0 5 0",key:"1f8sc4"}],["path",{d:"M12 15v5s3.03-.55 4-2c1.08-1.62 0-5 0-5",key:"qeys4"}]],Rv=we("rocket",Mv);/**
 * @license lucide-react v0.553.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ov=[["path",{d:"M15 12h-5",key:"r7krc0"}],["path",{d:"M15 8h-5",key:"1khuty"}],["path",{d:"M19 17V5a2 2 0 0 0-2-2H4",key:"zz82l3"}],["path",{d:"M8 21h12a2 2 0 0 0 2-2v-1a1 1 0 0 0-1-1H11a1 1 0 0 0-1 1v1a2 2 0 1 1-4 0V5a2 2 0 1 0-4 0v2a1 1 0 0 0 1 1h3",key:"1ph1d7"}]],zv=we("scroll-text",Ov);/**
 * @license lucide-react v0.553.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Lv=[["path",{d:"M19 17V5a2 2 0 0 0-2-2H4",key:"zz82l3"}],["path",{d:"M8 21h12a2 2 0 0 0 2-2v-1a1 1 0 0 0-1-1H11a1 1 0 0 0-1 1v1a2 2 0 1 1-4 0V5a2 2 0 1 0-4 0v2a1 1 0 0 0 1 1h3",key:"1ph1d7"}]],Uv=we("scroll",Lv);/**
 * @license lucide-react v0.553.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Bv=[["path",{d:"m21 21-4.34-4.34",key:"14j7rj"}],["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}]],rn=we("search",Bv);/**
 * @license lucide-react v0.553.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $v=[["path",{d:"M9.671 4.136a2.34 2.34 0 0 1 4.659 0 2.34 2.34 0 0 0 3.319 1.915 2.34 2.34 0 0 1 2.33 4.033 2.34 2.34 0 0 0 0 3.831 2.34 2.34 0 0 1-2.33 4.033 2.34 2.34 0 0 0-3.319 1.915 2.34 2.34 0 0 1-4.659 0 2.34 2.34 0 0 0-3.32-1.915 2.34 2.34 0 0 1-2.33-4.033 2.34 2.34 0 0 0 0-3.831A2.34 2.34 0 0 1 6.35 6.051a2.34 2.34 0 0 0 3.319-1.915",key:"1i5ecw"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]],Hv=we("settings",$v);/**
 * @license lucide-react v0.553.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Gv=[["path",{d:"M11.017 2.814a1 1 0 0 1 1.966 0l1.051 5.558a2 2 0 0 0 1.594 1.594l5.558 1.051a1 1 0 0 1 0 1.966l-5.558 1.051a2 2 0 0 0-1.594 1.594l-1.051 5.558a1 1 0 0 1-1.966 0l-1.051-5.558a2 2 0 0 0-1.594-1.594l-5.558-1.051a1 1 0 0 1 0-1.966l5.558-1.051a2 2 0 0 0 1.594-1.594z",key:"1s2grr"}],["path",{d:"M20 2v4",key:"1rf3ol"}],["path",{d:"M22 4h-4",key:"gwowj6"}],["circle",{cx:"4",cy:"20",r:"2",key:"6kqj1y"}]],tl=we("sparkles",Gv);/**
 * @license lucide-react v0.553.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const qv=[["path",{d:"M14 9.536V7a4 4 0 0 1 4-4h1.5a.5.5 0 0 1 .5.5V5a4 4 0 0 1-4 4 4 4 0 0 0-4 4c0 2 1 3 1 5a5 5 0 0 1-1 3",key:"139s4v"}],["path",{d:"M4 9a5 5 0 0 1 8 4 5 5 0 0 1-8-4",key:"1dlkgp"}],["path",{d:"M5 21h14",key:"11awu3"}]],Iv=we("sprout",qv);/**
 * @license lucide-react v0.553.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Yv=[["path",{d:"M11.525 2.295a.53.53 0 0 1 .95 0l2.31 4.679a2.123 2.123 0 0 0 1.595 1.16l5.166.756a.53.53 0 0 1 .294.904l-3.736 3.638a2.123 2.123 0 0 0-.611 1.878l.882 5.14a.53.53 0 0 1-.771.56l-4.618-2.428a2.122 2.122 0 0 0-1.973 0L6.396 21.01a.53.53 0 0 1-.77-.56l.881-5.139a2.122 2.122 0 0 0-.611-1.879L2.16 9.795a.53.53 0 0 1 .294-.906l5.165-.755a2.122 2.122 0 0 0 1.597-1.16z",key:"r04s7s"}]],ps=we("star",Yv);/**
 * @license lucide-react v0.553.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Vv=[["path",{d:"M12.586 2.586A2 2 0 0 0 11.172 2H4a2 2 0 0 0-2 2v7.172a2 2 0 0 0 .586 1.414l8.704 8.704a2.426 2.426 0 0 0 3.42 0l6.58-6.58a2.426 2.426 0 0 0 0-3.42z",key:"vktsd0"}],["circle",{cx:"7.5",cy:"7.5",r:".5",fill:"currentColor",key:"kqv944"}]],Cn=we("tag",Vv);/**
 * @license lucide-react v0.553.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Xv=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["circle",{cx:"12",cy:"12",r:"6",key:"1vlfrh"}],["circle",{cx:"12",cy:"12",r:"2",key:"1c9p78"}]],La=we("target",Xv);/**
 * @license lucide-react v0.553.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Qv=[["path",{d:"M7 10v12",key:"1qc93n"}],["path",{d:"M15 5.88 14 10h5.83a2 2 0 0 1 1.92 2.56l-2.33 8A2 2 0 0 1 17.5 22H4a2 2 0 0 1-2-2v-8a2 2 0 0 1 2-2h2.76a2 2 0 0 0 1.79-1.11L12 2a3.13 3.13 0 0 1 3 3.88Z",key:"emmmcr"}]],Zv=we("thumbs-up",Qv);/**
 * @license lucide-react v0.553.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Kv=[["path",{d:"M17 14V2",key:"8ymqnk"}],["path",{d:"M9 18.12 10 14H4.17a2 2 0 0 1-1.92-2.56l2.33-8A2 2 0 0 1 6.5 2H20a2 2 0 0 1 2 2v8a2 2 0 0 1-2 2h-2.76a2 2 0 0 0-1.79 1.11L12 22a3.13 3.13 0 0 1-3-3.88Z",key:"m61m77"}]],Pv=we("thumbs-down",Kv);/**
 * @license lucide-react v0.553.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Jv=[["line",{x1:"10",x2:"14",y1:"2",y2:"2",key:"14vaq8"}],["line",{x1:"12",x2:"15",y1:"14",y2:"11",key:"17fdiu"}],["circle",{cx:"12",cy:"14",r:"8",key:"1e1u0o"}]],Li=we("timer",Jv);/**
 * @license lucide-react v0.553.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Wv=[["path",{d:"M10 11v6",key:"nco0om"}],["path",{d:"M14 11v6",key:"outv1u"}],["path",{d:"M19 6v14a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2V6",key:"miytrc"}],["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M8 6V4a2 2 0 0 1 2-2h4a2 2 0 0 1 2 2v2",key:"e791ji"}]],nn=we("trash-2",Wv);/**
 * @license lucide-react v0.553.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Fv=[["path",{d:"M16 7h6v6",key:"box55l"}],["path",{d:"m22 7-8.5 8.5-5-5L2 17",key:"1t1m79"}]],md=we("trending-up",Fv);/**
 * @license lucide-react v0.553.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const e2=[["path",{d:"M10 14.66v1.626a2 2 0 0 1-.976 1.696A5 5 0 0 0 7 21.978",key:"1n3hpd"}],["path",{d:"M14 14.66v1.626a2 2 0 0 0 .976 1.696A5 5 0 0 1 17 21.978",key:"rfe1zi"}],["path",{d:"M18 9h1.5a1 1 0 0 0 0-5H18",key:"7xy6bh"}],["path",{d:"M4 22h16",key:"57wxv0"}],["path",{d:"M6 9a6 6 0 0 0 12 0V3a1 1 0 0 0-1-1H7a1 1 0 0 0-1 1z",key:"1mhfuq"}],["path",{d:"M6 9H4.5a1 1 0 0 1 0-5H6",key:"tex48p"}]],t2=we("trophy",e2);/**
 * @license lucide-react v0.553.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const a2=[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]],Oi=we("user",a2);/**
 * @license lucide-react v0.553.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const l2=[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["path",{d:"M16 3.128a4 4 0 0 1 0 7.744",key:"16gr8j"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}]],tn=we("users",l2);/**
 * @license lucide-react v0.553.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const n2=[["path",{d:"m16 13 5.223 3.482a.5.5 0 0 0 .777-.416V7.87a.5.5 0 0 0-.752-.432L16 10.5",key:"ftymec"}],["rect",{x:"2",y:"6",width:"14",height:"12",rx:"2",key:"158x01"}]],Vx=we("video",n2);/**
 * @license lucide-react v0.553.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const s2=[["path",{d:"m21.64 3.64-1.28-1.28a1.21 1.21 0 0 0-1.72 0L2.36 18.64a1.21 1.21 0 0 0 0 1.72l1.28 1.28a1.2 1.2 0 0 0 1.72 0L21.64 5.36a1.2 1.2 0 0 0 0-1.72",key:"ul74o6"}],["path",{d:"m14 7 3 3",key:"1r5n42"}],["path",{d:"M5 6v4",key:"ilb8ba"}],["path",{d:"M19 14v4",key:"blhpug"}],["path",{d:"M10 2v2",key:"7u0qdc"}],["path",{d:"M7 8H3",key:"zfb6yr"}],["path",{d:"M21 16h-4",key:"1cnmox"}],["path",{d:"M11 3H9",key:"1obp7u"}]],i2=we("wand-sparkles",s2);/**
 * @license lucide-react v0.553.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const r2=[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]],Ft=we("x",r2);/**
 * @license lucide-react v0.553.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const o2=[["path",{d:"M4 14a1 1 0 0 1-.78-1.63l9.9-10.2a.5.5 0 0 1 .86.46l-1.92 6.02A1 1 0 0 0 13 10h7a1 1 0 0 1 .78 1.63l-9.9 10.2a.5.5 0 0 1-.86-.46l1.92-6.02A1 1 0 0 0 11 14z",key:"1xq2db"}]],ys=we("zap",o2),c2=(r,o)=>{if(o!=null&&o.includes("delete"))return{type:"warning",icon:"",title:"Action Taken"};switch(r){case"people":return{type:"success",icon:"",title:"Person Added"};case"concept":return{type:"info",icon:"",title:"Concept Added"};case"brand":return{type:"tip",icon:"",title:"Brand Element Added"};case"calendar":return{type:"note",icon:"",title:"Event Added"};case"journal":return{type:"info",icon:"",title:"Journal Entry Created"};case"agenda":return{type:"tip",icon:"",title:"Agenda Item Added"};case"deliverable":return{type:"success",icon:"",title:"Deliverable Created"};case"goal":return{type:"success",icon:"",title:"Goal Added"};case"task":return{type:"tip",icon:"",title:"Task Created"};case"pomodoro":return{type:"note",icon:"",title:"Pomodoro Session"};default:return{type:"info",icon:"",title:"Action Executed"}}},u2=({event:r,onRate:o})=>{const[c,u]=w.useState(!1);w.useEffect(()=>{(async()=>{(await pt("dismissedActionAdmonitions",[])).includes(r.id)&&u(!0)})()},[r.id]);const h=async()=>{u(!0);const f=await pt("dismissedActionAdmonitions",[]);await ln("dismissedActionAdmonitions",[...f,r.id])};if(c)return null;const{type:m,icon:g,title:x}=c2(r.kind,r.actionId);let b=`**${x}**

${r.summary}`;if(r.detail&&(b+=`

${r.detail}`),r.payload){const f=r.payload.split("|").filter(Boolean);f.length>0&&(b+=`

**Details:**
`,f.forEach((v,_)=>{v.trim()&&(b+=`- ${v.trim()}
`)}))}return l.jsxs("div",{className:`admonition admonition-${m} relative group mt-3`,children:[l.jsx("button",{onClick:h,className:"absolute top-3 right-3 opacity-0 group-hover:opacity-100 transition-opacity p-1 rounded-full hover:bg-white/20",title:"Dismiss",children:l.jsx(Ft,{className:"w-4 h-4"})}),l.jsxs("div",{className:"flex items-start gap-3 mb-3",children:[l.jsx("span",{className:"text-2xl",children:g}),l.jsx("div",{className:"flex-1",children:l.jsxs("div",{className:"admonition-title flex items-center justify-between",children:[l.jsx("span",{children:x}),l.jsx("span",{className:"text-xs font-normal opacity-60",children:new Date(r.timestamp).toLocaleTimeString("en-US",{hour:"numeric",minute:"2-digit"})})]})})]}),l.jsx("div",{className:"admonition-body",children:l.jsx(bt,{content:b})}),l.jsxs("div",{className:"mt-4 pt-4 border-t border-current/20 flex items-center justify-between gap-4",children:[l.jsxs("div",{className:"flex items-center gap-2",children:[l.jsx("span",{className:"text-xs opacity-70",children:"Rate this action:"}),l.jsx("button",{onClick:()=>o(r.id,-1),className:`p-1.5 rounded-lg transition ${r.rating===-1?"bg-red-500/20 text-red-700 border border-red-500/30":"hover:bg-white/20 border border-transparent"}`,title:"Negative",children:l.jsx(Pv,{className:"w-4 h-4"})}),l.jsx("button",{onClick:()=>o(r.id,1),className:`p-1.5 rounded-lg transition ${r.rating===1?"bg-green-500/20 text-green-700 border border-green-500/30":"hover:bg-white/20 border border-transparent"}`,title:"Positive",children:l.jsx(Zv,{className:"w-4 h-4"})})]}),l.jsxs("div",{className:"flex items-center gap-2",children:[l.jsx(ps,{className:"w-4 h-4 opacity-60"}),l.jsx("input",{type:"number",min:"1",max:"100",value:r.rating&&r.rating>1?r.rating:"",onChange:f=>{const v=f.target.value?Number(f.target.value):void 0;v!==void 0&&v>=1&&v<=100&&o(r.id,v)},placeholder:"1-100",className:"w-20 px-2 py-1 rounded-lg border border-current/20 bg-white/20 text-xs focus:outline-none focus:ring-2 focus:ring-current/30"}),r.rating&&r.rating>1&&l.jsx("span",{className:"text-xs opacity-60",children:"/100"})]})]})]})},oo=({isMobile:r=!1})=>{var ne,Q;const{currentThread:o,messages:c,sendMessage:u,updateThreadArtifact:h,activeView:m,primedAction:g,setPrimedAction:x,activeEntity:b,isLoading:f}=al(),[v,_]=w.useState(""),[M,j]=w.useState(""),[G,R]=w.useState([]),[ee,oe]=w.useState(360),[ge,be]=w.useState(!1),ye=w.useRef(null),le=w.useRef(null),[$,U]=w.useState(!1),[ue,ve]=w.useState(!1),[P,te]=w.useState(!1),[Ne,xe]=w.useState(null),[W,A]=w.useState(null),D=w.useRef(null),Z=w.useRef(null);w.useEffect(()=>{o!=null&&o.artifactContent?j(o.artifactContent):j("")},[o]);const he=w.useMemo(()=>c.slice(-20),[c]);w.useEffect(()=>{const k=async()=>{const{getSetting:se}=await za(async()=>{const{getSetting:N}=await Promise.resolve().then(()=>ho);return{getSetting:N}},void 0);return await se("sylvia_action_ratings",{})};return(async()=>{const se=wx(),je=await k();if(se.length){const N=se.reverse().map(re=>({...re,rating:je[re.id]}));R(re=>[...N,...re].slice(0,50))}window.__SYLVIA_LOG__=async N=>{const re=await k();R(ce=>[{...N,rating:re[N.id]},...ce].slice(0,50))}})(),()=>{delete window.__SYLVIA_LOG__}},[]);const Oe=async(k,X)=>{R(re=>re.map(ce=>ce.id===k?{...ce,rating:X}:ce));const{saveSetting:se,getSetting:je}=await za(async()=>{const{saveSetting:re,getSetting:ce}=await Promise.resolve().then(()=>ho);return{saveSetting:re,getSetting:ce}},void 0),N=await je("sylvia_action_ratings",{});N[k]=X,await se("sylvia_action_ratings",N)},ze=k=>{var se;const X=(se=k.target.files)==null?void 0:se[0];X&&X.type.startsWith("audio/")&&(xe(X),A(null)),D.current&&(D.current.value="")},y=k=>{var se;const X=(se=k.target.files)==null?void 0:se[0];X&&X.type.startsWith("video/")&&(A(X),xe(null)),Z.current&&(Z.current.value="")},q=async()=>{if(!v.trim()&&!Ne&&!W)return;let k,X,se;if(Ne){const ce=await Ne.arrayBuffer();X=btoa(String.fromCharCode(...new Uint8Array(ce))),k={name:Ne.name,type:Ne.type,size:`${(Ne.size/1024).toFixed(1)} KB`}}else if(W){const ce=await W.arrayBuffer(),pe=btoa(String.fromCharCode(...new Uint8Array(ce)));se=`data:${W.type||"video/mp4"};base64,${pe}`,k={name:W.name,type:W.type,size:`${(W.size/1024).toFixed(1)} KB`}}const{getSetting:je}=await za(async()=>{const{getSetting:ce}=await Promise.resolve().then(()=>ho);return{getSetting:ce}},void 0);let N;ue?N=await je("imageGenModel","google/gemini-2.5-flash-image"):P?N=await je("webSearchModel","openai/gpt-4o-mini-search-preview"):(Ne||W)&&(N=await je("audioVideoModel","google/gemini-2.5-flash-preview-09-2025"));const re=v.trim();_(""),xe(null),A(null),ve(!1),te(!1),await u(re,k,{useImageGeneration:ue,useWebSearch:P,useAudioVideo:!!(Ne||W),audioBase64:Ne?{data:X,format:Ne.name.endsWith(".mp3")?"mp3":"wav"}:void 0,videoBase64:se,modelOverride:N})};w.useEffect(()=>{if(r)return;const k=se=>{if(!ge||!ye.current)return;const N=ye.current.getBoundingClientRect().right-se.clientX,re=Math.max(320,Math.min(800,N));oe(re)},X=()=>{be(!1)};return ge&&(document.addEventListener("mousemove",k),document.addEventListener("mouseup",X),document.body.style.cursor="ew-resize",document.body.style.userSelect="none"),()=>{document.removeEventListener("mousemove",k),document.removeEventListener("mouseup",X),document.body.style.cursor="",document.body.style.userSelect=""}},[ge,r]),w.useEffect(()=>{if(le.current&&c.length>0){const k=le.current;k.scrollHeight-k.scrollTop-k.clientHeight<100&&(k.scrollTop=k.scrollHeight)}},[c]),w.useEffect(()=>{const k=le.current;if(!k)return;const X=()=>{const se=k.scrollHeight-k.scrollTop-k.clientHeight<100;U(!se&&k.scrollHeight>k.clientHeight)};return k.addEventListener("scroll",X),X(),()=>k.removeEventListener("scroll",X)},[c]);const I=()=>{le.current&&(le.current.scrollTo({top:le.current.scrollHeight,behavior:"smooth"}),U(!1))};return l.jsxs("aside",{ref:ye,className:`glass-panel ${r?"":"resizable-panel"} flex-shrink-0 ${r?"":"rounded-[32px]"} flex flex-col border border-white/70 shadow-xl overflow-hidden ${r?"w-full h-full":""}`,style:r?void 0:{width:`${ee}px`,minWidth:"320px",maxWidth:"800px"},children:[!r&&l.jsx("div",{className:"resize-handle",onMouseDown:k=>{k.preventDefault(),be(!0)}}),l.jsxs("div",{className:"flex flex-col border-b border-white/70",children:[l.jsx("div",{className:"flex items-center justify-between px-5 py-4",children:l.jsxs("div",{children:[l.jsx("p",{className:"text-xs uppercase tracking-[0.3em] text-secondary-light",children:"Sylvia"}),l.jsx("h2",{className:"text-xl font-semibold",children:(o==null?void 0:o.title)||"Polaris Console"}),l.jsx("p",{className:"text-xs text-secondary-light",children:o?"Thread intelligence":`Ready for ${m}`})]})}),b&&b.type&&b.id&&l.jsx("div",{className:"px-5 pb-3",children:l.jsxs("div",{className:"glass-panel rounded-2xl border border-white/70 bg-white/60 px-3 py-2 flex items-center gap-2",children:[l.jsx("div",{className:"w-2 h-2 rounded-full bg-purple-500 animate-pulse"}),l.jsxs("div",{className:"flex-1 min-w-0",children:[l.jsx("p",{className:"text-[10px] uppercase tracking-[0.2em] text-secondary-light",children:"Focused on"}),l.jsxs("p",{className:"text-xs font-medium text-primary-light truncate",children:[b.type==="person"&&"Person",b.type==="brand"&&"Brand Element",b.type==="concept"&&"Concept",b.type==="journal"&&"Journal Entry",b.type==="calendar"&&"Calendar Event",b.type==="goal"&&"Goal",b.type==="task"&&"Task",b.type==="agenda"&&"Agenda Item",b.type==="deliverable"&&"Deliverable",((ne=b.data)==null?void 0:ne.name)&&`: ${b.data.name}`,((Q=b.data)==null?void 0:Q.title)&&`: ${b.data.title}`]})]})]})})]}),l.jsxs("div",{className:"flex flex-col flex-1 min-h-0 overflow-hidden",children:[l.jsxs("div",{ref:le,className:"flex-1 min-h-0 overflow-y-auto invisible-scrollbar px-5 py-4 space-y-3 relative",children:[he.length===0?l.jsx("p",{className:"text-sm text-secondary-light",children:"No conversation yet. Start by giving Sylvia instructions."}):l.jsxs(l.Fragment,{children:[he.map((k,X)=>{const se=he.findIndex((re,ce)=>ce>X&&re.sender==="user"),je=se!==-1?he[se]:null;let N=[];if(k.sender==="ai"){const re=k.createdAt,pe=X===he.length-1?Date.now():(je==null?void 0:je.createdAt)||Date.now();N=G.filter(Me=>{const qe=Me.timestamp;return qe>=re&&qe<pe}),N.sort((Me,qe)=>Me.timestamp-qe.timestamp)}return l.jsxs(xo.Fragment,{children:[l.jsxs("div",{className:`rounded-3xl border px-3 py-3 text-sm ${k.sender==="user"?"bg-white text-primary-light border-white/80 ml-auto":"bg-[#F4F7FF] text-primary-light border-[#C7D8FF] mr-auto"}`,style:{maxWidth:"90%"},children:[l.jsx("p",{className:"text-[10px] uppercase tracking-[0.3em] text-secondary-light mb-2",children:k.sender==="user"?"You":"Sylvia"}),k.sender==="user"?l.jsx(bt,{content:k.text}):l.jsx("div",{className:"sylvia-markdown-panel",children:l.jsx(bt,{content:k.text})})]}),k.sender==="ai"&&N.map(re=>l.jsx(u2,{event:re,onRate:Oe},re.id))]},k.id)}),f&&l.jsx("div",{className:"rounded-3xl border px-4 py-4 text-sm bg-[#F4F7FF] text-primary-light border-[#C7D8FF] mr-auto animate-pulse",style:{maxWidth:"90%"},children:l.jsxs("div",{className:"flex items-center gap-3",children:[l.jsx(ov,{className:"w-4 h-4 animate-spin text-purple-500"}),l.jsxs("div",{className:"flex-1",children:[l.jsx("p",{className:"text-[10px] uppercase tracking-[0.3em] text-secondary-light mb-2",children:"Sylvia"}),l.jsxs("div",{className:"flex gap-1.5",children:[l.jsx("div",{className:"w-2 h-2 rounded-full bg-purple-400 animate-bounce",style:{animationDelay:"0ms"}}),l.jsx("div",{className:"w-2 h-2 rounded-full bg-purple-400 animate-bounce",style:{animationDelay:"150ms"}}),l.jsx("div",{className:"w-2 h-2 rounded-full bg-purple-400 animate-bounce",style:{animationDelay:"300ms"}})]})]})]})})]}),$&&l.jsx("button",{onClick:I,className:"absolute bottom-6 right-6 p-2 rounded-full bg-white/90 border border-white/70 shadow-lg hover:bg-white transition-all hover:scale-110 z-10",title:"Scroll to bottom",children:l.jsx(C1,{className:"w-5 h-5 text-primary-light"})})]}),l.jsxs("div",{className:"flex-shrink-0 px-5 py-4 border-t border-white/70 bg-white/80",children:[g&&l.jsxs("div",{className:"mb-2 px-3 py-2 rounded-2xl bg-black text-white text-xs flex items-center justify-between",children:[l.jsxs("span",{className:"uppercase tracking-[0.2em]",children:["Primed: ",g.replace(/\./g," ").replace(/\b\w/g,k=>k.toUpperCase())]}),l.jsx("button",{onClick:()=>x(null),className:"ml-2 px-2 py-0.5 rounded-full bg-white/20 hover:bg-white/30 text-xs",title:"Cancel priming",children:""})]}),l.jsxs("div",{className:"mb-2 flex items-center gap-2 flex-wrap",children:[l.jsxs("button",{onClick:()=>ve(!ue),className:`px-3 py-1.5 rounded-full text-xs font-medium transition flex items-center gap-1.5 ${ue?"bg-purple-100 text-purple-700 border border-purple-300":"bg-white/80 border border-white/70 text-secondary-light hover:bg-white"}`,title:"Image Generation",children:[l.jsx(lv,{className:"w-3.5 h-3.5"}),"Image"]}),l.jsxs("button",{onClick:()=>te(!P),className:`px-3 py-1.5 rounded-full text-xs font-medium transition flex items-center gap-1.5 ${P?"bg-blue-100 text-blue-700 border border-blue-300":"bg-white/80 border border-white/70 text-secondary-light hover:bg-white"}`,title:"Web Search",children:[l.jsx(rn,{className:"w-3.5 h-3.5"}),"Search"]}),l.jsxs("label",{className:"px-3 py-1.5 rounded-full text-xs font-medium transition flex items-center gap-1.5 bg-white/80 border border-white/70 text-secondary-light hover:bg-white cursor-pointer",children:[l.jsx(Yx,{className:"w-3.5 h-3.5"}),"Audio",l.jsx("input",{ref:D,type:"file",accept:"audio/wav,audio/mp3,audio/*",onChange:ze,className:"hidden"})]}),l.jsxs("label",{className:"px-3 py-1.5 rounded-full text-xs font-medium transition flex items-center gap-1.5 bg-white/80 border border-white/70 text-secondary-light hover:bg-white cursor-pointer",children:[l.jsx(Vx,{className:"w-3.5 h-3.5"}),"Video",l.jsx("input",{ref:Z,type:"file",accept:"video/mp4,video/mpeg,video/mov,video/webm,video/*",onChange:y,className:"hidden"})]}),(Ne||W)&&l.jsxs("div",{className:"flex items-center gap-2 px-2 py-1 rounded-full bg-gray-100 text-xs",children:[l.jsx("span",{className:"text-secondary-light",children:(Ne==null?void 0:Ne.name)||(W==null?void 0:W.name)}),l.jsx("button",{onClick:()=>{xe(null),A(null)},className:"text-secondary-light hover:text-primary-light",children:l.jsx(Ft,{className:"w-3 h-3"})})]})]}),l.jsxs("div",{className:`rounded-3xl border border-white/80 bg-white flex items-end gap-2 ${r?"px-3 py-3":"px-4 py-3"}`,children:[l.jsx("textarea",{value:v,onChange:k=>_(k.target.value),onKeyDown:k=>{k.key==="Enter"&&!k.shiftKey&&(k.preventDefault(),q())},placeholder:g?"Type your message here (will be sent as primed action)...":"Send context or directives",className:`flex-1 resize-none bg-transparent outline-none ${r?"text-base":"text-sm"}`,rows:r?3:2}),l.jsx("button",{onClick:q,className:`${r?"px-5 py-3":"px-4 py-2"} rounded-2xl bg-[#111827] text-white text-sm font-medium disabled:bg-gray-400 transition-colors ${r?"min-h-[44px]":""}`,disabled:!v.trim()&&!Ne&&!W,children:"Send"})]})]})]})]})},ax=["openrouter/polaris-alpha","anthropic/claude-sonnet-4.5","anthropic/claude-haiku-4.5","anthropic/claude-3.5-sonnet","anthropic/claude-3-opus","google/gemini-2.5-pro","google/gemini-2.5-flash-preview-09-2025","google/gemini-2.5-flash-lite-preview-09-2025","google/gemini-pro-1.5","x-ai/grok-4","x-ai/grok-4-fast","x-ai/grok-code-fast-1","openai/gpt-5-chat","openai/gpt-5","openai/gpt-5-mini","openai/gpt-5-nano","openai/gpt-4.1","openai/gpt-4.1-nano","openai/gpt-4o","openai/gpt-4o-mini","meta-llama/llama-3.1-405b-instruct","meta-llama/llama-3.1-70b-instruct","minimax/minimax-m2","amazon/nova-premier-v1"],lx=["qwen/qwen3-embedding-8b","google/gemini-embedding-001","openai/text-embedding-3-small"],d2=()=>{const{settings:r,updateSetting:o,setActiveView:c}=al(),[u,h]=w.useState(!1),[m,g]=w.useState(!1),[x,b]=w.useState(!1),[f,v]=w.useState(!1),[_,M]=w.useState(!1);return l.jsxs("div",{className:"flex flex-col h-full",children:[l.jsxs("div",{className:"glass-panel border border-white/70 dark:border-white/10 rounded-[32px] mx-4 mt-2 px-6 py-6 flex flex-col gap-2 md:flex-row md:items-center md:justify-between",children:[l.jsxs("div",{children:[l.jsx("p",{className:"text-xs uppercase tracking-[0.2em] text-secondary-light dark:text-secondary-dark",children:"Every piece of intel matters"}),l.jsx("h1",{className:"text-2xl font-semibold mt-1",children:"Northstar Control Room"}),l.jsx("p",{className:"text-sm text-secondary-light dark:text-secondary-dark max-w-2xl",children:"This is where Sylvia gets her edge. Bring your own OpenRouter key, shape the Polaris stack, and tune the JIT Memory pipeline so our agent never forgets what matters."})]}),l.jsx("button",{onClick:()=>c(tt.CHAT),className:"mt-2 md:mt-0 inline-flex items-center justify-center px-4 py-2 rounded-2xl bg-black text-white text-sm hover:shadow-lg transition-colors",children:"Back to chat"})]}),l.jsxs("div",{className:"flex-1 overflow-y-auto px-4 py-6 space-y-6 soft-scrollbar",children:[l.jsxs("section",{className:"glass-panel rounded-[32px] border border-white/70 dark:border-white/10 p-6 shadow-xl",children:[l.jsxs("div",{className:"flex flex-col gap-2 mb-6",children:[l.jsx("p",{className:"text-xs font-semibold text-accent tracking-[0.3em] uppercase",children:"Bring Your Own Key"}),l.jsx("h2",{className:"text-xl font-semibold",children:"OpenRouter  Polaris Alpha"}),l.jsx("p",{className:"text-sm text-secondary-light dark:text-secondary-dark",children:"We default to `openrouter/polaris-alpha` (256k context, 128k max output). Your key never leaves the browser  it lives in IndexedDB alongside your threads."})]}),l.jsxs("div",{className:"grid gap-6 lg:grid-cols-2",children:[l.jsxs("div",{className:"space-y-4",children:[l.jsx("label",{className:"text-sm font-medium",children:"OpenRouter API Key"}),l.jsxs("div",{className:"relative",children:[l.jsx("input",{type:u?"text":"password",value:r.apiKey||"",onChange:j=>o("apiKey",j.target.value),placeholder:"sk-or-...",className:"w-full p-3 rounded-2xl border border-white/70 bg-white/80 pr-28"}),l.jsx("button",{type:"button",onClick:()=>h(j=>!j),className:"absolute top-1/2 right-2 -translate-y-1/2 text-sm px-3 py-1 rounded-full bg-black text-white",children:u?"Hide":"Reveal"})]}),l.jsx("p",{className:"text-xs text-secondary-light dark:text-secondary-dark",children:"Stored locally only. Rotate whenever you need."}),l.jsxs("div",{className:"space-y-4 pt-2",children:[l.jsxs("div",{className:"flex items-center justify-between",children:[l.jsx("label",{className:"text-sm font-medium",children:"Weighted System Prompts"}),l.jsxs("div",{className:"flex gap-2",children:[r.weightedPrompts&&r.weightedPrompts.length>0&&l.jsx("button",{onClick:()=>{const j=r.weightedPrompts||[],G=Math.floor(100/j.length),R=100-G*j.length,ee=j.map((oe,ge)=>({...oe,weight:G+(ge<R?1:0)}));o("weightedPrompts",ee)},className:"px-3 py-1 rounded-full bg-white border border-white/70 text-xs hover:bg-white/90",title:"Distribute weights evenly",children:"Auto-Balance"}),l.jsx("button",{onClick:()=>{const j=r.weightedPrompts||[],G={id:`prompt-${Date.now()}`,content:"",weight:j.length===0?100:0};o("weightedPrompts",[...j,G])},className:"px-3 py-1 rounded-full bg-black text-white text-xs",children:"+ Add Prompt"})]})]}),r.weightedPrompts&&r.weightedPrompts.length>0?l.jsxs("div",{className:"space-y-3",children:[r.weightedPrompts.map((j,G)=>((r.weightedPrompts||[]).reduce((R,ee)=>R+ee.weight,0),l.jsxs("div",{className:"rounded-2xl border border-white/70 bg-white/80 p-4 space-y-3",children:[l.jsxs("div",{className:"flex items-center justify-between",children:[l.jsxs("span",{className:"text-xs uppercase tracking-[0.2em] text-secondary-light",children:["Prompt ",G+1]}),l.jsxs("div",{className:"flex items-center gap-2",children:[l.jsx("input",{type:"number",min:"0",max:"100",value:j.weight,onChange:R=>{const ee=Math.max(0,Math.min(100,parseInt(R.target.value)||0)),oe=[...r.weightedPrompts||[]];oe[G]={...j,weight:ee},o("weightedPrompts",oe)},className:"w-20 px-2 py-1 rounded-full border border-white/70 bg-white text-sm text-center"}),l.jsx("span",{className:"text-xs text-secondary-light",children:"%"}),l.jsx("button",{onClick:()=>{const R=(r.weightedPrompts||[]).filter(ee=>ee.id!==j.id);if(R.length>0&&R.reduce((ee,oe)=>ee+oe.weight,0)!==100){const oe=(100-R.reduce((ge,be)=>ge+be.weight,0))/R.length;R.forEach(ge=>{ge.weight=Math.max(0,Math.min(100,ge.weight+oe))})}o("weightedPrompts",R)},className:"px-2 py-1 rounded-full bg-red-500/20 text-red-600 text-xs hover:bg-red-500/30",children:""})]})]}),l.jsx("textarea",{value:j.content,onChange:R=>{const ee=[...r.weightedPrompts||[]];ee[G]={...j,content:R.target.value},o("weightedPrompts",ee)},placeholder:`Enter prompt ${G+1} content...`,className:"w-full rounded-2xl border border-white/70 bg-white px-4 py-3 text-sm min-h-[120px] resize-y"})]},j.id))),l.jsxs("div",{className:`rounded-2xl border p-3 text-xs ${(r.weightedPrompts||[]).reduce((j,G)=>j+G.weight,0)===100?"border-green-500/50 bg-green-500/10 text-green-700":"border-red-500/50 bg-red-500/10 text-red-700"}`,children:[l.jsxs("div",{className:"flex items-center justify-between",children:[l.jsx("span",{children:"Total Weight:"}),l.jsxs("span",{className:"font-semibold",children:[(r.weightedPrompts||[]).reduce((j,G)=>j+G.weight,0),"%"]})]}),(r.weightedPrompts||[]).reduce((j,G)=>j+G.weight,0)!==100&&l.jsx("p",{className:"mt-1",children:"Weights must equal exactly 100%"})]})]}):l.jsxs("div",{className:"rounded-2xl border border-dashed border-white/50 p-4 text-center text-xs text-secondary-light",children:[l.jsx("p",{children:"No weighted prompts configured."}),l.jsx("p",{className:"mt-1",children:"Add prompts with weights that sum to 100%"})]})]}),l.jsx("div",{className:"rounded-2xl border border-dashed border-white/50 p-3 text-xs text-secondary-light",children:"Legacy single system prompt (deprecated - use weighted prompts above)"}),l.jsxs("div",{className:"space-y-2 pt-2",children:[l.jsx("label",{className:"text-sm font-medium",children:"Auxiliary OpenRouter Key (optional)"}),l.jsxs("div",{className:"relative",children:[l.jsx("input",{type:m?"text":"password",value:r.secondaryApiKey||"",onChange:j=>o("secondaryApiKey",j.target.value),placeholder:"sk-or-...",className:"w-full p-3 rounded-2xl border border-white/70 bg-white/80 pr-28"}),l.jsx("button",{type:"button",onClick:()=>g(j=>!j),className:"absolute top-1/2 right-2 -translate-y-1/2 text-sm px-3 py-1 rounded-full bg-black text-white",children:m?"Hide":"Reveal"})]}),l.jsx("p",{className:"text-xs text-secondary-light dark:text-secondary-dark",children:"Use this for embeddings, experiments, or as a reserve key. Stored locally just like the primary key."})]}),l.jsxs("div",{className:"space-y-2 pt-2",children:[l.jsx("label",{className:"text-sm font-medium",children:"Audit API Key (Free Model)"}),l.jsxs("div",{className:"relative",children:[l.jsx("input",{type:x?"text":"password",value:r.auditApiKey||"",onChange:j=>o("auditApiKey",j.target.value),placeholder:"sk-or-... (uses free polaris-alpha)",className:"w-full p-3 rounded-2xl border border-white/70 bg-white/80 pr-28"}),l.jsx("button",{type:"button",onClick:()=>b(j=>!j),className:"absolute top-1/2 right-2 -translate-y-1/2 text-sm px-3 py-1 rounded-full bg-black text-white",children:x?"Hide":"Reveal"})]}),l.jsx("p",{className:"text-xs text-secondary-light dark:text-secondary-dark",children:"Optional key for the audit agent. Uses free openrouter/polaris-alpha model to periodically audit journal entries and catch missed entity extractions. Runs automatically when configured."})]})]}),l.jsxs("div",{className:"space-y-6",children:[l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-medium mb-2",children:"Primary Model"}),l.jsxs("div",{className:"relative",children:[l.jsx("select",{className:"w-full p-3 rounded-2xl border border-white/70 bg-white/80 appearance-none",value:r.mainModel||"openrouter/polaris-alpha",onChange:j=>o("mainModel",j.target.value),children:ax.map(j=>l.jsx("option",{value:j,children:j},j))}),l.jsx(mo,{className:"w-5 h-5 absolute right-3 top-1/2 -translate-y-1/2 pointer-events-none"})]}),l.jsx("p",{className:"text-xs text-secondary-light dark:text-secondary-dark mt-1",children:"Max output tokens defaults to 128k for Polaris Alpha."})]}),l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-medium mb-2",children:"Backup Model"}),l.jsxs("div",{className:"relative",children:[l.jsx("select",{className:"w-full p-3 rounded-2xl border border-white/70 bg-white/80 appearance-none",value:r.backupModel||"x-ai/grok-4-fast",onChange:j=>o("backupModel",j.target.value),children:ax.map(j=>l.jsx("option",{value:j,children:j},j))}),l.jsx(mo,{className:"w-5 h-5 absolute right-3 top-1/2 -translate-y-1/2 pointer-events-none"})]})]}),l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-medium mb-2",children:"Embedding Model"}),l.jsxs("div",{className:"relative",children:[l.jsx("select",{className:"w-full p-3 rounded-2xl border border-white/70 bg-white/80 appearance-none",value:r.embeddingModel||lx[0],onChange:j=>o("embeddingModel",j.target.value),children:lx.map(j=>l.jsx("option",{value:j,children:j},j))}),l.jsx(mo,{className:"w-5 h-5 absolute right-3 top-1/2 -translate-y-1/2 pointer-events-none"})]}),l.jsx("p",{className:"text-xs text-secondary-light dark:text-secondary-dark mt-1",children:"Used for memory search + post-processing visibility when we turn on embedding flows."})]}),l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-medium mb-2",children:"Audit Interval (minutes)"}),l.jsx("input",{type:"number",min:"15",max:"1440",className:"w-full p-3 rounded-2xl border border-white/70 bg-white/80",placeholder:"60",value:r.auditInterval||60,onChange:j=>o("auditInterval",parseInt(j.target.value)||60)}),l.jsx("p",{className:"text-xs text-secondary-light dark:text-secondary-dark mt-1",children:"How often the audit agent checks journal entries for missed entities (15-1440 minutes). Default: 60 minutes."})]}),l.jsxs("div",{children:[l.jsxs("label",{className:"flex items-center justify-between text-sm font-medium mb-2",children:[l.jsx("span",{children:"Temperature"}),l.jsx("span",{className:"text-secondary-light dark:text-secondary-dark",children:r.temperature??.7})]}),l.jsx("input",{type:"range",min:"0",max:"2",step:"0.1",value:r.temperature??.7,onChange:j=>o("temperature",parseFloat(j.target.value)),className:"w-full"})]}),l.jsxs("div",{children:[l.jsxs("label",{className:"flex items-center justify-between text-sm font-medium mb-2",children:[l.jsx("span",{children:"Max Output Tokens"}),l.jsx("span",{className:"text-secondary-light dark:text-secondary-dark",children:r.maxTokens??128e3})]}),l.jsx("input",{type:"range",min:"4000",max:"128000",step:"1000",value:r.maxTokens??128e3,onChange:j=>o("maxTokens",Number(j.target.value)),className:"w-full"}),l.jsx("p",{className:"text-xs text-secondary-light dark:text-secondary-dark mt-1",children:"Keep it high for Polaris (128k), dial it down for smaller context models."})]})]})]})]}),l.jsxs("section",{className:"glass-panel rounded-[32px] border border-white/70 dark:border-white/10 p-6 shadow-xl space-y-4",children:[l.jsxs("div",{children:[l.jsx("p",{className:"text-xs uppercase tracking-[0.3em] text-secondary-light dark:text-secondary-dark",children:"Experimental"}),l.jsx("h2",{className:"text-xl font-semibold mt-1",children:"Preflection"}),l.jsx("p",{className:"text-sm text-secondary-light dark:text-secondary-dark",children:"Dynamic instruction generation that analyzes context and generates query-specific system instructions. Each query receives tailored guidance optimized for its type and available context."})]}),l.jsxs("div",{className:"flex items-center justify-between p-4 rounded-xl border border-white/70 dark:border-white/10 bg-white/50 dark:bg-gray-900/50",children:[l.jsxs("div",{className:"flex-1",children:[l.jsx("label",{htmlFor:"preflectionEnabled",className:"text-sm font-medium cursor-pointer",children:"Enable Preflection"}),l.jsx("p",{className:"text-xs text-secondary-light dark:text-secondary-dark mt-1",children:"Analyzes each query, generates dynamic instructions, and primes the agent with context-specific guidance. Adds one extra API call per message."})]}),l.jsx("div",{className:"flex items-center",children:l.jsx("input",{type:"checkbox",id:"preflectionEnabled",checked:r.preflectionEnabled||!1,onChange:j=>o("preflectionEnabled",j.target.checked),className:"w-5 h-5 rounded border-gray-300 text-black focus:ring-2 focus:ring-black"})})]})]}),l.jsxs("section",{className:"glass-panel rounded-[32px] border border-white/70 dark:border-white/10 p-6 shadow-xl space-y-4",children:[l.jsxs("div",{children:[l.jsx("p",{className:"text-xs uppercase tracking-[0.3em] text-secondary-light dark:text-secondary-dark",children:"Status"}),l.jsx("h2",{className:"text-xl font-semibold mt-1",children:"Local persistence"}),l.jsx("p",{className:"text-sm text-secondary-light dark:text-secondary-dark",children:"Threads, artifacts, and settings stay on-device via IndexedDB for true BYO-key privacy."})]}),l.jsx("div",{className:"grid gap-4 md:grid-cols-3",children:[{title:"Threads",detail:"Conversation metadata + ordering live locally."},{title:"Artifacts",detail:"Per-thread documents sync directly to IndexedDB."},{title:"Settings",detail:"API prefs + keys never leave the browser."}].map(j=>l.jsxs("div",{className:"p-4 rounded-xl border border-white/70 dark:border-white/10 flex flex-col gap-2",children:[l.jsx("div",{className:"w-8 h-8 rounded-full bg-accent/10 text-accent flex items-center justify-center",children:l.jsx(Zb,{className:"w-4 h-4"})}),l.jsx("h3",{className:"font-semibold text-base",children:j.title}),l.jsx("p",{className:"text-sm text-secondary-light dark:text-secondary-dark",children:j.detail})]},j.title))})]}),l.jsxs("section",{className:"glass-panel rounded-[32px] border-2 border-red-200 dark:border-red-800 p-6 shadow-xl space-y-4 bg-gradient-to-br from-red-50/50 to-orange-50/50 dark:from-red-950/20 dark:to-orange-950/20",children:[l.jsxs("div",{children:[l.jsx("p",{className:"text-xs uppercase tracking-[0.3em] text-red-600 dark:text-red-400 font-bold",children:" DANGER ZONE"}),l.jsx("h2",{className:"text-xl font-semibold mt-1 text-red-700 dark:text-red-300",children:"Clear Everything"}),l.jsx("p",{className:"text-sm text-secondary-light dark:text-secondary-dark mt-2",children:"This will permanently delete all your data: threads, messages, journal entries, calendar events, agenda items, people, clients, brand records, pomodoros, XP, and achievements. This action cannot be undone."})]}),f?l.jsxs("div",{className:"space-y-4 p-4 rounded-2xl bg-white/80 dark:bg-gray-900/80 border-2 border-red-300 dark:border-red-700",children:[l.jsxs("div",{className:"flex items-start gap-3",children:[l.jsx("span",{className:"text-2xl",children:""}),l.jsxs("div",{className:"flex-1",children:[l.jsx("p",{className:"font-semibold text-red-700 dark:text-red-300 mb-2",children:"Are you absolutely sure?"}),l.jsx("p",{className:"text-sm text-gray-700 dark:text-gray-300 mb-4",children:"This will delete:"}),l.jsxs("ul",{className:"text-sm text-gray-600 dark:text-gray-400 space-y-1 mb-4 list-disc list-inside",children:[l.jsx("li",{children:"All threads and messages"}),l.jsx("li",{children:"All journal entries"}),l.jsx("li",{children:"All calendar events"}),l.jsx("li",{children:"All agenda items"}),l.jsx("li",{children:"All people, clients, and brand records"}),l.jsx("li",{children:"All pomodoro sessions"}),l.jsx("li",{children:"All XP and achievements"}),l.jsx("li",{children:"All deliverables, goals, and other records"})]}),l.jsx("p",{className:"text-xs font-semibold text-red-600 dark:text-red-400",children:"This action is IRREVERSIBLE. Your settings (API keys, etc.) will be preserved unless you check the box below."})]})]}),l.jsxs("div",{className:"flex items-center gap-2",children:[l.jsx("input",{type:"checkbox",id:"clearSettings",className:"w-4 h-4 rounded border-gray-300"}),l.jsx("label",{htmlFor:"clearSettings",className:"text-sm text-gray-700 dark:text-gray-300",children:"Also clear settings (API keys, prompts, etc.)"})]}),l.jsxs("div",{className:"flex gap-3",children:[l.jsx("button",{onClick:async()=>{var j;M(!0);try{const G=((j=document.getElementById("clearSettings"))==null?void 0:j.checked)||!1;await px(G),v(!1),M(!1),window.location.reload()}catch(G){console.error("Failed to clear data:",G),alert("Failed to clear data. Please try again."),M(!1)}},disabled:_,className:"px-6 py-3 rounded-2xl bg-red-600 hover:bg-red-700 text-white font-semibold transition-colors shadow-lg disabled:opacity-50 disabled:cursor-not-allowed",children:_?"Clearing...":"Yes, Clear Everything"}),l.jsx("button",{onClick:()=>{v(!1)},disabled:_,className:"px-6 py-3 rounded-2xl bg-white dark:bg-gray-800 border border-gray-300 dark:border-gray-600 text-gray-700 dark:text-gray-300 font-semibold transition-colors disabled:opacity-50 disabled:cursor-not-allowed",children:"Cancel"})]})]}):l.jsx("div",{className:"flex gap-3",children:l.jsx("button",{onClick:()=>v(!0),className:"px-6 py-3 rounded-2xl bg-red-600 hover:bg-red-700 text-white font-semibold transition-colors shadow-lg",children:"Clear All Data"})})]})]})]})},Jt=({title:r,subtitle:o,children:c})=>l.jsxs("div",{className:"glass-panel flex-1 h-full lg:rounded-[34px] rounded-2xl border border-white/70 shadow-2xl overflow-hidden flex flex-col",children:[l.jsxs("div",{className:"px-4 sm:px-6 lg:px-8 py-4 lg:py-6 border-b border-white/70 flex-shrink-0",children:[l.jsx("p",{className:"text-[10px] sm:text-xs uppercase tracking-[0.3em] text-secondary-light",children:"Sylvia Workspace"}),l.jsx("h1",{className:"text-xl sm:text-2xl lg:text-3xl font-semibold mt-1",children:r}),o&&l.jsx("p",{className:"text-xs sm:text-sm text-secondary-light mt-1 max-w-2xl",children:o})]}),l.jsx("div",{className:"flex-1 min-h-0 overflow-y-auto px-4 sm:px-6 lg:px-8 py-4 lg:py-6 invisible-scrollbar",children:c})]}),nx={voice:{label:"Voice",Icon:Yx,color:"text-purple-700",bgColor:"bg-purple-50"},visual:{label:"Visual",Icon:Ud,color:"text-pink-700",bgColor:"bg-pink-50"},positioning:{label:"Positioning",Icon:Ld,color:"text-blue-700",bgColor:"bg-blue-50"},values:{label:"Values",Icon:jo,color:"text-emerald-700",bgColor:"bg-emerald-50"},messaging:{label:"Messaging",Icon:So,color:"text-indigo-700",bgColor:"bg-indigo-50"},other:{label:"Other",Icon:tl,color:"text-gray-700",bgColor:"bg-gray-50"}},Ju=(r,o)=>{const c=`${r} ${o}`.toLowerCase();return c.match(/\b(voice|tone|speak|say|language|words|communicate)\b/)?"voice":c.match(/\b(visual|design|color|font|logo|image|aesthetic|style)\b/)?"visual":c.match(/\b(position|positioning|market|competitor|differentiate|unique)\b/)?"positioning":c.match(/\b(value|values|principle|belief|ethos|mission|vision)\b/)?"values":c.match(/\b(message|messaging|tagline|slogan|copy|content|narrative)\b/)?"messaging":"other"},h2=()=>{const{setEntityDetailView:r,setActiveEntity:o}=al(),[c,u]=w.useState([]),[h,m]=w.useState(null),[g,x]=w.useState(""),[b,f]=w.useState(""),[v,_]=w.useState(""),[M,j]=w.useState("all"),G=w.useCallback(async()=>{const le=await F.getBrandRecords();u(le.sort(($,U)=>U.createdAt-$.createdAt))},[]);w.useEffect(()=>(G(),sn("brand",G)),[G]);const R=w.useMemo(()=>{let le=c;if(M!=="all"&&(le=le.filter($=>Ju($.name,$.description)===M)),v.trim()){const $=v.toLowerCase();le=le.filter(U=>U.name.toLowerCase().includes($)||U.description.toLowerCase().includes($))}return le},[c,M,v]),ee=w.useMemo(()=>{const le={voice:0,visual:0,positioning:0,values:0,messaging:0,other:0};return c.forEach($=>{const U=Ju($.name,$.description);le[U]++}),le},[c]),oe=le=>{m(le),x(le.name),f(le.description)},ge=async()=>{h&&(await F.saveBrandRecord({...h,name:g,description:b}),m(null),x(""),f(""),G())},be=()=>{m(null),x(""),f("")},ye=async le=>{await F.deleteBrandRecord(le),G()};return l.jsxs(Jt,{title:"Brand Systems",subtitle:"Your brand DNA. Voice, visual language, positioning, and values that Sylvia references in every conversation.",children:[l.jsx("div",{className:"grid grid-cols-2 sm:grid-cols-3 md:grid-cols-6 gap-4 mb-6",children:Object.entries(nx).map(([le,$])=>{const U=le,ue=ee[U];return l.jsxs("div",{onClick:()=>j(M===U?"all":U),className:`rounded-2xl border p-4 cursor-pointer transition-all ${M===U?"border-black bg-black text-white shadow-lg":"border-white/70 bg-white/80 hover:bg-white hover:shadow-md"}`,children:[l.jsxs("div",{className:"flex items-center justify-between mb-2",children:[l.jsx($.Icon,{className:`w-6 h-6 ${M===U?"text-white":$.color}`}),l.jsx("span",{className:`text-2xl font-bold ${M===U?"text-white":"text-black"}`,children:ue})]}),l.jsx("p",{className:`text-xs uppercase tracking-[0.2em] ${M===U?"text-white/80":"text-secondary-light"}`,children:$.label})]},le)})}),l.jsx("div",{className:"mb-6",children:l.jsx("div",{className:"glass-panel rounded-2xl border border-white/70 p-4",children:l.jsxs("div",{className:"flex items-center gap-3",children:[l.jsx(rn,{className:"w-5 h-5 text-secondary-light"}),l.jsx("input",{type:"text",value:v,onChange:le=>_(le.target.value),placeholder:"Search brand elements...",className:"flex-1 bg-transparent outline-none text-lg placeholder:text-secondary-light"}),v&&l.jsx("button",{onClick:()=>_(""),className:"px-3 py-1 rounded-full bg-white/80 border border-white/70 text-sm hover:bg-white transition",children:"Clear"})]})})}),R.length===0?l.jsxs("div",{className:"glass-panel rounded-3xl border border-white/70 p-12 text-center",children:[l.jsx("div",{className:"flex justify-center mb-4",children:l.jsx(Ud,{className:"w-16 h-16 text-secondary-light"})}),l.jsx("h3",{className:"text-xl font-semibold mb-2",children:c.length===0?"No brand elements yet":"No matches found"}),l.jsx("p",{className:"text-secondary-light",children:c.length===0?"Tell Sylvia about your brand voice, visual language, positioning, or values. She'll remember and reference them.":"Try adjusting your search or category filter."})]}):l.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:R.map(le=>{const $=Ju(le.name,le.description),U=nx[$],ue=(h==null?void 0:h.id)===le.id;return l.jsx("div",{onClick:ve=>{ve.target.closest("button")||ue||(r({type:"brand",id:le.id}),o({type:"brand",id:le.id,data:le}))},className:`rounded-3xl border p-6 transition-all ${ue?"border-black bg-black text-white shadow-xl":"border-white/70 bg-white/90 hover:shadow-lg hover:border-white cursor-pointer"}`,children:ue?l.jsxs("div",{className:"space-y-4",children:[l.jsxs("div",{children:[l.jsx("label",{className:"text-xs uppercase tracking-[0.2em] text-white/70 mb-2 block",children:"Element Name"}),l.jsx("input",{value:g,onChange:ve=>x(ve.target.value),className:"w-full rounded-2xl border border-white/30 bg-white/10 px-4 py-2 text-white placeholder:text-white/50 focus:outline-none focus:ring-2 focus:ring-white/50",placeholder:"Brand element name"})]}),l.jsxs("div",{children:[l.jsx("label",{className:"text-xs uppercase tracking-[0.2em] text-white/70 mb-2 block",children:"Description / Guidance"}),l.jsx("textarea",{value:b,onChange:ve=>f(ve.target.value),rows:6,className:"w-full rounded-2xl border border-white/30 bg-white/10 px-4 py-2 text-white placeholder:text-white/50 focus:outline-none focus:ring-2 focus:ring-white/50 resize-none",placeholder:"How should Sylvia reference this? What makes it unique?"})]}),l.jsxs("div",{className:"flex gap-2",children:[l.jsx("button",{onClick:ge,className:"flex-1 px-4 py-2 rounded-2xl bg-white text-black font-semibold hover:bg-gray-100 transition",children:"Save"}),l.jsx("button",{onClick:be,className:"px-4 py-2 rounded-2xl bg-white/20 text-white border border-white/30 hover:bg-white/30 transition",children:"Cancel"})]})]}):l.jsxs(l.Fragment,{children:[l.jsx("div",{className:"flex items-start justify-between mb-4",children:l.jsxs("div",{className:"flex items-center gap-3",children:[l.jsx("div",{className:`w-12 h-12 rounded-2xl ${U.bgColor} flex items-center justify-center`,children:l.jsx(U.Icon,{className:`w-6 h-6 ${U.color}`})}),l.jsxs("div",{children:[l.jsx("div",{className:`inline-block px-2 py-0.5 rounded-full text-xs font-semibold ${U.bgColor} ${U.color} mb-1`,children:U.label}),l.jsx("h3",{className:"text-xl font-bold",children:le.name})]})]})}),l.jsx("div",{className:"mb-4",children:l.jsx(bt,{content:le.description,className:"text-sm leading-relaxed"})}),l.jsxs("div",{className:"flex items-center justify-between pt-4 border-t border-white/20",children:[l.jsx("span",{className:"text-xs text-secondary-light",children:new Date(le.createdAt).toLocaleDateString("en-US",{month:"short",day:"numeric",year:"numeric"})}),l.jsxs("div",{className:"flex gap-2",children:[l.jsx("button",{onClick:()=>oe(le),className:"px-3 py-1.5 rounded-full bg-white/80 border border-white/70 text-xs font-medium hover:bg-white transition",children:"Edit"}),l.jsx("button",{onClick:()=>ye(le.id),className:"px-3 py-1.5 rounded-full bg-white/80 border border-white/70 text-xs font-medium hover:bg-red-50 hover:border-red-200 hover:text-red-700 transition",children:"Delete"})]})]})]})},le.id)})})]})},m2=[/\b(?:ai|artificial intelligence|machine learning|application|app|system|platform|tool|software|technology|concept|idea|model|framework|algorithm|method|approach|strategy|process|workflow|solution|product|service|feature|functionality)\b/i,/\b(?:the|a|an)\s+[A-Z][a-z]+ [A-Z][a-z]+/i,/[A-Z][a-z]+ [A-Z][a-z]+ (?:is|are|works|does|can|will|should|has|have)/i],f2=[/\b(?:person|people|individual|human|contact|colleague|friend|partner|client|customer|user|they|them|their|he|she|his|her|him)\b/i,/\b(?:meet|met|talk|spoke|email|call|contact|know|works with|collaborates with)\b/i,/\b(?:@|email|phone|number|address)\b/i];async function p2(){const r={migrated:0,kept:0,errors:[]};try{const o=await F.getPeopleRecords();for(const c of o){const u=[c.name,c.role,c.company,c.profile,c.notes].filter(Boolean).join(" "),h=m2.some(g=>g.test(u)),m=f2.some(g=>g.test(u));if(h&&!m)try{const g={id:`concept-${Date.now()}-${Math.random().toString(36).substr(2,9)}`,name:c.name,description:c.profile||c.notes||void 0,category:c.company||c.role||void 0,tags:c.tags,notes:c.notes||void 0,createdAt:c.createdAt};await F.saveConceptRecord(g),await F.deletePeopleRecord(c.id),r.migrated++}catch(g){r.errors.push(`Failed to migrate ${c.name}: ${g instanceof Error?g.message:String(g)}`)}else r.kept++}}catch(o){r.errors.push(`Migration failed: ${o instanceof Error?o.message:String(o)}`)}return r}const x2=["Decision Maker","Technical","Gatekeeper","Influencer","Champion","Stakeholder","Collaborator","Mentor","Client","Vendor","Partner"],g2=["Reports To","Manages","Collaborates With","Mentor","Mentee","Peer","Client","Vendor","Partner","Advisor","Colleague"],b2=()=>{const{setActiveEntity:r}=al(),[o,c]=w.useState([]),[u,h]=w.useState(null),[m,g]=w.useState(null),[x,b]=w.useState(""),[f,v]=w.useState(null),[_,M]=w.useState(!1),[j,G]=w.useState(""),[R,ee]=w.useState(""),[oe,ge]=w.useState("moderate"),[be,ye]=w.useState(""),[le,$]=w.useState(!1),[U,ue]=w.useState(null),[ve,P]=w.useState(""),[te,Ne]=w.useState(""),[xe,W]=w.useState(""),[A,D]=w.useState(""),[Z,he]=w.useState(""),[Oe,ze]=w.useState(""),[y,q]=w.useState([]),[I,ne]=w.useState(""),[Q,k]=w.useState(""),[X,se]=w.useState([]),[je,N]=w.useState(""),[re,ce]=w.useState(""),pe=w.useCallback(async()=>{const H=await F.getPeopleRecords();c(H.sort((Ue,Xe)=>(Xe.updatedAt||Xe.createdAt)-(Ue.updatedAt||Ue.createdAt)))},[]);w.useEffect(()=>(pe(),sn("people",pe)),[pe]);const Me=w.useMemo(()=>{let H=o;if(x.trim()){const Ue=x.toLowerCase();H=H.filter(Xe=>{var Ut,K,V,De,Ie,Qe;return Xe.name.toLowerCase().includes(Ue)||((Ut=Xe.role)==null?void 0:Ut.toLowerCase().includes(Ue))||((K=Xe.company)==null?void 0:K.toLowerCase().includes(Ue))||((V=Xe.attributes)==null?void 0:V.some(me=>me.toLowerCase().includes(Ue)))||((De=Xe.tags)==null?void 0:De.some(me=>me.toLowerCase().includes(Ue)))||((Ie=Xe.profile)==null?void 0:Ie.toLowerCase().includes(Ue))||((Qe=Xe.notes)==null?void 0:Qe.toLowerCase().includes(Ue))})}return f&&(H=H.filter(Ue=>{var Xe;return(Xe=Ue.attributes)==null?void 0:Xe.includes(f)})),H},[o,x,f]),qe=w.useMemo(()=>{const H=new Set;return o.forEach(Ue=>{var Xe;(Xe=Ue.attributes)==null||Xe.forEach(Ut=>H.add(Ut))}),Array.from(H).sort()},[o]),yt=H=>o.find(Ue=>Ue.id===H),Be=H=>{h(H),P(H.name),Ne(H.role||""),W(H.company||""),D(H.location||""),he(H.email||""),ze(H.phone||""),q(H.attributes||[]),ne(H.profile||""),k(H.notes||""),se(H.tags||[]),g(null),r({type:"person",id:H.id,data:H})},vt=()=>{h(null),P(""),Ne(""),W(""),D(""),he(""),ze(""),q([]),ne(""),k(""),se([]),N(""),ce(""),r({type:null,id:""})},At=async()=>{u&&(await F.savePeopleRecord({...u,name:ve,role:te||void 0,company:xe||void 0,location:A||void 0,email:Z||void 0,phone:Oe||void 0,attributes:y.length>0?y:void 0,profile:I||void 0,notes:Q||void 0,tags:X.length>0?X:void 0,updatedAt:Date.now()}),vt(),pe())},C=async H=>{var Xe,Ut,K;const Ue=o.map(V=>{var De;return{...V,connections:((De=V.connections)==null?void 0:De.filter(Ie=>Ie.personId!==H))||[],updatedAt:Date.now()}});for(const V of Ue)((Xe=V.connections)==null?void 0:Xe.length)!==((K=(Ut=o.find(De=>De.id===V.id))==null?void 0:Ut.connections)==null?void 0:K.length)&&await F.savePeopleRecord(V);await F.deletePeopleRecord(H),pe()},Se=()=>{je.trim()&&!y.includes(je.trim())&&(q([...y,je.trim()]),N(""))},Te=H=>{q(y.filter(Ue=>Ue!==H))},_e=()=>{re.trim()&&!X.includes(re.trim())&&(se([...X,re.trim()]),ce(""))},fe=H=>{se(X.filter(Ue=>Ue!==H))},Fe=async()=>{$(!0),ue(null);try{const H=await p2();ue(H),pe()}catch(H){ue({migrated:0,kept:0,errors:[H instanceof Error?H.message:String(H)]})}finally{$(!1)}},He=async()=>{var Ue;if(!m||!j||!R)return;if((Ue=m.connections)==null?void 0:Ue.some(Xe=>Xe.personId===j&&Xe.relationship===R)){alert("This connection already exists");return}await F.savePeopleRecord({...m,connections:[...m.connections||[],{personId:j,relationship:R,strength:oe,notes:be||void 0}],updatedAt:Date.now()}),M(!1),G(""),ee(""),ge("moderate"),ye(""),pe()};return l.jsxs(Jt,{title:"People Network",subtitle:"Rich profiles, attributes, and connections. The foundation for Sylvia's context engineering and Polaris goal execution.",children:[l.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 md:grid-cols-4 gap-4 mb-6",children:[l.jsxs("div",{className:"rounded-2xl border border-white/70 bg-gradient-to-br from-blue-50 to-blue-100 p-4",children:[l.jsxs("div",{className:"flex items-center justify-between mb-2",children:[l.jsx(tn,{className:"w-6 h-6 text-blue-600"}),l.jsx("span",{className:"text-2xl font-bold text-black",children:o.length})]}),l.jsx("p",{className:"text-xs uppercase tracking-[0.2em] text-gray-600",children:"Total People"})]}),l.jsxs("div",{className:"rounded-2xl border border-white/70 bg-gradient-to-br from-purple-50 to-purple-100 p-4",children:[l.jsxs("div",{className:"flex items-center justify-between mb-2",children:[l.jsx(Ku,{className:"w-6 h-6 text-purple-600"}),l.jsx("span",{className:"text-2xl font-bold text-black",children:o.reduce((H,Ue)=>{var Xe;return H+(((Xe=Ue.connections)==null?void 0:Xe.length)||0)},0)})]}),l.jsx("p",{className:"text-xs uppercase tracking-[0.2em] text-gray-600",children:"Connections"})]}),l.jsxs("div",{className:"rounded-2xl border border-white/70 bg-gradient-to-br from-green-50 to-green-100 p-4",children:[l.jsxs("div",{className:"flex items-center justify-between mb-2",children:[l.jsx(Cn,{className:"w-6 h-6 text-green-600"}),l.jsx("span",{className:"text-2xl font-bold text-black",children:qe.length})]}),l.jsx("p",{className:"text-xs uppercase tracking-[0.2em] text-gray-600",children:"Attributes"})]}),l.jsxs("div",{className:"rounded-2xl border border-white/70 bg-gradient-to-br from-orange-50 to-orange-100 p-4",children:[l.jsxs("div",{className:"flex items-center justify-between mb-2",children:[l.jsx(La,{className:"w-6 h-6 text-orange-600"}),l.jsx("span",{className:"text-2xl font-bold text-black",children:o.filter(H=>{var Ue;return(Ue=H.attributes)==null?void 0:Ue.includes("Decision Maker")}).length})]}),l.jsx("p",{className:"text-xs uppercase tracking-[0.2em] text-gray-600",children:"Decision Makers"})]})]}),l.jsxs("div",{className:"glass-panel border border-white/70 rounded-3xl p-6 mb-6 bg-gradient-to-br from-yellow-50/50 to-orange-50/50",children:[l.jsxs("div",{className:"flex items-center justify-between mb-4",children:[l.jsxs("div",{children:[l.jsxs("h3",{className:"text-lg font-semibold flex items-center gap-2",children:[l.jsx(Rd,{className:"w-5 h-5 text-orange-600"}),"Clean Up People Section"]}),l.jsx("p",{className:"text-sm text-secondary-light mt-1",children:"Move non-people items (like AI applications, concepts, ideas) to the Concepts section"})]}),l.jsx("button",{onClick:Fe,disabled:le,className:"px-4 py-2 rounded-full bg-orange-100 text-orange-700 border border-orange-200 text-sm font-medium hover:bg-orange-200 transition disabled:opacity-50 disabled:cursor-not-allowed flex items-center gap-2",children:le?l.jsxs(l.Fragment,{children:[l.jsx(zi,{className:"w-4 h-4 animate-spin"}),"Migrating..."]}):l.jsxs(l.Fragment,{children:[l.jsx(zi,{className:"w-4 h-4"}),"Migrate to Concepts"]})})]}),U&&l.jsxs("div",{className:`p-4 rounded-2xl border ${U.errors.length>0?"bg-red-50 border-red-200":"bg-green-50 border-green-200"}`,children:[l.jsx("p",{className:"text-sm font-semibold mb-2",children:"Migration Complete"}),l.jsxs("div",{className:"text-xs space-y-1",children:[l.jsxs("p",{children:[" Migrated: ",U.migrated," items to Concepts"]}),l.jsxs("p",{children:[" Kept: ",U.kept," items in People"]}),U.errors.length>0&&l.jsxs("div",{className:"mt-2",children:[l.jsx("p",{className:"font-semibold text-red-700",children:"Errors:"}),U.errors.map((H,Ue)=>l.jsx("p",{className:"text-red-600",children:H},Ue))]})]})]})]}),l.jsxs("div",{className:"mb-6 space-y-4",children:[l.jsx("div",{className:"glass-panel rounded-2xl border border-white/70 p-4",children:l.jsxs("div",{className:"flex items-center gap-3",children:[l.jsx(rn,{className:"w-5 h-5 text-secondary-light"}),l.jsx("input",{type:"text",value:x,onChange:H=>b(H.target.value),placeholder:"Search people by name, role, company, attributes, tags...",className:"flex-1 bg-transparent outline-none text-lg placeholder:text-secondary-light"}),x&&l.jsx("button",{onClick:()=>b(""),className:"px-3 py-1 rounded-full bg-white/80 border border-white/70 text-sm hover:bg-white transition",children:"Clear"})]})}),qe.length>0&&l.jsxs("div",{className:"flex flex-wrap gap-2",children:[l.jsxs("span",{className:"text-sm text-secondary-light flex items-center gap-1",children:[l.jsx(bs,{className:"w-4 h-4"}),"Filter by:"]}),qe.map(H=>l.jsx("button",{onClick:()=>v(f===H?null:H),className:`px-3 py-1 rounded-full text-xs font-medium transition ${f===H?"bg-black text-white":"bg-white/80 border border-white/70 hover:bg-white"}`,children:H},H))]})]}),Me.length===0?l.jsxs("div",{className:"glass-panel rounded-3xl border border-white/70 p-12 text-center",children:[l.jsx("div",{className:"flex justify-center mb-4",children:l.jsx(tn,{className:"w-16 h-16 text-secondary-light"})}),l.jsx("h3",{className:"text-xl font-semibold mb-2",children:o.length===0?"No people tracked yet":"No matches found"}),l.jsx("p",{className:"text-secondary-light",children:o.length===0?"Tell Sylvia about people you work with. She'll build rich profiles and connections to power Polaris goals.":"Try adjusting your search or filter."})]}):l.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:Me.map(H=>{const Ue=(u==null?void 0:u.id)===H.id,Xe=(m==null?void 0:m.id)===H.id,K=(H.connections||[]).map(V=>({...V,person:yt(V.personId)})).filter(V=>V.person);return l.jsx("div",{onClick:V=>{V.target.closest("button")||V.target.closest("a")||Ue||(setEntityDetailView({type:"person",id:H.id}),r({type:"person",id:H.id,data:H}))},className:`rounded-3xl border p-6 transition-all ${Ue?"border-black bg-black text-white shadow-xl":Xe?"border-purple-500 bg-purple-50 shadow-lg":"border-white/70 bg-white/90 hover:shadow-lg hover:border-white cursor-pointer"}`,children:Ue?l.jsxs("div",{className:"space-y-4",children:[l.jsxs("div",{children:[l.jsx("label",{className:"text-xs uppercase tracking-[0.2em] text-white/70 mb-2 block",children:"Name *"}),l.jsx("input",{value:ve,onChange:V=>P(V.target.value),className:"w-full rounded-2xl border border-white/30 bg-white/10 px-4 py-2 text-white placeholder:text-white/50 focus:outline-none focus:ring-2 focus:ring-white/50",placeholder:"Full name"})]}),l.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[l.jsxs("div",{children:[l.jsx("label",{className:"text-xs uppercase tracking-[0.2em] text-white/70 mb-2 block",children:"Role"}),l.jsx("input",{value:te,onChange:V=>Ne(V.target.value),className:"w-full rounded-2xl border border-white/30 bg-white/10 px-4 py-2 text-white placeholder:text-white/50 focus:outline-none focus:ring-2 focus:ring-white/50",placeholder:"Job title"})]}),l.jsxs("div",{children:[l.jsx("label",{className:"text-xs uppercase tracking-[0.2em] text-white/70 mb-2 block",children:"Company"}),l.jsx("input",{value:xe,onChange:V=>W(V.target.value),className:"w-full rounded-2xl border border-white/30 bg-white/10 px-4 py-2 text-white placeholder:text-white/50 focus:outline-none focus:ring-2 focus:ring-white/50",placeholder:"Company"})]})]}),l.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[l.jsxs("div",{children:[l.jsx("label",{className:"text-xs uppercase tracking-[0.2em] text-white/70 mb-2 block",children:"Location"}),l.jsx("input",{value:A,onChange:V=>D(V.target.value),className:"w-full rounded-2xl border border-white/30 bg-white/10 px-4 py-2 text-white placeholder:text-white/50 focus:outline-none focus:ring-2 focus:ring-white/50",placeholder:"City, State"})]}),l.jsxs("div",{children:[l.jsx("label",{className:"text-xs uppercase tracking-[0.2em] text-white/70 mb-2 block",children:"Email"}),l.jsx("input",{type:"email",value:Z,onChange:V=>he(V.target.value),className:"w-full rounded-2xl border border-white/30 bg-white/10 px-4 py-2 text-white placeholder:text-white/50 focus:outline-none focus:ring-2 focus:ring-white/50",placeholder:"email@example.com"})]})]}),l.jsxs("div",{children:[l.jsx("label",{className:"text-xs uppercase tracking-[0.2em] text-white/70 mb-2 block",children:"Phone"}),l.jsx("input",{type:"tel",value:Oe,onChange:V=>ze(V.target.value),className:"w-full rounded-2xl border border-white/30 bg-white/10 px-4 py-2 text-white placeholder:text-white/50 focus:outline-none focus:ring-2 focus:ring-white/50",placeholder:"+1 (555) 123-4567"})]}),l.jsxs("div",{children:[l.jsx("label",{className:"text-xs uppercase tracking-[0.2em] text-white/70 mb-2 block",children:"Attributes"}),l.jsx("div",{className:"flex flex-wrap gap-2 mb-2",children:y.map(V=>l.jsxs("span",{className:"inline-flex items-center gap-1 px-2 py-1 rounded-full bg-white/20 text-white text-xs",children:[V,l.jsx("button",{onClick:()=>Te(V),className:"hover:text-red-300",children:l.jsx(Ft,{className:"w-3 h-3"})})]},V))}),l.jsxs("div",{className:"flex gap-2",children:[l.jsx("input",{value:je,onChange:V=>N(V.target.value),onKeyPress:V=>V.key==="Enter"&&Se(),className:"flex-1 rounded-2xl border border-white/30 bg-white/10 px-4 py-2 text-white placeholder:text-white/50 focus:outline-none focus:ring-2 focus:ring-white/50",placeholder:"Add attribute..."}),l.jsx("button",{onClick:Se,className:"px-4 py-2 rounded-2xl bg-white/20 text-white border border-white/30 hover:bg-white/30 transition",children:l.jsx(hd,{className:"w-4 h-4"})})]}),l.jsx("div",{className:"flex flex-wrap gap-1 mt-2",children:x2.filter(V=>!y.includes(V)).map(V=>l.jsx("button",{onClick:()=>{y.includes(V)||q([...y,V])},className:"px-2 py-1 rounded-full bg-white/10 text-white/70 text-xs hover:bg-white/20 transition",children:V},V))})]}),l.jsxs("div",{children:[l.jsx("label",{className:"text-xs uppercase tracking-[0.2em] text-white/70 mb-2 block",children:"Profile / Context"}),l.jsx("textarea",{value:I,onChange:V=>ne(V.target.value),rows:4,className:"w-full rounded-2xl border border-white/30 bg-white/10 px-4 py-2 text-white placeholder:text-white/50 focus:outline-none focus:ring-2 focus:ring-white/50 resize-none",placeholder:"Rich context about this person. Their background, expertise, communication style, preferences, etc. This powers Sylvia's understanding."})]}),l.jsxs("div",{children:[l.jsx("label",{className:"text-xs uppercase tracking-[0.2em] text-white/70 mb-2 block",children:"Tags"}),l.jsx("div",{className:"flex flex-wrap gap-2 mb-2",children:X.map(V=>l.jsxs("span",{className:"inline-flex items-center gap-1 px-2 py-1 rounded-full bg-white/20 text-white text-xs",children:[V,l.jsx("button",{onClick:()=>fe(V),className:"hover:text-red-300",children:l.jsx(Ft,{className:"w-3 h-3"})})]},V))}),l.jsxs("div",{className:"flex gap-2",children:[l.jsx("input",{value:re,onChange:V=>ce(V.target.value),onKeyPress:V=>V.key==="Enter"&&_e(),className:"flex-1 rounded-2xl border border-white/30 bg-white/10 px-4 py-2 text-white placeholder:text-white/50 focus:outline-none focus:ring-2 focus:ring-white/50",placeholder:"Add tag..."}),l.jsx("button",{onClick:_e,className:"px-4 py-2 rounded-2xl bg-white/20 text-white border border-white/30 hover:bg-white/30 transition",children:l.jsx(hd,{className:"w-4 h-4"})})]})]}),l.jsxs("div",{children:[l.jsx("label",{className:"text-xs uppercase tracking-[0.2em] text-white/70 mb-2 block",children:"Notes"}),l.jsx("textarea",{value:Q,onChange:V=>k(V.target.value),rows:3,className:"w-full rounded-2xl border border-white/30 bg-white/10 px-4 py-2 text-white placeholder:text-white/50 focus:outline-none focus:ring-2 focus:ring-white/50 resize-none",placeholder:"Additional notes..."})]}),l.jsxs("div",{className:"flex gap-2",children:[l.jsx("button",{onClick:At,className:"flex-1 px-4 py-2 rounded-2xl bg-white text-black font-semibold hover:bg-gray-100 transition",children:"Save"}),l.jsx("button",{onClick:vt,className:"px-4 py-2 rounded-2xl bg-white/20 text-white border border-white/30 hover:bg-white/30 transition",children:"Cancel"})]})]}):l.jsxs(l.Fragment,{children:[l.jsx("div",{className:"flex items-start justify-between mb-4",children:l.jsxs("div",{className:"flex-1",children:[l.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[l.jsx(Oi,{className:"w-5 h-5 text-gray-600"}),l.jsx("h3",{className:"text-xl font-bold",children:H.name})]}),H.role&&l.jsxs("p",{className:"text-sm text-secondary-light flex items-center gap-1",children:[l.jsx(y1,{className:"w-3 h-3"}),H.role]}),H.company&&l.jsxs("p",{className:"text-sm text-secondary-light flex items-center gap-1 mt-1",children:[l.jsx(w1,{className:"w-3 h-3"}),H.company]})]})}),(H.location||H.email||H.phone)&&l.jsxs("div",{className:"space-y-1 mb-4 text-sm",children:[H.location&&l.jsxs("p",{className:"text-secondary-light flex items-center gap-2",children:[l.jsx(Ld,{className:"w-3 h-3"}),H.location]}),H.email&&l.jsxs("p",{className:"text-secondary-light flex items-center gap-2",children:[l.jsx(uv,{className:"w-3 h-3"}),H.email]}),H.phone&&l.jsxs("p",{className:"text-secondary-light flex items-center gap-2",children:[l.jsx(Nv,{className:"w-3 h-3"}),H.phone]})]}),H.attributes&&H.attributes.length>0&&l.jsx("div",{className:"mb-4",children:l.jsx("div",{className:"flex flex-wrap gap-1.5",children:H.attributes.map(V=>l.jsxs("span",{className:"inline-flex items-center px-2 py-0.5 rounded-full bg-purple-50 text-purple-700 text-xs font-medium",children:[l.jsx(Cn,{className:"w-3 h-3 mr-1"}),V]},V))})}),H.tags&&H.tags.length>0&&l.jsx("div",{className:"mb-4",children:l.jsx("div",{className:"flex flex-wrap gap-1.5",children:H.tags.map(V=>l.jsx("span",{className:"inline-flex items-center px-2 py-0.5 rounded-full bg-gray-100 text-gray-700 text-xs",children:V},V))})}),H.profile&&l.jsx("div",{className:"mb-4",children:l.jsx(bt,{content:H.profile,className:"text-sm leading-relaxed"})}),K.length>0&&l.jsxs("div",{className:"mb-4 p-3 rounded-2xl bg-blue-50 border border-blue-100",children:[l.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[l.jsx(Ku,{className:"w-4 h-4 text-blue-600"}),l.jsxs("span",{className:"text-xs font-semibold text-blue-900 uppercase tracking-[0.1em]",children:["Connections (",K.length,")"]})]}),l.jsx("div",{className:"space-y-1.5",children:K.map((V,De)=>{var Ie;return l.jsxs("div",{className:"flex items-center justify-between text-xs bg-white/60 rounded-lg p-2",children:[l.jsxs("div",{className:"flex-1",children:[l.jsx("div",{className:"font-medium text-gray-900",children:(Ie=V.person)==null?void 0:Ie.name}),l.jsx("div",{className:"text-gray-600",children:V.relationship}),V.notes&&l.jsx("div",{className:"text-gray-500 mt-0.5",children:l.jsx(bt,{content:V.notes,className:"text-xs"})})]}),l.jsx("div",{className:"flex items-center gap-1",children:l.jsx("span",{className:`px-1.5 py-0.5 rounded text-xs ${V.strength==="strong"?"bg-green-100 text-green-700":V.strength==="moderate"?"bg-yellow-100 text-yellow-700":"bg-gray-100 text-gray-700"}`,children:V.strength||"moderate"})})]},De)})})]}),H.notes&&l.jsx("div",{className:"mb-4",children:l.jsx(bt,{content:H.notes,className:"text-sm text-secondary-light"})}),l.jsxs("div",{className:"flex items-center justify-between pt-4 border-t border-white/20",children:[l.jsx("span",{className:"text-xs text-secondary-light",children:new Date(H.createdAt).toLocaleDateString("en-US",{month:"short",day:"numeric",year:"numeric"})}),l.jsxs("div",{className:"flex gap-2",children:[!Xe&&l.jsx("button",{onClick:()=>{g(H),r({type:"person",id:H.id,data:H}),M(!0)},className:"px-3 py-1.5 rounded-full bg-white/80 border border-white/70 text-xs font-medium hover:bg-white transition flex items-center gap-1",title:"Add connection",children:l.jsx(Ku,{className:"w-3 h-3"})}),l.jsx("button",{onClick:()=>Be(H),className:"px-3 py-1.5 rounded-full bg-white/80 border border-white/70 text-xs font-medium hover:bg-white transition flex items-center gap-1",children:l.jsx(Xa,{className:"w-3 h-3"})}),l.jsx("button",{onClick:()=>C(H.id),className:"px-3 py-1.5 rounded-full bg-white/80 border border-white/70 text-xs font-medium hover:bg-red-50 hover:border-red-200 hover:text-red-700 transition flex items-center gap-1",children:l.jsx(nn,{className:"w-3 h-3"})})]})]})]})},H.id)})}),_&&m&&l.jsx("div",{className:"fixed inset-0 bg-black/50 flex items-center justify-center z-50 p-4",children:l.jsxs("div",{className:"glass-panel rounded-3xl border border-white/70 p-6 max-w-md w-full",children:[l.jsxs("div",{className:"flex items-center justify-between mb-4",children:[l.jsx("h3",{className:"text-lg font-semibold",children:"Add Connection"}),l.jsx("button",{onClick:()=>{M(!1),g(null)},className:"text-secondary-light hover:text-black transition",children:l.jsx(Ft,{className:"w-5 h-5"})})]}),l.jsxs("p",{className:"text-sm text-secondary-light mb-4",children:["Connect ",l.jsx("strong",{children:m.name})," to another person"]}),l.jsxs("div",{className:"space-y-4",children:[l.jsxs("div",{children:[l.jsx("label",{className:"text-xs uppercase tracking-[0.2em] text-secondary-light mb-2 block",children:"Person"}),l.jsxs("select",{value:j,onChange:H=>G(H.target.value),className:"w-full rounded-2xl border border-white/70 px-4 py-2 bg-white/80 focus:outline-none focus:ring-2 focus:ring-black",children:[l.jsx("option",{value:"",children:"Select a person..."}),o.filter(H=>H.id!==m.id).map(H=>l.jsxs("option",{value:H.id,children:[H.name," ",H.role?`(${H.role})`:""]},H.id))]})]}),l.jsxs("div",{children:[l.jsx("label",{className:"text-xs uppercase tracking-[0.2em] text-secondary-light mb-2 block",children:"Relationship"}),l.jsxs("select",{value:R,onChange:H=>ee(H.target.value),className:"w-full rounded-2xl border border-white/70 px-4 py-2 bg-white/80 focus:outline-none focus:ring-2 focus:ring-black",children:[l.jsx("option",{value:"",children:"Select relationship..."}),g2.map(H=>l.jsx("option",{value:H,children:H},H))]})]}),l.jsxs("div",{children:[l.jsx("label",{className:"text-xs uppercase tracking-[0.2em] text-secondary-light mb-2 block",children:"Strength"}),l.jsxs("select",{value:oe,onChange:H=>ge(H.target.value),className:"w-full rounded-2xl border border-white/70 px-4 py-2 bg-white/80 focus:outline-none focus:ring-2 focus:ring-black",children:[l.jsx("option",{value:"weak",children:"Weak"}),l.jsx("option",{value:"moderate",children:"Moderate"}),l.jsx("option",{value:"strong",children:"Strong"})]})]}),l.jsxs("div",{children:[l.jsx("label",{className:"text-xs uppercase tracking-[0.2em] text-secondary-light mb-2 block",children:"Notes (optional)"}),l.jsx("textarea",{value:be,onChange:H=>ye(H.target.value),rows:2,className:"w-full rounded-2xl border border-white/70 px-4 py-2 bg-white/80 focus:outline-none focus:ring-2 focus:ring-black resize-none",placeholder:"Additional context about this connection..."})]}),l.jsxs("div",{className:"flex gap-2",children:[l.jsx("button",{onClick:He,className:"flex-1 px-4 py-2 rounded-2xl bg-black text-white font-semibold hover:shadow-lg transition",children:"Add Connection"}),l.jsx("button",{onClick:()=>{M(!1),g(null)},className:"px-4 py-2 rounded-2xl bg-white border border-white/70 hover:bg-gray-50 transition",children:"Cancel"})]})]})]})})]})},y2=()=>{const{setEntityDetailView:r,setActiveEntity:o}=al(),[c,u]=w.useState([]),[h,m]=w.useState(null),[g,x]=w.useState(""),[b,f]=w.useState(null),[v,_]=w.useState(null),[M,j]=w.useState({name:"",description:"",category:"",tags:"",notes:""}),G=w.useCallback(async()=>{const $=await F.getConceptRecords();u($.sort((U,ue)=>(ue.updatedAt||ue.createdAt)-(U.updatedAt||U.createdAt)))},[]);w.useEffect(()=>(G(),sn("concept",G)),[G]);const R=w.useMemo(()=>{let $=c;if(g.trim()){const U=g.toLowerCase();$=$.filter(ue=>{var ve,P,te;return ue.name.toLowerCase().includes(U)||((ve=ue.description)==null?void 0:ve.toLowerCase().includes(U))||((P=ue.category)==null?void 0:P.toLowerCase().includes(U))||((te=ue.tags)==null?void 0:te.some(Ne=>Ne.toLowerCase().includes(U)))})}return b&&($=$.filter(U=>U.category===b)),v&&($=$.filter(U=>{var ue;return(ue=U.tags)==null?void 0:ue.includes(v)})),$},[c,g,b,v]),ee=w.useMemo(()=>{const $=c.length,U=new Set(c.map(te=>te.category).filter(Boolean)),ue=c.flatMap(te=>te.tags||[]),ve=new Set(ue),P=c.filter(te=>(Date.now()-te.createdAt)/864e5<=7).length;return{total:$,categories:U.size,uniqueTags:ve.size,recent:P}},[c]),oe=w.useMemo(()=>{const $=new Set(c.map(U=>U.category).filter(Boolean));return Array.from($).sort()},[c]),ge=w.useMemo(()=>{const $={};return c.forEach(U=>{var ue;(ue=U.tags)==null||ue.forEach(ve=>{$[ve]=($[ve]||0)+1})}),Object.entries($).sort((U,ue)=>ue[1]-U[1]).slice(0,10)},[c]),be=$=>{var U;m($),j({name:$.name,description:$.description||"",category:$.category||"",tags:((U=$.tags)==null?void 0:U.join(", "))||"",notes:$.notes||""})},ye=async()=>{h&&(await F.saveConceptRecord({...h,...M,tags:M.tags.split(",").map($=>$.trim()).filter(Boolean),updatedAt:Date.now()}),m(null),j({name:"",description:"",category:"",tags:"",notes:""}),G())},le=async $=>{await F.deleteConceptRecord($),G()};return l.jsxs(Jt,{title:"Concepts",subtitle:"Ideas, applications, technologies, and concepts. Track your thinking and innovations.",children:[l.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 md:grid-cols-4 gap-4 mb-6",children:[l.jsxs("div",{className:"rounded-2xl border border-white/70 bg-gradient-to-br from-purple-50 to-purple-100 p-4",children:[l.jsxs("div",{className:"flex items-center justify-between mb-2",children:[l.jsx(fs,{className:"w-6 h-6 text-purple-600"}),l.jsx("span",{className:"text-2xl font-bold text-black",children:ee.total})]}),l.jsx("p",{className:"text-xs uppercase tracking-[0.2em] text-gray-600",children:"Total Concepts"})]}),l.jsxs("div",{className:"rounded-2xl border border-white/70 bg-gradient-to-br from-blue-50 to-blue-100 p-4",children:[l.jsxs("div",{className:"flex items-center justify-between mb-2",children:[l.jsx(La,{className:"w-6 h-6 text-blue-600"}),l.jsx("span",{className:"text-2xl font-bold text-black",children:ee.categories})]}),l.jsx("p",{className:"text-xs uppercase tracking-[0.2em] text-gray-600",children:"Categories"})]}),l.jsxs("div",{className:"rounded-2xl border border-white/70 bg-gradient-to-br from-green-50 to-green-100 p-4",children:[l.jsxs("div",{className:"flex items-center justify-between mb-2",children:[l.jsx(Cn,{className:"w-6 h-6 text-green-600"}),l.jsx("span",{className:"text-2xl font-bold text-black",children:ee.uniqueTags})]}),l.jsx("p",{className:"text-xs uppercase tracking-[0.2em] text-gray-600",children:"Unique Tags"})]}),l.jsxs("div",{className:"rounded-2xl border border-white/70 bg-gradient-to-br from-orange-50 to-orange-100 p-4",children:[l.jsxs("div",{className:"flex items-center justify-between mb-2",children:[l.jsx(ys,{className:"w-6 h-6 text-orange-600"}),l.jsx("span",{className:"text-2xl font-bold text-black",children:ee.recent})]}),l.jsx("p",{className:"text-xs uppercase tracking-[0.2em] text-gray-600",children:"This Week"})]})]}),l.jsxs("div",{className:"mb-6 space-y-4",children:[l.jsx("div",{className:"glass-panel rounded-2xl border border-white/70 p-4",children:l.jsxs("div",{className:"flex items-center gap-3",children:[l.jsx(rn,{className:"w-5 h-5 text-secondary-light"}),l.jsx("input",{type:"text",value:g,onChange:$=>x($.target.value),placeholder:"Search concepts...",className:"flex-1 bg-transparent outline-none text-lg placeholder:text-secondary-light"}),g&&l.jsx("button",{onClick:()=>x(""),className:"px-3 py-1 rounded-full bg-white/80 border border-white/70 text-sm hover:bg-white transition",children:"Clear"})]})}),l.jsxs("div",{className:"flex flex-wrap gap-2 items-center",children:[l.jsxs("span",{className:"text-sm text-secondary-light flex items-center gap-1",children:[l.jsx(bs,{className:"w-4 h-4"}),"Filter:"]}),l.jsx("button",{onClick:()=>{f(null),_(null)},className:`px-3 py-1 rounded-full text-xs font-medium transition ${b===null&&v===null?"bg-black text-white":"bg-white/80 border border-white/70 hover:bg-white"}`,children:"All"}),oe.map($=>l.jsx("button",{onClick:()=>f(b===$?null:$),className:`px-3 py-1 rounded-full text-xs font-medium transition ${b===$?"bg-black text-white":"bg-white/80 border border-white/70 hover:bg-white"}`,children:$},$)),ge.length>0&&l.jsxs(l.Fragment,{children:[l.jsx("span",{className:"text-xs text-secondary-light mx-2",children:"|"}),l.jsx("span",{className:"text-xs text-secondary-light",children:"Tags:"}),ge.slice(0,5).map(([$,U])=>l.jsxs("button",{onClick:()=>_(v===$?null:$),className:`px-3 py-1 rounded-full text-xs font-medium transition ${v===$?"bg-black text-white":"bg-white/80 border border-white/70 hover:bg-white"}`,children:["#",$," (",U,")"]},$))]})]})]}),R.length===0?l.jsxs("div",{className:"glass-panel rounded-3xl border border-white/70 p-12 text-center",children:[l.jsx("div",{className:"flex justify-center mb-4",children:l.jsx(fs,{className:"w-16 h-16 text-secondary-light"})}),l.jsx("h3",{className:"text-xl font-semibold mb-2",children:c.length===0?"No concepts yet":"No matches found"}),l.jsx("p",{className:"text-secondary-light",children:c.length===0?"Concepts are created through conversation with Sylvia. Talk to her about ideas, applications, technologies, and concepts, and she'll add them here.":"Try adjusting your search or filters."})]}):l.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6 min-w-0",children:R.map($=>{const U=(h==null?void 0:h.id)===$.id;return l.jsx("div",{onClick:ue=>{ue.target.closest("button")||U||(r({type:"concept",id:$.id}),o({type:"concept",id:$.id,data:$}))},className:`rounded-3xl border p-6 transition-all flex flex-col min-w-0 ${U?"border-black bg-black text-white shadow-xl":"border-white/70 bg-white/90 hover:shadow-xl hover:border-purple-200 hover:bg-white cursor-pointer"}`,style:{minHeight:"280px"},children:U?l.jsxs("div",{className:"space-y-4",children:[l.jsxs("div",{children:[l.jsx("label",{className:"text-xs uppercase tracking-[0.2em] text-white/70 mb-2 block",children:"Name *"}),l.jsx("input",{value:M.name,onChange:ue=>j({...M,name:ue.target.value}),className:"w-full rounded-2xl border border-white/30 bg-white/10 px-4 py-2 text-white placeholder:text-white/50 focus:outline-none focus:ring-2 focus:ring-white/50"})]}),l.jsxs("div",{children:[l.jsx("label",{className:"text-xs uppercase tracking-[0.2em] text-white/70 mb-2 block",children:"Description"}),l.jsx("textarea",{value:M.description,onChange:ue=>j({...M,description:ue.target.value}),rows:3,className:"w-full rounded-2xl border border-white/30 bg-white/10 px-4 py-2 text-white placeholder:text-white/50 focus:outline-none focus:ring-2 focus:ring-white/50 resize-none"})]}),l.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[l.jsxs("div",{children:[l.jsx("label",{className:"text-xs uppercase tracking-[0.2em] text-white/70 mb-2 block",children:"Category"}),l.jsx("input",{value:M.category,onChange:ue=>j({...M,category:ue.target.value}),className:"w-full rounded-2xl border border-white/30 bg-white/10 px-4 py-2 text-white placeholder:text-white/50 focus:outline-none focus:ring-2 focus:ring-white/50"})]}),l.jsxs("div",{children:[l.jsx("label",{className:"text-xs uppercase tracking-[0.2em] text-white/70 mb-2 block",children:"Tags"}),l.jsx("input",{value:M.tags,onChange:ue=>j({...M,tags:ue.target.value}),placeholder:"tag1, tag2",className:"w-full rounded-2xl border border-white/30 bg-white/10 px-4 py-2 text-white placeholder:text-white/50 focus:outline-none focus:ring-2 focus:ring-white/50"})]})]}),l.jsxs("div",{children:[l.jsx("label",{className:"text-xs uppercase tracking-[0.2em] text-white/70 mb-2 block",children:"Notes"}),l.jsx("textarea",{value:M.notes,onChange:ue=>j({...M,notes:ue.target.value}),rows:2,className:"w-full rounded-2xl border border-white/30 bg-white/10 px-4 py-2 text-white placeholder:text-white/50 focus:outline-none focus:ring-2 focus:ring-white/50 resize-none"})]}),l.jsxs("div",{className:"flex gap-2",children:[l.jsx("button",{onClick:ye,className:"flex-1 px-4 py-2 rounded-2xl bg-white text-black font-semibold hover:bg-gray-100 transition",children:"Save"}),l.jsx("button",{onClick:()=>{m(null),j({name:"",description:"",category:"",tags:"",notes:""})},className:"px-4 py-2 rounded-2xl bg-white/20 text-white border border-white/30 hover:bg-white/30 transition",children:"Cancel"})]})]}):l.jsxs(l.Fragment,{children:[l.jsx("div",{className:"flex items-start justify-between mb-4",children:l.jsxs("div",{className:"flex-1 min-w-0",children:[l.jsx("div",{className:"flex items-center gap-2 mb-2 flex-wrap",children:$.category&&l.jsx("span",{className:"px-2 py-1 rounded-full bg-purple-100 text-purple-700 text-xs font-semibold",children:$.category})}),l.jsx("h3",{className:"text-xl font-bold mb-3 text-primary-light break-words overflow-wrap-anywhere",children:$.name})]})}),$.description&&l.jsx("div",{className:"mb-4 flex-1 min-h-0",children:l.jsx("div",{className:"p-4 rounded-2xl bg-gradient-to-br from-gray-50/80 to-white/80 border border-gray-200/50 min-w-0",children:l.jsx("div",{className:"concept-description min-w-0",children:l.jsx(bt,{content:$.description,className:"text-sm text-gray-700 leading-relaxed break-words overflow-wrap-anywhere"})})})}),$.tags&&$.tags.length>0&&l.jsx("div",{className:"mb-4 flex flex-wrap gap-1.5",children:$.tags.map(ue=>l.jsxs("span",{className:"px-2.5 py-1 rounded-full bg-blue-50 text-blue-700 text-xs font-medium border border-blue-100 flex items-center gap-1.5",children:[l.jsx(Cn,{className:"w-3 h-3"}),ue]},ue))}),$.notes&&l.jsx("div",{className:"mb-4 p-3 rounded-xl bg-amber-50/50 border border-amber-100",children:l.jsx(bt,{content:$.notes,className:"text-xs text-gray-600 leading-relaxed"})}),l.jsx("div",{className:"mb-4 pt-3 border-t border-gray-200/50",children:l.jsxs("div",{className:"flex items-center gap-4 text-xs text-secondary-light",children:[l.jsxs("span",{children:["Created ",new Date($.createdAt).toLocaleDateString()]}),$.updatedAt&&$.updatedAt!==$.createdAt&&l.jsxs("span",{children:["Updated ",new Date($.updatedAt).toLocaleDateString()]})]})}),l.jsxs("div",{className:"flex items-center gap-2 pt-3 border-t border-white/20",children:[l.jsxs("button",{onClick:()=>be($),className:"px-3 py-1.5 rounded-full bg-white/80 border border-white/70 text-xs font-medium hover:bg-white transition flex items-center gap-1.5",children:[l.jsx(Xa,{className:"w-3.5 h-3.5"}),"Edit"]}),l.jsxs("button",{onClick:()=>le($.id),className:"px-3 py-1.5 rounded-full bg-white/80 border border-white/70 text-xs font-medium hover:bg-red-50 hover:border-red-200 hover:text-red-700 transition flex items-center gap-1.5",children:[l.jsx(nn,{className:"w-3.5 h-3.5"}),"Delete"]})]})]})},$.id)})})]})},sx=new Map,v2=r=>(sx.set(r.id,r),()=>sx.delete(r.id)),w2=(r=[])=>{const o=["feelings","reflection","relationship"],c=["client","calendar","agenda","task"];return r.some(u=>c.includes(u))?"professional":(r.some(u=>o.includes(u)),"personal")},N2="https://openrouter.ai/api/v1/chat/completions";async function Ui(r,o={},c=!1){var M,j,G;const u=((M=o.apiKey)==null?void 0:M.trim())||((j=o.secondaryApiKey)==null?void 0:j.trim());if(!u)throw new Error("No OpenRouter API key found. Add your key in the Settings view to continue.");let h=o.mainModel||"openrouter/polaris-alpha";o.useImageGeneration?h="google/gemini-2.5-flash-image":o.useWebSearch?h="openai/gpt-4o-mini-search-preview":o.useAudioVideo&&(h="google/gemini-2.5-flash-preview-09-2025");const m=o.backupModel||"x-ai/grok-4-fast",g=c?m:h;let x=[...r];o.weightedPrompts&&o.weightedPrompts.length>0?x.some(ee=>ee.role==="system")||(x=[{role:"system",content:[...o.weightedPrompts].sort((ge,be)=>be.weight-ge.weight).map((ge,be)=>`[${be===0?"PRIMARY":be===1?"SECONDARY":"TERTIARY"} PROMPT - ${ge.weight}% WEIGHT]
${ge.content}`).join(`

---

`)},...x]):o.systemInstruction&&o.systemInstruction.trim()&&(x.some(ee=>ee.role==="system")||(x=[{role:"system",content:o.systemInstruction},...x]));const b=o.inferenceParameters||{},f=b.temperature??o.temperature??.7,v=o.maxTokens??128e3,_={model:g,messages:x,temperature:f,max_tokens:v};b.topP!==void 0&&(_.top_p=b.topP),b.topK!==void 0&&(_.top_k=b.topK),b.frequencyPenalty!==void 0&&(_.frequency_penalty=b.frequencyPenalty),b.presencePenalty!==void 0&&(_.presence_penalty=b.presencePenalty),b.repetitionPenalty!==void 0&&(_.repetition_penalty=b.repetitionPenalty),b.minP!==void 0&&(_.min_p=b.minP);try{const R=await fetch(N2,{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${u}`,"HTTP-Referer":window.location.origin,"X-Title":"Chat Platform Template"},body:JSON.stringify(_)});if(!R.ok){const oe=await R.json().catch(()=>({error:{message:`HTTP ${R.status}: ${R.statusText}`}}));if(!c&&R.status>=500)return console.warn("Main model failed, trying backup model..."),Ui(r,o,!0);throw new Error(((G=oe.error)==null?void 0:G.message)||`API request failed: ${R.statusText}`)}const ee=await R.json();if(!ee.choices||ee.choices.length===0)throw new Error("No response from API");return ee.choices[0].message.content}catch(R){if(!c&&R instanceof TypeError&&R.message.includes("fetch"))return console.warn("Network error with main model, trying backup model..."),Ui(r,o,!0);throw R}}const Xx=Object.freeze(Object.defineProperty({__proto__:null,sendMessage:Ui},Symbol.toStringTag,{value:"Module"}));async function Qx(r){const o=/\[ACTION:([^\]]+)\]/g,c=[...r.matchAll(o)];if(c.length!==0)for(const u of c){const m=u[1].split("|");if(m.length<1)continue;const g=m[0].trim(),x=m.slice(1).join("|").trim();if(g)try{await gs(g,x)}catch(b){console.error(`Failed to execute post-processed action ${g}:`,b)}}}function j2(r,o){const c=new Date,u=r.toLowerCase().trim();if(u.includes("tomorrow")){const h=new Date(c);return h.setDate(h.getDate()+1),h.toISOString().slice(0,16)}if(u.includes("today"))return c.toISOString().slice(0,16);try{const h=new Date(r);if(!isNaN(h.getTime()))return h.toISOString().slice(0,16)}catch{}return""}function S2(r){const o=r.match(/(\d{1,2}):?(\d{2})?\s*(am|pm)/i);if(!o)return"";let c=parseInt(o[1]);const u=o[2]?parseInt(o[2]):0,h=o[3].toLowerCase();return h==="pm"&&c!==12&&(c+=12),h==="am"&&c===12&&(c=0),`${c.toString().padStart(2,"0")}:${u.toString().padStart(2,"0")}`}async function k2(r){var x,b;const{getSetting:o}=await za(async()=>{const{getSetting:f}=await Promise.resolve().then(()=>ho);return{getSetting:f}},void 0),c=await o("apiKey")||await o("secondaryApiKey"),u=await o("mainModel","openrouter/polaris-alpha");if(!c){console.warn("No API key available for entity extraction");return}const h=/(?:meeting|call|appointment|event|schedule|meet|call with)/i.test(r),m=/(?:tomorrow|today|november|december|january|february|march|april|may|june|july|august|september|october|\d{1,2}\/\d{1,2}|\d{1,2}\s+(?:jan|feb|mar|apr|may|jun|jul|aug|sep|oct|nov|dec))/i.test(r),g=/(?:at|@|\d{1,2}):?\d{0,2}\s*(?:am|pm)/i.test(r);if(h&&(m||g)){const f=r.match(/(?:tomorrow|today|november \d{1,2}|\d{1,2}\/\d{1,2}|\d{1,2}\s+(?:jan|feb|mar|apr|may|jun|jul|aug|sep|oct|nov|dec))/i),v=r.match(/(?:at|@)\s*(\d{1,2}):?(\d{2})?\s*(am|pm)/i);if(f||v){const _=r.match(/(?:meeting|call|appointment|event|schedule|meet)\s+(?:with\s+)?([^,\.]+?)(?:\s+(?:tomorrow|today|at|@|on))/i),M=_?_[1].trim():((x=r.split(/\s+(?:tomorrow|today|at|@|on)/i)[0])==null?void 0:x.trim())||"Event",j=f?f[0]:"";v&&v[0];const G=j2(j),R=v?S2(v[0]):"";let ee="",oe="";if(G)if(R){ee=`${G.split("T")[0]}T${R}`;const ge=new Date(ee);ge.setHours(ge.getHours()+1),oe=ge.toISOString().slice(0,16)}else ee=`${G}T10:00`,oe=`${G}T11:00`;ee&&await gs("calendar.add",`${M}|${ee}|${oe}|${r}`).catch(()=>{})}}try{const[f,v]=await Promise.all([F.getPeopleRecords(),F.getConceptRecords()]),_=new Set(f.map(ge=>ge.name.toLowerCase())),M=new Set(v.map(ge=>ge.name.toLowerCase())),j=`You are an entity classification agent. Analyze this message and identify entities that should be extracted. CRITICALLY IMPORTANT: You must distinguish between PEOPLE (actual humans) and CONCEPTS (ideas, technologies, applications).

Message to analyze:
"${r}"

Existing entities (do not duplicate):
- People: ${Array.from(_).slice(0,20).join(", ")||"None"}
- Concepts: ${Array.from(M).slice(0,20).join(", ")||"None"}

CRITICAL DISTINCTION RULES:
- **PEOPLE**: Actual humans with names (e.g., "John Smith", "Sarah Johnson", "Blair Hallett") - real people you can meet, email, call
- **CONCEPTS**: Ideas, applications, technologies, systems (e.g., "Resonance Cockpit", "Preflection", "AI Application", "Machine Learning Model", "Weighted Prompt System") - abstract concepts, not humans

If something is ambiguous, ask yourself: "Can I meet this person? Can I email them? Is this a real human?" If NO, it's a CONCEPT.

For each entity you identify, respond ONLY with ACTION markers in this exact format:
[ACTION:entityType.add|payload1|payload2|...]

Entity types:
- people.add|Name|Role|Company|Location|Email|Phone|Attributes|Profile|Notes|Tags
- concept.add|Name|Description|Category|Tags|Notes
- brand.add|Name|Description
- calendar.add|Title|StartTime|EndTime|Description|Location|MeetingLink|EventType|Participants|Tags
- agenda.add|Title|Description|DueDate|EstimatedTime|Priority|Tags|DeliverableId
- deliverable.add|Title|Description|Scope|Guardrails|SuccessCriteria|Tags
- polaris.goal|Title|Description|GoalType|Scope|Priority|Metrics
- polaris.task|GoalId|Title|Description|Rationale|EstimatedEffort|EstimatedImpact

IMPORTANT:
- Only extract entities that are CLEARLY mentioned
- Do NOT extract entities that already exist
- When in doubt between PEOPLE and CONCEPTS, choose CONCEPTS (better to miss a person than misclassify a concept as a person)
- Be conservative - only extract if you're confident

Your response (ONLY ACTION markers, no other text):`,{sendMessage:G}=await za(async()=>{const{sendMessage:ge}=await Promise.resolve().then(()=>Xx);return{sendMessage:ge}},void 0),R=await G([{role:"system",content:"You are an entity extraction agent. Analyze messages and extract entities. Respond ONLY with ACTION markers. Be extremely careful to distinguish PEOPLE (actual humans) from CONCEPTS (ideas, technologies, applications)."},{role:"user",content:j}],{apiKey:c,mainModel:u,temperature:.3,maxTokens:2e3}),ee=/\[ACTION:([^\]]+)\]/g,oe=[...R.matchAll(ee)];for(const ge of oe){const ye=ge[1].split("|");if(ye.length<1)continue;const le=ye[0].trim(),$=ye.slice(1).join("|").trim();if(le){if(le==="people.add"){const U=(b=$.split("|")[0])==null?void 0:b.trim();if(U){const ue=["system","application","platform","tool","technology","concept","idea","model","framework","algorithm","method","process","workflow","solution","product","service","feature"],ve=U.toLowerCase();if(ue.some(P=>ve.includes(P))){console.log(`Skipping ${U} - looks like a concept, not a person`);continue}}}try{await gs(le,$)}catch(U){console.error(`Failed to execute extracted action ${le}:`,U)}}}}catch(f){console.error("AI-based entity extraction failed:",f)}}async function Zx(r,o){const c={extracted:[],errors:[]};try{const u=(await F.getJournalEntries()).find(G=>G.id===r);if(!u)return c.errors.push("Journal entry not found"),c;const[h,m,g]=await Promise.all([F.getPeopleRecords(),F.getClientRecords(),F.getBrandRecords()]),x=new Set(h.map(G=>G.name.toLowerCase())),b=new Set(m.map(G=>G.name.toLowerCase())),f=new Set(g.map(G=>G.name.toLowerCase())),v=`You are an entity extraction agent. Analyze this journal entry and identify all entities that should be extracted:

Journal Entry:
Title: ${u.title}
Content: ${u.content}

Existing entities already in the system:
- People: ${Array.from(x).join(", ")||"None"}
- Clients: ${Array.from(b).join(", ")||"None"}
- Brand: ${Array.from(f).join(", ")||"None"}

Extract the following entity types:
1. PEOPLE: Any actual person mentioned (names, roles, relationships) - NOT concepts, ideas, or applications
2. CONCEPTS: Ideas, concepts, AI applications, technologies, systems, platforms, tools, models, frameworks, algorithms, methods, strategies, processes, workflows, solutions, products, services, features
3. CLIENTS: Any client, customer, or business relationship
4. BRAND: Any brand element, voice note, positioning
5. CALENDAR: Any meeting, event, appointment, or time-bound commitment
6. AGENDA/DELIVERABLES: Any tasks, commitments, or work items
7. POLARIS/GOALS: Strategic goals, objectives, or high-leverage moves

IMPORTANT: Distinguish between PEOPLE and CONCEPTS:
- PEOPLE: Actual humans with names (e.g., "John Smith", "Sarah Johnson")
- CONCEPTS: Ideas, applications, technologies (e.g., "AI Application", "Machine Learning Model", "Resonance Cockpit")

For each entity, respond with an ACTION marker in this format:
[ACTION:actionId|payload1|payload2|...]

Example:
[ACTION:people.add|John Smith|Engineer|Key contact for project]
[ACTION:client.add|Acme Corp|Website redesign project]
[ACTION:calendar.add|Meeting with John|2025-11-10T14:00|2025-11-10T15:00|Discuss project]

Only include entities that are clearly mentioned and should be tracked. Skip entities that already exist in the system.

Your response:`,_=await Ui([{role:"system",content:"You are an entity extraction agent. Analyze journal entries and extract entities. Respond only with ACTION markers for entities that should be extracted."},{role:"user",content:v}],{apiKey:o,mainModel:"openrouter/polaris-alpha",temperature:.3,maxTokens:2e3}),M=/\[ACTION:([^\]]+)\]/g,j=[..._.matchAll(M)];for(const G of j){const ee=G[1].split("|");if(ee.length<1)continue;const oe=ee[0].trim(),ge=ee.slice(1).join("|").trim();if(oe)try{await A2(oe,ge,{existingPeopleNames:x,existingClientNames:b,existingBrandNames:f})||(await gs(oe,ge),c.extracted.push(`${oe}: ${ge.substring(0,50)}${ge.length>50?"...":""}`))}catch(be){c.errors.push(`Failed to execute ${oe}: ${be instanceof Error?be.message:String(be)}`)}}}catch(u){c.errors.push(`Extraction failed: ${u instanceof Error?u.message:String(u)}`)}return c}async function A2(r,o,c){var m;const h=(m=o.split("|")[0])==null?void 0:m.trim().toLowerCase();return h?r==="people.add"?c.existingPeopleNames.has(h):r==="client.add"?c.existingClientNames.has(h):r==="brand.add"?c.existingBrandNames.has(h):!1:!1}const ix=Object.freeze(Object.defineProperty({__proto__:null,extractEntitiesFromJournalEntry:Zx,extractEntitiesFromUserMessage:k2,postProcessMessage:Qx},Symbol.toStringTag,{value:"Module"})),T2=()=>{const[r,o]=w.useState([]),[c,u]=w.useState(""),[h,m]=w.useState(""),[g,x]=w.useState([]),[b,f]=w.useState([]),[v,_]=w.useState(null),[M,j]=w.useState(""),[G,R]=w.useState(""),[ee,oe]=w.useState(null),[ge,be]=w.useState({}),[ye,le]=w.useState(""),[$,U]=w.useState(null),[ue,ve]=w.useState(null),[P,te]=w.useState(!0),Ne=w.useMemo(()=>{const k=r.length,X=r.filter(ce=>ce.autoGenerated).length,se=r.filter(ce=>typeof ce.grade=="number"),je=se.length?(se.reduce((ce,pe)=>ce+(pe.grade||0),0)/se.length).toFixed(1):"",N=r.filter(ce=>{const pe=new Date(ce.createdAt),Me=new Date;return Me.setDate(Me.getDate()-7),pe>=Me}).length,re=r.filter(ce=>{const pe=new Date(ce.createdAt),Me=new Date;return Me.setMonth(Me.getMonth()-1),pe>=Me}).length;return{total:k,auto:X,avgGrade:je,graded:se.length,thisWeek:N,thisMonth:re}},[r]),xe=w.useMemo(()=>{const k=new Set;return r.forEach(X=>{var se;(se=X.tags)==null||se.forEach(je=>k.add(je))}),Array.from(k).sort()},[r]),W=w.useCallback(async()=>{const k=await F.getJournalEntries();o(k.sort((X,se)=>se.createdAt-X.createdAt))},[]);w.useEffect(()=>(W(),(async()=>{const X=await pt("journal_consumed_snippets",[]);f(X)})(),v2({id:"journal",label:"Journal",onRequest:X=>m(se=>`${X}

${se}`.trim())})),[W]);const A=w.useCallback(async()=>{const X=(await fx(6)).filter(se=>!b.includes(se.id));x(X)},[b]);w.useEffect(()=>{A()},[A,r]);const D=w.useCallback(async(k,X,se)=>{X.trim()&&(await F.saveJournalEntry({id:`journal-${Date.now()}`,title:k||"Untitled entry",content:X,createdAt:Date.now(),...se}),await W(),await El("journal.entry"),u(""),m(""))},[W]),Z=async k=>{await F.deleteJournalEntry(k),W()},he=k=>{_(k),R(k.title),j(k.content),setActiveEntity({type:"journal",id:k.id,data:k})},Oe=async()=>{v&&(await F.saveJournalEntry({...v,title:G,content:M}),_(null),R(""),j(""),setActiveEntity({type:null,id:""}),W())},ze=()=>{_(null),setActiveEntity({type:null,id:""}),R(""),j("")},y=async k=>{oe(k);try{const X=await pt("auditApiKey",""),se=await pt("apiKey",""),je=X||se;if(!je){be(re=>({...re,[k]:{extracted:[],errors:["No API key configured. Please add an API key in Settings."]}}));return}const N=await Zx(k,je);be(re=>({...re,[k]:N})),await W()}catch(X){be(se=>({...se,[k]:{extracted:[],errors:[X instanceof Error?X.message:"Failed to extract entities"]}}))}finally{oe(null)}};w.useEffect(()=>sn("journal",W),[W]);const q=w.useMemo(()=>{let k=r;if(ye.trim()){const X=ye.toLowerCase();k=k.filter(se=>{var je;return se.title.toLowerCase().includes(X)||se.content.toLowerCase().includes(X)||((je=se.tags)==null?void 0:je.some(N=>N.toLowerCase().includes(X)))})}return $&&(k=k.filter(X=>{var se;return(se=X.tags)==null?void 0:se.includes($)})),ue!==null&&(k=k.filter(X=>X.grade===ue)),k},[r,ye,$,ue]),I=k=>{const X=new Date(k),se=new Date,je=new Date(se);return je.setDate(je.getDate()-1),X.toDateString()===se.toDateString()?"Today":X.toDateString()===je.toDateString()?"Yesterday":X.toLocaleDateString("en-US",{month:"short",day:"numeric",year:X.getFullYear()!==se.getFullYear()?"numeric":void 0})},ne=k=>k?k>=4?"text-green-600":k>=3?"text-yellow-600":"text-red-600":"text-gray-400",Q=k=>k?k>=4?"bg-green-100":k>=3?"bg-yellow-100":"bg-red-100":"bg-gray-100";return l.jsxs(Jt,{title:"Journal",subtitle:"Long-form reflections feed Sylvia's JIT memory. Rich context for understanding patterns and growth.",children:[l.jsxs("div",{className:"grid grid-cols-2 sm:grid-cols-3 md:grid-cols-6 gap-4 mb-6",children:[l.jsxs("div",{className:"rounded-2xl border border-white/70 bg-gradient-to-br from-blue-50 to-blue-100 p-4",children:[l.jsxs("div",{className:"flex items-center justify-between mb-2",children:[l.jsx(Md,{className:"w-6 h-6 text-blue-600"}),l.jsx("span",{className:"text-2xl font-bold text-black",children:Ne.total})]}),l.jsx("p",{className:"text-xs uppercase tracking-[0.2em] text-gray-600",children:"Total Entries"})]}),l.jsxs("div",{className:"rounded-2xl border border-white/70 bg-gradient-to-br from-purple-50 to-purple-100 p-4",children:[l.jsxs("div",{className:"flex items-center justify-between mb-2",children:[l.jsx(tl,{className:"w-6 h-6 text-purple-600"}),l.jsx("span",{className:"text-2xl font-bold text-black",children:Ne.auto})]}),l.jsx("p",{className:"text-xs uppercase tracking-[0.2em] text-gray-600",children:"Sylvia Drops"})]}),l.jsxs("div",{className:"rounded-2xl border border-white/70 bg-gradient-to-br from-green-50 to-green-100 p-4",children:[l.jsxs("div",{className:"flex items-center justify-between mb-2",children:[l.jsx(No,{className:"w-6 h-6 text-green-600"}),l.jsx("span",{className:"text-2xl font-bold text-black",children:Ne.graded})]}),l.jsx("p",{className:"text-xs uppercase tracking-[0.2em] text-gray-600",children:"Graded"})]}),l.jsxs("div",{className:"rounded-2xl border border-white/70 bg-gradient-to-br from-yellow-50 to-yellow-100 p-4",children:[l.jsxs("div",{className:"flex items-center justify-between mb-2",children:[l.jsx(ps,{className:"w-6 h-6 text-yellow-600"}),l.jsx("span",{className:"text-2xl font-bold text-black",children:Ne.avgGrade})]}),l.jsx("p",{className:"text-xs uppercase tracking-[0.2em] text-gray-600",children:"Avg Grade"})]}),l.jsxs("div",{className:"rounded-2xl border border-white/70 bg-gradient-to-br from-orange-50 to-orange-100 p-4",children:[l.jsxs("div",{className:"flex items-center justify-between mb-2",children:[l.jsx(Va,{className:"w-6 h-6 text-orange-600"}),l.jsx("span",{className:"text-2xl font-bold text-black",children:Ne.thisWeek})]}),l.jsx("p",{className:"text-xs uppercase tracking-[0.2em] text-gray-600",children:"This Week"})]}),l.jsxs("div",{className:"rounded-2xl border border-white/70 bg-gradient-to-br from-pink-50 to-pink-100 p-4",children:[l.jsxs("div",{className:"flex items-center justify-between mb-2",children:[l.jsx(To,{className:"w-6 h-6 text-pink-600"}),l.jsx("span",{className:"text-2xl font-bold text-black",children:Ne.thisMonth})]}),l.jsx("p",{className:"text-xs uppercase tracking-[0.2em] text-gray-600",children:"This Month"})]})]}),P&&g.length>0&&l.jsxs("div",{className:"glass-panel border border-white/70 rounded-3xl p-6 mb-6 space-y-4 bg-gradient-to-br from-purple-50/50 to-pink-50/50",children:[l.jsxs("div",{className:"flex items-center justify-between",children:[l.jsxs("div",{children:[l.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[l.jsx(tl,{className:"w-5 h-5 text-purple-600"}),l.jsx("p",{className:"text-xs uppercase tracking-[0.3em] text-purple-600 font-semibold",children:"Sylvia Suggestions"})]}),l.jsx("h3",{className:"text-xl font-semibold",children:"Promote to journal"})]}),l.jsxs("div",{className:"flex items-center gap-2",children:[l.jsxs("button",{onClick:A,className:"px-3 py-1.5 rounded-full bg-white border border-white/70 text-sm hover:bg-gray-50 transition flex items-center gap-1",children:[l.jsx(zi,{className:"w-4 h-4"}),"Refresh"]}),l.jsx("button",{onClick:()=>te(!1),className:"p-1.5 rounded-full bg-white border border-white/70 hover:bg-gray-50 transition",children:l.jsx(Ft,{className:"w-4 h-4"})})]})]}),l.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:g.map(k=>l.jsxs("div",{className:"rounded-2xl border border-dashed border-purple-200 p-4 space-y-3 bg-white/80 hover:bg-white transition",children:[l.jsxs("div",{className:"flex items-center justify-between",children:[l.jsxs("p",{className:"text-xs uppercase tracking-[0.2em] text-secondary-light",children:["Thread ",k.threadId]}),l.jsx("span",{className:"px-2 py-0.5 rounded-full bg-purple-100 text-purple-700 text-xs font-medium",children:"Suggestion"})]}),l.jsx("div",{className:"message-content text-sm",dangerouslySetInnerHTML:{__html:Hx(k.text.substring(0,200))}}),k.tags.length>0&&l.jsx("div",{className:"flex flex-wrap gap-1.5",children:k.tags.map(X=>l.jsxs("span",{className:"px-2 py-0.5 rounded-full bg-purple-50 text-purple-700 text-xs border border-purple-100",children:["#",X]},X))}),l.jsxs("div",{className:"flex gap-2",children:[l.jsx("button",{onClick:async()=>{await D(k.tags[0]||"Auto entry",k.text,{autoGenerated:!0,sourceThreadId:k.threadId,tags:k.tags,scope:w2(k.tags)});const X=[...b,k.id];f(X),await ln("journal_consumed_snippets",X),A()},className:"flex-1 px-4 py-2 rounded-full bg-black text-white text-sm font-medium hover:shadow-lg transition",children:"Promote"}),l.jsx("button",{onClick:async()=>{const X=[...b,k.id];f(X),await ln("journal_consumed_snippets",X),A()},className:"px-4 py-2 rounded-full bg-white text-sm border border-white/70 hover:bg-gray-50 transition",children:"Dismiss"})]})]},k.id))})]}),l.jsxs("div",{className:"mb-6 space-y-4",children:[l.jsx("div",{className:"glass-panel rounded-2xl border border-white/70 p-4",children:l.jsxs("div",{className:"flex items-center gap-3",children:[l.jsx(rn,{className:"w-5 h-5 text-secondary-light"}),l.jsx("input",{type:"text",value:ye,onChange:k=>le(k.target.value),placeholder:"Search entries by title, content, or tags...",className:"flex-1 bg-transparent outline-none text-lg placeholder:text-secondary-light"}),ye&&l.jsx("button",{onClick:()=>le(""),className:"px-3 py-1 rounded-full bg-white/80 border border-white/70 text-sm hover:bg-white transition",children:"Clear"})]})}),l.jsxs("div",{className:"flex flex-wrap gap-2 items-center",children:[l.jsxs("span",{className:"text-sm text-secondary-light flex items-center gap-1",children:[l.jsx(bs,{className:"w-4 h-4"}),"Filter:"]}),l.jsx("button",{onClick:()=>U(null),className:`px-3 py-1 rounded-full text-xs font-medium transition ${$===null?"bg-black text-white":"bg-white/80 border border-white/70 hover:bg-white"}`,children:"All Tags"}),xe.map(k=>l.jsxs("button",{onClick:()=>U($===k?null:k),className:`px-3 py-1 rounded-full text-xs font-medium transition flex items-center gap-1 ${$===k?"bg-black text-white":"bg-white/80 border border-white/70 hover:bg-white"}`,children:[l.jsx(Cn,{className:"w-3 h-3"}),k]},k)),l.jsxs("div",{className:"flex items-center gap-2 ml-2",children:[l.jsx("span",{className:"text-xs text-secondary-light",children:"Grade:"}),l.jsx("button",{onClick:()=>ve(null),className:`px-2 py-1 rounded-full text-xs transition ${ue===null?"bg-black text-white":"bg-white/80 border border-white/70"}`,children:"All"}),[5,4,3,2,1].map(k=>l.jsxs("button",{onClick:()=>ve(ue===k?null:k),className:`px-2 py-1 rounded-full text-xs transition flex items-center gap-1 ${ue===k?"bg-black text-white":"bg-white/80 border border-white/70"}`,children:[l.jsx(ps,{className:`w-3 h-3 ${ne(k)}`}),k]},k))]})]})]}),q.length===0?l.jsxs("div",{className:"glass-panel rounded-3xl border border-white/70 p-12 text-center",children:[l.jsx("div",{className:"flex justify-center mb-4",children:l.jsx(Od,{className:"w-16 h-16 text-secondary-light"})}),l.jsx("h3",{className:"text-xl font-semibold mb-2",children:r.length===0?"No journal entries yet":"No matches found"}),l.jsx("p",{className:"text-secondary-light",children:r.length===0?"Start reflecting. Your thoughts become Sylvia's context.":"Try adjusting your search or filters."})]}):l.jsx("div",{className:"space-y-6",children:q.map(k=>{const X=(v==null?void 0:v.id)===k.id,se=ge[k.id],je=new Date(k.createdAt);return l.jsx("article",{onClick:N=>{N.target.closest("button")||X||setActiveEntity({type:"journal",id:k.id,data:k})},className:`rounded-3xl border p-6 transition-all cursor-pointer ${X?"border-black bg-black text-white shadow-xl":"border-white/70 bg-white/90 hover:shadow-lg hover:border-white"}`,children:X?l.jsxs("div",{className:"space-y-4",children:[l.jsxs("div",{children:[l.jsx("label",{className:"text-xs uppercase tracking-[0.2em] text-white/70 mb-2 block",children:"Title *"}),l.jsx("input",{value:G,onChange:N=>R(N.target.value),className:"w-full rounded-2xl border border-white/30 bg-white/10 px-4 py-2 text-white placeholder:text-white/50 focus:outline-none focus:ring-2 focus:ring-white/50",placeholder:"Entry title"})]}),l.jsxs("div",{children:[l.jsx("label",{className:"text-xs uppercase tracking-[0.2em] text-white/70 mb-2 block",children:"Content *"}),l.jsx("textarea",{value:M,onChange:N=>j(N.target.value),rows:12,className:"w-full rounded-2xl border border-white/30 bg-white/10 px-4 py-2 text-white placeholder:text-white/50 focus:outline-none focus:ring-2 focus:ring-white/50 resize-none",placeholder:"Write your reflection..."})]}),l.jsxs("div",{className:"flex gap-2",children:[l.jsx("button",{onClick:Oe,className:"flex-1 px-4 py-2 rounded-2xl bg-white text-black font-semibold hover:bg-gray-100 transition",children:"Save"}),l.jsx("button",{onClick:ze,className:"px-4 py-2 rounded-2xl bg-white/20 text-white border border-white/30 hover:bg-white/30 transition",children:"Cancel"})]})]}):l.jsxs(l.Fragment,{children:[l.jsxs("header",{className:"flex items-start justify-between mb-4",children:[l.jsxs("div",{className:"flex-1",children:[l.jsxs("div",{className:"flex items-center gap-3 mb-2",children:[l.jsxs("div",{className:"flex items-center gap-2",children:[l.jsx(En,{className:"w-4 h-4 text-secondary-light"}),l.jsx("span",{className:"text-xs uppercase tracking-[0.2em] text-secondary-light",children:I(k.createdAt)}),l.jsx("span",{className:"text-xs text-secondary-light",children:je.toLocaleTimeString("en-US",{hour:"numeric",minute:"2-digit"})})]}),k.autoGenerated&&l.jsxs("span",{className:"px-2 py-0.5 rounded-full bg-purple-100 text-purple-700 text-xs font-medium flex items-center gap-1",children:[l.jsx(tl,{className:"w-3 h-3"}),"Sylvia"]})]}),l.jsx("h3",{className:"text-2xl font-bold mb-2",children:k.title})]}),k.grade&&l.jsxs("div",{className:`px-3 py-1.5 rounded-full flex items-center gap-1 ${Q(k.grade)}`,children:[l.jsx(ps,{className:`w-4 h-4 ${ne(k.grade)}`}),l.jsxs("span",{className:`text-sm font-semibold ${ne(k.grade)}`,children:[k.grade,"/5"]})]})]}),l.jsx("div",{className:"mb-4",children:l.jsx(bt,{content:k.content,className:"text-sm leading-relaxed"})}),k.tags&&k.tags.length>0&&l.jsx("div",{className:"mb-4 flex flex-wrap gap-2",children:k.tags.map(N=>l.jsxs("span",{className:"px-3 py-1 rounded-full bg-blue-50 text-blue-700 text-xs font-medium border border-blue-100 flex items-center gap-1",children:[l.jsx(Cn,{className:"w-3 h-3"}),N]},N))}),se&&ee!==k.id&&l.jsxs("div",{className:`mb-4 p-4 rounded-2xl border ${se.extracted.length>0?"bg-green-50 border-green-200":se.errors.length>0?"bg-red-50 border-red-200":"bg-gray-50 border-gray-200"}`,children:[l.jsxs("div",{className:"flex items-start justify-between mb-2",children:[l.jsxs("div",{className:"flex items-center gap-2",children:[se.extracted.length>0?l.jsx(Ya,{className:"w-4 h-4 text-green-600"}):se.errors.length>0?l.jsx(Rd,{className:"w-4 h-4 text-red-600"}):l.jsx(Va,{className:"w-4 h-4 text-gray-600"}),l.jsx("span",{className:"text-xs font-semibold uppercase tracking-[0.1em]",children:"Extraction Results"})]}),l.jsx("button",{onClick:()=>{be(N=>{const re={...N};return delete re[k.id],re})},className:"text-gray-400 hover:text-gray-600 transition",children:l.jsx(Ft,{className:"w-4 h-4"})})]}),se.extracted.length>0&&l.jsxs("div",{className:"mb-2",children:[l.jsxs("p",{className:"text-xs font-semibold text-green-700 mb-1",children:["Extracted ",se.extracted.length," entities:"]}),l.jsx("ul",{className:"list-disc list-inside space-y-1 text-xs text-green-600",children:se.extracted.map((N,re)=>l.jsx("li",{children:N},re))})]}),se.errors.length>0&&l.jsxs("div",{children:[l.jsx("p",{className:"text-xs font-semibold text-red-700 mb-1",children:"Errors:"}),l.jsx("ul",{className:"list-disc list-inside space-y-1 text-xs text-red-600",children:se.errors.map((N,re)=>l.jsx("li",{children:N},re))})]}),se.extracted.length===0&&se.errors.length===0&&l.jsx("p",{className:"text-xs text-gray-600",children:"No new entities found in this entry."})]}),l.jsxs("div",{className:"flex items-center gap-2 pt-4 border-t border-white/20",children:[l.jsx("button",{onClick:()=>y(k.id),disabled:ee===k.id,className:"px-3 py-1.5 rounded-full bg-black text-white text-xs font-medium hover:shadow-lg transition flex items-center gap-1 disabled:opacity-50 disabled:cursor-not-allowed",title:"Extract entities from this entry (fail-safe)",children:ee===k.id?l.jsxs(l.Fragment,{children:[l.jsx(zi,{className:"w-3 h-3 animate-spin"}),"Extracting..."]}):l.jsxs(l.Fragment,{children:[l.jsx(ys,{className:"w-3 h-3"}),"Extract Entities"]})}),l.jsxs("button",{onClick:()=>he(k),className:"px-3 py-1.5 rounded-full bg-white/80 border border-white/70 text-xs font-medium hover:bg-white transition flex items-center gap-1",children:[l.jsx(Xa,{className:"w-3 h-3"}),"Edit"]}),l.jsxs("button",{onClick:()=>Z(k.id),className:"px-3 py-1.5 rounded-full bg-white/80 border border-white/70 text-xs font-medium hover:bg-red-50 hover:border-red-200 hover:text-red-700 transition flex items-center gap-1",children:[l.jsx(nn,{className:"w-3 h-3"}),"Delete"]}),l.jsxs("div",{className:"flex items-center gap-2 ml-auto",children:[l.jsxs("select",{value:k.grade??"",onChange:async N=>{const re=N.target.value?Number(N.target.value):void 0;await F.saveJournalEntry({...k,grade:re}),await El("journal.grade"),W()},className:"rounded-full border border-white/70 bg-white px-3 py-1 text-xs focus:outline-none focus:ring-2 focus:ring-black",children:[l.jsx("option",{value:"",children:"Grade"}),[5,4,3,2,1].map(N=>l.jsxs("option",{value:N,children:[N," "]},N))]}),k.grade&&l.jsx("input",{value:k.gradeNotes??"",onChange:async N=>{await F.saveJournalEntry({...k,gradeNotes:N.target.value}),W()},placeholder:"Grade notes...",className:"rounded-full border border-white/70 bg-white px-3 py-1 text-xs w-32 focus:outline-none focus:ring-2 focus:ring-black"})]})]})]})},k.id)})})]})},E2=()=>{const{sendMessage:r}=al(),[o,c]=w.useState([]),[u,h]=w.useState([]),[m,g]=w.useState([]),[x,b]=w.useState([]),[f,v]=w.useState([]),[_,M]=w.useState(null),[j,G]=w.useState("semi-auto"),[R,ee]=w.useState(""),[oe,ge]=w.useState([]),[be,ye]=w.useState([]),[le,$]=w.useState(""),[U,ue]=w.useState(""),[ve,P]=w.useState(""),[te,Ne]=w.useState(null),[xe,W]=w.useState(!1),[A,D]=w.useState({personality:"",decisionStyle:"",communicationStyle:""}),[Z,he]=w.useState(null),[Oe,ze]=w.useState(null),[y,q]=w.useState({title:"",description:"",guardrails:"",successCriteria:"",scope:"professional",priority:"medium",tags:""}),[I,ne]=w.useState({title:"",description:"",dueAt:"",estimatedTime:"",priority:"medium",tags:"",deliverableId:""}),Q=w.useCallback(async()=>{const[C,Se,Te,_e,fe]=await Promise.all([F.getAgendaItems(),F.getDeliverables(),F.getAgendaSessions(),F.getPostMortems(),F.getGoals()]);c(C.sort((He,H)=>(H.dueAt||H.createdAt)-(He.dueAt||He.createdAt))),h(Se.sort((He,H)=>H.createdAt-He.createdAt)),g(Te.sort((He,H)=>(H.updatedAt||H.startedAt)-(He.updatedAt||He.startedAt))),b(_e.sort((He,H)=>H.createdAt-He.createdAt)),v(fe);const Fe=Te.find(He=>He.status==="active"||He.status==="paused");M(Fe||null),Fe&&(ee(Fe.notes||""),G(Fe.mode),ge(Fe.deliverableIds),ye(Fe.sessionGoals||[]))},[]);w.useEffect(()=>(Q(),sn(["agenda","deliverable","goal"],Q)),[Q]);const k=w.useMemo(()=>{const C=o.length,Se=o.filter(H=>H.status==="done").length,Te=o.filter(H=>H.status==="in-progress").length,_e=o.filter(H=>H.status==="todo").length,fe=m.filter(H=>H.status==="active").length,Fe=m.filter(H=>H.status==="completed").length,He=u.length;return{totalItems:C,doneItems:Se,inProgressItems:Te,todoItems:_e,activeSessions:fe,completedSessions:Fe,totalDeliverables:He}},[o,m,u]),X=w.useMemo(()=>{let C=o;if(te&&(C=C.filter(Se=>Se.status===te)),ve.trim()){const Se=ve.toLowerCase();C=C.filter(Te=>{var _e,fe;return Te.title.toLowerCase().includes(Se)||((_e=Te.description)==null?void 0:_e.toLowerCase().includes(Se))||((fe=Te.tags)==null?void 0:fe.some(Fe=>Fe.toLowerCase().includes(Se)))})}return C},[o,te,ve]),se=C=>u.find(Se=>Se.id===C),je=C=>f.find(Se=>Se.id===C),N=async()=>{let C=oe;C.length===0&&u.length===1&&(C=[u[0].id]),C.length===0&&j!=="manual"&&(C=[]);let Se=[];j!=="manual"&&(Se=o.filter(fe=>fe.deliverableId&&C.includes(fe.deliverableId)).map(fe=>fe.id));const Te={id:`session-${Date.now()}`,mode:j,deliverableIds:C,taskSequence:Se,startedAt:Date.now(),status:"active",currentTaskIndex:0,sessionGoals:be.length>0?be:void 0,autonomousAgentConfig:j==="auto"?{personality:A.personality||void 0,decisionStyle:A.decisionStyle||void 0,communicationStyle:A.communicationStyle||void 0}:void 0,createdAt:Date.now()};await F.saveAgendaSession(Te),await El("agenda.session"),await nd("Agenda session started",`Mode: ${j}`,{scope:"professional",tags:["agenda","session",j],metadata:{deliverables:oe.join(",")},autoGenerated:!0}),j==="auto"&&await re(Te),ge([]),ye([]),W(!1),Q()},re=async C=>{var Ue,Xe,Ut,K;const[Se,Te,_e,fe]=await Promise.all([F.getPeopleRecords(),F.getBrandRecords(),F.getCalendarEvents(),F.getJournalEntries()]),Fe=C.deliverableIds.map(V=>se(V)).filter(Boolean),He=((Ue=C.taskSequence)==null?void 0:Ue.map(V=>o.find(De=>De.id===V)).filter(Boolean))||[],H=`You are operating as an autonomous agent working on behalf of the user. Your task is to complete this workflow session autonomously.

SESSION MODE: ${C.mode==="auto"?"FULLY AUTONOMOUS":"SEMI-AUTONOMOUS"}
${(Xe=C.autonomousAgentConfig)!=null&&Xe.personality?`PERSONALITY: ${C.autonomousAgentConfig.personality}`:""}
${(Ut=C.autonomousAgentConfig)!=null&&Ut.decisionStyle?`DECISION STYLE: ${C.autonomousAgentConfig.decisionStyle}`:""}
${(K=C.autonomousAgentConfig)!=null&&K.communicationStyle?`COMMUNICATION STYLE: ${C.autonomousAgentConfig.communicationStyle}`:""}

DELIVERABLES TO COMPLETE:
${Fe.map(V=>`- ${V.title}: ${V.description}
  Guardrails: ${V.guardrails}
  Success: ${V.successCriteria}`).join(`
`)}

TASK SEQUENCE:
${He.map((V,De)=>`${De+1}. ${V.title}${V.description?`: ${V.description}`:""}${V.estimatedTime?` (${V.estimatedTime} min)`:""}`).join(`
`)}

${C.sessionGoals&&C.sessionGoals.length>0?`SESSION GOALS:
${C.sessionGoals.map(V=>{var De;return`- ${((De=je(V))==null?void 0:De.title)||V}`}).join(`
`)}`:""}

AVAILABLE CONTEXT:
- ${Se.length} people in network
- ${Te.length} brand elements
- ${_e.length} calendar events
- ${fe.length} journal entries

${C.mode==="auto"?"AUTONOMOUS MODE: Work through the tasks systematically. Make decisions, take actions, and complete deliverables. Act as the user would act. Use ACTION markers to create entities, update calendar, add people, etc. as needed.":"SEMI-AUTONOMOUS MODE: Guide the user through the workflow. Ask questions, provide suggestions, check progress, and ensure all deliverables are completed. Be collaborative and supportive."}

Start working through the tasks now. Provide updates as you progress.`;await r(H)},ce=async(C,Se)=>{await F.saveAgendaSession({...C,status:Se,updatedAt:Date.now()}),Q()},pe=async()=>{_&&(await F.saveAgendaSession({..._,notes:R,updatedAt:Date.now()}),Q())},Me=async()=>{if(!_)return;const Se=o.filter(_e=>_.deliverableIds.includes(_e.deliverableId||"")&&_e.status==="done").length*10;await El("agenda.session");const Te={..._,status:"completed",endedAt:Date.now(),summary:le,notes:R,xpAwarded:Se,updatedAt:Date.now()};await F.saveAgendaSession(Te),await F.savePostMortem({id:`mortem-${Date.now()}`,sessionId:Te.id,notes:le,grade:U?Number(U):void 0,createdAt:Date.now()}),await nd("Agenda session completed",le||"Session ended",{scope:"professional",tags:["agenda","session","post-mortem"],metadata:{sessionId:Te.id,xpAwarded:Se},autoGenerated:!0}),$(""),ue(""),M(null),Q()},qe=async(C,Se)=>{await F.saveAgendaItem({...C,status:Se,completedAt:Se==="done"?Date.now():void 0}),await El("agenda.add"),Q()},yt=async C=>{await F.deleteAgendaItem(C),Q()},Be=async()=>{Z&&(await F.saveDeliverable({...Z,...y,tags:y.tags.split(",").map(C=>C.trim()).filter(Boolean)}),he(null),Q())},vt=async C=>{const Se=o.filter(Te=>Te.deliverableId===C);for(const Te of Se)await F.deleteAgendaItem(Te.id);await F.deleteDeliverable(C),Q()},At=async()=>{if(oe.length===0)return;const C=oe.map(He=>se(He)).filter(Boolean),[Se,Te,_e,fe]=await Promise.all([F.getPeopleRecords(),F.getBrandRecords(),F.getCalendarEvents(),F.getJournalEntries()]),Fe=`Generate a detailed workflow/task sequence for these deliverables:

DELIVERABLES:
${C.map(He=>`- ${He.title}: ${He.description}
  Guardrails: ${He.guardrails}
  Success: ${He.successCriteria}`).join(`
`)}

AVAILABLE CONTEXT:
- ${Se.length} people in network
- ${Te.length} brand elements  
- ${_e.length} calendar events
- ${fe.length} journal entries

Create a step-by-step workflow with specific, actionable tasks. For each task, respond with:
[ACTION:agenda.add|title|description|deliverableId|estimatedTime|priority]

Where:
- title: Task title
- description: What needs to be done
- deliverableId: One of ${oe.join(", ")}
- estimatedTime: Minutes (e.g., 30, 60, 120)
- priority: low, medium, or high

Generate 5-15 tasks that break down these deliverables into actionable steps.`;await r(Fe)};return l.jsxs(Jt,{title:"Agenda",subtitle:"Autonomous & semi-autonomous workflow builder. Set up task sequences for Sylvia to execute or guide you through.",children:[l.jsxs("div",{className:"grid grid-cols-2 sm:grid-cols-4 md:grid-cols-7 gap-4 mb-6",children:[l.jsxs("div",{className:"rounded-2xl border border-white/70 bg-gradient-to-br from-blue-50 to-blue-100 p-4",children:[l.jsxs("div",{className:"flex items-center justify-between mb-2",children:[l.jsx(Pu,{className:"w-6 h-6 text-blue-600"}),l.jsx("span",{className:"text-2xl font-bold text-black",children:k.totalItems})]}),l.jsx("p",{className:"text-xs uppercase tracking-[0.2em] text-gray-600",children:"Total Tasks"})]}),l.jsxs("div",{className:"rounded-2xl border border-white/70 bg-gradient-to-br from-green-50 to-green-100 p-4",children:[l.jsxs("div",{className:"flex items-center justify-between mb-2",children:[l.jsx(Ya,{className:"w-6 h-6 text-green-600"}),l.jsx("span",{className:"text-2xl font-bold text-black",children:k.doneItems})]}),l.jsx("p",{className:"text-xs uppercase tracking-[0.2em] text-gray-600",children:"Done"})]}),l.jsxs("div",{className:"rounded-2xl border border-white/70 bg-gradient-to-br from-yellow-50 to-yellow-100 p-4",children:[l.jsxs("div",{className:"flex items-center justify-between mb-2",children:[l.jsx(Va,{className:"w-6 h-6 text-yellow-600"}),l.jsx("span",{className:"text-2xl font-bold text-black",children:k.inProgressItems})]}),l.jsx("p",{className:"text-xs uppercase tracking-[0.2em] text-gray-600",children:"In Progress"})]}),l.jsxs("div",{className:"rounded-2xl border border-white/70 bg-gradient-to-br from-gray-50 to-gray-100 p-4",children:[l.jsxs("div",{className:"flex items-center justify-between mb-2",children:[l.jsx(Pu,{className:"w-6 h-6 text-gray-600"}),l.jsx("span",{className:"text-2xl font-bold text-black",children:k.todoItems})]}),l.jsx("p",{className:"text-xs uppercase tracking-[0.2em] text-gray-600",children:"To Do"})]}),l.jsxs("div",{className:"rounded-2xl border border-white/70 bg-gradient-to-br from-purple-50 to-purple-100 p-4",children:[l.jsxs("div",{className:"flex items-center justify-between mb-2",children:[l.jsx(La,{className:"w-6 h-6 text-purple-600"}),l.jsx("span",{className:"text-2xl font-bold text-black",children:k.totalDeliverables})]}),l.jsx("p",{className:"text-xs uppercase tracking-[0.2em] text-gray-600",children:"Deliverables"})]}),l.jsxs("div",{className:"rounded-2xl border border-white/70 bg-gradient-to-br from-orange-50 to-orange-100 p-4",children:[l.jsxs("div",{className:"flex items-center justify-between mb-2",children:[l.jsx(Ri,{className:"w-6 h-6 text-orange-600"}),l.jsx("span",{className:"text-2xl font-bold text-black",children:k.activeSessions})]}),l.jsx("p",{className:"text-xs uppercase tracking-[0.2em] text-gray-600",children:"Active"})]}),l.jsxs("div",{className:"rounded-2xl border border-white/70 bg-gradient-to-br from-pink-50 to-pink-100 p-4",children:[l.jsxs("div",{className:"flex items-center justify-between mb-2",children:[l.jsx(No,{className:"w-6 h-6 text-pink-600"}),l.jsx("span",{className:"text-2xl font-bold text-black",children:k.completedSessions})]}),l.jsx("p",{className:"text-xs uppercase tracking-[0.2em] text-gray-600",children:"Completed"})]})]}),_&&l.jsxs("div",{className:"glass-panel border border-white/70 rounded-3xl p-6 mb-6 space-y-4 bg-gradient-to-br from-purple-50/50 to-blue-50/50",children:[l.jsxs("div",{className:"flex items-center justify-between",children:[l.jsxs("div",{children:[l.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[_.mode==="auto"?l.jsx(ro,{className:"w-5 h-5 text-purple-600"}):_.mode==="semi-auto"?l.jsx(tn,{className:"w-5 h-5 text-blue-600"}):l.jsx(Oi,{className:"w-5 h-5 text-gray-600"}),l.jsxs("span",{className:"text-xs uppercase tracking-[0.3em] text-secondary-light",children:[_.mode==="auto"?"AUTONOMOUS":_.mode==="semi-auto"?"SEMI-AUTONOMOUS":"MANUAL"," SESSION"]}),l.jsx("span",{className:`px-2 py-0.5 rounded-full text-xs font-semibold ${_.status==="active"?"bg-green-100 text-green-700":"bg-yellow-100 text-yellow-700"}`,children:_.status.toUpperCase()})]}),l.jsx("h3",{className:"text-xl font-semibold",children:"Active Workflow Session"}),l.jsxs("p",{className:"text-sm text-secondary-light",children:["Started ",new Date(_.startedAt).toLocaleString()]})]}),l.jsxs("div",{className:"flex gap-2",children:[_.status==="active"&&l.jsxs("button",{onClick:()=>ce(_,"paused"),className:"px-4 py-2 rounded-full bg-white border border-white/70 text-sm hover:bg-gray-50 transition flex items-center gap-2",children:[l.jsx(yv,{className:"w-4 h-4"}),"Pause"]}),_.status==="paused"&&l.jsxs("button",{onClick:()=>ce(_,"active"),className:"px-4 py-2 rounded-full bg-white border border-white/70 text-sm hover:bg-gray-50 transition flex items-center gap-2",children:[l.jsx(Ri,{className:"w-4 h-4"}),"Resume"]}),l.jsx("button",{onClick:()=>{M(null),ee("")},className:"px-4 py-2 rounded-full bg-white border border-white/70 text-sm hover:bg-gray-50 transition",children:l.jsx(Ft,{className:"w-4 h-4"})})]})]}),l.jsxs("div",{children:[l.jsx("p",{className:"text-xs uppercase tracking-[0.2em] text-secondary-light mb-2",children:"Deliverables"}),l.jsx("div",{className:"flex flex-wrap gap-2",children:_.deliverableIds.map(C=>{const Se=se(C);return Se?l.jsx("span",{className:"px-3 py-1 rounded-full bg-white border border-white/70 text-sm font-medium",children:Se.title},C):null})})]}),_.sessionGoals&&_.sessionGoals.length>0&&l.jsxs("div",{children:[l.jsxs("p",{className:"text-xs uppercase tracking-[0.2em] text-secondary-light mb-2 flex items-center gap-1",children:[l.jsx(La,{className:"w-3 h-3"}),"Session Goals"]}),l.jsx("div",{className:"flex flex-wrap gap-2",children:_.sessionGoals.map(C=>{const Se=je(C);return Se?l.jsx("span",{className:"px-3 py-1 rounded-full bg-purple-100 text-purple-700 text-sm font-medium border border-purple-200",children:Se.title},C):null})})]}),_.taskSequence&&_.taskSequence.length>0&&l.jsxs("div",{children:[l.jsxs("p",{className:"text-xs uppercase tracking-[0.2em] text-secondary-light mb-2",children:["Task Sequence (",_.currentTaskIndex||1," / ",_.taskSequence.length,")"]}),l.jsxs("div",{className:"space-y-2",children:[_.taskSequence.slice(0,5).map((C,Se)=>{const Te=o.find(fe=>fe.id===C);if(!Te)return null;const _e=Se===(_.currentTaskIndex||0);return l.jsxs("div",{className:`flex items-center gap-3 p-3 rounded-2xl border ${_e?"bg-purple-100 border-purple-300":Te.status==="done"?"bg-green-50 border-green-200 opacity-60":"bg-white border-white/70"}`,children:[Te.status==="done"?l.jsx(Ya,{className:"w-5 h-5 text-green-600"}):_e?l.jsx(d1,{className:"w-5 h-5 text-purple-600"}):l.jsx(Va,{className:"w-5 h-5 text-gray-400"}),l.jsxs("div",{className:"flex-1",children:[l.jsx("p",{className:"text-sm font-medium",children:Te.title}),Te.estimatedTime&&l.jsxs("p",{className:"text-xs text-secondary-light",children:[Te.estimatedTime," min"]})]})]},C)}),_.taskSequence.length>5&&l.jsxs("p",{className:"text-xs text-secondary-light text-center",children:["+",_.taskSequence.length-5," more tasks"]})]})]}),l.jsxs("div",{children:[l.jsx("label",{className:"text-xs uppercase tracking-[0.2em] text-secondary-light mb-2 block",children:"Live Notes / Transcript"}),l.jsx("textarea",{value:R,onChange:C=>ee(C.target.value),placeholder:_.mode==="auto"?"Autonomous agent is working... Notes will appear here.":_.mode==="semi-auto"?"Jam session notes... Sylvia is guiding you through the workflow.":"Session notes...",rows:6,className:"w-full rounded-2xl border border-white/70 px-4 py-3 bg-white/80 focus:outline-none focus:ring-2 focus:ring-black resize-none"}),l.jsx("button",{onClick:pe,className:"mt-2 px-4 py-2 rounded-full bg-black text-white text-sm font-medium hover:shadow-lg transition",children:"Save Notes"})]}),l.jsxs("div",{className:"pt-4 border-t border-white/20 space-y-3",children:[l.jsxs("div",{children:[l.jsx("label",{className:"text-xs uppercase tracking-[0.2em] text-secondary-light mb-2 block",children:"Post-Mortem Summary"}),l.jsx("textarea",{value:le,onChange:C=>$(C.target.value),placeholder:"What happened? What was accomplished? What did you learn?",rows:3,className:"w-full rounded-2xl border border-white/70 px-4 py-3 bg-white/80 focus:outline-none focus:ring-2 focus:ring-black resize-none"})]}),l.jsxs("div",{className:"flex items-center gap-3",children:[l.jsxs("select",{value:U,onChange:C=>ue(C.target.value),className:"rounded-2xl border border-white/70 px-4 py-2 bg-white/80 focus:outline-none focus:ring-2 focus:ring-black",children:[l.jsx("option",{value:"",children:"Grade Session"}),[5,4,3,2,1].map(C=>l.jsxs("option",{value:C,children:[C," "]},C))]}),l.jsxs("button",{onClick:Me,className:"flex-1 px-4 py-2 rounded-2xl bg-black text-white font-semibold hover:shadow-lg transition flex items-center justify-center gap-2",children:[l.jsx(Ya,{className:"w-4 h-4"}),"Complete Session"]})]})]})]}),!_&&l.jsxs("div",{className:"glass-panel border border-white/70 rounded-3xl p-6 mb-6 space-y-4",children:[l.jsxs("div",{className:"flex items-center justify-between",children:[l.jsxs("div",{children:[l.jsxs("h3",{className:"text-xl font-semibold flex items-center gap-2",children:[l.jsx(tl,{className:"w-5 h-5"}),"Start Workflow Session"]}),l.jsx("p",{className:"text-sm text-secondary-light mt-1",children:"Choose mode and deliverables to begin"})]}),l.jsxs("button",{onClick:()=>W(!xe),className:"px-4 py-2 rounded-full bg-white border border-white/70 text-sm hover:bg-gray-50 transition flex items-center gap-2",children:[l.jsx(Hv,{className:"w-4 h-4"}),"Config"]})]}),l.jsxs("div",{children:[l.jsx("label",{className:"text-xs uppercase tracking-[0.2em] text-secondary-light mb-2 block",children:"Session Mode"}),l.jsx("div",{className:"grid grid-cols-3 gap-3",children:["manual","semi-auto","auto"].map(C=>l.jsxs("button",{onClick:()=>G(C),className:`p-4 rounded-2xl border transition ${j===C?"border-black bg-black text-white shadow-lg":"border-white/70 bg-white/80 hover:bg-white"}`,children:[C==="auto"?l.jsx(ro,{className:"w-6 h-6 mx-auto mb-2"}):C==="semi-auto"?l.jsx(tn,{className:"w-6 h-6 mx-auto mb-2"}):l.jsx(Oi,{className:"w-6 h-6 mx-auto mb-2"}),l.jsx("p",{className:"text-sm font-semibold capitalize mb-1",children:C==="auto"?"Autonomous":C==="semi-auto"?"Semi-Auto":"Manual"}),l.jsx("p",{className:"text-xs opacity-70",children:C==="auto"?"Agent works independently":C==="semi-auto"?"Guided collaboration":"Full manual control"})]},C))})]}),xe&&j==="auto"&&l.jsxs("div",{className:"p-4 rounded-2xl bg-purple-50 border border-purple-200 space-y-3",children:[l.jsx("p",{className:"text-sm font-semibold text-purple-900",children:"Autonomous Agent Configuration"}),l.jsxs("div",{children:[l.jsx("label",{className:"text-xs uppercase tracking-[0.2em] text-purple-700 mb-2 block",children:"Personality / How should the agent act?"}),l.jsx("textarea",{value:A.personality,onChange:C=>D({...A,personality:C.target.value}),placeholder:"e.g., Proactive, decisive, detail-oriented, communicates clearly...",rows:2,className:"w-full rounded-2xl border border-purple-200 px-4 py-2 bg-white focus:outline-none focus:ring-2 focus:ring-purple-500 resize-none"})]}),l.jsxs("div",{children:[l.jsx("label",{className:"text-xs uppercase tracking-[0.2em] text-purple-700 mb-2 block",children:"Decision Style"}),l.jsx("input",{value:A.decisionStyle,onChange:C=>D({...A,decisionStyle:C.target.value}),placeholder:"e.g., Fast decisions, consult context first, conservative approach...",className:"w-full rounded-2xl border border-purple-200 px-4 py-2 bg-white focus:outline-none focus:ring-2 focus:ring-purple-500"})]}),l.jsxs("div",{children:[l.jsx("label",{className:"text-xs uppercase tracking-[0.2em] text-purple-700 mb-2 block",children:"Communication Style"}),l.jsx("input",{value:A.communicationStyle,onChange:C=>D({...A,communicationStyle:C.target.value}),placeholder:"e.g., Concise updates, detailed reports, minimal communication...",className:"w-full rounded-2xl border border-purple-200 px-4 py-2 bg-white focus:outline-none focus:ring-2 focus:ring-purple-500"})]})]}),l.jsxs("div",{children:[l.jsx("label",{className:"text-xs uppercase tracking-[0.2em] text-secondary-light mb-2 block",children:"Select Deliverables"}),u.length===0?l.jsx("p",{className:"text-sm text-secondary-light p-4 rounded-2xl bg-white/50 border border-dashed border-white/70",children:"No deliverables yet. Tell Sylvia about what you want to achieve, or start a session and she'll help create deliverables as you work."}):l.jsx("div",{className:"flex flex-wrap gap-2",children:u.map(C=>l.jsx("button",{onClick:()=>ge(Se=>Se.includes(C.id)?Se.filter(Te=>Te!==C.id):[...Se,C.id]),className:`px-4 py-2 rounded-full border text-sm font-medium transition ${oe.includes(C.id)?"bg-black text-white border-black":"bg-white border-white/70 hover:bg-gray-50"}`,children:C.title},C.id))})]}),l.jsxs("div",{children:[l.jsx("label",{className:"text-xs uppercase tracking-[0.2em] text-secondary-light mb-2 block",children:"Link to Goals (Optional)"}),f.length===0?l.jsx("p",{className:"text-xs text-secondary-light",children:"No goals available. Create goals in Polaris first."}):l.jsx("div",{className:"flex flex-wrap gap-2",children:f.map(C=>l.jsxs("button",{onClick:()=>ye(Se=>Se.includes(C.id)?Se.filter(Te=>Te!==C.id):[...Se,C.id]),className:`px-3 py-1 rounded-full border text-xs font-medium transition flex items-center gap-1 ${be.includes(C.id)?"bg-purple-100 text-purple-700 border-purple-300":"bg-white border-white/70 hover:bg-gray-50"}`,children:[l.jsx(La,{className:"w-3 h-3"}),C.title]},C.id))})]}),l.jsxs("div",{className:"flex gap-3",children:[j!=="manual"&&oe.length>0&&l.jsxs("button",{onClick:At,className:"px-4 py-2 rounded-full bg-blue-50 text-blue-700 border border-blue-200 text-sm font-medium hover:bg-blue-100 transition flex items-center gap-2",children:[l.jsx(fs,{className:"w-4 h-4"}),"Generate Workflow"]}),l.jsx("button",{onClick:N,className:"flex-1 px-4 py-2 rounded-full bg-black text-white text-sm font-semibold hover:shadow-lg transition flex items-center justify-center gap-2",children:j==="auto"?l.jsxs(l.Fragment,{children:[l.jsx(ro,{className:"w-4 h-4"}),"Start Autonomous Session"]}):j==="semi-auto"?l.jsxs(l.Fragment,{children:[l.jsx(tn,{className:"w-4 h-4"}),"Start Jam Session"]}):l.jsxs(l.Fragment,{children:[l.jsx(Ri,{className:"w-4 h-4"}),"Start Manual Session"]})})]})]}),l.jsxs("div",{className:"mb-8",children:[l.jsx("div",{className:"flex items-center justify-between mb-4",children:l.jsxs("div",{children:[l.jsxs("h2",{className:"text-2xl font-semibold flex items-center gap-2",children:[l.jsx(La,{className:"w-6 h-6"}),"Deliverables"]}),l.jsx("p",{className:"text-sm text-secondary-light mt-1",children:"Deliverables are created through conversation with Sylvia. Talk to her about what you want to achieve and she'll add them here."})]})}),u.length===0?l.jsxs("div",{className:"glass-panel rounded-3xl border border-white/70 p-12 text-center",children:[l.jsx("div",{className:"flex justify-center mb-4",children:l.jsx(La,{className:"w-16 h-16 text-secondary-light"})}),l.jsx("h3",{className:"text-xl font-semibold mb-2",children:"No deliverables yet"}),l.jsx("p",{className:"text-secondary-light",children:"Tell Sylvia about the outcomes you want to achieve. She'll create deliverables here, then you can build workflows around them."})]}):l.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:u.map(C=>{const Se=(Z==null?void 0:Z.id)===C.id,Te=o.filter(fe=>fe.deliverableId===C.id),_e=Te.filter(fe=>fe.status==="done").length;return l.jsx("div",{className:`rounded-3xl border p-6 transition-all ${Se?"border-black bg-black text-white shadow-xl":"border-white/70 bg-white/90 hover:shadow-lg hover:border-white"}`,children:Se?l.jsxs("div",{className:"space-y-4",children:[l.jsxs("div",{children:[l.jsx("label",{className:"text-xs uppercase tracking-[0.2em] text-white/70 mb-2 block",children:"Title *"}),l.jsx("input",{value:y.title,onChange:fe=>q({...y,title:fe.target.value}),className:"w-full rounded-2xl border border-white/30 bg-white/10 px-4 py-2 text-white placeholder:text-white/50 focus:outline-none focus:ring-2 focus:ring-white/50",placeholder:"Deliverable title"})]}),l.jsxs("div",{children:[l.jsx("label",{className:"text-xs uppercase tracking-[0.2em] text-white/70 mb-2 block",children:"Description *"}),l.jsx("textarea",{value:y.description,onChange:fe=>q({...y,description:fe.target.value}),rows:3,className:"w-full rounded-2xl border border-white/30 bg-white/10 px-4 py-2 text-white placeholder:text-white/50 focus:outline-none focus:ring-2 focus:ring-white/50 resize-none",placeholder:"What needs to be delivered?"})]}),l.jsxs("div",{children:[l.jsx("label",{className:"text-xs uppercase tracking-[0.2em] text-white/70 mb-2 block",children:"Guardrails"}),l.jsx("textarea",{value:y.guardrails,onChange:fe=>q({...y,guardrails:fe.target.value}),rows:2,className:"w-full rounded-2xl border border-white/30 bg-white/10 px-4 py-2 text-white placeholder:text-white/50 focus:outline-none focus:ring-2 focus:ring-white/50 resize-none",placeholder:"Constraints, boundaries, things to avoid..."})]}),l.jsxs("div",{children:[l.jsx("label",{className:"text-xs uppercase tracking-[0.2em] text-white/70 mb-2 block",children:"Success Criteria"}),l.jsx("textarea",{value:y.successCriteria,onChange:fe=>q({...y,successCriteria:fe.target.value}),rows:2,className:"w-full rounded-2xl border border-white/30 bg-white/10 px-4 py-2 text-white placeholder:text-white/50 focus:outline-none focus:ring-2 focus:ring-white/50 resize-none",placeholder:"How will you know this is complete?"})]}),l.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[l.jsxs("div",{children:[l.jsx("label",{className:"text-xs uppercase tracking-[0.2em] text-white/70 mb-2 block",children:"Scope"}),l.jsxs("select",{value:y.scope,onChange:fe=>q({...y,scope:fe.target.value}),className:"w-full rounded-2xl border border-white/30 bg-white/10 px-4 py-2 text-white focus:outline-none focus:ring-2 focus:ring-white/50",children:[l.jsx("option",{value:"personal",children:"Personal"}),l.jsx("option",{value:"professional",children:"Professional"})]})]}),l.jsxs("div",{children:[l.jsx("label",{className:"text-xs uppercase tracking-[0.2em] text-white/70 mb-2 block",children:"Priority"}),l.jsxs("select",{value:y.priority,onChange:fe=>q({...y,priority:fe.target.value}),className:"w-full rounded-2xl border border-white/30 bg-white/10 px-4 py-2 text-white focus:outline-none focus:ring-2 focus:ring-white/50",children:[l.jsx("option",{value:"low",children:"Low"}),l.jsx("option",{value:"medium",children:"Medium"}),l.jsx("option",{value:"high",children:"High"})]})]})]}),l.jsxs("div",{children:[l.jsx("label",{className:"text-xs uppercase tracking-[0.2em] text-white/70 mb-2 block",children:"Tags (comma-separated)"}),l.jsx("input",{value:y.tags,onChange:fe=>q({...y,tags:fe.target.value}),className:"w-full rounded-2xl border border-white/30 bg-white/10 px-4 py-2 text-white placeholder:text-white/50 focus:outline-none focus:ring-2 focus:ring-white/50",placeholder:"tag1, tag2, tag3"})]}),l.jsxs("div",{className:"flex gap-2",children:[l.jsx("button",{onClick:async()=>{Z.id.startsWith("deliverable-")?await F.saveDeliverable({...Z,...y,tags:y.tags.split(",").map(fe=>fe.trim()).filter(Boolean)}):await Be(),he(null),Q()},className:"flex-1 px-4 py-2 rounded-2xl bg-white text-black font-semibold hover:bg-gray-100 transition",children:"Save"}),l.jsx("button",{onClick:()=>{he(null),q({title:"",description:"",guardrails:"",successCriteria:"",scope:"professional",priority:"medium",tags:""})},className:"px-4 py-2 rounded-2xl bg-white/20 text-white border border-white/30 hover:bg-white/30 transition",children:"Cancel"})]})]}):l.jsxs(l.Fragment,{children:[l.jsx("div",{className:"flex items-start justify-between mb-4",children:l.jsxs("div",{className:"flex-1",children:[l.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[l.jsx("span",{className:`px-2 py-0.5 rounded-full text-xs font-semibold ${C.priority==="high"?"bg-red-100 text-red-700":C.priority==="medium"?"bg-yellow-100 text-yellow-700":"bg-gray-100 text-gray-700"}`,children:C.priority}),l.jsx("span",{className:"px-2 py-0.5 rounded-full bg-gray-100 text-gray-700 text-xs",children:C.scope}),Te.length>0&&l.jsxs("span",{className:"px-2 py-0.5 rounded-full bg-blue-100 text-blue-700 text-xs",children:[_e,"/",Te.length," tasks"]})]}),l.jsx("h3",{className:"text-xl font-bold mb-2",children:C.title})]})}),l.jsx(bt,{content:C.description,className:"text-sm mb-3"}),C.guardrails&&l.jsxs("div",{className:"mb-3 p-3 rounded-2xl bg-yellow-50 border border-yellow-100",children:[l.jsx("p",{className:"text-xs font-semibold text-yellow-900 uppercase tracking-[0.1em] mb-1",children:"Guardrails"}),l.jsx("p",{className:"text-xs text-yellow-700",children:C.guardrails})]}),C.successCriteria&&l.jsxs("div",{className:"mb-3 p-3 rounded-2xl bg-green-50 border border-green-100",children:[l.jsx("p",{className:"text-xs font-semibold text-green-900 uppercase tracking-[0.1em] mb-1",children:"Success Criteria"}),l.jsx("p",{className:"text-xs text-green-700",children:C.successCriteria})]}),C.tags.length>0&&l.jsx("div",{className:"mb-3 flex flex-wrap gap-1.5",children:C.tags.map(fe=>l.jsxs("span",{className:"px-2 py-0.5 rounded-full bg-blue-50 text-blue-700 text-xs border border-blue-100",children:["#",fe]},fe))}),l.jsxs("div",{className:"flex items-center gap-2 pt-4 border-t border-white/20",children:[l.jsxs("button",{onClick:()=>startEditDeliverable(C),className:"px-3 py-1.5 rounded-full bg-white/80 border border-white/70 text-xs font-medium hover:bg-white transition flex items-center gap-1",children:[l.jsx(Xa,{className:"w-3 h-3"}),"Edit"]}),l.jsxs("button",{onClick:()=>vt(C.id),className:"px-3 py-1.5 rounded-full bg-white/80 border border-white/70 text-xs font-medium hover:bg-red-50 hover:border-red-200 hover:text-red-700 transition flex items-center gap-1",children:[l.jsx(nn,{className:"w-3 h-3"}),"Delete"]})]})]})},C.id)})})]}),l.jsxs("div",{className:"mb-6 space-y-4",children:[l.jsx("div",{className:"glass-panel rounded-2xl border border-white/70 p-4",children:l.jsxs("div",{className:"flex items-center gap-3",children:[l.jsx(rn,{className:"w-5 h-5 text-secondary-light"}),l.jsx("input",{type:"text",value:ve,onChange:C=>P(C.target.value),placeholder:"Search tasks by title, description, tags...",className:"flex-1 bg-transparent outline-none text-lg placeholder:text-secondary-light"}),ve&&l.jsx("button",{onClick:()=>P(""),className:"px-3 py-1 rounded-full bg-white/80 border border-white/70 text-sm hover:bg-white transition",children:"Clear"})]})}),l.jsxs("div",{className:"flex flex-wrap gap-2 items-center",children:[l.jsxs("span",{className:"text-sm text-secondary-light flex items-center gap-1",children:[l.jsx(bs,{className:"w-4 h-4"}),"Filter:"]}),l.jsx("button",{onClick:()=>Ne(null),className:`px-3 py-1 rounded-full text-xs font-medium transition ${te===null?"bg-black text-white":"bg-white/80 border border-white/70 hover:bg-white"}`,children:"All"}),["todo","in-progress","done"].map(C=>l.jsx("button",{onClick:()=>Ne(te===C?null:C),className:`px-3 py-1 rounded-full text-xs font-medium transition capitalize ${te===C?"bg-black text-white":"bg-white/80 border border-white/70 hover:bg-white"}`,children:C.replace("-"," ")},C))]})]}),X.length===0?l.jsxs("div",{className:"glass-panel rounded-3xl border border-white/70 p-12 text-center",children:[l.jsx("div",{className:"flex justify-center mb-4",children:l.jsx(Pu,{className:"w-16 h-16 text-secondary-light"})}),l.jsx("h3",{className:"text-xl font-semibold mb-2",children:o.length===0?"No tasks yet":"No matches found"}),l.jsx("p",{className:"text-secondary-light",children:o.length===0?"Tasks are created through conversation with Sylvia or by generating workflows from deliverables. Talk to her about what needs to be done.":"Try adjusting your search or filters."})]}):l.jsx("div",{className:"space-y-4",children:X.map(C=>{const Se=C.deliverableId?se(C.deliverableId):null,Te=(Oe==null?void 0:Oe.id)===C.id;return l.jsx("div",{className:`rounded-3xl border p-6 transition-all ${Te?"border-black bg-black text-white shadow-xl":"border-white/70 bg-white/90 hover:shadow-lg hover:border-white"}`,children:Te?l.jsxs("div",{className:"space-y-4",children:[l.jsxs("div",{children:[l.jsx("label",{className:"text-xs uppercase tracking-[0.2em] text-white/70 mb-2 block",children:"Title *"}),l.jsx("input",{value:I.title,onChange:_e=>ne({...I,title:_e.target.value}),className:"w-full rounded-2xl border border-white/30 bg-white/10 px-4 py-2 text-white placeholder:text-white/50 focus:outline-none focus:ring-2 focus:ring-white/50"})]}),l.jsxs("div",{children:[l.jsx("label",{className:"text-xs uppercase tracking-[0.2em] text-white/70 mb-2 block",children:"Description"}),l.jsx("textarea",{value:I.description,onChange:_e=>ne({...I,description:_e.target.value}),rows:3,className:"w-full rounded-2xl border border-white/30 bg-white/10 px-4 py-2 text-white placeholder:text-white/50 focus:outline-none focus:ring-2 focus:ring-white/50 resize-none"})]}),l.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[l.jsxs("div",{children:[l.jsx("label",{className:"text-xs uppercase tracking-[0.2em] text-white/70 mb-2 block",children:"Due Date"}),l.jsx("input",{type:"datetime-local",value:I.dueAt,onChange:_e=>ne({...I,dueAt:_e.target.value}),className:"w-full rounded-2xl border border-white/30 bg-white/10 px-4 py-2 text-white focus:outline-none focus:ring-2 focus:ring-white/50"})]}),l.jsxs("div",{children:[l.jsx("label",{className:"text-xs uppercase tracking-[0.2em] text-white/70 mb-2 block",children:"Estimated Time (min)"}),l.jsx("input",{type:"number",value:I.estimatedTime,onChange:_e=>ne({...I,estimatedTime:_e.target.value}),className:"w-full rounded-2xl border border-white/30 bg-white/10 px-4 py-2 text-white focus:outline-none focus:ring-2 focus:ring-white/50"})]})]}),l.jsxs("div",{className:"flex gap-2",children:[l.jsx("button",{onClick:async()=>{await F.saveAgendaItem({...C,title:I.title,description:I.description||void 0,dueAt:I.dueAt?new Date(I.dueAt).getTime():void 0,estimatedTime:I.estimatedTime?parseInt(I.estimatedTime):void 0,priority:I.priority,tags:I.tags.split(",").map(_e=>_e.trim()).filter(Boolean),deliverableId:I.deliverableId||void 0}),ze(null),ne({title:"",description:"",dueAt:"",estimatedTime:"",priority:"medium",tags:"",deliverableId:""}),Q()},className:"flex-1 px-4 py-2 rounded-2xl bg-white text-black font-semibold hover:bg-gray-100 transition",children:"Save"}),l.jsx("button",{onClick:()=>{ze(null),ne({title:"",description:"",dueAt:"",estimatedTime:"",priority:"medium",tags:""})},className:"px-4 py-2 rounded-2xl bg-white/20 text-white border border-white/30 hover:bg-white/30 transition",children:"Cancel"})]})]}):l.jsxs(l.Fragment,{children:[l.jsx("div",{className:"flex items-start justify-between mb-4",children:l.jsxs("div",{className:"flex-1",children:[l.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[l.jsx("span",{className:`px-2 py-0.5 rounded-full text-xs font-semibold ${C.status==="done"?"bg-green-100 text-green-700":C.status==="in-progress"?"bg-blue-100 text-blue-700":"bg-gray-100 text-gray-700"}`,children:C.status.replace("-"," ")}),C.priority&&l.jsx("span",{className:`px-2 py-0.5 rounded-full text-xs font-semibold ${C.priority==="high"?"bg-red-100 text-red-700":C.priority==="medium"?"bg-yellow-100 text-yellow-700":"bg-gray-100 text-gray-700"}`,children:C.priority}),Se&&l.jsx("span",{className:"px-2 py-0.5 rounded-full bg-purple-100 text-purple-700 text-xs",children:Se.title}),C.estimatedTime&&l.jsxs("span",{className:"px-2 py-0.5 rounded-full bg-blue-50 text-blue-700 text-xs flex items-center gap-1",children:[l.jsx(Va,{className:"w-3 h-3"}),C.estimatedTime," min"]})]}),l.jsx("h4",{className:"text-xl font-bold mb-1",children:C.title}),C.description&&l.jsx(bt,{content:C.description,className:"text-sm mb-2"}),C.dueAt&&l.jsxs("p",{className:"text-xs text-secondary-light flex items-center gap-1",children:[l.jsx(En,{className:"w-3 h-3"}),"Due: ",new Date(C.dueAt).toLocaleString()]}),C.tags&&C.tags.length>0&&l.jsx("div",{className:"mt-2 flex flex-wrap gap-1.5",children:C.tags.map(_e=>l.jsxs("span",{className:"px-2 py-0.5 rounded-full bg-gray-100 text-gray-700 text-xs",children:["#",_e]},_e))})]})}),l.jsxs("div",{className:"flex items-center gap-2 pt-4 border-t border-white/20",children:[l.jsx("div",{className:"flex gap-2",children:["todo","in-progress","done"].map(_e=>l.jsx("button",{onClick:()=>qe(C,_e),className:`px-3 py-1.5 rounded-full text-xs font-medium transition capitalize ${C.status===_e?"bg-black text-white":"bg-white/80 border border-white/70 hover:bg-white"}`,children:_e.replace("-"," ")},_e))}),l.jsxs("button",{onClick:()=>{var _e,fe;ze(C),ne({title:C.title,description:C.description||"",dueAt:C.dueAt?new Date(C.dueAt).toISOString().slice(0,16):"",estimatedTime:((_e=C.estimatedTime)==null?void 0:_e.toString())||"",priority:C.priority||"medium",tags:((fe=C.tags)==null?void 0:fe.join(", "))||"",deliverableId:C.deliverableId||""})},className:"px-3 py-1.5 rounded-full bg-white/80 border border-white/70 text-xs font-medium hover:bg-white transition flex items-center gap-1 ml-auto",children:[l.jsx(Xa,{className:"w-3 h-3"}),"Edit"]}),l.jsxs("button",{onClick:()=>yt(C.id),className:"px-3 py-1.5 rounded-full bg-white/80 border border-white/70 text-xs font-medium hover:bg-red-50 hover:border-red-200 hover:text-red-700 transition flex items-center gap-1",children:[l.jsx(nn,{className:"w-3 h-3"}),"Delete"]})]})]})},C.id)})}),m.length>0&&l.jsxs("div",{className:"mt-8",children:[l.jsxs("h2",{className:"text-2xl font-semibold mb-4 flex items-center gap-2",children:[l.jsx(Md,{className:"w-6 h-6"}),"Session History"]}),l.jsx("div",{className:"space-y-4",children:m.filter(C=>C.status==="completed").map(C=>{const Se=C.deliverableIds.map(_e=>se(_e)).filter(Boolean),Te=x.find(_e=>_e.sessionId===C.id);return l.jsxs("div",{className:"rounded-3xl border border-white/70 bg-white/90 p-6 space-y-3",children:[l.jsxs("div",{className:"flex items-center justify-between",children:[l.jsxs("div",{children:[l.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[C.mode==="auto"?l.jsx(ro,{className:"w-4 h-4 text-purple-600"}):C.mode==="semi-auto"?l.jsx(tn,{className:"w-4 h-4 text-blue-600"}):l.jsx(Oi,{className:"w-4 h-4 text-gray-600"}),l.jsx("span",{className:"text-xs uppercase tracking-[0.2em] text-secondary-light",children:C.mode==="auto"?"Autonomous":C.mode==="semi-auto"?"Semi-Auto":"Manual"}),l.jsx("span",{className:"text-xs text-secondary-light",children:new Date(C.startedAt).toLocaleDateString()}),C.xpAwarded&&l.jsxs("span",{className:"px-2 py-0.5 rounded-full bg-green-100 text-green-700 text-xs font-medium",children:["+",C.xpAwarded," XP"]})]}),l.jsx("h4",{className:"text-lg font-semibold",children:Se.map(_e=>_e.title).join(", ")})]}),(Te==null?void 0:Te.grade)&&l.jsxs("div",{className:"flex items-center gap-1",children:[l.jsx(Star,{className:"w-4 h-4 text-yellow-500"}),l.jsxs("span",{className:"text-sm font-semibold",children:[Te.grade,"/5"]})]})]}),C.summary&&l.jsx(bt,{content:C.summary,className:"text-sm"}),Te&&l.jsxs("div",{className:"p-3 rounded-2xl bg-gray-50 border border-gray-100",children:[l.jsx("p",{className:"text-xs font-semibold text-gray-900 uppercase tracking-[0.1em] mb-1",children:"Post-Mortem"}),l.jsx("p",{className:"text-xs text-gray-700",children:Te.notes})]})]},C.id)})})]})]})},Fa=[{value:"meeting",label:"Meeting",color:"#3B82F6"},{value:"call",label:"Call",color:"#10B981"},{value:"appointment",label:"Appointment",color:"#8B5CF6"},{value:"event",label:"Event",color:"#F59E0B"},{value:"deadline",label:"Deadline",color:"#EF4444"},{value:"reminder",label:"Reminder",color:"#6B7280"},{value:"other",label:"Other",color:"#9CA3AF"}],C2=["none","daily","weekly","monthly","yearly"],_2=r=>{const o=new Date(r.getFullYear(),r.getMonth(),1),c=o.getDay(),u=new Date(o);u.setDate(o.getDate()-c);const h=[];for(let m=0;m<42;m++){const g=new Date(u);g.setDate(u.getDate()+m),h.push(g)}return h},D2=()=>{const[r,o]=w.useState([]),[c,u]=w.useState([]),[h,m]=w.useState(new Date),[g,x]=w.useState(new Date),[b,f]=w.useState("month"),[v,_]=w.useState(null),[M,j]=w.useState(""),[G,R]=w.useState(null),[ee,oe]=w.useState(!0),[ge,be]=w.useState(""),[ye,le]=w.useState(""),[$,U]=w.useState(""),[ue,ve]=w.useState(""),[P,te]=w.useState(""),[Ne,xe]=w.useState(""),[W,A]=w.useState("meeting"),[D,Z]=w.useState([]),[he,Oe]=w.useState([]),[ze,y]=w.useState(""),[q,I]=w.useState(!1),[ne,Q]=w.useState("none"),[k,X]=w.useState(),[se,je]=w.useState(""),N=w.useCallback(async()=>{const[K,V]=await Promise.all([F.getCalendarEvents(),F.getPeopleRecords()]);o(K.sort((De,Ie)=>De.startAt-Ie.startAt)),u(V)},[]);w.useEffect(()=>(N(),sn("calendar",N)),[N]);const re=w.useMemo(()=>{let K=r;if(M.trim()){const V=M.toLowerCase();K=K.filter(De=>{var Ie,Qe,me;return De.title.toLowerCase().includes(V)||((Ie=De.description)==null?void 0:Ie.toLowerCase().includes(V))||((Qe=De.location)==null?void 0:Qe.toLowerCase().includes(V))||((me=De.tags)==null?void 0:me.some(wt=>wt.toLowerCase().includes(V)))})}return G&&(K=K.filter(V=>V.eventType===G)),K},[r,M,G]),ce=w.useMemo(()=>{const K=Date.now();return re.filter(V=>V.startAt>=K).slice(0,5).sort((V,De)=>V.startAt-De.startAt)},[re]),pe=w.useMemo(()=>{const K=new Date;K.setHours(0,0,0,0);const V=new Date(K);return V.setDate(V.getDate()+1),re.filter(De=>De.startAt>=K.getTime()&&De.startAt<V.getTime())},[re]),Me=w.useMemo(()=>{const K=g.toDateString();return re.filter(V=>new Date(V.startAt).toDateString()===K)},[re,g]),qe=w.useMemo(()=>{const K={};return re.forEach(V=>{const De=new Date(V.startAt).toDateString();K[De]||(K[De]=[]),K[De]=[...K[De],V]}),K},[re]),yt=w.useMemo(()=>_2(h),[h]),Be=w.useMemo(()=>{const K=Date.now(),V=r.filter(Qe=>Qe.startAt>=K).length,De=r.filter(Qe=>Qe.startAt<K).length,Ie=r.filter(Qe=>{const me=new Date(Qe.startAt),wt=new Date;wt.setDate(wt.getDate()-wt.getDay()),wt.setHours(0,0,0,0);const Qt=new Date(wt);return Qt.setDate(Qt.getDate()+7),me>=wt&&me<Qt}).length;return{total:r.length,upcoming:V,past:De,thisWeek:Ie}},[r]),vt=K=>{var V;_(K),be(K.title),le(K.description||""),U(new Date(K.startAt).toISOString().slice(0,16)),ve(new Date(K.endAt).toISOString().slice(0,16)),te(K.location||""),xe(K.meetingLink||""),A(K.eventType||"meeting"),Z(K.participants||[]),Oe(K.tags||[]),y(K.color||((V=Fa.find(De=>De.value===K.eventType))==null?void 0:V.color)||"#3B82F6"),I(K.isRecurring||!1),Q(K.recurrenceRule||"none"),X(K.reminderMinutes),x(new Date(K.startAt))},At=()=>{_(null),be(""),le(""),U(""),ve(""),te(""),xe(""),A("meeting"),Z([]),Oe([]),y(""),I(!1),Q("none"),X(void 0),je("")},C=async()=>{v&&(await F.saveCalendarEvent({...v,title:ge,description:ye||void 0,startAt:$?new Date($).getTime():v.startAt,endAt:ue?new Date(ue).getTime():v.endAt,location:P||void 0,meetingLink:Ne||void 0,eventType:W,participants:D.length>0?D:void 0,tags:he.length>0?he:void 0,color:ze||void 0,isRecurring:q||void 0,recurrenceRule:ne!=="none"?ne:void 0,reminderMinutes:k||void 0,updatedAt:Date.now()}),At(),N())},Se=async K=>{await F.deleteCalendarEvent(K),N()},Te=()=>{se.trim()&&!he.includes(se.trim())&&(Oe([...he,se.trim()]),je(""))},_e=K=>{Oe(he.filter(V=>V!==K))},fe=K=>c.find(V=>V.id===K),Fe=K=>new Date(K).toLocaleTimeString("en-US",{hour:"numeric",minute:"2-digit"}),He=K=>new Date(K).toLocaleDateString("en-US",{weekday:"short",month:"short",day:"numeric"}),H=h.toLocaleString("default",{month:"long",year:"numeric"}),Ue=()=>{const K=new Date(h);K.setMonth(h.getMonth()-1),m(K)},Xe=()=>{const K=new Date(h);K.setMonth(h.getMonth()+1),m(K)},Ut=()=>{const K=new Date;m(K),x(K)};return l.jsxs(Jt,{title:"Calendar",subtitle:"Temporal anchors with rich context. Participants, locations, meeting links, and more for Sylvia's understanding.",children:[l.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 md:grid-cols-4 gap-4 mb-6",children:[l.jsxs("div",{className:"rounded-2xl border border-white/70 bg-gradient-to-br from-blue-50 to-blue-100 p-4",children:[l.jsxs("div",{className:"flex items-center justify-between mb-2",children:[l.jsx(k1,{className:"w-6 h-6 text-blue-600"}),l.jsx("span",{className:"text-2xl font-bold text-black",children:Be.total})]}),l.jsx("p",{className:"text-xs uppercase tracking-[0.2em] text-gray-600",children:"Total Events"})]}),l.jsxs("div",{className:"rounded-2xl border border-white/70 bg-gradient-to-br from-green-50 to-green-100 p-4",children:[l.jsxs("div",{className:"flex items-center justify-between mb-2",children:[l.jsx(md,{className:"w-6 h-6 text-green-600"}),l.jsx("span",{className:"text-2xl font-bold text-black",children:Be.upcoming})]}),l.jsx("p",{className:"text-xs uppercase tracking-[0.2em] text-gray-600",children:"Upcoming"})]}),l.jsxs("div",{className:"rounded-2xl border border-white/70 bg-gradient-to-br from-purple-50 to-purple-100 p-4",children:[l.jsxs("div",{className:"flex items-center justify-between mb-2",children:[l.jsx(Va,{className:"w-6 h-6 text-purple-600"}),l.jsx("span",{className:"text-2xl font-bold text-black",children:Be.thisWeek})]}),l.jsx("p",{className:"text-xs uppercase tracking-[0.2em] text-gray-600",children:"This Week"})]}),l.jsxs("div",{className:"rounded-2xl border border-white/70 bg-gradient-to-br from-orange-50 to-orange-100 p-4",children:[l.jsxs("div",{className:"flex items-center justify-between mb-2",children:[l.jsx(En,{className:"w-6 h-6 text-orange-600"}),l.jsx("span",{className:"text-2xl font-bold text-black",children:pe.length})]}),l.jsx("p",{className:"text-xs uppercase tracking-[0.2em] text-gray-600",children:"Today"})]})]}),l.jsxs("div",{className:"mb-6 space-y-4",children:[l.jsx("div",{className:"glass-panel rounded-2xl border border-white/70 p-4",children:l.jsxs("div",{className:"flex items-center gap-3",children:[l.jsx(rn,{className:"w-5 h-5 text-secondary-light"}),l.jsx("input",{type:"text",value:M,onChange:K=>j(K.target.value),placeholder:"Search events by title, description, location, tags...",className:"flex-1 bg-transparent outline-none text-lg placeholder:text-secondary-light"}),M&&l.jsx("button",{onClick:()=>j(""),className:"px-3 py-1 rounded-full bg-white/80 border border-white/70 text-sm hover:bg-white transition",children:"Clear"})]})}),l.jsxs("div",{className:"flex flex-wrap gap-2",children:[l.jsxs("span",{className:"text-sm text-secondary-light flex items-center gap-1",children:[l.jsx(bs,{className:"w-4 h-4"}),"Filter:"]}),l.jsx("button",{onClick:()=>R(null),className:`px-3 py-1 rounded-full text-xs font-medium transition ${G===null?"bg-black text-white":"bg-white/80 border border-white/70 hover:bg-white"}`,children:"All"}),Fa.map(K=>l.jsxs("button",{onClick:()=>R(G===K.value?null:K.value),className:`px-3 py-1 rounded-full text-xs font-medium transition flex items-center gap-1 ${G===K.value?"bg-black text-white":"bg-white/80 border border-white/70 hover:bg-white"}`,children:[l.jsx("div",{className:"w-2 h-2 rounded-full",style:{backgroundColor:K.color}}),K.label]},K.value))]})]}),l.jsxs("div",{className:"glass-panel border border-white/70 rounded-3xl p-6 mb-6",children:[l.jsxs("div",{className:"flex items-center justify-between mb-6",children:[l.jsxs("div",{className:"flex items-center gap-3",children:[l.jsx("button",{onClick:Ue,className:"p-2 rounded-full bg-white/80 border border-white/70 hover:bg-white transition",children:l.jsx(D1,{className:"w-4 h-4"})}),l.jsx("h2",{className:"text-xl font-semibold",children:H}),l.jsx("button",{onClick:Xe,className:"p-2 rounded-full bg-white/80 border border-white/70 hover:bg-white transition",children:l.jsx(R1,{className:"w-4 h-4"})})]}),l.jsx("button",{onClick:Ut,className:"px-4 py-2 rounded-full bg-black text-white text-sm font-medium hover:shadow-lg transition",children:"Today"})]}),l.jsx("div",{className:"grid grid-cols-7 gap-2 text-center text-xs uppercase tracking-[0.3em] text-secondary-light mb-2",children:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"].map(K=>l.jsx("div",{className:"font-semibold",children:K},K))}),l.jsx("div",{className:"grid grid-cols-7 gap-2",children:yt.map(K=>{const V=K.toDateString(),De=K.getMonth()===h.getMonth(),Ie=V===new Date().toDateString(),Qe=V===g.toDateString(),me=qe[V]||[];return l.jsxs("button",{onClick:()=>x(K),className:`rounded-2xl border px-2 py-3 text-left space-y-1 transition min-h-[80px] ${Qe?"bg-black text-white border-black shadow-lg":Ie?"bg-blue-50 border-blue-200 text-primary-light":"bg-white/70 text-primary-light border-white/70 hover:bg-white"} ${De?"":"opacity-40"}`,children:[l.jsxs("div",{className:"flex items-center justify-between",children:[l.jsx("p",{className:`text-sm font-semibold ${Ie&&!Qe?"text-blue-600":""}`,children:K.getDate()}),Ie&&l.jsx("div",{className:"w-1.5 h-1.5 rounded-full bg-blue-600"})]}),me.length>0&&l.jsxs("div",{className:"space-y-0.5",children:[me.slice(0,2).map(wt=>{const Qt=Fa.find(vs=>vs.value===wt.eventType)||Fa[0];return l.jsxs("div",{className:"text-[9px] px-1 py-0.5 rounded truncate",style:{backgroundColor:Qe?"rgba(255,255,255,0.2)":`${Qt.color}20`,color:Qe?"white":Qt.color},children:[Fe(wt.startAt)," ",wt.title.substring(0,15)]},wt.id)}),me.length>2&&l.jsxs("p",{className:"text-[9px] text-secondary-light",children:["+",me.length-2," more"]})]})]},V+K.getDate())})})]}),l.jsxs("div",{className:"grid gap-6 lg:grid-cols-3",children:[l.jsx("div",{className:"lg:col-span-2 space-y-6",children:l.jsxs("div",{className:"glass-panel border border-white/70 rounded-3xl p-6",children:[l.jsxs("div",{className:"flex items-center justify-between mb-4",children:[l.jsxs("h3",{className:"text-lg font-semibold flex items-center gap-2",children:[l.jsx(En,{className:"w-5 h-5"}),g.toLocaleDateString("en-US",{weekday:"long",month:"long",day:"numeric",year:"numeric"})]}),l.jsxs("span",{className:"text-sm text-secondary-light",children:[Me.length," event",Me.length!==1?"s":""]})]}),Me.length===0?l.jsx("p",{className:"text-sm text-secondary-light text-center py-8",children:"No events scheduled for this date."}):l.jsx("div",{className:"space-y-4",children:Me.map(K=>{var Qe;const V=Fa.find(me=>me.value===K.eventType)||Fa[0],De=(v==null?void 0:v.id)===K.id,Ie=((Qe=K.participants)==null?void 0:Qe.map(me=>fe(me)).filter(Boolean))||[];return l.jsx("div",{className:`rounded-3xl border p-6 transition-all ${De?"border-black bg-black text-white shadow-xl":"border-white/70 bg-white/90 hover:shadow-lg hover:border-white"}`,style:{borderLeftWidth:De?"4px":"1px",borderLeftColor:De?"white":V.color},children:De?l.jsxs("div",{className:"space-y-4",children:[l.jsxs("div",{children:[l.jsx("label",{className:"text-xs uppercase tracking-[0.2em] text-white/70 mb-2 block",children:"Title *"}),l.jsx("input",{value:ge,onChange:me=>be(me.target.value),className:"w-full rounded-2xl border border-white/30 bg-white/10 px-4 py-2 text-white placeholder:text-white/50 focus:outline-none focus:ring-2 focus:ring-white/50",placeholder:"Event title"})]}),l.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[l.jsxs("div",{children:[l.jsx("label",{className:"text-xs uppercase tracking-[0.2em] text-white/70 mb-2 block",children:"Start"}),l.jsx("input",{type:"datetime-local",value:$,onChange:me=>U(me.target.value),className:"w-full rounded-2xl border border-white/30 bg-white/10 px-4 py-2 text-white focus:outline-none focus:ring-2 focus:ring-white/50"})]}),l.jsxs("div",{children:[l.jsx("label",{className:"text-xs uppercase tracking-[0.2em] text-white/70 mb-2 block",children:"End"}),l.jsx("input",{type:"datetime-local",value:ue,onChange:me=>ve(me.target.value),className:"w-full rounded-2xl border border-white/30 bg-white/10 px-4 py-2 text-white focus:outline-none focus:ring-2 focus:ring-white/50"})]})]}),l.jsxs("div",{children:[l.jsx("label",{className:"text-xs uppercase tracking-[0.2em] text-white/70 mb-2 block",children:"Event Type"}),l.jsx("select",{value:W,onChange:me=>{A(me.target.value);const wt=Fa.find(Qt=>Qt.value===me.target.value);wt&&y(wt.color)},className:"w-full rounded-2xl border border-white/30 bg-white/10 px-4 py-2 text-white focus:outline-none focus:ring-2 focus:ring-white/50",children:Fa.map(me=>l.jsx("option",{value:me.value,children:me.label},me.value))})]}),l.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[l.jsxs("div",{children:[l.jsx("label",{className:"text-xs uppercase tracking-[0.2em] text-white/70 mb-2 block",children:"Location"}),l.jsx("input",{value:P,onChange:me=>te(me.target.value),className:"w-full rounded-2xl border border-white/30 bg-white/10 px-4 py-2 text-white placeholder:text-white/50 focus:outline-none focus:ring-2 focus:ring-white/50",placeholder:"Venue or address"})]}),l.jsxs("div",{children:[l.jsx("label",{className:"text-xs uppercase tracking-[0.2em] text-white/70 mb-2 block",children:"Meeting Link"}),l.jsx("input",{type:"url",value:Ne,onChange:me=>xe(me.target.value),className:"w-full rounded-2xl border border-white/30 bg-white/10 px-4 py-2 text-white placeholder:text-white/50 focus:outline-none focus:ring-2 focus:ring-white/50",placeholder:"https://..."})]})]}),l.jsxs("div",{children:[l.jsx("label",{className:"text-xs uppercase tracking-[0.2em] text-white/70 mb-2 block",children:"Participants"}),l.jsx("select",{multiple:!0,value:D,onChange:me=>{const wt=Array.from(me.target.selectedOptions,Qt=>Qt.value);Z(wt)},className:"w-full rounded-2xl border border-white/30 bg-white/10 px-4 py-2 text-white focus:outline-none focus:ring-2 focus:ring-white/50 min-h-[100px]",size:5,children:c.map(me=>l.jsxs("option",{value:me.id,children:[me.name," ",me.role?`(${me.role})`:""]},me.id))}),l.jsx("p",{className:"text-xs text-white/50 mt-1",children:"Hold Cmd/Ctrl to select multiple"})]}),l.jsxs("div",{children:[l.jsx("label",{className:"text-xs uppercase tracking-[0.2em] text-white/70 mb-2 block",children:"Tags"}),l.jsx("div",{className:"flex flex-wrap gap-2 mb-2",children:he.map(me=>l.jsxs("span",{className:"inline-flex items-center gap-1 px-2 py-1 rounded-full bg-white/20 text-white text-xs",children:[me,l.jsx("button",{onClick:()=>_e(me),className:"hover:text-red-300",children:l.jsx(Ft,{className:"w-3 h-3"})})]},me))}),l.jsxs("div",{className:"flex gap-2",children:[l.jsx("input",{value:se,onChange:me=>je(me.target.value),onKeyPress:me=>me.key==="Enter"&&Te(),className:"flex-1 rounded-2xl border border-white/30 bg-white/10 px-4 py-2 text-white placeholder:text-white/50 focus:outline-none focus:ring-2 focus:ring-white/50",placeholder:"Add tag..."}),l.jsx("button",{onClick:Te,className:"px-4 py-2 rounded-2xl bg-white/20 text-white border border-white/30 hover:bg-white/30 transition",children:l.jsx(hd,{className:"w-4 h-4"})})]})]}),l.jsxs("div",{children:[l.jsx("label",{className:"text-xs uppercase tracking-[0.2em] text-white/70 mb-2 block",children:"Description"}),l.jsx("textarea",{value:ye,onChange:me=>le(me.target.value),rows:4,className:"w-full rounded-2xl border border-white/30 bg-white/10 px-4 py-2 text-white placeholder:text-white/50 focus:outline-none focus:ring-2 focus:ring-white/50 resize-none",placeholder:"Event details, agenda, notes..."})]}),l.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[l.jsxs("div",{children:[l.jsxs("label",{className:"flex items-center gap-2 text-xs text-white/70 mb-2",children:[l.jsx("input",{type:"checkbox",checked:q,onChange:me=>I(me.target.checked),className:"rounded"}),"Recurring Event"]}),q&&l.jsx("select",{value:ne,onChange:me=>Q(me.target.value),className:"w-full rounded-2xl border border-white/30 bg-white/10 px-4 py-2 text-white text-sm focus:outline-none focus:ring-2 focus:ring-white/50",children:C2.filter(me=>me!=="none").map(me=>l.jsx("option",{value:me,children:me.charAt(0).toUpperCase()+me.slice(1)},me))})]}),l.jsxs("div",{children:[l.jsx("label",{className:"text-xs uppercase tracking-[0.2em] text-white/70 mb-2 block",children:"Reminder (minutes before)"}),l.jsx("input",{type:"number",value:k||"",onChange:me=>X(me.target.value?parseInt(me.target.value):void 0),className:"w-full rounded-2xl border border-white/30 bg-white/10 px-4 py-2 text-white placeholder:text-white/50 focus:outline-none focus:ring-2 focus:ring-white/50",placeholder:"15"})]})]}),l.jsxs("div",{className:"flex gap-2",children:[l.jsx("button",{onClick:C,className:"flex-1 px-4 py-2 rounded-2xl bg-white text-black font-semibold hover:bg-gray-100 transition",children:"Save"}),l.jsx("button",{onClick:At,className:"px-4 py-2 rounded-2xl bg-white/20 text-white border border-white/30 hover:bg-white/30 transition",children:"Cancel"})]})]}):l.jsxs(l.Fragment,{children:[l.jsx("div",{className:"flex items-start justify-between mb-4",children:l.jsxs("div",{className:"flex-1",children:[l.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[l.jsx("div",{className:"w-3 h-3 rounded-full",style:{backgroundColor:V.color}}),l.jsx("h4",{className:"text-xl font-bold",children:K.title})]}),l.jsxs("div",{className:"flex items-center gap-4 text-sm text-secondary-light",children:[l.jsxs("span",{className:"flex items-center gap-1",children:[l.jsx(Va,{className:"w-4 h-4"}),Fe(K.startAt)," - ",Fe(K.endAt)]}),K.location&&l.jsxs("span",{className:"flex items-center gap-1",children:[l.jsx(Ld,{className:"w-4 h-4"}),K.location]})]})]})}),K.description&&l.jsx("div",{className:"mb-4",children:l.jsx(bt,{content:K.description,className:"text-sm leading-relaxed"})}),Ie.length>0&&l.jsxs("div",{className:"mb-4 p-3 rounded-2xl bg-blue-50 border border-blue-100",children:[l.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[l.jsx(tn,{className:"w-4 h-4 text-blue-600"}),l.jsxs("span",{className:"text-xs font-semibold text-blue-900 uppercase tracking-[0.1em]",children:["Participants (",Ie.length,")"]})]}),l.jsx("div",{className:"flex flex-wrap gap-2",children:Ie.map(me=>l.jsx("span",{className:"px-2 py-1 rounded-full bg-white text-blue-900 text-xs",children:me.name},me.id))})]}),K.meetingLink&&l.jsx("div",{className:"mb-4",children:l.jsxs("a",{href:K.meetingLink,target:"_blank",rel:"noopener noreferrer",className:"inline-flex items-center gap-2 px-3 py-2 rounded-full bg-green-50 text-green-700 text-sm font-medium hover:bg-green-100 transition",children:[l.jsx(Vx,{className:"w-4 h-4"}),"Join Meeting",l.jsx(Q1,{className:"w-3 h-3"})]})}),K.tags&&K.tags.length>0&&l.jsx("div",{className:"mb-4 flex flex-wrap gap-1.5",children:K.tags.map(me=>l.jsxs("span",{className:"inline-flex items-center px-2 py-0.5 rounded-full bg-gray-100 text-gray-700 text-xs",children:[l.jsx(Cn,{className:"w-3 h-3 mr-1"}),me]},me))}),l.jsxs("div",{className:"flex items-center gap-2 pt-4 border-t border-white/20",children:[K.isRecurring&&l.jsxs("span",{className:"flex items-center gap-1 px-2 py-1 rounded-full bg-purple-50 text-purple-700 text-xs",children:[l.jsx(Dv,{className:"w-3 h-3"}),K.recurrenceRule]}),K.reminderMinutes&&l.jsxs("span",{className:"flex items-center gap-1 px-2 py-1 rounded-full bg-yellow-50 text-yellow-700 text-xs",children:[l.jsx(f1,{className:"w-3 h-3"}),K.reminderMinutes,"m reminder"]})]}),l.jsxs("div",{className:"flex gap-2 mt-4",children:[l.jsxs("button",{onClick:()=>vt(K),className:"px-3 py-1.5 rounded-full bg-white/80 border border-white/70 text-xs font-medium hover:bg-white transition flex items-center gap-1",children:[l.jsx(Xa,{className:"w-3 h-3"}),"Edit"]}),l.jsxs("button",{onClick:()=>Se(K.id),className:"px-3 py-1.5 rounded-full bg-white/80 border border-white/70 text-xs font-medium hover:bg-red-50 hover:border-red-200 hover:text-red-700 transition flex items-center gap-1",children:[l.jsx(nn,{className:"w-3 h-3"}),"Delete"]})]})]})},K.id)})})]})}),l.jsx("div",{className:"space-y-6",children:ee&&ce.length>0&&l.jsxs("div",{className:"glass-panel border border-white/70 rounded-3xl p-6",children:[l.jsxs("div",{className:"flex items-center justify-between mb-4",children:[l.jsxs("h3",{className:"text-lg font-semibold flex items-center gap-2",children:[l.jsx(md,{className:"w-5 h-5"}),"Upcoming"]}),l.jsx("button",{onClick:()=>oe(!1),className:"text-secondary-light hover:text-black transition",children:l.jsx(Ft,{className:"w-4 h-4"})})]}),l.jsx("div",{className:"space-y-3",children:ce.map(K=>{const V=Fa.find(De=>De.value===K.eventType)||Fa[0];return l.jsx("button",{onClick:()=>{x(new Date(K.startAt)),vt(K)},className:"w-full text-left p-3 rounded-2xl border border-white/70 bg-white/80 hover:bg-white transition",children:l.jsxs("div",{className:"flex items-start gap-2 mb-1",children:[l.jsx("div",{className:"w-2 h-2 rounded-full mt-1.5 flex-shrink-0",style:{backgroundColor:V.color}}),l.jsxs("div",{className:"flex-1 min-w-0",children:[l.jsx("p",{className:"font-semibold text-sm truncate",children:K.title}),l.jsxs("p",{className:"text-xs text-secondary-light",children:[He(K.startAt),"  ",Fe(K.startAt)]})]})]})},K.id)})})]})})]})]})},M2=[{label:"Short",minutes:15,Icon:ys},{label:"Classic",minutes:25,Icon:Li},{label:"Long",minutes:45,Icon:zd},{label:"Deep",minutes:90,Icon:qx}],R2=()=>{const[r,o]=w.useState([]),[c,u]=w.useState("idle"),[h,m]=w.useState(25),[g,x]=w.useState(1500),[b,f]=w.useState("Focus"),[v,_]=w.useState(null),[M,j]=w.useState(null),[G,R]=w.useState(0),ee=w.useRef(null),oe=w.useCallback(async()=>{const W=await F.getPomodoroSessions();o(W.sort((A,D)=>D.startedAt-A.startedAt))},[]);w.useEffect(()=>(oe(),sn("pomodoro",oe)),[oe]),w.useEffect(()=>(c==="running"&&g>0?ee.current=setInterval(()=>{x(W=>W<=1?(le(),0):W-1)},1e3):ee.current&&(clearInterval(ee.current),ee.current=null),()=>{ee.current&&clearInterval(ee.current)}),[c,g]);const ge=()=>{if(c==="idle"){const W=`pomodoro-${Date.now()}`;_(W),j(Date.now()),R(0),x(h*60)}else c==="paused"&&j(Date.now()-G);u("running")},be=()=>{if(c==="running"&&M){const W=Date.now()-M;R(W),u("paused")}},ye=()=>{u("idle"),x(h*60),_(null),j(null),R(0)},le=async()=>{if(!v||!M)return;const W=Math.round((Date.now()-M)/1e3/60),A={id:v,label:b||"Focus",startedAt:M,durationMinutes:W};await F.savePomodoroSession(A),await El("pomodoro.session"),"Notification"in window&&Notification.permission==="granted"&&new Notification("Pomodoro Complete!",{body:`Great work! You completed ${W} minutes of focused time.`}),u("completed"),oe(),setTimeout(()=>{ye()},3e3)},$=W=>{const A=Math.floor(W/60),D=W%60;return`${A.toString().padStart(2,"0")}:${D.toString().padStart(2,"0")}`},U=c!=="idle"?(h*60-g)/(h*60)*100:0,ue=2*Math.PI*120,ve=ue-U/100*ue;w.useEffect(()=>{"Notification"in window&&Notification.permission==="default"&&Notification.requestPermission()},[]);const P=r.filter(W=>new Date(W.startedAt).toDateString()===new Date().toDateString()),te=P.reduce((W,A)=>W+A.durationMinutes,0),Ne=r.length;r.reduce((W,A)=>W+A.durationMinutes,0);const xe=async W=>{await F.deletePomodoroSession(W),oe()};return l.jsxs(Jt,{title:"Pomodoro",subtitle:"Time-boxed focus sessions. Build momentum, one block at a time.",children:[l.jsx("div",{className:"glass-panel rounded-3xl border border-white/70 p-8 mb-6",children:l.jsxs("div",{className:"flex flex-col items-center gap-6",children:[l.jsxs("div",{className:"relative w-64 h-64",children:[l.jsxs("svg",{className:"transform -rotate-90 w-64 h-64",children:[l.jsx("circle",{cx:"128",cy:"128",r:"120",stroke:"rgba(255, 255, 255, 0.3)",strokeWidth:"8",fill:"none"}),l.jsx("circle",{cx:"128",cy:"128",r:"120",stroke:c==="completed"?"#10b981":c==="running"?"#ef4444":"#6366f1",strokeWidth:"8",fill:"none",strokeDasharray:ue,strokeDashoffset:ve,strokeLinecap:"round",className:"transition-all duration-1000 ease-linear"})]}),l.jsxs("div",{className:"absolute inset-0 flex flex-col items-center justify-center",children:[l.jsx("div",{className:"text-5xl font-bold font-mono mb-2",children:$(g)}),l.jsxs("div",{className:"text-sm uppercase tracking-[0.2em] text-secondary-light",children:[c==="idle"&&"Ready",c==="running"&&"Focusing",c==="paused"&&"Paused",c==="completed"&&"Complete!"]})]})]}),l.jsx("div",{className:"w-full max-w-md",children:l.jsx("input",{type:"text",value:b,onChange:W=>f(W.target.value),placeholder:"What are you focusing on?",className:"w-full px-4 py-3 rounded-2xl border border-white/70 bg-white/80 text-center text-lg font-medium focus:outline-none focus:ring-2 focus:ring-black",disabled:c==="running"})}),c==="idle"&&l.jsx("div",{className:"flex gap-3 flex-wrap justify-center",children:M2.map(W=>l.jsxs("button",{onClick:()=>{m(W.minutes),x(W.minutes*60)},className:`px-4 py-2 rounded-full border transition-all ${h===W.minutes?"bg-black text-white border-black":"bg-white/80 border-white/70 hover:bg-white"}`,children:[l.jsx(W.Icon,{className:"w-4 h-4 mr-2 inline"}),l.jsx("span",{className:"text-sm font-medium",children:W.label}),l.jsxs("span",{className:"text-xs ml-1",children:["(",W.minutes,"m)"]})]},W.minutes))}),l.jsxs("div",{className:"flex gap-3",children:[c==="idle"&&l.jsx("button",{onClick:ge,className:"px-8 py-4 rounded-2xl bg-black text-white font-semibold text-lg hover:shadow-xl transition-all",children:"Start Focus Session"}),c==="running"&&l.jsxs(l.Fragment,{children:[l.jsx("button",{onClick:be,className:"px-6 py-3 rounded-2xl bg-white border-2 border-gray-300 text-gray-700 font-semibold hover:bg-gray-50 transition-all",children:"Pause"}),l.jsx("button",{onClick:ye,className:"px-6 py-3 rounded-2xl bg-red-50 border-2 border-red-200 text-red-700 font-semibold hover:bg-red-100 transition-all",children:"Reset"})]}),c==="paused"&&l.jsxs(l.Fragment,{children:[l.jsx("button",{onClick:ge,className:"px-6 py-3 rounded-2xl bg-black text-white font-semibold hover:shadow-lg transition-all",children:"Resume"}),l.jsx("button",{onClick:ye,className:"px-6 py-3 rounded-2xl bg-red-50 border-2 border-red-200 text-red-700 font-semibold hover:bg-red-100 transition-all",children:"Reset"})]})]})]})}),l.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 md:grid-cols-3 gap-4 mb-6",children:[l.jsxs("div",{className:"rounded-2xl border border-white/70 bg-gradient-to-br from-red-50 to-orange-50 p-4",children:[l.jsxs("div",{className:"flex items-center justify-between mb-2",children:[l.jsx(Li,{className:"w-6 h-6 text-red-600"}),l.jsx("span",{className:"text-2xl font-bold text-black",children:P.length})]}),l.jsx("p",{className:"text-xs uppercase tracking-[0.2em] text-gray-600",children:"Today's Sessions"})]}),l.jsxs("div",{className:"rounded-2xl border border-white/70 bg-gradient-to-br from-blue-50 to-purple-50 p-4",children:[l.jsxs("div",{className:"flex items-center justify-between mb-2",children:[l.jsx(Va,{className:"w-6 h-6 text-blue-600"}),l.jsx("span",{className:"text-2xl font-bold text-black",children:te})]}),l.jsx("p",{className:"text-xs uppercase tracking-[0.2em] text-gray-600",children:"Minutes Today"})]}),l.jsxs("div",{className:"rounded-2xl border border-white/70 bg-gradient-to-br from-green-50 to-emerald-50 p-4",children:[l.jsxs("div",{className:"flex items-center justify-between mb-2",children:[l.jsx(To,{className:"w-6 h-6 text-green-600"}),l.jsx("span",{className:"text-2xl font-bold text-black",children:Ne})]}),l.jsx("p",{className:"text-xs uppercase tracking-[0.2em] text-gray-600",children:"Total Sessions"})]})]}),l.jsxs("div",{className:"glass-panel rounded-3xl border border-white/70 p-6",children:[l.jsxs("h3",{className:"text-lg font-semibold mb-4 flex items-center gap-2",children:[l.jsx(zv,{className:"w-5 h-5"}),l.jsx("span",{children:"Session History"})]}),r.length===0?l.jsx("p",{className:"text-secondary-light text-sm text-center py-8",children:"No sessions yet. Start your first focus session above!"}):l.jsx("div",{className:"space-y-3 max-h-96 overflow-y-auto invisible-scrollbar",children:r.map(W=>{const A=new Date(W.startedAt),D=A.toDateString()===new Date().toDateString();return l.jsxs("div",{className:"rounded-2xl border border-white/70 bg-white/80 p-4 flex items-center justify-between gap-3 hover:bg-white transition-all",children:[l.jsxs("div",{className:"flex-1",children:[l.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[l.jsx(Li,{className:"w-4 h-4 text-red-600"}),l.jsx("h4",{className:"font-semibold",children:W.label}),D&&l.jsx("span",{className:"px-2 py-0.5 rounded-full bg-green-100 text-green-700 text-xs font-semibold",children:"Today"})]}),l.jsxs("div",{className:"flex items-center gap-4 text-sm text-secondary-light",children:[l.jsx("span",{children:A.toLocaleDateString()}),l.jsx("span",{children:""}),l.jsx("span",{children:A.toLocaleTimeString()}),l.jsx("span",{children:""}),l.jsxs("span",{className:"font-mono font-semibold text-black",children:[W.durationMinutes," min"]})]})]}),l.jsx("button",{onClick:()=>xe(W.id),className:"px-3 py-1 rounded-full bg-white border border-white/70 text-xs hover:bg-red-50 hover:border-red-200 hover:text-red-700 transition-all",children:"Delete"})]},W.id)})})]})]})},rx=[{id:"first-entry",title:"First Reflection",description:"Write your first journal entry",Icon:Od,xp:50},{id:"journal-streak-7",title:"Week Warrior",description:"7 days of journaling",Icon:zd,xp:100},{id:"journal-streak-30",title:"Monthly Master",description:"30 days of journaling",Icon:V1,xp:500},{id:"agenda-10",title:"Task Master",description:"Complete 10 agenda items",Icon:Ya,xp:150},{id:"pomodoro-25",title:"Focus Champion",description:"Complete 25 pomodoros",Icon:Li,xp:200},{id:"calendar-20",title:"Time Architect",description:"Schedule 20 calendar events",Icon:En,xp:180},{id:"people-10",title:"Network Builder",description:"Add 10 people",Icon:tn,xp:120},{id:"brand-5",title:"Brand Builder",description:"Define 5 brand elements",Icon:Ud,xp:100},{id:"level-5",title:"Rising Star",description:"Reach level 5",Icon:ps,xp:0},{id:"level-10",title:"Veteran",description:"Reach level 10",Icon:tl,xp:0},{id:"level-20",title:"Legend",description:"Reach level 20",Icon:jo,xp:0},{id:"xp-1000",title:"XP Collector",description:"Earn 1000 XP",Icon:H1,xp:0},{id:"xp-5000",title:"XP Master",description:"Earn 5000 XP",Icon:jo,xp:0},{id:"xp-10000",title:"XP Legend",description:"Earn 10000 XP",Icon:Ix,xp:0}],co={Sprout:Iv,User:Oi,Radio:Ev,Network:xv,Building:j1,Zap:ys,Handshake:tv,Compass:q1,Crown:Ix,Target:La,Gem:jo,Rocket:Rv,Brain:qx,Wand2:i2,Plane:Sv,Scroll:Uv,Star:ps,Sparkles:tl},O2=()=>{const[r,o]=w.useState({total:0,level:0,nextLevel:200,levelName:"",levelDescription:""}),[c,u]=w.useState([]),[h,m]=w.useState({journalEntries:0,agendaItems:0,pomodoros:0,calendarEvents:0,people:0,brand:0}),[g,x]=w.useState([]),b=async()=>{const R=await ld(),ee=await Cb();o(R),u(ee)},f=async()=>{const[R,ee,oe,ge,be]=await Promise.all([F.getJournalEntries(),F.getAgendaItems(),F.getCalendarEvents(),F.getPeopleRecords(),F.getBrandRecords()]),ye=R.filter(ue=>{var ve;return(ve=ue.tags)==null?void 0:ve.includes("pomodoro")}).length,le={journalEntries:R.length,agendaItems:ee.length,pomodoros:ye,calendarEvents:oe.length,people:ge.length,brand:be.length};m(le);const $=await ld(),U=[];le.journalEntries>=1&&U.push("first-entry"),le.journalEntries>=7&&U.push("journal-streak-7"),le.journalEntries>=30&&U.push("journal-streak-30"),le.agendaItems>=10&&U.push("agenda-10"),le.pomodoros>=25&&U.push("pomodoro-25"),le.calendarEvents>=20&&U.push("calendar-20"),le.people>=10&&U.push("people-10"),le.brand>=5&&U.push("brand-5"),$.level>=5&&U.push("level-5"),$.level>=10&&U.push("level-10"),$.level>=20&&U.push("level-20"),$.total>=1e3&&U.push("xp-1000"),$.total>=5e3&&U.push("xp-5000"),$.total>=1e4&&U.push("xp-10000"),x(U)};w.useEffect(()=>{(async()=>{await b(),await f()})()},[]),w.useEffect(()=>{f()},[r.total,r.level]);const v=r.total%200/200*100,_=bo(r.level),M=bo(r.level+1);w.useMemo(()=>Math.min(Math.floor(h.journalEntries/7),30),[h.journalEntries]);const j=w.useMemo(()=>{const R={};return c.forEach(ee=>{const oe=ee.reason.split(".")[0]||"other";R[oe]=(R[oe]||0)+ee.points}),R},[c]),G=w.useMemo(()=>{const R={};return c.forEach(ee=>{R[ee.reason]=(R[ee.reason]||0)+1}),Object.entries(R).sort((ee,oe)=>oe[1]-ee[1]).slice(0,5)},[c]);return l.jsxs(Jt,{title:"Progress",subtitle:"Earn XP by partnering with Sylvia. Meaningful actions push you through levels.",children:[l.jsxs("div",{className:"glass-panel rounded-3xl border border-white/70 p-8 mb-6 space-y-4 bg-gradient-to-br from-white to-gray-50",children:[l.jsxs("div",{className:"flex items-start justify-between",children:[l.jsx("div",{className:"flex-1",children:l.jsxs("div",{className:"flex items-center gap-3 mb-2",children:[_.iconName&&co[_.iconName]&&xo.createElement(co[_.iconName],{className:"w-12 h-12 text-black"}),l.jsxs("div",{children:[l.jsxs("p",{className:"text-sm uppercase tracking-[0.3em] text-secondary-light",children:["Level ",r.level]}),l.jsx("h2",{className:"text-4xl font-bold text-black",children:r.levelName}),l.jsx("p",{className:"text-sm text-secondary-light mt-1",children:r.levelDescription})]})]})}),l.jsxs("div",{className:"text-right",children:[l.jsx("p",{className:"text-2xl font-bold text-black",children:r.total.toLocaleString()}),l.jsx("p",{className:"text-xs uppercase tracking-[0.2em] text-secondary-light",children:"Total XP"})]})]}),l.jsxs("div",{className:"space-y-2",children:[l.jsx("div",{className:"w-full h-4 rounded-full bg-white/80 overflow-hidden shadow-inner",children:l.jsx("div",{className:"h-full bg-gradient-to-r from-blue-500 via-purple-500 to-pink-500 transition-all duration-500 ease-out",style:{width:`${v}%`}})}),l.jsxs("div",{className:"flex items-center justify-between text-xs text-secondary-light",children:[l.jsxs("span",{children:[r.total%200," / 200 XP"]}),l.jsxs("span",{className:"font-semibold flex items-center gap-1",children:["Next: ",M.name,M.iconName&&co[M.iconName]&&xo.createElement(co[M.iconName],{className:"w-3 h-3"})]})]})]})]}),l.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 md:grid-cols-4 gap-4 mb-6",children:[{label:"Journal Entries",value:h.journalEntries,Icon:Od,color:"from-blue-50 to-blue-100"},{label:"Agenda Items",value:h.agendaItems,Icon:Ya,color:"from-green-50 to-green-100"},{label:"Pomodoros",value:h.pomodoros,Icon:Li,color:"from-red-50 to-red-100"},{label:"Calendar Events",value:h.calendarEvents,Icon:En,color:"from-purple-50 to-purple-100"}].map(R=>l.jsxs("div",{className:`rounded-2xl border border-white/70 bg-gradient-to-br ${R.color} p-4`,children:[l.jsxs("div",{className:"flex items-center justify-between mb-2",children:[l.jsx(R.Icon,{className:"w-6 h-6 text-gray-700"}),l.jsx("span",{className:"text-2xl font-bold text-black",children:R.value})]}),l.jsx("p",{className:"text-xs uppercase tracking-[0.2em] text-gray-600",children:R.label})]},R.label))}),l.jsxs("div",{className:"mb-6",children:[l.jsxs("h3",{className:"text-xl font-semibold mb-4 flex items-center gap-2",children:[l.jsx(t2,{className:"w-5 h-5"}),l.jsx("span",{children:"Achievements"}),l.jsxs("span",{className:"text-sm font-normal text-secondary-light",children:["(",g.length," / ",rx.length,")"]})]}),l.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 md:grid-cols-3 gap-3",children:rx.map(R=>{const ee=g.includes(R.id);return l.jsx("div",{className:`rounded-2xl border p-4 transition-all ${ee?"bg-gradient-to-br from-yellow-50 to-orange-50 border-yellow-300 shadow-md":"bg-white/50 border-white/70 opacity-60"}`,children:l.jsxs("div",{className:"flex items-start gap-3",children:[l.jsx("div",{className:`p-2 rounded-xl ${ee?"bg-yellow-100":"bg-gray-100"}`,children:l.jsx(R.Icon,{className:`w-5 h-5 ${ee?"text-yellow-700":"text-gray-400"}`})}),l.jsxs("div",{className:"flex-1",children:[l.jsx("h4",{className:`font-semibold ${ee?"text-black":"text-gray-400"}`,children:R.title}),l.jsx("p",{className:`text-xs mt-1 ${ee?"text-gray-600":"text-gray-400"}`,children:R.description}),R.xp>0&&ee&&l.jsxs("span",{className:"inline-block mt-2 px-2 py-0.5 rounded-full bg-yellow-200 text-yellow-800 text-xs font-semibold",children:["+",R.xp," XP"]})]}),ee&&l.jsx(Ya,{className:"w-5 h-5 text-yellow-500"})]})},R.id)})})]}),l.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6 mb-6",children:[l.jsxs("div",{className:"glass-panel rounded-3xl border border-white/70 p-6",children:[l.jsxs("h3",{className:"text-lg font-semibold mb-4 flex items-center gap-2",children:[l.jsx(To,{className:"w-5 h-5"}),l.jsx("span",{children:"XP Breakdown"})]}),Object.keys(j).length===0?l.jsx("p",{className:"text-sm text-secondary-light",children:"No XP earned yet"}):l.jsx("div",{className:"space-y-3",children:Object.entries(j).sort((R,ee)=>ee[1]-R[1]).map(([R,ee])=>l.jsxs("div",{className:"space-y-1",children:[l.jsxs("div",{className:"flex items-center justify-between text-sm",children:[l.jsx("span",{className:"capitalize font-medium",children:R}),l.jsxs("span",{className:"font-semibold",children:[ee," XP"]})]}),l.jsx("div",{className:"w-full h-2 rounded-full bg-white/60 overflow-hidden",children:l.jsx("div",{className:"h-full bg-gradient-to-r from-blue-500 to-purple-500 rounded-full",style:{width:`${ee/r.total*100}%`}})})]},R))})]}),l.jsxs("div",{className:"glass-panel rounded-3xl border border-white/70 p-6",children:[l.jsxs("h3",{className:"text-lg font-semibold mb-4 flex items-center gap-2",children:[l.jsx(zd,{className:"w-5 h-5"}),l.jsx("span",{children:"Top Activities"})]}),G.length===0?l.jsx("p",{className:"text-sm text-secondary-light",children:"No activities yet"}):l.jsx("div",{className:"space-y-3",children:G.map(([R,ee],oe)=>l.jsxs("div",{className:"flex items-center justify-between",children:[l.jsxs("div",{className:"flex items-center gap-3",children:[l.jsxs("span",{className:"text-lg font-bold text-gray-400",children:["#",oe+1]}),l.jsx("span",{className:"text-sm capitalize",children:R.replace("."," ")})]}),l.jsxs("span",{className:"px-3 py-1 rounded-full bg-black text-white text-xs font-semibold",children:[ee,"x"]})]},R))})]})]}),l.jsxs("div",{className:"glass-panel rounded-3xl border border-white/70 p-6",children:[l.jsxs("div",{className:"flex items-center justify-between mb-4",children:[l.jsxs("h3",{className:"text-lg font-semibold flex items-center gap-2",children:[l.jsx(ys,{className:"w-5 h-5"}),l.jsx("span",{children:"Recent Activity"})]}),l.jsx("button",{onClick:b,className:"px-3 py-1 rounded-full bg-white border border-white/70 text-black text-xs hover:bg-gray-50 transition",children:"Refresh"})]}),c.length===0?l.jsx("p",{className:"text-secondary-light text-sm",children:"No activity yet. Start using Sylvia to earn XP!"}):l.jsx("div",{className:"space-y-2 max-h-64 overflow-y-auto invisible-scrollbar",children:c.map(R=>l.jsxs("div",{className:"flex items-center justify-between p-3 rounded-2xl bg-white/60 hover:bg-white/80 transition",children:[l.jsxs("div",{className:"flex-1",children:[l.jsx("p",{className:"font-medium text-sm capitalize",children:R.reason.replace("."," ")}),l.jsx("p",{className:"text-xs text-secondary-light",children:new Date(R.createdAt).toLocaleString()})]}),l.jsxs("span",{className:"px-3 py-1 rounded-full bg-gradient-to-r from-blue-500 to-purple-500 text-white text-xs font-bold shadow-sm",children:["+",R.points]})]},R.id))})]})]})},z2=()=>{const{setActiveEntity:r}=al(),[o,c]=w.useState([]),[u,h]=w.useState([]),[m,g]=w.useState(null),[x,b]=w.useState(null),[f,v]=w.useState(null),[_,M]=w.useState(null),[j,G]=w.useState(!1),[R,ee]=w.useState(""),[oe,ge]=w.useState("all"),[be,ye]=w.useState(null),[le,$]=w.useState(null),[U,ue]=w.useState(null),[ve,P]=w.useState({title:"",description:"",goalType:"small",scope:"professional",priority:"medium",metrics:""}),[te,Ne]=w.useState({completionNotes:"",outcome:"met",outcomeDetails:"",taskQuality:50,effortAccuracy:50,impactAccuracy:50,clarity:50,helpfulness:50,feedbackNotes:"",whatWorked:[],whatDidntWork:[],suggestions:""}),xe=w.useCallback(async()=>{const[N,re]=await Promise.all([F.getGoals(),F.getVendorTasks()]);c(N.sort((ce,pe)=>(pe.updatedAt||pe.createdAt)-(ce.updatedAt||ce.createdAt))),h(re.sort((ce,pe)=>pe.generatedAt-ce.generatedAt))},[]);w.useEffect(()=>(xe(),sn("goal",xe)),[xe]);const W=w.useMemo(()=>{let N=o;if(oe!=="all"&&(N=N.filter(re=>re.goalType===oe)),R.trim()){const re=R.toLowerCase();N=N.filter(ce=>ce.title.toLowerCase().includes(re)||ce.description.toLowerCase().includes(re)||ce.metrics.toLowerCase().includes(re))}return N},[o,oe,R]),A=w.useMemo(()=>{let N=u;if(m&&(N=N.filter(re=>re.goalId===m.id)),be&&(N=N.filter(re=>re.status===be)),le&&(N=N.filter(re=>re.estimatedEffort===le)),U&&(N=N.filter(re=>re.estimatedImpact===U)),R.trim()){const re=R.toLowerCase();N=N.filter(ce=>{var pe;return ce.title.toLowerCase().includes(re)||ce.description.toLowerCase().includes(re)||((pe=ce.rationale)==null?void 0:pe.toLowerCase().includes(re))})}return N},[u,m,be,le,U,R]),D=w.useMemo(()=>{const N=o.filter(fe=>fe.goalType==="small").length,re=o.filter(fe=>fe.goalType==="big").length,ce=u.filter(fe=>fe.status==="pending").length,pe=u.filter(fe=>fe.status==="completed").length,Me=u.filter(fe=>fe.status==="in-progress").length,qe=u.filter(fe=>fe.status==="skipped").length,yt=u.filter(fe=>fe.status==="failed").length,Be=u.filter(fe=>fe.feedback),vt=Be.reduce((fe,Fe)=>{const He=Fe.feedback;return fe+(He.taskQuality+He.effortAccuracy+He.impactAccuracy+He.clarity+He.helpfulness)/5},0),At=Be.length>0?(vt/Be.length).toFixed(1):"",C=u.filter(fe=>fe.estimatedImpact==="high"||fe.estimatedImpact==="very-high").length,Se=u.filter(fe=>fe.estimatedEffort==="very-low"||fe.estimatedEffort==="low").length,Te=u.length,_e=Te>0?(pe/Te*100).toFixed(1):"0";return{smallGoals:N,bigGoals:re,pendingTasks:ce,completedTasks:pe,inProgressTasks:Me,skippedTasks:qe,failedTasks:yt,avgFeedbackScore:At,highImpactTasks:C,lowEffortTasks:Se,completionRate:_e,totalTasks:Te}},[o,u]),Z=N=>{b(N),P({title:N.title,description:N.description,goalType:N.goalType,scope:N.scope,priority:N.priority,metrics:N.metrics})},he=async()=>{x&&(await F.saveGoal({...x,...ve,updatedAt:Date.now()}),b(null),xe())},Oe=async N=>{const re=u.filter(ce=>ce.goalId===N);for(const ce of re)await F.deleteVendorTask(ce.id);await F.deleteGoal(N),xe()},ze=async()=>{if(m){G(!0);try{const N=await pt("apiKey",""),re=await pt("secondaryApiKey",""),ce=await pt("mainModel","openrouter/polaris-alpha"),pe=await pt("systemInstruction",""),Me=await pt("weightedPrompts",[]),qe=await pt("temperature",.7),yt=await pt("maxTokens",128e3),[Be,vt,At,C,Se,Te]=await Promise.all([F.getPeopleRecords(),F.getBrandRecords(),F.getCalendarEvents(),F.getJournalEntries(),F.getAgendaItems(),F.getConceptRecords()]),_e=`You are generating high-impact, low-effort tasks for a Polaris goal. Analyze the goal and available context, then generate 10-12 specific, actionable tasks.

GOAL DETAILS:
Title: ${m.title}
Description: ${m.description}
Type: ${m.goalType==="small"?"Small Goal (Quick wins, short-term)":"Big Goal (Long-term, strategic)"}
Scope: ${m.scope}
Priority: ${m.priority}
Success Metrics: ${m.metrics||"Not specified"}

AVAILABLE CONTEXT:
- ${Be.length} people in network (with connections, attributes, profiles)
- ${vt.length} brand elements (voice, positioning, messaging)
- ${At.length} calendar events (meetings, deadlines, commitments)
- ${C.length} journal entries (insights, reflections, learnings)
- ${Se.length} agenda items (tasks, deliverables)
- ${Te.length} concepts (ideas, applications, technologies)

TASK GENERATION CRITERIA:
1. HIGH IMPACT: Tasks must move the needle significantly toward achieving this goal
2. LOW EFFORT: Tasks should be quick wins that leverage existing resources and context
3. SPECIFIC & ACTIONABLE: Each task must be concrete and executable, not vague
4. CONTEXT-AWARE: Leverage the available context (people, brand, calendar, journal, agenda, concepts)
5. SEQUENCED: Consider task dependencies and logical order

For each task, you MUST respond with exactly this format:
[ACTION:polaris.task|${m.id}|title|description|rationale|estimatedEffort|estimatedImpact]

Where:
- title: Short, clear task title (3-8 words)
- description: Detailed description of what needs to be done (1-3 sentences)
- rationale: Why this task helps achieve the goal (1-2 sentences explaining the connection)
- estimatedEffort: very-low, low, medium, or high
- estimatedImpact: very-low, low, medium, high, or very-high

Generate 10-12 tasks now. Focus on tasks that are HIGH IMPACT and LOW EFFORT. Use ACTION markers only - no other text.`,fe=await Ui([{role:"system",content:pe||"You are Sylvia, an AI assistant that generates high-impact, low-effort tasks for goals."},{role:"user",content:_e}],{apiKey:N||re,mainModel:ce,weightedPrompts:Me,temperature:.7,maxTokens:4e3});console.log("API Response:",fe);const Fe=fe.match(/\[ACTION:([^\]]+)\]/g);console.log("Found ACTION markers:",(Fe==null?void 0:Fe.length)||0),await Qx(fe),await xe()}catch(N){console.error("Failed to generate tasks:",N),alert(`Failed to generate tasks: ${N instanceof Error?N.message:String(N)}`)}finally{G(!1)}}},y=N=>{var re,ce,pe,Me,qe,yt,Be,vt,At;v(N),M(N.id),Ne({completionNotes:N.completionNotes||"",outcome:N.outcome||"met",outcomeDetails:N.outcomeDetails||"",taskQuality:((re=N.feedback)==null?void 0:re.taskQuality)||50,effortAccuracy:((ce=N.feedback)==null?void 0:ce.effortAccuracy)||50,impactAccuracy:((pe=N.feedback)==null?void 0:pe.impactAccuracy)||50,clarity:((Me=N.feedback)==null?void 0:Me.clarity)||50,helpfulness:((qe=N.feedback)==null?void 0:qe.helpfulness)||50,feedbackNotes:((yt=N.feedback)==null?void 0:yt.notes)||"",whatWorked:((Be=N.learningData)==null?void 0:Be.whatWorked)||[],whatDidntWork:((vt=N.learningData)==null?void 0:vt.whatDidntWork)||[],suggestions:((At=N.learningData)==null?void 0:At.suggestions)||""})},q=async()=>{f&&(await F.saveVendorTask({...f,status:"completed",completedAt:Date.now(),completionNotes:te.completionNotes,outcome:te.outcome,outcomeDetails:te.outcomeDetails,feedback:{taskQuality:te.taskQuality,effortAccuracy:te.effortAccuracy,impactAccuracy:te.impactAccuracy,clarity:te.clarity,helpfulness:te.helpfulness,notes:te.feedbackNotes},learningData:{whatWorked:te.whatWorked,whatDidntWork:te.whatDidntWork,suggestions:te.suggestions},updatedAt:Date.now()}),M(null),v(null),xe())},I=async(N,re)=>{await F.saveVendorTask({...N,status:re,updatedAt:Date.now()}),xe()},ne=async N=>{await F.deleteVendorTask(N),xe()},Q=N=>o.find(re=>re.id===N),k=N=>{const re={"very-low":"text-green-700 bg-green-100 border-green-200",low:"text-green-600 bg-green-50 border-green-100",medium:"text-yellow-600 bg-yellow-50 border-yellow-100",high:"text-red-600 bg-red-50 border-red-100"};return re[N]||re.medium},X=N=>{const re={"very-low":"text-gray-600 bg-gray-50 border-gray-100",low:"text-gray-600 bg-gray-50 border-gray-100",medium:"text-blue-600 bg-blue-50 border-blue-100",high:"text-purple-600 bg-purple-50 border-purple-100","very-high":"text-purple-700 bg-purple-100 border-purple-200"};return re[N]||re.medium},se=N=>{const re={pending:"text-gray-600 bg-gray-50 border-gray-100","in-progress":"text-blue-600 bg-blue-50 border-blue-100",completed:"text-green-600 bg-green-50 border-green-100",skipped:"text-yellow-600 bg-yellow-50 border-yellow-100",failed:"text-red-600 bg-red-50 border-red-100"};return re[N]||re.pending},je=N=>{switch(N){case"pending":return l.jsx(Va,{className:"w-4 h-4"});case"in-progress":return l.jsx(Ri,{className:"w-4 h-4"});case"completed":return l.jsx(Ya,{className:"w-4 h-4"});case"skipped":return l.jsx(U1,{className:"w-4 h-4"});case"failed":return l.jsx(Rd,{className:"w-4 h-4"});default:return l.jsx(Va,{className:"w-4 h-4"})}};return l.jsxs(Jt,{title:"Polaris",subtitle:"North Star goals meet high-impact, low-effort tasks. Sylvia learns from every outcome to get better.",children:[l.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 md:grid-cols-4 lg:grid-cols-6 gap-4 mb-6",children:[l.jsxs("div",{className:"rounded-2xl border border-white/70 bg-gradient-to-br from-blue-50 to-blue-100 p-4",children:[l.jsxs("div",{className:"flex items-center justify-between mb-2",children:[l.jsx(La,{className:"w-6 h-6 text-blue-600"}),l.jsx("span",{className:"text-2xl font-bold text-black",children:D.smallGoals})]}),l.jsx("p",{className:"text-xs uppercase tracking-[0.2em] text-gray-600",children:"Small Goals"})]}),l.jsxs("div",{className:"rounded-2xl border border-white/70 bg-gradient-to-br from-purple-50 to-purple-100 p-4",children:[l.jsxs("div",{className:"flex items-center justify-between mb-2",children:[l.jsx(La,{className:"w-6 h-6 text-purple-600"}),l.jsx("span",{className:"text-2xl font-bold text-black",children:D.bigGoals})]}),l.jsx("p",{className:"text-xs uppercase tracking-[0.2em] text-gray-600",children:"Big Goals"})]}),l.jsxs("div",{className:"rounded-2xl border border-white/70 bg-gradient-to-br from-yellow-50 to-yellow-100 p-4",children:[l.jsxs("div",{className:"flex items-center justify-between mb-2",children:[l.jsx(Va,{className:"w-6 h-6 text-yellow-600"}),l.jsx("span",{className:"text-2xl font-bold text-black",children:D.pendingTasks})]}),l.jsx("p",{className:"text-xs uppercase tracking-[0.2em] text-gray-600",children:"Pending"})]}),l.jsxs("div",{className:"rounded-2xl border border-white/70 bg-gradient-to-br from-green-50 to-green-100 p-4",children:[l.jsxs("div",{className:"flex items-center justify-between mb-2",children:[l.jsx(Ya,{className:"w-6 h-6 text-green-600"}),l.jsx("span",{className:"text-2xl font-bold text-black",children:D.completedTasks})]}),l.jsx("p",{className:"text-xs uppercase tracking-[0.2em] text-gray-600",children:"Completed"})]}),l.jsxs("div",{className:"rounded-2xl border border-white/70 bg-gradient-to-br from-orange-50 to-orange-100 p-4",children:[l.jsxs("div",{className:"flex items-center justify-between mb-2",children:[l.jsx(ys,{className:"w-6 h-6 text-orange-600"}),l.jsx("span",{className:"text-2xl font-bold text-black",children:D.inProgressTasks})]}),l.jsx("p",{className:"text-xs uppercase tracking-[0.2em] text-gray-600",children:"In Progress"})]}),l.jsxs("div",{className:"rounded-2xl border border-white/70 bg-gradient-to-br from-pink-50 to-pink-100 p-4",children:[l.jsxs("div",{className:"flex items-center justify-between mb-2",children:[l.jsx(No,{className:"w-6 h-6 text-pink-600"}),l.jsx("span",{className:"text-2xl font-bold text-black",children:D.avgFeedbackScore})]}),l.jsx("p",{className:"text-xs uppercase tracking-[0.2em] text-gray-600",children:"Avg Score"})]})]}),l.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 md:grid-cols-4 gap-4 mb-6",children:[l.jsxs("div",{className:"rounded-2xl border border-white/70 bg-gradient-to-br from-indigo-50 to-indigo-100 p-4",children:[l.jsxs("div",{className:"flex items-center justify-between mb-2",children:[l.jsx(md,{className:"w-6 h-6 text-indigo-600"}),l.jsx("span",{className:"text-2xl font-bold text-black",children:D.highImpactTasks})]}),l.jsx("p",{className:"text-xs uppercase tracking-[0.2em] text-gray-600",children:"High Impact"})]}),l.jsxs("div",{className:"rounded-2xl border border-white/70 bg-gradient-to-br from-emerald-50 to-emerald-100 p-4",children:[l.jsxs("div",{className:"flex items-center justify-between mb-2",children:[l.jsx(W1,{className:"w-6 h-6 text-emerald-600"}),l.jsx("span",{className:"text-2xl font-bold text-black",children:D.lowEffortTasks})]}),l.jsx("p",{className:"text-xs uppercase tracking-[0.2em] text-gray-600",children:"Low Effort"})]}),l.jsxs("div",{className:"rounded-2xl border border-white/70 bg-gradient-to-br from-cyan-50 to-cyan-100 p-4",children:[l.jsxs("div",{className:"flex items-center justify-between mb-2",children:[l.jsx(To,{className:"w-6 h-6 text-cyan-600"}),l.jsxs("span",{className:"text-2xl font-bold text-black",children:[D.completionRate,"%"]})]}),l.jsx("p",{className:"text-xs uppercase tracking-[0.2em] text-gray-600",children:"Complete Rate"})]}),l.jsxs("div",{className:"rounded-2xl border border-white/70 bg-gradient-to-br from-rose-50 to-rose-100 p-4",children:[l.jsxs("div",{className:"flex items-center justify-between mb-2",children:[l.jsx(o1,{className:"w-6 h-6 text-rose-600"}),l.jsx("span",{className:"text-2xl font-bold text-black",children:D.totalTasks})]}),l.jsx("p",{className:"text-xs uppercase tracking-[0.2em] text-gray-600",children:"Total Tasks"})]})]}),l.jsxs("div",{className:"mb-6 space-y-4",children:[l.jsx("div",{className:"glass-panel rounded-2xl border border-white/70 p-4",children:l.jsxs("div",{className:"flex items-center gap-3",children:[l.jsx(rn,{className:"w-5 h-5 text-secondary-light"}),l.jsx("input",{type:"text",value:R,onChange:N=>ee(N.target.value),placeholder:"Search goals or tasks...",className:"flex-1 bg-transparent outline-none text-lg placeholder:text-secondary-light"}),R&&l.jsx("button",{onClick:()=>ee(""),className:"px-3 py-1 rounded-full bg-white/80 border border-white/70 text-sm hover:bg-white transition",children:"Clear"})]})}),l.jsxs("div",{className:"flex flex-wrap gap-2 items-center",children:[l.jsxs("span",{className:"text-sm text-secondary-light flex items-center gap-1",children:[l.jsx(bs,{className:"w-4 h-4"}),"Filter Goals:"]}),l.jsx("button",{onClick:()=>ge("all"),className:`px-3 py-1 rounded-full text-xs font-medium transition ${oe==="all"?"bg-black text-white":"bg-white/80 border border-white/70 hover:bg-white"}`,children:"All"}),l.jsx("button",{onClick:()=>ge("small"),className:`px-3 py-1 rounded-full text-xs font-medium transition ${oe==="small"?"bg-black text-white":"bg-white/80 border border-white/70 hover:bg-white"}`,children:"Small Goals"}),l.jsx("button",{onClick:()=>ge("big"),className:`px-3 py-1 rounded-full text-xs font-medium transition ${oe==="big"?"bg-black text-white":"bg-white/80 border border-white/70 hover:bg-white"}`,children:"Big Goals"}),m&&l.jsxs(l.Fragment,{children:[l.jsx("span",{className:"text-xs text-secondary-light mx-2",children:"|"}),l.jsx("span",{className:"text-xs text-secondary-light",children:"Task Filters:"}),l.jsx("button",{onClick:()=>{ye(null),$(null),ue(null)},className:`px-3 py-1 rounded-full text-xs font-medium transition ${be===null&&le===null&&U===null?"bg-black text-white":"bg-white/80 border border-white/70"}`,children:"All Tasks"}),["pending","in-progress","completed","skipped","failed"].map(N=>l.jsx("button",{onClick:()=>ye(be===N?null:N),className:`px-3 py-1 rounded-full text-xs font-medium transition capitalize ${be===N?"bg-black text-white":"bg-white/80 border border-white/70"}`,children:N.replace("-"," ")},N)),l.jsx("span",{className:"text-xs text-secondary-light mx-2",children:"|"}),l.jsx("span",{className:"text-xs text-secondary-light",children:"Effort:"}),["very-low","low","medium","high"].map(N=>l.jsx("button",{onClick:()=>$(le===N?null:N),className:`px-3 py-1 rounded-full text-xs font-medium transition capitalize ${le===N?"bg-black text-white":"bg-white/80 border border-white/70"}`,children:N.replace("-"," ")},N)),l.jsx("span",{className:"text-xs text-secondary-light mx-2",children:"|"}),l.jsx("span",{className:"text-xs text-secondary-light",children:"Impact:"}),["very-low","low","medium","high","very-high"].map(N=>l.jsx("button",{onClick:()=>ue(U===N?null:N),className:`px-3 py-1 rounded-full text-xs font-medium transition capitalize ${U===N?"bg-black text-white":"bg-white/80 border border-white/70"}`,children:N.replace("-"," ")},N))]})]})]}),l.jsxs("div",{className:"mb-8",children:[l.jsx("div",{className:"flex items-center justify-between mb-4",children:l.jsxs("div",{children:[l.jsxs("h2",{className:"text-2xl font-semibold flex items-center gap-2",children:[l.jsx(La,{className:"w-6 h-6"}),"Goals"]}),l.jsx("p",{className:"text-sm text-secondary-light mt-1",children:"Goals are created through conversation with Sylvia. Talk to her about your goals and she'll add them here."})]})}),W.length===0?l.jsxs("div",{className:"glass-panel rounded-3xl border border-white/70 p-12 text-center",children:[l.jsx("div",{className:"flex justify-center mb-4",children:l.jsx(La,{className:"w-16 h-16 text-secondary-light"})}),l.jsx("h3",{className:"text-xl font-semibold mb-2",children:o.length===0?"No goals yet":"No matches found"}),l.jsx("p",{className:"text-secondary-light",children:o.length===0?"Tell Sylvia about your goals in the chat. She'll automatically add them here, then you can generate high-impact, low-effort tasks.":"Try adjusting your search or filters."})]}):l.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:W.map(N=>{const re=u.filter(Be=>Be.goalId===N.id),ce=(x==null?void 0:x.id)===N.id,pe=(m==null?void 0:m.id)===N.id,Me=re.filter(Be=>Be.status==="completed").length,qe=re.length,yt=qe>0?Me/qe*100:0;return l.jsx("div",{className:`rounded-3xl border p-6 transition-all ${pe?"border-purple-500 bg-purple-50 shadow-lg":ce?"border-black bg-black text-white shadow-xl":"border-white/70 bg-white/90 hover:shadow-lg hover:border-white"}`,onClick:()=>{if(!ce){const Be=pe?null:N;g(Be),r(Be?{type:"goal",id:Be.id,data:Be}:{type:null,id:""})}},children:ce?l.jsxs("div",{className:"space-y-4",children:[l.jsxs("div",{children:[l.jsx("label",{className:"text-xs uppercase tracking-[0.2em] text-white/70 mb-2 block",children:"Title *"}),l.jsx("input",{value:ve.title,onChange:Be=>P({...ve,title:Be.target.value}),className:"w-full rounded-2xl border border-white/30 bg-white/10 px-4 py-2 text-white placeholder:text-white/50 focus:outline-none focus:ring-2 focus:ring-white/50"})]}),l.jsxs("div",{children:[l.jsx("label",{className:"text-xs uppercase tracking-[0.2em] text-white/70 mb-2 block",children:"Goal Type"}),l.jsxs("select",{value:ve.goalType,onChange:Be=>P({...ve,goalType:Be.target.value}),className:"w-full rounded-2xl border border-white/30 bg-white/10 px-4 py-2 text-white focus:outline-none focus:ring-2 focus:ring-white/50",children:[l.jsx("option",{value:"small",children:"Small Goal"}),l.jsx("option",{value:"big",children:"Big Goal"})]})]}),l.jsxs("div",{children:[l.jsx("label",{className:"text-xs uppercase tracking-[0.2em] text-white/70 mb-2 block",children:"Description *"}),l.jsx("textarea",{value:ve.description,onChange:Be=>P({...ve,description:Be.target.value}),rows:4,className:"w-full rounded-2xl border border-white/30 bg-white/10 px-4 py-2 text-white placeholder:text-white/50 focus:outline-none focus:ring-2 focus:ring-white/50 resize-none"})]}),l.jsxs("div",{children:[l.jsx("label",{className:"text-xs uppercase tracking-[0.2em] text-white/70 mb-2 block",children:"Metrics"}),l.jsx("input",{value:ve.metrics,onChange:Be=>P({...ve,metrics:Be.target.value}),className:"w-full rounded-2xl border border-white/30 bg-white/10 px-4 py-2 text-white placeholder:text-white/50 focus:outline-none focus:ring-2 focus:ring-white/50"})]}),l.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[l.jsxs("div",{children:[l.jsx("label",{className:"text-xs uppercase tracking-[0.2em] text-white/70 mb-2 block",children:"Scope"}),l.jsxs("select",{value:ve.scope,onChange:Be=>P({...ve,scope:Be.target.value}),className:"w-full rounded-2xl border border-white/30 bg-white/10 px-4 py-2 text-white focus:outline-none focus:ring-2 focus:ring-white/50",children:[l.jsx("option",{value:"personal",children:"Personal"}),l.jsx("option",{value:"professional",children:"Professional"})]})]}),l.jsxs("div",{children:[l.jsx("label",{className:"text-xs uppercase tracking-[0.2em] text-white/70 mb-2 block",children:"Priority"}),l.jsxs("select",{value:ve.priority,onChange:Be=>P({...ve,priority:Be.target.value}),className:"w-full rounded-2xl border border-white/30 bg-white/10 px-4 py-2 text-white focus:outline-none focus:ring-2 focus:ring-white/50",children:[l.jsx("option",{value:"low",children:"Low"}),l.jsx("option",{value:"medium",children:"Medium"}),l.jsx("option",{value:"high",children:"High"})]})]})]}),l.jsxs("div",{className:"flex gap-2",children:[l.jsx("button",{onClick:he,className:"flex-1 px-4 py-2 rounded-2xl bg-white text-black font-semibold hover:bg-gray-100 transition",children:"Save"}),l.jsx("button",{onClick:()=>{b(null),P({title:"",description:"",goalType:"small",scope:"professional",priority:"medium",metrics:""})},className:"px-4 py-2 rounded-2xl bg-white/20 text-white border border-white/30 hover:bg-white/30 transition",children:"Cancel"})]})]}):l.jsxs(l.Fragment,{children:[l.jsx("div",{className:"flex items-start justify-between mb-4",children:l.jsxs("div",{className:"flex-1",children:[l.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[l.jsx("span",{className:`px-2 py-0.5 rounded-full text-xs font-semibold ${N.goalType==="big"?"bg-purple-100 text-purple-700":"bg-blue-100 text-blue-700"}`,children:N.goalType==="big"?"Big Goal":"Small Goal"}),l.jsx("span",{className:"px-2 py-0.5 rounded-full bg-gray-100 text-gray-700 text-xs",children:N.scope}),l.jsx("span",{className:`px-2 py-0.5 rounded-full text-xs ${N.priority==="high"?"bg-red-100 text-red-700":N.priority==="medium"?"bg-yellow-100 text-yellow-700":"bg-gray-100 text-gray-700"}`,children:N.priority}),qe>0&&l.jsxs("span",{className:"px-2 py-0.5 rounded-full bg-green-100 text-green-700 text-xs font-semibold",children:[Me,"/",qe," tasks"]})]}),l.jsx("h3",{className:"text-xl font-bold mb-2",children:N.title})]})}),l.jsx(bt,{content:N.description,className:"text-sm mb-3"}),N.metrics&&l.jsxs("p",{className:"text-xs text-secondary-light mb-3",children:[l.jsx("strong",{children:"Metrics:"})," ",N.metrics]}),qe>0&&l.jsxs("div",{className:"mb-3",children:[l.jsxs("div",{className:"flex items-center justify-between mb-1",children:[l.jsx("span",{className:"text-xs font-semibold text-secondary-light",children:"Progress"}),l.jsxs("span",{className:"text-xs font-semibold",children:[yt.toFixed(0),"%"]})]}),l.jsx("div",{className:"w-full h-2 bg-gray-100 rounded-full overflow-hidden",children:l.jsx("div",{className:"h-full bg-gradient-to-r from-green-400 to-green-600 transition-all",style:{width:`${yt}%`}})})]}),l.jsxs("div",{className:"flex items-center gap-2 pt-4 border-t border-white/20",children:[l.jsxs("div",{className:"flex items-center gap-2 text-xs text-secondary-light",children:[l.jsx(fs,{className:"w-4 h-4"}),l.jsxs("span",{children:[qe," tasks"]})]}),l.jsxs("div",{className:"flex gap-2 ml-auto",children:[l.jsxs("button",{onClick:Be=>{Be.stopPropagation(),Z(N)},className:"px-3 py-1.5 rounded-full bg-white/80 border border-white/70 text-xs font-medium hover:bg-white transition flex items-center gap-1",children:[l.jsx(Xa,{className:"w-3 h-3"}),"Edit"]}),l.jsxs("button",{onClick:Be=>{Be.stopPropagation(),Oe(N.id)},className:"px-3 py-1.5 rounded-full bg-white/80 border border-white/70 text-xs font-medium hover:bg-red-50 hover:border-red-200 hover:text-red-700 transition flex items-center gap-1",children:[l.jsx(nn,{className:"w-3 h-3"}),"Delete"]})]})]})]})},N.id)})})]}),m&&l.jsxs("div",{className:"mb-8",children:[l.jsxs("div",{className:"flex items-center justify-between mb-4",children:[l.jsxs("div",{children:[l.jsxs("h2",{className:"text-2xl font-semibold flex items-center gap-2",children:[l.jsx(tl,{className:"w-6 h-6"}),"Tasks for: ",m.title]}),l.jsx("p",{className:"text-sm text-secondary-light mt-1",children:"High-impact, low-effort tasks generated by Sylvia. Track progress and provide feedback to help her learn."})]}),l.jsxs("div",{className:"flex gap-2",children:[l.jsx("button",{onClick:()=>g(null),className:"px-3 py-1.5 rounded-full bg-white/80 border border-white/70 text-xs font-medium hover:bg-white transition",children:l.jsx(Ft,{className:"w-4 h-4"})}),l.jsx("button",{onClick:ze,disabled:j,className:"px-4 py-2 rounded-full bg-black text-white text-sm font-medium hover:shadow-lg transition flex items-center gap-2 disabled:opacity-50",children:j?l.jsxs(l.Fragment,{children:[l.jsx(zi,{className:"w-4 h-4 animate-spin"}),"Generating..."]}):l.jsxs(l.Fragment,{children:[l.jsx(tl,{className:"w-4 h-4"}),"Generate Tasks"]})})]})]}),A.length===0?l.jsxs("div",{className:"glass-panel rounded-3xl border border-white/70 p-12 text-center",children:[l.jsx("div",{className:"flex justify-center mb-4",children:l.jsx(fs,{className:"w-16 h-16 text-secondary-light"})}),l.jsx("h3",{className:"text-xl font-semibold mb-2",children:"No tasks yet"}),l.jsx("p",{className:"text-secondary-light mb-4",children:'Click "Generate Tasks" to have Sylvia analyze your goal and create 10-12 high-impact, low-effort tasks.'})]}):l.jsx("div",{className:"space-y-4",children:A.map(N=>{const re=(f==null?void 0:f.id)===N.id,ce=_===N.id;return Q(N.goalId),l.jsx("div",{className:`rounded-3xl border p-6 transition-all ${re||ce?"border-black bg-black text-white shadow-xl":"border-white/70 bg-white/90 hover:shadow-lg hover:border-white"}`,children:re||ce?l.jsxs("div",{className:"space-y-4",children:[l.jsx("h3",{className:"text-lg font-semibold mb-4",children:"Task Feedback & Learning"}),l.jsxs("div",{children:[l.jsx("label",{className:"text-xs uppercase tracking-[0.2em] text-white/70 mb-2 block",children:"What happened? (Completion Notes)"}),l.jsx("textarea",{value:te.completionNotes,onChange:pe=>Ne({...te,completionNotes:pe.target.value}),rows:3,placeholder:"Describe what you did, what happened, any challenges...",className:"w-full rounded-2xl border border-white/30 bg-white/10 px-4 py-2 text-white placeholder:text-white/50 focus:outline-none focus:ring-2 focus:ring-white/50 resize-none"})]}),l.jsxs("div",{children:[l.jsx("label",{className:"text-xs uppercase tracking-[0.2em] text-white/70 mb-2 block",children:"Outcome"}),l.jsx("div",{className:"grid grid-cols-4 gap-2",children:["exceeded","met","below","missed"].map(pe=>l.jsx("button",{onClick:()=>Ne({...te,outcome:pe}),className:`px-3 py-2 rounded-2xl text-sm font-medium transition ${te.outcome===pe?"bg-white text-black":"bg-white/10 text-white border border-white/30"}`,children:pe.charAt(0).toUpperCase()+pe.slice(1)},pe))})]}),l.jsxs("div",{children:[l.jsx("label",{className:"text-xs uppercase tracking-[0.2em] text-white/70 mb-2 block",children:"Outcome Details"}),l.jsx("textarea",{value:te.outcomeDetails,onChange:pe=>Ne({...te,outcomeDetails:pe.target.value}),rows:2,placeholder:"Explain the outcome in detail...",className:"w-full rounded-2xl border border-white/30 bg-white/10 px-4 py-2 text-white placeholder:text-white/50 focus:outline-none focus:ring-2 focus:ring-white/50 resize-none"})]}),l.jsxs("div",{children:[l.jsx("label",{className:"text-xs uppercase tracking-[0.2em] text-white/70 mb-3 block",children:"Rate This Task (1-100)"}),l.jsx("div",{className:"space-y-3",children:[{key:"taskQuality",label:"Task Quality",desc:"Was this a good task?"},{key:"effortAccuracy",label:"Effort Accuracy",desc:"Was effort estimate accurate?"},{key:"impactAccuracy",label:"Impact Accuracy",desc:"Was impact estimate accurate?"},{key:"clarity",label:"Clarity",desc:"Was the task clear?"},{key:"helpfulness",label:"Helpfulness",desc:"How helpful was this task?"}].map(({key:pe,label:Me,desc:qe})=>l.jsxs("div",{children:[l.jsxs("div",{className:"flex items-center justify-between mb-1",children:[l.jsxs("div",{children:[l.jsx("span",{className:"text-sm font-medium",children:Me}),l.jsx("span",{className:"text-xs text-white/60 ml-2",children:qe})]}),l.jsx("span",{className:"text-sm font-semibold",children:te[pe]})]}),l.jsx("input",{type:"range",min:"1",max:"100",value:te[pe],onChange:yt=>Ne({...te,[pe]:parseInt(yt.target.value)}),className:"w-full"})]},pe))})]}),l.jsxs("div",{children:[l.jsx("label",{className:"text-xs uppercase tracking-[0.2em] text-white/70 mb-2 block",children:"Additional Feedback Notes"}),l.jsx("textarea",{value:te.feedbackNotes,onChange:pe=>Ne({...te,feedbackNotes:pe.target.value}),rows:2,placeholder:"Any other feedback for Sylvia...",className:"w-full rounded-2xl border border-white/30 bg-white/10 px-4 py-2 text-white placeholder:text-white/50 focus:outline-none focus:ring-2 focus:ring-white/50 resize-none"})]}),l.jsxs("div",{children:[l.jsx("label",{className:"text-xs uppercase tracking-[0.2em] text-white/70 mb-2 block",children:"What Worked? (comma-separated)"}),l.jsx("input",{value:te.whatWorked.join(", "),onChange:pe=>Ne({...te,whatWorked:pe.target.value.split(",").map(Me=>Me.trim()).filter(Boolean)}),placeholder:"e.g., Clear instructions, right timing, leveraged existing resources",className:"w-full rounded-2xl border border-white/30 bg-white/10 px-4 py-2 text-white placeholder:text-white/50 focus:outline-none focus:ring-2 focus:ring-white/50"})]}),l.jsxs("div",{children:[l.jsx("label",{className:"text-xs uppercase tracking-[0.2em] text-white/70 mb-2 block",children:"What Didn't Work? (comma-separated)"}),l.jsx("input",{value:te.whatDidntWork.join(", "),onChange:pe=>Ne({...te,whatDidntWork:pe.target.value.split(",").map(Me=>Me.trim()).filter(Boolean)}),placeholder:"e.g., Too vague, wrong approach, missing context",className:"w-full rounded-2xl border border-white/30 bg-white/10 px-4 py-2 text-white placeholder:text-white/50 focus:outline-none focus:ring-2 focus:ring-white/50"})]}),l.jsxs("div",{children:[l.jsx("label",{className:"text-xs uppercase tracking-[0.2em] text-white/70 mb-2 block",children:"Suggestions for Better Tasks"}),l.jsx("textarea",{value:te.suggestions,onChange:pe=>Ne({...te,suggestions:pe.target.value}),rows:2,placeholder:"How could Sylvia generate better tasks next time?",className:"w-full rounded-2xl border border-white/30 bg-white/10 px-4 py-2 text-white placeholder:text-white/50 focus:outline-none focus:ring-2 focus:ring-white/50 resize-none"})]}),l.jsxs("div",{className:"flex gap-2",children:[l.jsx("button",{onClick:q,className:"flex-1 px-4 py-2 rounded-2xl bg-white text-black font-semibold hover:bg-gray-100 transition",children:"Save Feedback"}),l.jsx("button",{onClick:()=>{M(null),v(null)},className:"px-4 py-2 rounded-2xl bg-white/20 text-white border border-white/30 hover:bg-white/30 transition",children:"Cancel"})]})]}):l.jsxs(l.Fragment,{children:[l.jsx("div",{className:"flex items-start justify-between mb-4",children:l.jsxs("div",{className:"flex-1",children:[l.jsxs("div",{className:"flex items-center gap-2 mb-2 flex-wrap",children:[l.jsxs("span",{className:`px-2 py-0.5 rounded-full text-xs font-semibold border flex items-center gap-1 ${se(N.status)}`,children:[je(N.status),N.status.replace("-"," ")]}),l.jsxs("span",{className:`px-2 py-0.5 rounded-full text-xs font-semibold border ${k(N.estimatedEffort)}`,children:["Effort: ",N.estimatedEffort.replace("-"," ")]}),l.jsxs("span",{className:`px-2 py-0.5 rounded-full text-xs font-semibold border ${X(N.estimatedImpact)}`,children:["Impact: ",N.estimatedImpact.replace("-"," ")]}),N.completedAt&&l.jsxs("span",{className:"px-2 py-0.5 rounded-full bg-green-50 text-green-700 text-xs border border-green-100 flex items-center gap-1",children:[l.jsx(En,{className:"w-3 h-3"}),new Date(N.completedAt).toLocaleDateString()]})]}),l.jsx("h4",{className:"text-xl font-bold mb-2",children:N.title})]})}),l.jsx(bt,{content:N.description,className:"text-sm mb-3"}),N.rationale&&l.jsxs("div",{className:"mb-3 p-3 rounded-2xl bg-blue-50 border border-blue-100",children:[l.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[l.jsx(fs,{className:"w-4 h-4 text-blue-600"}),l.jsx("span",{className:"text-xs font-semibold text-blue-900 uppercase tracking-[0.1em]",children:"Why This Task?"})]}),l.jsx("p",{className:"text-xs text-blue-700",children:N.rationale})]}),N.completionNotes&&l.jsxs("div",{className:"mb-3 p-3 rounded-2xl bg-green-50 border border-green-100",children:[l.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[l.jsx(Ya,{className:"w-4 h-4 text-green-600"}),l.jsx("span",{className:"text-xs font-semibold text-green-900 uppercase tracking-[0.1em]",children:"Completion Notes"})]}),l.jsx("p",{className:"text-xs text-green-700",children:N.completionNotes}),N.outcome&&l.jsxs("div",{className:"mt-2",children:[l.jsx("span",{className:"text-xs font-semibold text-green-900",children:"Outcome: "}),l.jsx("span",{className:"text-xs text-green-700 capitalize",children:N.outcome})]}),N.outcomeDetails&&l.jsx("p",{className:"text-xs text-green-700 mt-1",children:N.outcomeDetails})]}),N.feedback&&l.jsxs("div",{className:"mb-3 p-3 rounded-2xl bg-purple-50 border border-purple-100",children:[l.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[l.jsx(No,{className:"w-4 h-4 text-purple-600"}),l.jsx("span",{className:"text-xs font-semibold text-purple-900 uppercase tracking-[0.1em]",children:"Feedback Scores"})]}),l.jsxs("div",{className:"grid grid-cols-2 gap-2 text-xs",children:[l.jsxs("div",{children:[l.jsx("span",{className:"text-purple-700",children:"Quality: "}),l.jsxs("span",{className:"font-semibold text-purple-900",children:[N.feedback.taskQuality,"/100"]})]}),l.jsxs("div",{children:[l.jsx("span",{className:"text-purple-700",children:"Effort Accuracy: "}),l.jsxs("span",{className:"font-semibold text-purple-900",children:[N.feedback.effortAccuracy,"/100"]})]}),l.jsxs("div",{children:[l.jsx("span",{className:"text-purple-700",children:"Impact Accuracy: "}),l.jsxs("span",{className:"font-semibold text-purple-900",children:[N.feedback.impactAccuracy,"/100"]})]}),l.jsxs("div",{children:[l.jsx("span",{className:"text-purple-700",children:"Clarity: "}),l.jsxs("span",{className:"font-semibold text-purple-900",children:[N.feedback.clarity,"/100"]})]}),l.jsxs("div",{className:"col-span-2",children:[l.jsx("span",{className:"text-purple-700",children:"Helpfulness: "}),l.jsxs("span",{className:"font-semibold text-purple-900",children:[N.feedback.helpfulness,"/100"]})]})]}),N.feedback.notes&&l.jsx("p",{className:"text-xs text-purple-700 mt-2",children:N.feedback.notes})]}),N.learningData&&l.jsxs("div",{className:"mb-3 p-3 rounded-2xl bg-indigo-50 border border-indigo-100",children:[l.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[l.jsx(Md,{className:"w-4 h-4 text-indigo-600"}),l.jsx("span",{className:"text-xs font-semibold text-indigo-900 uppercase tracking-[0.1em]",children:"Learning Data"})]}),N.learningData.whatWorked&&N.learningData.whatWorked.length>0&&l.jsxs("div",{className:"mb-2",children:[l.jsx("span",{className:"text-xs font-semibold text-indigo-900",children:"What Worked: "}),l.jsx("span",{className:"text-xs text-indigo-700",children:N.learningData.whatWorked.join(", ")})]}),N.learningData.whatDidntWork&&N.learningData.whatDidntWork.length>0&&l.jsxs("div",{className:"mb-2",children:[l.jsx("span",{className:"text-xs font-semibold text-indigo-900",children:"What Didn't Work: "}),l.jsx("span",{className:"text-xs text-indigo-700",children:N.learningData.whatDidntWork.join(", ")})]}),N.learningData.suggestions&&l.jsxs("div",{children:[l.jsx("span",{className:"text-xs font-semibold text-indigo-900",children:"Suggestions: "}),l.jsx("span",{className:"text-xs text-indigo-700",children:N.learningData.suggestions})]})]}),l.jsxs("div",{className:"flex items-center gap-2 pt-4 border-t border-white/20",children:[N.status!=="completed"&&l.jsxs(l.Fragment,{children:[N.status==="pending"&&l.jsxs("button",{onClick:()=>I(N,"in-progress"),className:"px-3 py-1.5 rounded-full bg-blue-50 text-blue-700 text-xs font-medium hover:bg-blue-100 transition flex items-center gap-1 border border-blue-100",children:[l.jsx(Ri,{className:"w-3 h-3"}),"Start"]}),N.status==="in-progress"&&l.jsxs("button",{onClick:()=>y(N),className:"px-3 py-1.5 rounded-full bg-green-50 text-green-700 text-xs font-medium hover:bg-green-100 transition flex items-center gap-1 border border-green-100",children:[l.jsx(Ya,{className:"w-3 h-3"}),"Complete & Feedback"]}),l.jsx("button",{onClick:()=>I(N,"skipped"),className:"px-3 py-1.5 rounded-full bg-yellow-50 text-yellow-700 text-xs font-medium hover:bg-yellow-100 transition border border-yellow-100",children:"Skip"}),l.jsx("button",{onClick:()=>I(N,"failed"),className:"px-3 py-1.5 rounded-full bg-red-50 text-red-700 text-xs font-medium hover:bg-red-100 transition border border-red-100",children:"Failed"})]}),N.status==="completed"&&!N.feedback&&l.jsxs("button",{onClick:()=>y(N),className:"px-3 py-1.5 rounded-full bg-purple-50 text-purple-700 text-xs font-medium hover:bg-purple-100 transition flex items-center gap-1 border border-purple-100",children:[l.jsx(So,{className:"w-3 h-3"}),"Add Feedback"]}),N.status==="completed"&&N.feedback&&l.jsxs("button",{onClick:()=>y(N),className:"px-3 py-1.5 rounded-full bg-indigo-50 text-indigo-700 text-xs font-medium hover:bg-indigo-100 transition flex items-center gap-1 border border-indigo-100",children:[l.jsx(Xa,{className:"w-3 h-3"}),"Edit Feedback"]}),l.jsxs("button",{onClick:()=>ne(N.id),className:"px-3 py-1.5 rounded-full bg-white/80 border border-white/70 text-xs font-medium hover:bg-red-50 hover:border-red-200 hover:text-red-700 transition flex items-center gap-1 ml-auto",children:[l.jsx(nn,{className:"w-3 h-3"}),"Delete"]})]})]})},N.id)})})]})]})},L2=()=>{const[r,o]=w.useState(""),[c,u]=w.useState([]);w.useEffect(()=>{(async()=>{const[g,x,b,f,v,_]=await Promise.all([F.getJournalEntries(),F.getAgendaItems(),F.getCalendarEvents(),F.getDeliverables(),F.getBrandRecords(),F.getPeopleRecords()]),M=[...g.map(j=>({id:j.id,type:"Journal entry",title:j.title,content:j.content,createdAt:j.createdAt})),...x.map(j=>({id:j.id,type:"Agenda task",title:j.title,content:j.deliverableId?`Deliverable: ${j.deliverableId}`:"",createdAt:j.createdAt})),...b.map(j=>({id:j.id,type:"Calendar event",title:j.title,content:j.description||"",createdAt:j.startAt})),...f.map(j=>({id:j.id,type:"Deliverable",title:j.title,content:`${j.description}

Guardrails: ${j.guardrails}
Success: ${j.successCriteria}`,createdAt:j.createdAt})),...v.map(j=>({id:j.id,type:"Brand atom",title:j.name,content:j.description,createdAt:j.createdAt})),..._.map(j=>({id:j.id,type:"Person",title:j.name,content:`${j.role||""}
${j.notes||""}`,createdAt:j.createdAt}))];u(M.sort((j,G)=>G.createdAt-j.createdAt))})()},[]);const h=w.useMemo(()=>{if(!r.trim())return c;const m=r.toLowerCase();return c.filter(g=>g.title.toLowerCase().includes(m)||g.content.toLowerCase().includes(m)||g.type.toLowerCase().includes(m))},[r,c]);return l.jsxs(Jt,{title:"Memory Search",subtitle:"Peek into what Sylvia remembers across every surface.",children:[l.jsx("div",{className:"glass-panel border border-white/70 rounded-3xl p-5 mb-6",children:l.jsx("input",{value:r,onChange:m=>o(m.target.value),placeholder:"Search memories...",className:"w-full rounded-2xl border border-white/70 px-4 py-3 bg-white/80"})}),l.jsxs("div",{className:"space-y-3",children:[h.length===0&&l.jsx("p",{className:"text-secondary-light text-sm",children:"No records match that term yet."}),h.map(m=>l.jsxs("div",{className:"rounded-3xl border border-white/70 bg-white/85 p-4 space-y-2",children:[l.jsxs("div",{className:"flex items-center justify-between text-xs text-secondary-light",children:[l.jsx("span",{className:"uppercase tracking-[0.3em]",children:m.type}),l.jsx("span",{children:new Date(m.createdAt).toLocaleString()})]}),l.jsx("h3",{className:"text-lg font-semibold",children:m.title||"Untitled"}),l.jsx(bt,{content:m.content,className:"text-sm"})]},m.id))]})]})},U2=()=>{const{entityDetailView:r,setEntityDetailView:o,setActiveEntity:c,setActiveView:u}=al(),[h,m]=w.useState(null),[g,x]=w.useState(!0),[b,f]=w.useState(!1),[v,_]=w.useState(""),[M,j]=w.useState(""),[G,R]=w.useState(""),[ee,oe]=w.useState(""),[ge,be]=w.useState(""),[ye,le]=w.useState(""),$=w.useCallback(async()=>{if(!r.type||!r.id){x(!1);return}try{let P=null;switch(r.type){case"person":P=(await F.getPeopleRecords()).find(he=>he.id===r.id);break;case"brand":P=(await F.getBrandRecords()).find(he=>he.id===r.id);break;case"concept":P=(await F.getConceptRecords()).find(he=>he.id===r.id);break;case"journal":P=(await F.getJournalEntries()).find(he=>he.id===r.id);break;case"calendar":P=(await F.getCalendarEvents()).find(he=>he.id===r.id);break;case"goal":P=(await F.getGoals()).find(he=>he.id===r.id);break;case"task":P=(await F.getVendorTasks()).find(he=>he.id===r.id);break}P&&(m(P),c({type:r.type,id:r.id,data:P}),r.type==="brand"?(_(P.name),j(P.description||""),R(P.content||""),oe(P.notes||"")):r.type==="concept"&&(_(P.name),j(P.description||""),be(P.category||""),le((P.tags||[]).join(", ")),oe(P.notes||"")))}catch(P){console.error("Failed to load entity:",P)}finally{x(!1)}},[r,c]),U=async()=>{if(h)try{r.type==="brand"?await F.saveBrandRecord({...h,name:v,description:M,content:G,notes:ee,updatedAt:Date.now()}):r.type==="concept"&&await F.saveConceptRecord({...h,name:v,description:M,category:ge,tags:ye.split(",").map(P=>P.trim()).filter(Boolean),notes:ee,updatedAt:Date.now()}),f(!1),await $()}catch(P){console.error("Failed to save:",P)}},ue=()=>{f(!1),h&&(r.type==="brand"?(_(h.name),j(h.description||""),R(h.content||""),oe(h.notes||"")):r.type==="concept"&&(_(h.name),j(h.description||""),be(h.category||""),le((h.tags||[]).join(", ")),oe(h.notes||"")))};w.useEffect(()=>{$()},[$]);const ve=()=>{switch(r.type){case"person":u(tt.PEOPLE);break;case"brand":u(tt.BRAND);break;case"concept":u(tt.CONCEPTS);break;case"journal":u(tt.JOURNAL);break;case"calendar":u(tt.CALENDAR);break;case"goal":case"task":u(tt.POLARIS);break}o({type:null,id:""}),c({type:null,id:""})};if(g)return l.jsx(Jt,{title:"Loading...",children:l.jsx("div",{className:"flex items-center justify-center h-64",children:l.jsx("p",{className:"text-secondary-light",children:"Loading..."})})});if(!h)return l.jsx(Jt,{title:"Not Found",children:l.jsxs("div",{className:"flex items-center justify-center h-64",children:[l.jsx("p",{className:"text-secondary-light",children:"Entity not found"}),l.jsx("button",{onClick:ve,className:"ml-4 px-4 py-2 rounded-full bg-black text-white",children:"Go Back"})]})});if(r.type==="person"){const P=h;return l.jsx(Jt,{title:P.name,subtitle:"Person Profile",children:l.jsxs("div",{className:"space-y-6",children:[l.jsxs("div",{className:"flex items-center justify-between",children:[l.jsxs("button",{onClick:ve,className:"flex items-center gap-2 px-4 py-2 rounded-full bg-white/80 border border-white/70 hover:bg-white transition",children:[l.jsx(Zu,{className:"w-4 h-4"}),"Back to People"]}),l.jsx("div",{className:"flex gap-2",children:l.jsxs("button",{onClick:()=>f(!b),className:"px-4 py-2 rounded-full bg-white/80 border border-white/70 hover:bg-white transition flex items-center gap-2",children:[l.jsx(Xa,{className:"w-4 h-4"}),"Edit"]})})]}),l.jsxs("div",{className:"glass-panel rounded-3xl border border-white/70 p-8 space-y-6",children:[l.jsxs("div",{className:"grid grid-cols-2 gap-6",children:[P.role&&l.jsxs("div",{children:[l.jsx("h3",{className:"text-xs uppercase tracking-[0.3em] text-secondary-light mb-2",children:"Role"}),l.jsx("p",{className:"text-lg",children:P.role})]}),P.company&&l.jsxs("div",{children:[l.jsx("h3",{className:"text-xs uppercase tracking-[0.3em] text-secondary-light mb-2",children:"Company"}),l.jsx("p",{className:"text-lg",children:P.company})]}),P.location&&l.jsxs("div",{children:[l.jsx("h3",{className:"text-xs uppercase tracking-[0.3em] text-secondary-light mb-2",children:"Location"}),l.jsx("p",{className:"text-lg",children:P.location})]}),P.email&&l.jsxs("div",{children:[l.jsx("h3",{className:"text-xs uppercase tracking-[0.3em] text-secondary-light mb-2",children:"Email"}),l.jsx("p",{className:"text-lg",children:P.email})]}),P.phone&&l.jsxs("div",{children:[l.jsx("h3",{className:"text-xs uppercase tracking-[0.3em] text-secondary-light mb-2",children:"Phone"}),l.jsx("p",{className:"text-lg",children:P.phone})]})]}),P.attributes&&P.attributes.length>0&&l.jsxs("div",{children:[l.jsx("h3",{className:"text-xs uppercase tracking-[0.3em] text-secondary-light mb-2",children:"Attributes"}),l.jsx("div",{className:"flex flex-wrap gap-2",children:P.attributes.map(te=>l.jsx("span",{className:"px-3 py-1 rounded-full bg-purple-100 text-purple-700 text-sm",children:te},te))})]}),P.tags&&P.tags.length>0&&l.jsxs("div",{children:[l.jsx("h3",{className:"text-xs uppercase tracking-[0.3em] text-secondary-light mb-2",children:"Tags"}),l.jsx("div",{className:"flex flex-wrap gap-2",children:P.tags.map(te=>l.jsx("span",{className:"px-3 py-1 rounded-full bg-blue-100 text-blue-700 text-sm",children:te},te))})]}),P.profile&&l.jsxs("div",{children:[l.jsx("h3",{className:"text-xs uppercase tracking-[0.3em] text-secondary-light mb-2",children:"Profile"}),l.jsx("div",{className:"prose max-w-none",children:l.jsx(bt,{content:P.profile})})]}),P.notes&&l.jsxs("div",{children:[l.jsx("h3",{className:"text-xs uppercase tracking-[0.3em] text-secondary-light mb-2",children:"Notes"}),l.jsx("div",{className:"prose max-w-none",children:l.jsx(bt,{content:P.notes})})]}),P.connections&&P.connections.length>0&&l.jsxs("div",{children:[l.jsx("h3",{className:"text-xs uppercase tracking-[0.3em] text-secondary-light mb-2",children:"Connections"}),l.jsx("div",{className:"space-y-2",children:P.connections.map((te,Ne)=>l.jsxs("div",{className:"p-3 rounded-xl bg-gray-50 border border-gray-100",children:[l.jsx("p",{className:"font-medium",children:te.relationship}),te.notes&&l.jsx("div",{className:"text-sm text-gray-600 mt-1",children:l.jsx(bt,{content:te.notes})})]},Ne))})]})]})]})})}if(r.type==="brand"){const P=h;return l.jsx(Jt,{title:P.name,subtitle:"Brand Element",children:l.jsxs("div",{className:"space-y-6",children:[l.jsxs("div",{className:"flex items-center justify-between",children:[l.jsxs("button",{onClick:ve,className:"flex items-center gap-2 px-4 py-2 rounded-full bg-white/80 border border-white/70 hover:bg-white transition",children:[l.jsx(Zu,{className:"w-4 h-4"}),"Back to Brand"]}),l.jsx("div",{className:"flex gap-2",children:l.jsxs("button",{onClick:()=>f(!b),className:"px-4 py-2 rounded-full bg-white/80 border border-white/70 hover:bg-white transition flex items-center gap-2",children:[l.jsx(Xa,{className:"w-4 h-4"}),b?"Cancel":"Edit"]})})]}),l.jsxs("div",{className:"glass-panel rounded-3xl border border-white/70 p-8 space-y-6",children:[P.description&&l.jsxs("div",{children:[l.jsx("h3",{className:"text-xs uppercase tracking-[0.3em] text-secondary-light mb-2",children:"Description / Guidance"}),l.jsx("div",{className:"prose max-w-none",children:l.jsx(bt,{content:P.description})})]}),P.content&&l.jsxs("div",{children:[l.jsx("h3",{className:"text-xs uppercase tracking-[0.3em] text-secondary-light mb-2",children:"Content"}),l.jsx("div",{className:"prose max-w-none",children:l.jsx(bt,{content:P.content})})]}),P.notes&&l.jsxs("div",{children:[l.jsx("h3",{className:"text-xs uppercase tracking-[0.3em] text-secondary-light mb-2",children:"Notes"}),l.jsx("div",{className:"prose max-w-none",children:l.jsx(bt,{content:P.notes})})]}),!P.description&&!P.content&&!P.notes&&l.jsx("p",{className:"text-sm text-secondary-light",children:"No content available. Click Edit to add information."})]}),b&&l.jsxs("div",{className:"glass-panel rounded-3xl border border-white/70 p-8 space-y-6 bg-white/95 backdrop-blur-sm shadow-xl",children:[l.jsxs("div",{children:[l.jsx("label",{className:"text-xs uppercase tracking-[0.2em] text-secondary-light mb-2 block",children:"Element Name"}),l.jsx("input",{value:v,onChange:te=>_(te.target.value),className:"w-full rounded-2xl border border-white/70 bg-white/80 px-4 py-2 text-primary-light placeholder:text-secondary-light focus:outline-none focus:ring-2 focus:ring-black/20 focus:border-black/30",placeholder:"Brand element name"})]}),l.jsxs("div",{children:[l.jsx("label",{className:"text-xs uppercase tracking-[0.2em] text-secondary-light mb-2 block",children:"Description / Guidance"}),l.jsx("textarea",{value:M,onChange:te=>j(te.target.value),rows:6,className:"w-full rounded-2xl border border-white/70 bg-white/80 px-4 py-2 text-primary-light placeholder:text-secondary-light focus:outline-none focus:ring-2 focus:ring-black/20 focus:border-black/30 resize-none",placeholder:"How should Sylvia reference this? What makes it unique?"})]}),l.jsxs("div",{children:[l.jsx("label",{className:"text-xs uppercase tracking-[0.2em] text-secondary-light mb-2 block",children:"Content"}),l.jsx("textarea",{value:G,onChange:te=>R(te.target.value),rows:8,className:"w-full rounded-2xl border border-white/70 bg-white/80 px-4 py-2 text-primary-light placeholder:text-secondary-light focus:outline-none focus:ring-2 focus:ring-black/20 focus:border-black/30 resize-none",placeholder:"Full content or notes"})]}),l.jsxs("div",{children:[l.jsx("label",{className:"text-xs uppercase tracking-[0.2em] text-secondary-light mb-2 block",children:"Notes"}),l.jsx("textarea",{value:ee,onChange:te=>oe(te.target.value),rows:4,className:"w-full rounded-2xl border border-white/70 bg-white/80 px-4 py-2 text-primary-light placeholder:text-secondary-light focus:outline-none focus:ring-2 focus:ring-black/20 focus:border-black/30 resize-none",placeholder:"Additional notes"})]}),l.jsxs("div",{className:"flex gap-2",children:[l.jsx("button",{onClick:U,className:"flex-1 px-4 py-2 rounded-2xl bg-black text-white font-semibold hover:bg-gray-800 transition",children:"Save"}),l.jsx("button",{onClick:ue,className:"px-4 py-2 rounded-2xl bg-white/80 border border-white/70 text-primary-light hover:bg-white transition",children:"Cancel"})]})]})]})})}if(r.type==="concept"){const P=h;return l.jsx(Jt,{title:P.name,subtitle:"Concept",children:l.jsxs("div",{className:"space-y-6",children:[l.jsxs("div",{className:"flex items-center justify-between",children:[l.jsxs("button",{onClick:ve,className:"flex items-center gap-2 px-4 py-2 rounded-full bg-white/80 border border-white/70 hover:bg-white transition",children:[l.jsx(Zu,{className:"w-4 h-4"}),"Back to Concepts"]}),l.jsx("div",{className:"flex gap-2",children:l.jsxs("button",{onClick:()=>f(!b),className:"px-4 py-2 rounded-full bg-white/80 border border-white/70 hover:bg-white transition flex items-center gap-2",children:[l.jsx(Xa,{className:"w-4 h-4"}),b?"Cancel":"Edit"]})})]}),l.jsxs("div",{className:"glass-panel rounded-3xl border border-white/70 p-8 space-y-6",children:[P.category&&l.jsxs("div",{children:[l.jsx("h3",{className:"text-xs uppercase tracking-[0.3em] text-secondary-light mb-2",children:"Category"}),l.jsx("p",{className:"text-lg",children:P.category})]}),P.description&&l.jsxs("div",{children:[l.jsx("h3",{className:"text-xs uppercase tracking-[0.3em] text-secondary-light mb-2",children:"Description"}),l.jsx("div",{className:"prose max-w-none concept-description",children:l.jsx(bt,{content:P.description})})]}),P.notes&&l.jsxs("div",{children:[l.jsx("h3",{className:"text-xs uppercase tracking-[0.3em] text-secondary-light mb-2",children:"Notes"}),l.jsx("div",{className:"prose max-w-none",children:l.jsx(bt,{content:P.notes})})]}),P.tags&&P.tags.length>0&&l.jsxs("div",{children:[l.jsx("h3",{className:"text-xs uppercase tracking-[0.3em] text-secondary-light mb-2",children:"Tags"}),l.jsx("div",{className:"flex flex-wrap gap-2",children:P.tags.map(te=>l.jsx("span",{className:"px-3 py-1 rounded-full bg-blue-100 text-blue-700 text-sm",children:te},te))})]}),!P.category&&!P.description&&!P.notes&&(!P.tags||P.tags.length===0)&&l.jsx("p",{className:"text-sm text-secondary-light",children:"No content available. Click Edit to add information."})]}),b&&l.jsxs("div",{className:"glass-panel rounded-3xl border border-white/70 p-8 space-y-6 bg-white/95 backdrop-blur-sm shadow-xl",children:[l.jsxs("div",{children:[l.jsx("label",{className:"text-xs uppercase tracking-[0.2em] text-secondary-light mb-2 block",children:"Name"}),l.jsx("input",{value:v,onChange:te=>_(te.target.value),className:"w-full rounded-2xl border border-white/70 bg-white/80 px-4 py-2 text-primary-light placeholder:text-secondary-light focus:outline-none focus:ring-2 focus:ring-black/20 focus:border-black/30",placeholder:"Concept name"})]}),l.jsxs("div",{children:[l.jsx("label",{className:"text-xs uppercase tracking-[0.2em] text-secondary-light mb-2 block",children:"Description"}),l.jsx("textarea",{value:M,onChange:te=>j(te.target.value),rows:8,className:"w-full rounded-2xl border border-white/70 bg-white/80 px-4 py-2 text-primary-light placeholder:text-secondary-light focus:outline-none focus:ring-2 focus:ring-black/20 focus:border-black/30 resize-none",placeholder:"Full description"})]}),l.jsxs("div",{children:[l.jsx("label",{className:"text-xs uppercase tracking-[0.2em] text-secondary-light mb-2 block",children:"Category"}),l.jsx("input",{value:ge,onChange:te=>be(te.target.value),className:"w-full rounded-2xl border border-white/70 bg-white/80 px-4 py-2 text-primary-light placeholder:text-secondary-light focus:outline-none focus:ring-2 focus:ring-black/20 focus:border-black/30",placeholder:"Category (e.g., AI Application, Technology)"})]}),l.jsxs("div",{children:[l.jsx("label",{className:"text-xs uppercase tracking-[0.2em] text-secondary-light mb-2 block",children:"Tags (comma-separated)"}),l.jsx("input",{value:ye,onChange:te=>le(te.target.value),className:"w-full rounded-2xl border border-white/70 bg-white/80 px-4 py-2 text-primary-light placeholder:text-secondary-light focus:outline-none focus:ring-2 focus:ring-black/20 focus:border-black/30",placeholder:"tag1, tag2, tag3"})]}),l.jsxs("div",{children:[l.jsx("label",{className:"text-xs uppercase tracking-[0.2em] text-secondary-light mb-2 block",children:"Notes"}),l.jsx("textarea",{value:ee,onChange:te=>oe(te.target.value),rows:4,className:"w-full rounded-2xl border border-white/70 bg-white/80 px-4 py-2 text-primary-light placeholder:text-secondary-light focus:outline-none focus:ring-2 focus:ring-black/20 focus:border-black/30 resize-none",placeholder:"Additional notes"})]}),l.jsxs("div",{className:"flex gap-2",children:[l.jsx("button",{onClick:U,className:"flex-1 px-4 py-2 rounded-2xl bg-black text-white font-semibold hover:bg-gray-800 transition",children:"Save"}),l.jsx("button",{onClick:ue,className:"px-4 py-2 rounded-2xl bg-white/80 border border-white/70 text-primary-light hover:bg-white transition",children:"Cancel"})]})]})]})})}return null},ox=()=>{const[r,o]=w.useState(null),[c,u]=w.useState(!1);return w.useEffect(()=>{const h=m=>{o(m.detail),u(!0),setTimeout(()=>{u(!1),setTimeout(()=>o(null),300)},5e3)};return window.addEventListener("levelUp",h),()=>{window.removeEventListener("levelUp",h)}},[]),r?l.jsx("div",{className:`fixed top-8 right-8 z-50 transition-all duration-500 ease-out ${c?"opacity-100 translate-y-0":"opacity-0 translate-y-[-20px] pointer-events-none"}`,children:l.jsx("div",{className:"glass-panel rounded-3xl border-2 border-yellow-400/70 bg-gradient-to-br from-yellow-50 to-orange-50 p-6 shadow-2xl max-w-md animate-bounce-subtle",children:l.jsxs("div",{className:"flex items-start gap-4",children:[l.jsx("div",{className:"animate-pulse",children:l.jsx(tl,{className:"w-12 h-12 text-yellow-500"})}),l.jsxs("div",{className:"flex-1",children:[l.jsx("div",{className:"flex items-center gap-2 mb-2",children:l.jsx("span",{className:"text-xs uppercase tracking-[0.3em] text-orange-600 font-bold",children:"LEVEL UP!"})}),l.jsxs("h3",{className:"text-2xl font-bold text-black mb-1",children:["Level ",r.level,": ",r.levelName]}),l.jsx("p",{className:"text-sm text-gray-700",children:r.levelDescription}),l.jsx("div",{className:"mt-4 flex items-center gap-2",children:l.jsx("div",{className:"flex-1 h-2 bg-white/60 rounded-full overflow-hidden",children:l.jsx("div",{className:"h-full bg-gradient-to-r from-yellow-400 to-orange-500 rounded-full animate-pulse",style:{width:"100%"}})})})]}),l.jsx("button",{onClick:()=>{u(!1),setTimeout(()=>o(null),300)},className:"text-gray-400 hover:text-gray-600 transition",children:""})]})})}):null},B2=()=>{const{activeView:r,entityDetailView:o}=al(),[c,u]=w.useState(!1),[h,m]=w.useState(!1),[g,x]=w.useState(!1);if(w.useEffect(()=>{const f=()=>{u(window.innerWidth<1024)};return f(),window.addEventListener("resize",f),()=>window.removeEventListener("resize",f)},[]),o.type&&o.id)return l.jsxs("div",{className:"h-screen w-full overflow-hidden bg-transparent text-primary-light font-sans",children:[l.jsx(ox,{}),c&&l.jsxs("div",{className:"fixed top-0 left-0 right-0 z-40 flex items-center justify-between px-4 py-3 bg-card-light dark:bg-card-dark border-b border-border-light dark:border-border-dark",children:[l.jsx("button",{onClick:()=>m(!h),className:"p-2 rounded-lg hover:bg-border-light dark:hover:bg-border-dark transition-colors","aria-label":"Toggle menu",children:h?l.jsx(Ft,{size:24}):l.jsx(tx,{size:24})}),l.jsx("span",{className:"text-sm font-medium",children:"Polaris"}),l.jsx("button",{onClick:()=>x(!g),className:"p-2 rounded-lg hover:bg-border-light dark:hover:bg-border-dark transition-colors","aria-label":"Toggle chat",children:l.jsx(So,{size:24})})]}),l.jsxs("div",{className:`flex h-full w-full ${c?"pt-14":"gap-4 pr-4 py-4 pl-0"} overflow-x-hidden min-w-0`,children:[l.jsxs("div",{className:`
            ${c?"fixed inset-0 z-50 transform transition-transform duration-300":""}
            ${c&&!h?"-translate-x-full":"translate-x-0"}
          `,children:[c&&h&&l.jsx("div",{className:"absolute inset-0 bg-black bg-opacity-50",onClick:()=>m(!1)}),l.jsx("div",{className:c?"relative z-10 h-full":"",children:l.jsx(Hp,{onNavigate:c?()=>m(!1):void 0})})]}),l.jsx("main",{className:`flex-1 flex flex-col ${c?"":"gap-4"} overflow-hidden min-h-0 min-w-0`,children:l.jsx("div",{className:"flex-1 min-h-0 overflow-hidden flex flex-col",children:l.jsx(U2,{})})}),c?l.jsx("div",{className:`
              fixed inset-0 z-50 transform transition-transform duration-300 bg-background-light dark:bg-background-dark
              ${g?"translate-x-0":"translate-x-full"}
            `,children:l.jsxs("div",{className:"h-full flex flex-col",children:[l.jsxs("div",{className:"flex items-center justify-between px-4 py-3 border-b border-border-light dark:border-border-dark",children:[l.jsx("span",{className:"text-sm font-medium",children:"Chat"}),l.jsx("button",{onClick:()=>x(!1),className:"p-2 rounded-lg hover:bg-border-light dark:hover:bg-border-dark transition-colors",children:l.jsx(Ft,{size:24})})]}),l.jsx("div",{className:"flex-1 overflow-hidden",children:l.jsx(oo,{isMobile:c})})]})}):l.jsx(oo,{isMobile:c})]})]});const b=()=>{switch(r){case tt.BRAND:return l.jsx(h2,{});case tt.PEOPLE:return l.jsx(b2,{});case tt.CONCEPTS:return l.jsx(y2,{});case tt.JOURNAL:return l.jsx(T2,{});case tt.AGENDA:return l.jsx(E2,{});case tt.CALENDAR:return l.jsx(D2,{});case tt.POMODORO:return l.jsx(R2,{});case tt.GAMIFICATION:return l.jsx(O2,{});case tt.POLARIS:return l.jsx(z2,{});case tt.SEARCH:return l.jsx(L2,{});case tt.SETTINGS:return l.jsx(d2,{})}};return l.jsxs("div",{className:"h-screen w-full overflow-hidden bg-transparent text-primary-light font-sans",children:[l.jsx(ox,{}),c&&l.jsxs("div",{className:"fixed top-0 left-0 right-0 z-40 flex items-center justify-between px-4 py-3 bg-card-light dark:bg-card-dark border-b border-border-light dark:border-border-dark",children:[l.jsx("button",{onClick:()=>m(!h),className:"p-2 rounded-lg hover:bg-border-light dark:hover:bg-border-dark transition-colors","aria-label":"Toggle menu",children:h?l.jsx(Ft,{size:24}):l.jsx(tx,{size:24})}),l.jsx("span",{className:"text-sm font-medium",children:"Polaris"}),l.jsx("button",{onClick:()=>x(!g),className:"p-2 rounded-lg hover:bg-border-light dark:hover:bg-border-dark transition-colors","aria-label":"Toggle chat",children:l.jsx(So,{size:24})})]}),l.jsxs("div",{className:`flex h-full w-full ${c?"pt-14":"gap-4 pr-4 py-4 pl-0"} overflow-x-hidden min-w-0`,children:[l.jsxs("div",{className:`
          ${c?"fixed inset-0 z-50 transform transition-transform duration-300":""}
          ${c&&!h?"-translate-x-full":"translate-x-0"}
        `,children:[c&&h&&l.jsx("div",{className:"absolute inset-0 bg-black bg-opacity-50",onClick:()=>m(!1)}),l.jsx("div",{className:c?"relative z-10 h-full":"",children:l.jsx(Hp,{onNavigate:c?()=>m(!1):void 0})})]}),l.jsx("main",{className:`flex-1 flex flex-col ${c?"":"gap-4"} overflow-hidden min-h-0 min-w-0`,children:l.jsx("div",{className:"flex-1 min-h-0 overflow-hidden flex flex-col",children:b()})}),c?l.jsx("div",{className:`
            fixed inset-0 z-50 transform transition-transform duration-300 bg-background-light dark:bg-background-dark
            ${g?"translate-x-0":"translate-x-full"}
          `,children:l.jsxs("div",{className:"h-full flex flex-col",children:[l.jsxs("div",{className:"flex items-center justify-between px-4 py-3 border-b border-border-light dark:border-border-dark",children:[l.jsx("span",{className:"text-sm font-medium",children:"Chat"}),l.jsx("button",{onClick:()=>x(!1),className:"p-2 rounded-lg hover:bg-border-light dark:hover:bg-border-dark transition-colors",children:l.jsx(Ft,{size:24})})]}),l.jsx("div",{className:"flex-1 overflow-hidden",children:l.jsx(oo,{isMobile:c})})]})}):l.jsx(oo,{isMobile:c})]})]})},$2=()=>l.jsx(Yb,{children:l.jsx(B2,{})}),Kx=document.getElementById("root");if(!Kx)throw new Error("Could not find root element to mount to");const H2=xb.createRoot(Kx);H2.render(l.jsx(xo.StrictMode,{children:l.jsx($2,{})}));export{uo as g,q2 as r,Ui as s};
