var rb=Object.defineProperty;var ob=(i,o,d)=>o in i?rb(i,o,{enumerable:!0,configurable:!0,writable:!0,value:d}):i[o]=d;var ft=(i,o,d)=>ob(i,typeof o!="symbol"?o+"":o,d);(function(){const o=document.createElement("link").relList;if(o&&o.supports&&o.supports("modulepreload"))return;for(const h of document.querySelectorAll('link[rel="modulepreload"]'))c(h);new MutationObserver(h=>{for(const m of h)if(m.type==="childList")for(const g of m.addedNodes)g.tagName==="LINK"&&g.rel==="modulepreload"&&c(g)}).observe(document,{childList:!0,subtree:!0});function d(h){const m={};return h.integrity&&(m.integrity=h.integrity),h.referrerPolicy&&(m.referrerPolicy=h.referrerPolicy),h.crossOrigin==="use-credentials"?m.credentials="include":h.crossOrigin==="anonymous"?m.credentials="omit":m.credentials="same-origin",m}function c(h){if(h.ep)return;h.ep=!0;const m=d(h);fetch(h.href,m)}})();function cx(i){return i&&i.__esModule&&Object.prototype.hasOwnProperty.call(i,"default")?i.default:i}var Bd={exports:{}},xi={};/**
 * @license React
 * react-jsx-runtime.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Sp;function cb(){if(Sp)return xi;Sp=1;var i=Symbol.for("react.transitional.element"),o=Symbol.for("react.fragment");function d(c,h,m){var g=null;if(m!==void 0&&(g=""+m),h.key!==void 0&&(g=""+h.key),"key"in h){m={};for(var x in h)x!=="key"&&(m[x]=h[x])}else m=h;return h=m.ref,{$$typeof:i,type:c,key:g,ref:h!==void 0?h:null,props:m}}return xi.Fragment=o,xi.jsx=d,xi.jsxs=d,xi}var kp;function db(){return kp||(kp=1,Bd.exports=cb()),Bd.exports}var l=db(),$d={exports:{}},He={};/**
 * @license React
 * react.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Ap;function ub(){if(Ap)return He;Ap=1;var i=Symbol.for("react.transitional.element"),o=Symbol.for("react.portal"),d=Symbol.for("react.fragment"),c=Symbol.for("react.strict_mode"),h=Symbol.for("react.profiler"),m=Symbol.for("react.consumer"),g=Symbol.for("react.context"),x=Symbol.for("react.forward_ref"),b=Symbol.for("react.suspense"),f=Symbol.for("react.memo"),v=Symbol.for("react.lazy"),E=Symbol.for("react.activity"),k=Symbol.iterator;function T(w){return w===null||typeof w!="object"?null:(w=k&&w[k]||w["@@iterator"],typeof w=="function"?w:null)}var $={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},z=Object.assign,ae={};function de(w,Y,V){this.props=w,this.context=Y,this.refs=ae,this.updater=V||$}de.prototype.isReactComponent={},de.prototype.setState=function(w,Y){if(typeof w!="object"&&typeof w!="function"&&w!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,w,Y,"setState")},de.prototype.forceUpdate=function(w){this.updater.enqueueForceUpdate(this,w,"forceUpdate")};function ye(){}ye.prototype=de.prototype;function ge(w,Y,V){this.props=w,this.context=Y,this.refs=ae,this.updater=V||$}var q=ge.prototype=new ye;q.constructor=ge,z(q,de.prototype),q.isPureReactComponent=!0;var X=Array.isArray;function L(){}var D={H:null,A:null,T:null,S:null},oe=Object.prototype.hasOwnProperty;function be(w,Y,V){var se=V.ref;return{$$typeof:i,type:w,key:Y,ref:se!==void 0?se:null,props:V}}function J(w,Y){return be(w.type,Y,w.props)}function le(w){return typeof w=="object"&&w!==null&&w.$$typeof===i}function Ne(w){var Y={"=":"=0",":":"=2"};return"$"+w.replace(/[=:]/g,function(V){return Y[V]})}var ve=/\/+/g;function te(w,Y){return typeof w=="object"&&w!==null&&w.key!=null?Ne(""+w.key):Y.toString(36)}function A(w){switch(w.status){case"fulfilled":return w.value;case"rejected":throw w.reason;default:switch(typeof w.status=="string"?w.then(L,L):(w.status="pending",w.then(function(Y){w.status==="pending"&&(w.status="fulfilled",w.value=Y)},function(Y){w.status==="pending"&&(w.status="rejected",w.reason=Y)})),w.status){case"fulfilled":return w.value;case"rejected":throw w.reason}}throw w}function R(w,Y,V,se,P){var S=typeof w;(S==="undefined"||S==="boolean")&&(w=null);var K=!1;if(w===null)K=!0;else switch(S){case"bigint":case"string":case"number":K=!0;break;case"object":switch(w.$$typeof){case i:case o:K=!0;break;case v:return K=w._init,R(K(w._payload),Y,V,se,P)}}if(K)return P=P(w),K=se===""?"."+te(w,0):se,X(P)?(V="",K!=null&&(V=K.replace(ve,"$&/")+"/"),R(P,Y,V,"",function(N){return N})):P!=null&&(le(P)&&(P=J(P,V+(P.key==null||w&&w.key===P.key?"":(""+P.key).replace(ve,"$&/")+"/")+K)),Y.push(P)),1;K=0;var ie=se===""?".":se+":";if(X(w))for(var je=0;je<w.length;je++)se=w[je],S=ie+te(se,je),K+=R(se,Y,V,S,P);else if(je=T(w),typeof je=="function")for(w=je.call(w),je=0;!(se=w.next()).done;)se=se.value,S=ie+te(se,je++),K+=R(se,Y,V,S,P);else if(S==="object"){if(typeof w.then=="function")return R(A(w),Y,V,se,P);throw Y=String(w),Error("Objects are not valid as a React child (found: "+(Y==="[object Object]"?"object with keys {"+Object.keys(w).join(", ")+"}":Y)+"). If you meant to render a collection of children, use an array instead.")}return K}function W(w,Y,V){if(w==null)return w;var se=[],P=0;return R(w,se,"","",function(S){return Y.call(V,S,P++)}),se}function me(w){if(w._status===-1){var Y=w._result;Y=Y(),Y.then(function(V){(w._status===0||w._status===-1)&&(w._status=1,w._result=V)},function(V){(w._status===0||w._status===-1)&&(w._status=2,w._result=V)}),w._status===-1&&(w._status=0,w._result=Y)}if(w._status===1)return w._result.default;throw w._result}var Oe=typeof reportError=="function"?reportError:function(w){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var Y=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof w=="object"&&w!==null&&typeof w.message=="string"?String(w.message):String(w),error:w});if(!window.dispatchEvent(Y))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",w);return}console.error(w)},ze={map:W,forEach:function(w,Y,V){W(w,function(){Y.apply(this,arguments)},V)},count:function(w){var Y=0;return W(w,function(){Y++}),Y},toArray:function(w){return W(w,function(Y){return Y})||[]},only:function(w){if(!le(w))throw Error("React.Children.only expected to receive a single React element child.");return w}};return He.Activity=E,He.Children=ze,He.Component=de,He.Fragment=d,He.Profiler=h,He.PureComponent=ge,He.StrictMode=c,He.Suspense=b,He.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=D,He.__COMPILER_RUNTIME={__proto__:null,c:function(w){return D.H.useMemoCache(w)}},He.cache=function(w){return function(){return w.apply(null,arguments)}},He.cacheSignal=function(){return null},He.cloneElement=function(w,Y,V){if(w==null)throw Error("The argument must be a React element, but you passed "+w+".");var se=z({},w.props),P=w.key;if(Y!=null)for(S in Y.key!==void 0&&(P=""+Y.key),Y)!oe.call(Y,S)||S==="key"||S==="__self"||S==="__source"||S==="ref"&&Y.ref===void 0||(se[S]=Y[S]);var S=arguments.length-2;if(S===1)se.children=V;else if(1<S){for(var K=Array(S),ie=0;ie<S;ie++)K[ie]=arguments[ie+2];se.children=K}return be(w.type,P,se)},He.createContext=function(w){return w={$$typeof:g,_currentValue:w,_currentValue2:w,_threadCount:0,Provider:null,Consumer:null},w.Provider=w,w.Consumer={$$typeof:m,_context:w},w},He.createElement=function(w,Y,V){var se,P={},S=null;if(Y!=null)for(se in Y.key!==void 0&&(S=""+Y.key),Y)oe.call(Y,se)&&se!=="key"&&se!=="__self"&&se!=="__source"&&(P[se]=Y[se]);var K=arguments.length-2;if(K===1)P.children=V;else if(1<K){for(var ie=Array(K),je=0;je<K;je++)ie[je]=arguments[je+2];P.children=ie}if(w&&w.defaultProps)for(se in K=w.defaultProps,K)P[se]===void 0&&(P[se]=K[se]);return be(w,S,P)},He.createRef=function(){return{current:null}},He.forwardRef=function(w){return{$$typeof:x,render:w}},He.isValidElement=le,He.lazy=function(w){return{$$typeof:v,_payload:{_status:-1,_result:w},_init:me}},He.memo=function(w,Y){return{$$typeof:f,type:w,compare:Y===void 0?null:Y}},He.startTransition=function(w){var Y=D.T,V={};D.T=V;try{var se=w(),P=D.S;P!==null&&P(V,se),typeof se=="object"&&se!==null&&typeof se.then=="function"&&se.then(L,Oe)}catch(S){Oe(S)}finally{Y!==null&&V.types!==null&&(Y.types=V.types),D.T=Y}},He.unstable_useCacheRefresh=function(){return D.H.useCacheRefresh()},He.use=function(w){return D.H.use(w)},He.useActionState=function(w,Y,V){return D.H.useActionState(w,Y,V)},He.useCallback=function(w,Y){return D.H.useCallback(w,Y)},He.useContext=function(w){return D.H.useContext(w)},He.useDebugValue=function(){},He.useDeferredValue=function(w,Y){return D.H.useDeferredValue(w,Y)},He.useEffect=function(w,Y){return D.H.useEffect(w,Y)},He.useEffectEvent=function(w){return D.H.useEffectEvent(w)},He.useId=function(){return D.H.useId()},He.useImperativeHandle=function(w,Y,V){return D.H.useImperativeHandle(w,Y,V)},He.useInsertionEffect=function(w,Y){return D.H.useInsertionEffect(w,Y)},He.useLayoutEffect=function(w,Y){return D.H.useLayoutEffect(w,Y)},He.useMemo=function(w,Y){return D.H.useMemo(w,Y)},He.useOptimistic=function(w,Y){return D.H.useOptimistic(w,Y)},He.useReducer=function(w,Y,V){return D.H.useReducer(w,Y,V)},He.useRef=function(w){return D.H.useRef(w)},He.useState=function(w){return D.H.useState(w)},He.useSyncExternalStore=function(w,Y,V){return D.H.useSyncExternalStore(w,Y,V)},He.useTransition=function(){return D.H.useTransition()},He.version="19.2.0",He}var Ep;function xu(){return Ep||(Ep=1,$d.exports=ub()),$d.exports}var y=xu();const go=cx(y);var Hd={exports:{}},gi={},Gd={exports:{}},qd={};/**
 * @license React
 * scheduler.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Tp;function hb(){return Tp||(Tp=1,(function(i){function o(R,W){var me=R.length;R.push(W);e:for(;0<me;){var Oe=me-1>>>1,ze=R[Oe];if(0<h(ze,W))R[Oe]=W,R[me]=ze,me=Oe;else break e}}function d(R){return R.length===0?null:R[0]}function c(R){if(R.length===0)return null;var W=R[0],me=R.pop();if(me!==W){R[0]=me;e:for(var Oe=0,ze=R.length,w=ze>>>1;Oe<w;){var Y=2*(Oe+1)-1,V=R[Y],se=Y+1,P=R[se];if(0>h(V,me))se<ze&&0>h(P,V)?(R[Oe]=P,R[se]=me,Oe=se):(R[Oe]=V,R[Y]=me,Oe=Y);else if(se<ze&&0>h(P,me))R[Oe]=P,R[se]=me,Oe=se;else break e}}return W}function h(R,W){var me=R.sortIndex-W.sortIndex;return me!==0?me:R.id-W.id}if(i.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var m=performance;i.unstable_now=function(){return m.now()}}else{var g=Date,x=g.now();i.unstable_now=function(){return g.now()-x}}var b=[],f=[],v=1,E=null,k=3,T=!1,$=!1,z=!1,ae=!1,de=typeof setTimeout=="function"?setTimeout:null,ye=typeof clearTimeout=="function"?clearTimeout:null,ge=typeof setImmediate<"u"?setImmediate:null;function q(R){for(var W=d(f);W!==null;){if(W.callback===null)c(f);else if(W.startTime<=R)c(f),W.sortIndex=W.expirationTime,o(b,W);else break;W=d(f)}}function X(R){if(z=!1,q(R),!$)if(d(b)!==null)$=!0,L||(L=!0,Ne());else{var W=d(f);W!==null&&A(X,W.startTime-R)}}var L=!1,D=-1,oe=5,be=-1;function J(){return ae?!0:!(i.unstable_now()-be<oe)}function le(){if(ae=!1,L){var R=i.unstable_now();be=R;var W=!0;try{e:{$=!1,z&&(z=!1,ye(D),D=-1),T=!0;var me=k;try{t:{for(q(R),E=d(b);E!==null&&!(E.expirationTime>R&&J());){var Oe=E.callback;if(typeof Oe=="function"){E.callback=null,k=E.priorityLevel;var ze=Oe(E.expirationTime<=R);if(R=i.unstable_now(),typeof ze=="function"){E.callback=ze,q(R),W=!0;break t}E===d(b)&&c(b),q(R)}else c(b);E=d(b)}if(E!==null)W=!0;else{var w=d(f);w!==null&&A(X,w.startTime-R),W=!1}}break e}finally{E=null,k=me,T=!1}W=void 0}}finally{W?Ne():L=!1}}}var Ne;if(typeof ge=="function")Ne=function(){ge(le)};else if(typeof MessageChannel<"u"){var ve=new MessageChannel,te=ve.port2;ve.port1.onmessage=le,Ne=function(){te.postMessage(null)}}else Ne=function(){de(le,0)};function A(R,W){D=de(function(){R(i.unstable_now())},W)}i.unstable_IdlePriority=5,i.unstable_ImmediatePriority=1,i.unstable_LowPriority=4,i.unstable_NormalPriority=3,i.unstable_Profiling=null,i.unstable_UserBlockingPriority=2,i.unstable_cancelCallback=function(R){R.callback=null},i.unstable_forceFrameRate=function(R){0>R||125<R?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):oe=0<R?Math.floor(1e3/R):5},i.unstable_getCurrentPriorityLevel=function(){return k},i.unstable_next=function(R){switch(k){case 1:case 2:case 3:var W=3;break;default:W=k}var me=k;k=W;try{return R()}finally{k=me}},i.unstable_requestPaint=function(){ae=!0},i.unstable_runWithPriority=function(R,W){switch(R){case 1:case 2:case 3:case 4:case 5:break;default:R=3}var me=k;k=R;try{return W()}finally{k=me}},i.unstable_scheduleCallback=function(R,W,me){var Oe=i.unstable_now();switch(typeof me=="object"&&me!==null?(me=me.delay,me=typeof me=="number"&&0<me?Oe+me:Oe):me=Oe,R){case 1:var ze=-1;break;case 2:ze=250;break;case 5:ze=1073741823;break;case 4:ze=1e4;break;default:ze=5e3}return ze=me+ze,R={id:v++,callback:W,priorityLevel:R,startTime:me,expirationTime:ze,sortIndex:-1},me>Oe?(R.sortIndex=me,o(f,R),d(b)===null&&R===d(f)&&(z?(ye(D),D=-1):z=!0,A(X,me-Oe))):(R.sortIndex=ze,o(b,R),$||T||($=!0,L||(L=!0,Ne()))),R},i.unstable_shouldYield=J,i.unstable_wrapCallback=function(R){var W=k;return function(){var me=k;k=W;try{return R.apply(this,arguments)}finally{k=me}}}})(qd)),qd}var Cp;function mb(){return Cp||(Cp=1,Gd.exports=hb()),Gd.exports}var Id={exports:{}},Kt={};/**
 * @license React
 * react-dom.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var _p;function fb(){if(_p)return Kt;_p=1;var i=xu();function o(b){var f="https://react.dev/errors/"+b;if(1<arguments.length){f+="?args[]="+encodeURIComponent(arguments[1]);for(var v=2;v<arguments.length;v++)f+="&args[]="+encodeURIComponent(arguments[v])}return"Minified React error #"+b+"; visit "+f+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function d(){}var c={d:{f:d,r:function(){throw Error(o(522))},D:d,C:d,L:d,m:d,X:d,S:d,M:d},p:0,findDOMNode:null},h=Symbol.for("react.portal");function m(b,f,v){var E=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:h,key:E==null?null:""+E,children:b,containerInfo:f,implementation:v}}var g=i.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function x(b,f){if(b==="font")return"";if(typeof f=="string")return f==="use-credentials"?f:""}return Kt.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=c,Kt.createPortal=function(b,f){var v=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!f||f.nodeType!==1&&f.nodeType!==9&&f.nodeType!==11)throw Error(o(299));return m(b,f,null,v)},Kt.flushSync=function(b){var f=g.T,v=c.p;try{if(g.T=null,c.p=2,b)return b()}finally{g.T=f,c.p=v,c.d.f()}},Kt.preconnect=function(b,f){typeof b=="string"&&(f?(f=f.crossOrigin,f=typeof f=="string"?f==="use-credentials"?f:"":void 0):f=null,c.d.C(b,f))},Kt.prefetchDNS=function(b){typeof b=="string"&&c.d.D(b)},Kt.preinit=function(b,f){if(typeof b=="string"&&f&&typeof f.as=="string"){var v=f.as,E=x(v,f.crossOrigin),k=typeof f.integrity=="string"?f.integrity:void 0,T=typeof f.fetchPriority=="string"?f.fetchPriority:void 0;v==="style"?c.d.S(b,typeof f.precedence=="string"?f.precedence:void 0,{crossOrigin:E,integrity:k,fetchPriority:T}):v==="script"&&c.d.X(b,{crossOrigin:E,integrity:k,fetchPriority:T,nonce:typeof f.nonce=="string"?f.nonce:void 0})}},Kt.preinitModule=function(b,f){if(typeof b=="string")if(typeof f=="object"&&f!==null){if(f.as==null||f.as==="script"){var v=x(f.as,f.crossOrigin);c.d.M(b,{crossOrigin:v,integrity:typeof f.integrity=="string"?f.integrity:void 0,nonce:typeof f.nonce=="string"?f.nonce:void 0})}}else f==null&&c.d.M(b)},Kt.preload=function(b,f){if(typeof b=="string"&&typeof f=="object"&&f!==null&&typeof f.as=="string"){var v=f.as,E=x(v,f.crossOrigin);c.d.L(b,v,{crossOrigin:E,integrity:typeof f.integrity=="string"?f.integrity:void 0,nonce:typeof f.nonce=="string"?f.nonce:void 0,type:typeof f.type=="string"?f.type:void 0,fetchPriority:typeof f.fetchPriority=="string"?f.fetchPriority:void 0,referrerPolicy:typeof f.referrerPolicy=="string"?f.referrerPolicy:void 0,imageSrcSet:typeof f.imageSrcSet=="string"?f.imageSrcSet:void 0,imageSizes:typeof f.imageSizes=="string"?f.imageSizes:void 0,media:typeof f.media=="string"?f.media:void 0})}},Kt.preloadModule=function(b,f){if(typeof b=="string")if(f){var v=x(f.as,f.crossOrigin);c.d.m(b,{as:typeof f.as=="string"&&f.as!=="script"?f.as:void 0,crossOrigin:v,integrity:typeof f.integrity=="string"?f.integrity:void 0})}else c.d.m(b)},Kt.requestFormReset=function(b){c.d.r(b)},Kt.unstable_batchedUpdates=function(b,f){return b(f)},Kt.useFormState=function(b,f,v){return g.H.useFormState(b,f,v)},Kt.useFormStatus=function(){return g.H.useHostTransitionStatus()},Kt.version="19.2.0",Kt}var Dp;function pb(){if(Dp)return Id.exports;Dp=1;function i(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(i)}catch(o){console.error(o)}}return i(),Id.exports=fb(),Id.exports}/**
 * @license React
 * react-dom-client.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Mp;function xb(){if(Mp)return gi;Mp=1;var i=mb(),o=xu(),d=pb();function c(e){var t="https://react.dev/errors/"+e;if(1<arguments.length){t+="?args[]="+encodeURIComponent(arguments[1]);for(var a=2;a<arguments.length;a++)t+="&args[]="+encodeURIComponent(arguments[a])}return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function h(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function m(e){var t=e,a=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do t=e,(t.flags&4098)!==0&&(a=t.return),e=t.return;while(e)}return t.tag===3?a:null}function g(e){if(e.tag===13){var t=e.memoizedState;if(t===null&&(e=e.alternate,e!==null&&(t=e.memoizedState)),t!==null)return t.dehydrated}return null}function x(e){if(e.tag===31){var t=e.memoizedState;if(t===null&&(e=e.alternate,e!==null&&(t=e.memoizedState)),t!==null)return t.dehydrated}return null}function b(e){if(m(e)!==e)throw Error(c(188))}function f(e){var t=e.alternate;if(!t){if(t=m(e),t===null)throw Error(c(188));return t!==e?null:e}for(var a=e,n=t;;){var s=a.return;if(s===null)break;var r=s.alternate;if(r===null){if(n=s.return,n!==null){a=n;continue}break}if(s.child===r.child){for(r=s.child;r;){if(r===a)return b(s),e;if(r===n)return b(s),t;r=r.sibling}throw Error(c(188))}if(a.return!==n.return)a=s,n=r;else{for(var u=!1,p=s.child;p;){if(p===a){u=!0,a=s,n=r;break}if(p===n){u=!0,n=s,a=r;break}p=p.sibling}if(!u){for(p=r.child;p;){if(p===a){u=!0,a=r,n=s;break}if(p===n){u=!0,n=r,a=s;break}p=p.sibling}if(!u)throw Error(c(189))}}if(a.alternate!==n)throw Error(c(190))}if(a.tag!==3)throw Error(c(188));return a.stateNode.current===a?e:t}function v(e){var t=e.tag;if(t===5||t===26||t===27||t===6)return e;for(e=e.child;e!==null;){if(t=v(e),t!==null)return t;e=e.sibling}return null}var E=Object.assign,k=Symbol.for("react.element"),T=Symbol.for("react.transitional.element"),$=Symbol.for("react.portal"),z=Symbol.for("react.fragment"),ae=Symbol.for("react.strict_mode"),de=Symbol.for("react.profiler"),ye=Symbol.for("react.consumer"),ge=Symbol.for("react.context"),q=Symbol.for("react.forward_ref"),X=Symbol.for("react.suspense"),L=Symbol.for("react.suspense_list"),D=Symbol.for("react.memo"),oe=Symbol.for("react.lazy"),be=Symbol.for("react.activity"),J=Symbol.for("react.memo_cache_sentinel"),le=Symbol.iterator;function Ne(e){return e===null||typeof e!="object"?null:(e=le&&e[le]||e["@@iterator"],typeof e=="function"?e:null)}var ve=Symbol.for("react.client.reference");function te(e){if(e==null)return null;if(typeof e=="function")return e.$$typeof===ve?null:e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case z:return"Fragment";case de:return"Profiler";case ae:return"StrictMode";case X:return"Suspense";case L:return"SuspenseList";case be:return"Activity"}if(typeof e=="object")switch(e.$$typeof){case $:return"Portal";case ge:return e.displayName||"Context";case ye:return(e._context.displayName||"Context")+".Consumer";case q:var t=e.render;return e=e.displayName,e||(e=t.displayName||t.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case D:return t=e.displayName||null,t!==null?t:te(e.type)||"Memo";case oe:t=e._payload,e=e._init;try{return te(e(t))}catch{}}return null}var A=Array.isArray,R=o.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,W=d.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,me={pending:!1,data:null,method:null,action:null},Oe=[],ze=-1;function w(e){return{current:e}}function Y(e){0>ze||(e.current=Oe[ze],Oe[ze]=null,ze--)}function V(e,t){ze++,Oe[ze]=e.current,e.current=t}var se=w(null),P=w(null),S=w(null),K=w(null);function ie(e,t){switch(V(S,t),V(P,e),V(se,null),t.nodeType){case 9:case 11:e=(e=t.documentElement)&&(e=e.namespaceURI)?Qf(e):0;break;default:if(e=t.tagName,t=t.namespaceURI)t=Qf(t),e=Zf(t,e);else switch(e){case"svg":e=1;break;case"math":e=2;break;default:e=0}}Y(se),V(se,e)}function je(){Y(se),Y(P),Y(S)}function N(e){e.memoizedState!==null&&V(K,e);var t=se.current,a=Zf(t,e.type);t!==a&&(V(P,e),V(se,a))}function ce(e){P.current===e&&(Y(se),Y(P)),K.current===e&&(Y(K),hi._currentValue=me)}var ue,xe;function Me(e){if(ue===void 0)try{throw Error()}catch(a){var t=a.stack.trim().match(/\n( *(at )?)/);ue=t&&t[1]||"",xe=-1<a.stack.indexOf(`
    at`)?" (<anonymous>)":-1<a.stack.indexOf("@")?"@unknown:0:0":""}return`
`+ue+e+xe}var Ie=!1;function yt(e,t){if(!e||Ie)return"";Ie=!0;var a=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var n={DetermineComponentFrameRoot:function(){try{if(t){var re=function(){throw Error()};if(Object.defineProperty(re.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(re,[])}catch(Q){var G=Q}Reflect.construct(e,[],re)}else{try{re.call()}catch(Q){G=Q}e.call(re.prototype)}}else{try{throw Error()}catch(Q){G=Q}(re=e())&&typeof re.catch=="function"&&re.catch(function(){})}}catch(Q){if(Q&&G&&typeof Q.stack=="string")return[Q.stack,G.stack]}return[null,null]}};n.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var s=Object.getOwnPropertyDescriptor(n.DetermineComponentFrameRoot,"name");s&&s.configurable&&Object.defineProperty(n.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var r=n.DetermineComponentFrameRoot(),u=r[0],p=r[1];if(u&&p){var j=u.split(`
`),B=p.split(`
`);for(s=n=0;n<j.length&&!j[n].includes("DetermineComponentFrameRoot");)n++;for(;s<B.length&&!B[s].includes("DetermineComponentFrameRoot");)s++;if(n===j.length||s===B.length)for(n=j.length-1,s=B.length-1;1<=n&&0<=s&&j[n]!==B[s];)s--;for(;1<=n&&0<=s;n--,s--)if(j[n]!==B[s]){if(n!==1||s!==1)do if(n--,s--,0>s||j[n]!==B[s]){var ee=`
`+j[n].replace(" at new "," at ");return e.displayName&&ee.includes("<anonymous>")&&(ee=ee.replace("<anonymous>",e.displayName)),ee}while(1<=n&&0<=s);break}}}finally{Ie=!1,Error.prepareStackTrace=a}return(a=e?e.displayName||e.name:"")?Me(a):""}function Be(e,t){switch(e.tag){case 26:case 27:case 5:return Me(e.type);case 16:return Me("Lazy");case 13:return e.child!==t&&t!==null?Me("Suspense Fallback"):Me("Suspense");case 19:return Me("SuspenseList");case 0:case 15:return yt(e.type,!1);case 11:return yt(e.type.render,!1);case 1:return yt(e.type,!0);case 31:return Me("Activity");default:return""}}function vt(e){try{var t="",a=null;do t+=Be(e,a),a=e,e=e.return;while(e);return t}catch(n){return`
Error generating stack: `+n.message+`
`+n.stack}}var At=Object.prototype.hasOwnProperty,M=i.unstable_scheduleCallback,Se=i.unstable_cancelCallback,Ee=i.unstable_shouldYield,_e=i.unstable_requestPaint,pe=i.unstable_now,et=i.unstable_getCurrentPriorityLevel,Ge=i.unstable_ImmediatePriority,I=i.unstable_UserBlockingPriority,Ue=i.unstable_NormalPriority,Qe=i.unstable_LowPriority,Ut=i.unstable_IdlePriority,F=i.log,Z=i.unstable_setDisableYieldValue,De=null,Ye=null;function Ze(e){if(typeof F=="function"&&Z(e),Ye&&typeof Ye.setStrictMode=="function")try{Ye.setStrictMode(De,e)}catch{}}var fe=Math.clz32?Math.clz32:vs,wt=Math.log,Zt=Math.LN2;function vs(e){return e>>>=0,e===0?32:31-(wt(e)/Zt|0)|0}var ll=256,nl=262144,Dn=4194304;function da(e){var t=e&42;if(t!==0)return t;switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:return e&261888;case 262144:case 524288:case 1048576:case 2097152:return e&3932160;case 4194304:case 8388608:case 16777216:case 33554432:return e&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return e}}function Mn(e,t,a){var n=e.pendingLanes;if(n===0)return 0;var s=0,r=e.suspendedLanes,u=e.pingedLanes;e=e.warmLanes;var p=n&134217727;return p!==0?(n=p&~r,n!==0?s=da(n):(u&=p,u!==0?s=da(u):a||(a=p&~e,a!==0&&(s=da(a))))):(p=n&~r,p!==0?s=da(p):u!==0?s=da(u):a||(a=n&~e,a!==0&&(s=da(a)))),s===0?0:t!==0&&t!==s&&(t&r)===0&&(r=s&-s,a=t&-t,r>=a||r===32&&(a&4194048)!==0)?t:s}function cn(e,t){return(e.pendingLanes&~(e.suspendedLanes&~e.pingedLanes)&t)===0}function Dt(e,t){switch(e){case 1:case 2:case 4:case 8:case 64:return t+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function sl(){var e=Dn;return Dn<<=1,(Dn&62914560)===0&&(Dn=4194304),e}function ws(e){for(var t=[],a=0;31>a;a++)t.push(e);return t}function Dl(e,t){e.pendingLanes|=t,t!==268435456&&(e.suspendedLanes=0,e.pingedLanes=0,e.warmLanes=0)}function Ns(e,t,a,n,s,r){var u=e.pendingLanes;e.pendingLanes=a,e.suspendedLanes=0,e.pingedLanes=0,e.warmLanes=0,e.expiredLanes&=a,e.entangledLanes&=a,e.errorRecoveryDisabledLanes&=a,e.shellSuspendCounter=0;var p=e.entanglements,j=e.expirationTimes,B=e.hiddenUpdates;for(a=u&~a;0<a;){var ee=31-fe(a),re=1<<ee;p[ee]=0,j[ee]=-1;var G=B[ee];if(G!==null)for(B[ee]=null,ee=0;ee<G.length;ee++){var Q=G[ee];Q!==null&&(Q.lane&=-536870913)}a&=~re}n!==0&&js(e,n,0),r!==0&&s===0&&e.tag!==0&&(e.suspendedLanes|=r&~(u&~t))}function js(e,t,a){e.pendingLanes|=t,e.suspendedLanes&=~t;var n=31-fe(t);e.entangledLanes|=t,e.entanglements[n]=e.entanglements[n]|1073741824|a&261930}function Ss(e,t){var a=e.entangledLanes|=t;for(e=e.entanglements;a;){var n=31-fe(a),s=1<<n;s&t|e[n]&t&&(e[n]|=t),a&=~s}}function Hi(e,t){var a=t&-t;return a=(a&42)!==0?1:aa(a),(a&(e.suspendedLanes|t))!==0?0:a}function aa(e){switch(e){case 2:e=1;break;case 8:e=4;break;case 32:e=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:e=128;break;case 268435456:e=134217728;break;default:e=0}return e}function Ha(e){return e&=-e,2<e?8<e?(e&134217727)!==0?32:268435456:8:2}function ks(){var e=W.p;return e!==0?e:(e=window.event,e===void 0?32:gp(e.type))}function As(e,t){var a=W.p;try{return W.p=e,t()}finally{W.p=a}}var Sa=Math.random().toString(36).slice(2),Mt="__reactFiber$"+Sa,Nt="__reactProps$"+Sa,il="__reactContainer$"+Sa,Rn="__reactEvents$"+Sa,Gi="__reactListeners$"+Sa,qi="__reactHandles$"+Sa,Ii="__reactResources$"+Sa,Te="__reactMarker$"+Sa;function C(e){delete e[Mt],delete e[Nt],delete e[Rn],delete e[Gi],delete e[qi]}function he(e){var t=e[Mt];if(t)return t;for(var a=e.parentNode;a;){if(t=a[il]||a[Mt]){if(a=t.alternate,t.child!==null||a!==null&&a.child!==null)for(e=tp(e);e!==null;){if(a=e[Mt])return a;e=tp(e)}return t}e=a,a=e.parentNode}return null}function ke(e){if(e=e[Mt]||e[il]){var t=e.tag;if(t===5||t===6||t===13||t===31||t===26||t===27||t===3)return e}return null}function st(e){var t=e.tag;if(t===5||t===26||t===27||t===6)return e.stateNode;throw Error(c(33))}function kt(e){var t=e[Ii];return t||(t=e[Ii]={hoistableStyles:new Map,hoistableScripts:new Map}),t}function Xe(e){e[Te]=!0}var qt=new Set,ka={};function la(e,t){Za(e,t),Za(e+"Capture",t)}function Za(e,t){for(ka[e]=t,e=0;e<t.length;e++)qt.add(t[e])}var Bt=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),Es={},Ts={};function Fx(e){return At.call(Ts,e)?!0:At.call(Es,e)?!1:Bt.test(e)?Ts[e]=!0:(Es[e]=!0,!1)}function Yi(e,t,a){if(Fx(t))if(a===null)e.removeAttribute(t);else{switch(typeof a){case"undefined":case"function":case"symbol":e.removeAttribute(t);return;case"boolean":var n=t.toLowerCase().slice(0,5);if(n!=="data-"&&n!=="aria-"){e.removeAttribute(t);return}}e.setAttribute(t,""+a)}}function Vi(e,t,a){if(a===null)e.removeAttribute(t);else{switch(typeof a){case"undefined":case"function":case"symbol":case"boolean":e.removeAttribute(t);return}e.setAttribute(t,""+a)}}function rl(e,t,a,n){if(n===null)e.removeAttribute(a);else{switch(typeof n){case"undefined":case"function":case"symbol":case"boolean":e.removeAttribute(a);return}e.setAttributeNS(t,a,""+n)}}function Aa(e){switch(typeof e){case"bigint":case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function Bu(e){var t=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(t==="checkbox"||t==="radio")}function eg(e,t,a){var n=Object.getOwnPropertyDescriptor(e.constructor.prototype,t);if(!e.hasOwnProperty(t)&&typeof n<"u"&&typeof n.get=="function"&&typeof n.set=="function"){var s=n.get,r=n.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return s.call(this)},set:function(u){a=""+u,r.call(this,u)}}),Object.defineProperty(e,t,{enumerable:n.enumerable}),{getValue:function(){return a},setValue:function(u){a=""+u},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}function Do(e){if(!e._valueTracker){var t=Bu(e)?"checked":"value";e._valueTracker=eg(e,t,""+e[t])}}function $u(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var a=t.getValue(),n="";return e&&(n=Bu(e)?e.checked?"true":"false":e.value),e=n,e!==a?(t.setValue(e),!0):!1}function Xi(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}var tg=/[\n"\\]/g;function Ea(e){return e.replace(tg,function(t){return"\\"+t.charCodeAt(0).toString(16)+" "})}function Mo(e,t,a,n,s,r,u,p){e.name="",u!=null&&typeof u!="function"&&typeof u!="symbol"&&typeof u!="boolean"?e.type=u:e.removeAttribute("type"),t!=null?u==="number"?(t===0&&e.value===""||e.value!=t)&&(e.value=""+Aa(t)):e.value!==""+Aa(t)&&(e.value=""+Aa(t)):u!=="submit"&&u!=="reset"||e.removeAttribute("value"),t!=null?Ro(e,u,Aa(t)):a!=null?Ro(e,u,Aa(a)):n!=null&&e.removeAttribute("value"),s==null&&r!=null&&(e.defaultChecked=!!r),s!=null&&(e.checked=s&&typeof s!="function"&&typeof s!="symbol"),p!=null&&typeof p!="function"&&typeof p!="symbol"&&typeof p!="boolean"?e.name=""+Aa(p):e.removeAttribute("name")}function Hu(e,t,a,n,s,r,u,p){if(r!=null&&typeof r!="function"&&typeof r!="symbol"&&typeof r!="boolean"&&(e.type=r),t!=null||a!=null){if(!(r!=="submit"&&r!=="reset"||t!=null)){Do(e);return}a=a!=null?""+Aa(a):"",t=t!=null?""+Aa(t):a,p||t===e.value||(e.value=t),e.defaultValue=t}n=n??s,n=typeof n!="function"&&typeof n!="symbol"&&!!n,e.checked=p?e.checked:!!n,e.defaultChecked=!!n,u!=null&&typeof u!="function"&&typeof u!="symbol"&&typeof u!="boolean"&&(e.name=u),Do(e)}function Ro(e,t,a){t==="number"&&Xi(e.ownerDocument)===e||e.defaultValue===""+a||(e.defaultValue=""+a)}function On(e,t,a,n){if(e=e.options,t){t={};for(var s=0;s<a.length;s++)t["$"+a[s]]=!0;for(a=0;a<e.length;a++)s=t.hasOwnProperty("$"+e[a].value),e[a].selected!==s&&(e[a].selected=s),s&&n&&(e[a].defaultSelected=!0)}else{for(a=""+Aa(a),t=null,s=0;s<e.length;s++){if(e[s].value===a){e[s].selected=!0,n&&(e[s].defaultSelected=!0);return}t!==null||e[s].disabled||(t=e[s])}t!==null&&(t.selected=!0)}}function Gu(e,t,a){if(t!=null&&(t=""+Aa(t),t!==e.value&&(e.value=t),a==null)){e.defaultValue!==t&&(e.defaultValue=t);return}e.defaultValue=a!=null?""+Aa(a):""}function qu(e,t,a,n){if(t==null){if(n!=null){if(a!=null)throw Error(c(92));if(A(n)){if(1<n.length)throw Error(c(93));n=n[0]}a=n}a==null&&(a=""),t=a}a=Aa(t),e.defaultValue=a,n=e.textContent,n===a&&n!==""&&n!==null&&(e.value=n),Do(e)}function zn(e,t){if(t){var a=e.firstChild;if(a&&a===e.lastChild&&a.nodeType===3){a.nodeValue=t;return}}e.textContent=t}var ag=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function Iu(e,t,a){var n=t.indexOf("--")===0;a==null||typeof a=="boolean"||a===""?n?e.setProperty(t,""):t==="float"?e.cssFloat="":e[t]="":n?e.setProperty(t,a):typeof a!="number"||a===0||ag.has(t)?t==="float"?e.cssFloat=a:e[t]=(""+a).trim():e[t]=a+"px"}function Yu(e,t,a){if(t!=null&&typeof t!="object")throw Error(c(62));if(e=e.style,a!=null){for(var n in a)!a.hasOwnProperty(n)||t!=null&&t.hasOwnProperty(n)||(n.indexOf("--")===0?e.setProperty(n,""):n==="float"?e.cssFloat="":e[n]="");for(var s in t)n=t[s],t.hasOwnProperty(s)&&a[s]!==n&&Iu(e,s,n)}else for(var r in t)t.hasOwnProperty(r)&&Iu(e,r,t[r])}function Oo(e){if(e.indexOf("-")===-1)return!1;switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var lg=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),ng=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function Qi(e){return ng.test(""+e)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":e}function ol(){}var zo=null;function Lo(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var Ln=null,Un=null;function Vu(e){var t=ke(e);if(t&&(e=t.stateNode)){var a=e[Nt]||null;e:switch(e=t.stateNode,t.type){case"input":if(Mo(e,a.value,a.defaultValue,a.defaultValue,a.checked,a.defaultChecked,a.type,a.name),t=a.name,a.type==="radio"&&t!=null){for(a=e;a.parentNode;)a=a.parentNode;for(a=a.querySelectorAll('input[name="'+Ea(""+t)+'"][type="radio"]'),t=0;t<a.length;t++){var n=a[t];if(n!==e&&n.form===e.form){var s=n[Nt]||null;if(!s)throw Error(c(90));Mo(n,s.value,s.defaultValue,s.defaultValue,s.checked,s.defaultChecked,s.type,s.name)}}for(t=0;t<a.length;t++)n=a[t],n.form===e.form&&$u(n)}break e;case"textarea":Gu(e,a.value,a.defaultValue);break e;case"select":t=a.value,t!=null&&On(e,!!a.multiple,t,!1)}}}var Uo=!1;function Xu(e,t,a){if(Uo)return e(t,a);Uo=!0;try{var n=e(t);return n}finally{if(Uo=!1,(Ln!==null||Un!==null)&&(Or(),Ln&&(t=Ln,e=Un,Un=Ln=null,Vu(t),e)))for(t=0;t<e.length;t++)Vu(e[t])}}function Cs(e,t){var a=e.stateNode;if(a===null)return null;var n=a[Nt]||null;if(n===null)return null;a=n[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(n=!n.disabled)||(e=e.type,n=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!n;break e;default:e=!1}if(e)return null;if(a&&typeof a!="function")throw Error(c(231,t,typeof a));return a}var cl=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Bo=!1;if(cl)try{var _s={};Object.defineProperty(_s,"passive",{get:function(){Bo=!0}}),window.addEventListener("test",_s,_s),window.removeEventListener("test",_s,_s)}catch{Bo=!1}var Ml=null,$o=null,Zi=null;function Qu(){if(Zi)return Zi;var e,t=$o,a=t.length,n,s="value"in Ml?Ml.value:Ml.textContent,r=s.length;for(e=0;e<a&&t[e]===s[e];e++);var u=a-e;for(n=1;n<=u&&t[a-n]===s[r-n];n++);return Zi=s.slice(e,1<n?1-n:void 0)}function Ki(e){var t=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&t===13&&(e=13)):e=t,e===10&&(e=13),32<=e||e===13?e:0}function Pi(){return!0}function Zu(){return!1}function na(e){function t(a,n,s,r,u){this._reactName=a,this._targetInst=s,this.type=n,this.nativeEvent=r,this.target=u,this.currentTarget=null;for(var p in e)e.hasOwnProperty(p)&&(a=e[p],this[p]=a?a(r):r[p]);return this.isDefaultPrevented=(r.defaultPrevented!=null?r.defaultPrevented:r.returnValue===!1)?Pi:Zu,this.isPropagationStopped=Zu,this}return E(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var a=this.nativeEvent;a&&(a.preventDefault?a.preventDefault():typeof a.returnValue!="unknown"&&(a.returnValue=!1),this.isDefaultPrevented=Pi)},stopPropagation:function(){var a=this.nativeEvent;a&&(a.stopPropagation?a.stopPropagation():typeof a.cancelBubble!="unknown"&&(a.cancelBubble=!0),this.isPropagationStopped=Pi)},persist:function(){},isPersistent:Pi}),t}var dn={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Ji=na(dn),Ds=E({},dn,{view:0,detail:0}),sg=na(Ds),Ho,Go,Ms,Wi=E({},Ds,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Io,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==Ms&&(Ms&&e.type==="mousemove"?(Ho=e.screenX-Ms.screenX,Go=e.screenY-Ms.screenY):Go=Ho=0,Ms=e),Ho)},movementY:function(e){return"movementY"in e?e.movementY:Go}}),Ku=na(Wi),ig=E({},Wi,{dataTransfer:0}),rg=na(ig),og=E({},Ds,{relatedTarget:0}),qo=na(og),cg=E({},dn,{animationName:0,elapsedTime:0,pseudoElement:0}),dg=na(cg),ug=E({},dn,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),hg=na(ug),mg=E({},dn,{data:0}),Pu=na(mg),fg={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},pg={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},xg={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function gg(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):(e=xg[e])?!!t[e]:!1}function Io(){return gg}var bg=E({},Ds,{key:function(e){if(e.key){var t=fg[e.key]||e.key;if(t!=="Unidentified")return t}return e.type==="keypress"?(e=Ki(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?pg[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Io,charCode:function(e){return e.type==="keypress"?Ki(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?Ki(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),yg=na(bg),vg=E({},Wi,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Ju=na(vg),wg=E({},Ds,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Io}),Ng=na(wg),jg=E({},dn,{propertyName:0,elapsedTime:0,pseudoElement:0}),Sg=na(jg),kg=E({},Wi,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),Ag=na(kg),Eg=E({},dn,{newState:0,oldState:0}),Tg=na(Eg),Cg=[9,13,27,32],Yo=cl&&"CompositionEvent"in window,Rs=null;cl&&"documentMode"in document&&(Rs=document.documentMode);var _g=cl&&"TextEvent"in window&&!Rs,Wu=cl&&(!Yo||Rs&&8<Rs&&11>=Rs),Fu=" ",eh=!1;function th(e,t){switch(e){case"keyup":return Cg.indexOf(t.keyCode)!==-1;case"keydown":return t.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function ah(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var Bn=!1;function Dg(e,t){switch(e){case"compositionend":return ah(t);case"keypress":return t.which!==32?null:(eh=!0,Fu);case"textInput":return e=t.data,e===Fu&&eh?null:e;default:return null}}function Mg(e,t){if(Bn)return e==="compositionend"||!Yo&&th(e,t)?(e=Qu(),Zi=$o=Ml=null,Bn=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return Wu&&t.locale!=="ko"?null:t.data;default:return null}}var Rg={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function lh(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t==="input"?!!Rg[e.type]:t==="textarea"}function nh(e,t,a,n){Ln?Un?Un.push(n):Un=[n]:Ln=n,t=Gr(t,"onChange"),0<t.length&&(a=new Ji("onChange","change",null,a,n),e.push({event:a,listeners:t}))}var Os=null,zs=null;function Og(e){Gf(e,0)}function Fi(e){var t=st(e);if($u(t))return e}function sh(e,t){if(e==="change")return t}var ih=!1;if(cl){var Vo;if(cl){var Xo="oninput"in document;if(!Xo){var rh=document.createElement("div");rh.setAttribute("oninput","return;"),Xo=typeof rh.oninput=="function"}Vo=Xo}else Vo=!1;ih=Vo&&(!document.documentMode||9<document.documentMode)}function oh(){Os&&(Os.detachEvent("onpropertychange",ch),zs=Os=null)}function ch(e){if(e.propertyName==="value"&&Fi(zs)){var t=[];nh(t,zs,e,Lo(e)),Xu(Og,t)}}function zg(e,t,a){e==="focusin"?(oh(),Os=t,zs=a,Os.attachEvent("onpropertychange",ch)):e==="focusout"&&oh()}function Lg(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return Fi(zs)}function Ug(e,t){if(e==="click")return Fi(t)}function Bg(e,t){if(e==="input"||e==="change")return Fi(t)}function $g(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var ua=typeof Object.is=="function"?Object.is:$g;function Ls(e,t){if(ua(e,t))return!0;if(typeof e!="object"||e===null||typeof t!="object"||t===null)return!1;var a=Object.keys(e),n=Object.keys(t);if(a.length!==n.length)return!1;for(n=0;n<a.length;n++){var s=a[n];if(!At.call(t,s)||!ua(e[s],t[s]))return!1}return!0}function dh(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function uh(e,t){var a=dh(e);e=0;for(var n;a;){if(a.nodeType===3){if(n=e+a.textContent.length,e<=t&&n>=t)return{node:a,offset:t-e};e=n}e:{for(;a;){if(a.nextSibling){a=a.nextSibling;break e}a=a.parentNode}a=void 0}a=dh(a)}}function hh(e,t){return e&&t?e===t?!0:e&&e.nodeType===3?!1:t&&t.nodeType===3?hh(e,t.parentNode):"contains"in e?e.contains(t):e.compareDocumentPosition?!!(e.compareDocumentPosition(t)&16):!1:!1}function mh(e){e=e!=null&&e.ownerDocument!=null&&e.ownerDocument.defaultView!=null?e.ownerDocument.defaultView:window;for(var t=Xi(e.document);t instanceof e.HTMLIFrameElement;){try{var a=typeof t.contentWindow.location.href=="string"}catch{a=!1}if(a)e=t.contentWindow;else break;t=Xi(e.document)}return t}function Qo(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&(t==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||t==="textarea"||e.contentEditable==="true")}var Hg=cl&&"documentMode"in document&&11>=document.documentMode,$n=null,Zo=null,Us=null,Ko=!1;function fh(e,t,a){var n=a.window===a?a.document:a.nodeType===9?a:a.ownerDocument;Ko||$n==null||$n!==Xi(n)||(n=$n,"selectionStart"in n&&Qo(n)?n={start:n.selectionStart,end:n.selectionEnd}:(n=(n.ownerDocument&&n.ownerDocument.defaultView||window).getSelection(),n={anchorNode:n.anchorNode,anchorOffset:n.anchorOffset,focusNode:n.focusNode,focusOffset:n.focusOffset}),Us&&Ls(Us,n)||(Us=n,n=Gr(Zo,"onSelect"),0<n.length&&(t=new Ji("onSelect","select",null,t,a),e.push({event:t,listeners:n}),t.target=$n)))}function un(e,t){var a={};return a[e.toLowerCase()]=t.toLowerCase(),a["Webkit"+e]="webkit"+t,a["Moz"+e]="moz"+t,a}var Hn={animationend:un("Animation","AnimationEnd"),animationiteration:un("Animation","AnimationIteration"),animationstart:un("Animation","AnimationStart"),transitionrun:un("Transition","TransitionRun"),transitionstart:un("Transition","TransitionStart"),transitioncancel:un("Transition","TransitionCancel"),transitionend:un("Transition","TransitionEnd")},Po={},ph={};cl&&(ph=document.createElement("div").style,"AnimationEvent"in window||(delete Hn.animationend.animation,delete Hn.animationiteration.animation,delete Hn.animationstart.animation),"TransitionEvent"in window||delete Hn.transitionend.transition);function hn(e){if(Po[e])return Po[e];if(!Hn[e])return e;var t=Hn[e],a;for(a in t)if(t.hasOwnProperty(a)&&a in ph)return Po[e]=t[a];return e}var xh=hn("animationend"),gh=hn("animationiteration"),bh=hn("animationstart"),Gg=hn("transitionrun"),qg=hn("transitionstart"),Ig=hn("transitioncancel"),yh=hn("transitionend"),vh=new Map,Jo="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");Jo.push("scrollEnd");function Ga(e,t){vh.set(e,t),la(t,[e])}var er=typeof reportError=="function"?reportError:function(e){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var t=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof e=="object"&&e!==null&&typeof e.message=="string"?String(e.message):String(e),error:e});if(!window.dispatchEvent(t))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",e);return}console.error(e)},Ta=[],Gn=0,Wo=0;function tr(){for(var e=Gn,t=Wo=Gn=0;t<e;){var a=Ta[t];Ta[t++]=null;var n=Ta[t];Ta[t++]=null;var s=Ta[t];Ta[t++]=null;var r=Ta[t];if(Ta[t++]=null,n!==null&&s!==null){var u=n.pending;u===null?s.next=s:(s.next=u.next,u.next=s),n.pending=s}r!==0&&wh(a,s,r)}}function ar(e,t,a,n){Ta[Gn++]=e,Ta[Gn++]=t,Ta[Gn++]=a,Ta[Gn++]=n,Wo|=n,e.lanes|=n,e=e.alternate,e!==null&&(e.lanes|=n)}function Fo(e,t,a,n){return ar(e,t,a,n),lr(e)}function mn(e,t){return ar(e,null,null,t),lr(e)}function wh(e,t,a){e.lanes|=a;var n=e.alternate;n!==null&&(n.lanes|=a);for(var s=!1,r=e.return;r!==null;)r.childLanes|=a,n=r.alternate,n!==null&&(n.childLanes|=a),r.tag===22&&(e=r.stateNode,e===null||e._visibility&1||(s=!0)),e=r,r=r.return;return e.tag===3?(r=e.stateNode,s&&t!==null&&(s=31-fe(a),e=r.hiddenUpdates,n=e[s],n===null?e[s]=[t]:n.push(t),t.lane=a|536870912),r):null}function lr(e){if(50<si)throw si=0,od=null,Error(c(185));for(var t=e.return;t!==null;)e=t,t=e.return;return e.tag===3?e.stateNode:null}var qn={};function Yg(e,t,a,n){this.tag=e,this.key=a,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=n,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function ha(e,t,a,n){return new Yg(e,t,a,n)}function ec(e){return e=e.prototype,!(!e||!e.isReactComponent)}function dl(e,t){var a=e.alternate;return a===null?(a=ha(e.tag,t,e.key,e.mode),a.elementType=e.elementType,a.type=e.type,a.stateNode=e.stateNode,a.alternate=e,e.alternate=a):(a.pendingProps=t,a.type=e.type,a.flags=0,a.subtreeFlags=0,a.deletions=null),a.flags=e.flags&65011712,a.childLanes=e.childLanes,a.lanes=e.lanes,a.child=e.child,a.memoizedProps=e.memoizedProps,a.memoizedState=e.memoizedState,a.updateQueue=e.updateQueue,t=e.dependencies,a.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext},a.sibling=e.sibling,a.index=e.index,a.ref=e.ref,a.refCleanup=e.refCleanup,a}function Nh(e,t){e.flags&=65011714;var a=e.alternate;return a===null?(e.childLanes=0,e.lanes=t,e.child=null,e.subtreeFlags=0,e.memoizedProps=null,e.memoizedState=null,e.updateQueue=null,e.dependencies=null,e.stateNode=null):(e.childLanes=a.childLanes,e.lanes=a.lanes,e.child=a.child,e.subtreeFlags=0,e.deletions=null,e.memoizedProps=a.memoizedProps,e.memoizedState=a.memoizedState,e.updateQueue=a.updateQueue,e.type=a.type,t=a.dependencies,e.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext}),e}function nr(e,t,a,n,s,r){var u=0;if(n=e,typeof e=="function")ec(e)&&(u=1);else if(typeof e=="string")u=K0(e,a,se.current)?26:e==="html"||e==="head"||e==="body"?27:5;else e:switch(e){case be:return e=ha(31,a,t,s),e.elementType=be,e.lanes=r,e;case z:return fn(a.children,s,r,t);case ae:u=8,s|=24;break;case de:return e=ha(12,a,t,s|2),e.elementType=de,e.lanes=r,e;case X:return e=ha(13,a,t,s),e.elementType=X,e.lanes=r,e;case L:return e=ha(19,a,t,s),e.elementType=L,e.lanes=r,e;default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case ge:u=10;break e;case ye:u=9;break e;case q:u=11;break e;case D:u=14;break e;case oe:u=16,n=null;break e}u=29,a=Error(c(130,e===null?"null":typeof e,"")),n=null}return t=ha(u,a,t,s),t.elementType=e,t.type=n,t.lanes=r,t}function fn(e,t,a,n){return e=ha(7,e,n,t),e.lanes=a,e}function tc(e,t,a){return e=ha(6,e,null,t),e.lanes=a,e}function jh(e){var t=ha(18,null,null,0);return t.stateNode=e,t}function ac(e,t,a){return t=ha(4,e.children!==null?e.children:[],e.key,t),t.lanes=a,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}var Sh=new WeakMap;function Ca(e,t){if(typeof e=="object"&&e!==null){var a=Sh.get(e);return a!==void 0?a:(t={value:e,source:t,stack:vt(t)},Sh.set(e,t),t)}return{value:e,source:t,stack:vt(t)}}var In=[],Yn=0,sr=null,Bs=0,_a=[],Da=0,Rl=null,Ka=1,Pa="";function ul(e,t){In[Yn++]=Bs,In[Yn++]=sr,sr=e,Bs=t}function kh(e,t,a){_a[Da++]=Ka,_a[Da++]=Pa,_a[Da++]=Rl,Rl=e;var n=Ka;e=Pa;var s=32-fe(n)-1;n&=~(1<<s),a+=1;var r=32-fe(t)+s;if(30<r){var u=s-s%5;r=(n&(1<<u)-1).toString(32),n>>=u,s-=u,Ka=1<<32-fe(t)+s|a<<s|n,Pa=r+e}else Ka=1<<r|a<<s|n,Pa=e}function lc(e){e.return!==null&&(ul(e,1),kh(e,1,0))}function nc(e){for(;e===sr;)sr=In[--Yn],In[Yn]=null,Bs=In[--Yn],In[Yn]=null;for(;e===Rl;)Rl=_a[--Da],_a[Da]=null,Pa=_a[--Da],_a[Da]=null,Ka=_a[--Da],_a[Da]=null}function Ah(e,t){_a[Da++]=Ka,_a[Da++]=Pa,_a[Da++]=Rl,Ka=t.id,Pa=t.overflow,Rl=e}var It=null,xt=null,tt=!1,Ol=null,Ma=!1,sc=Error(c(519));function zl(e){var t=Error(c(418,1<arguments.length&&arguments[1]!==void 0&&arguments[1]?"text":"HTML",""));throw $s(Ca(t,e)),sc}function Eh(e){var t=e.stateNode,a=e.type,n=e.memoizedProps;switch(t[Mt]=e,t[Nt]=n,a){case"dialog":Pe("cancel",t),Pe("close",t);break;case"iframe":case"object":case"embed":Pe("load",t);break;case"video":case"audio":for(a=0;a<ri.length;a++)Pe(ri[a],t);break;case"source":Pe("error",t);break;case"img":case"image":case"link":Pe("error",t),Pe("load",t);break;case"details":Pe("toggle",t);break;case"input":Pe("invalid",t),Hu(t,n.value,n.defaultValue,n.checked,n.defaultChecked,n.type,n.name,!0);break;case"select":Pe("invalid",t);break;case"textarea":Pe("invalid",t),qu(t,n.value,n.defaultValue,n.children)}a=n.children,typeof a!="string"&&typeof a!="number"&&typeof a!="bigint"||t.textContent===""+a||n.suppressHydrationWarning===!0||Vf(t.textContent,a)?(n.popover!=null&&(Pe("beforetoggle",t),Pe("toggle",t)),n.onScroll!=null&&Pe("scroll",t),n.onScrollEnd!=null&&Pe("scrollend",t),n.onClick!=null&&(t.onclick=ol),t=!0):t=!1,t||zl(e,!0)}function Th(e){for(It=e.return;It;)switch(It.tag){case 5:case 31:case 13:Ma=!1;return;case 27:case 3:Ma=!0;return;default:It=It.return}}function Vn(e){if(e!==It)return!1;if(!tt)return Th(e),tt=!0,!1;var t=e.tag,a;if((a=t!==3&&t!==27)&&((a=t===5)&&(a=e.type,a=!(a!=="form"&&a!=="button")||jd(e.type,e.memoizedProps)),a=!a),a&&xt&&zl(e),Th(e),t===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(c(317));xt=ep(e)}else if(t===31){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(c(317));xt=ep(e)}else t===27?(t=xt,Kl(e.type)?(e=Td,Td=null,xt=e):xt=t):xt=It?Oa(e.stateNode.nextSibling):null;return!0}function pn(){xt=It=null,tt=!1}function ic(){var e=Ol;return e!==null&&(oa===null?oa=e:oa.push.apply(oa,e),Ol=null),e}function $s(e){Ol===null?Ol=[e]:Ol.push(e)}var rc=w(null),xn=null,hl=null;function Ll(e,t,a){V(rc,t._currentValue),t._currentValue=a}function ml(e){e._currentValue=rc.current,Y(rc)}function oc(e,t,a){for(;e!==null;){var n=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,n!==null&&(n.childLanes|=t)):n!==null&&(n.childLanes&t)!==t&&(n.childLanes|=t),e===a)break;e=e.return}}function cc(e,t,a,n){var s=e.child;for(s!==null&&(s.return=e);s!==null;){var r=s.dependencies;if(r!==null){var u=s.child;r=r.firstContext;e:for(;r!==null;){var p=r;r=s;for(var j=0;j<t.length;j++)if(p.context===t[j]){r.lanes|=a,p=r.alternate,p!==null&&(p.lanes|=a),oc(r.return,a,e),n||(u=null);break e}r=p.next}}else if(s.tag===18){if(u=s.return,u===null)throw Error(c(341));u.lanes|=a,r=u.alternate,r!==null&&(r.lanes|=a),oc(u,a,e),u=null}else u=s.child;if(u!==null)u.return=s;else for(u=s;u!==null;){if(u===e){u=null;break}if(s=u.sibling,s!==null){s.return=u.return,u=s;break}u=u.return}s=u}}function Xn(e,t,a,n){e=null;for(var s=t,r=!1;s!==null;){if(!r){if((s.flags&524288)!==0)r=!0;else if((s.flags&262144)!==0)break}if(s.tag===10){var u=s.alternate;if(u===null)throw Error(c(387));if(u=u.memoizedProps,u!==null){var p=s.type;ua(s.pendingProps.value,u.value)||(e!==null?e.push(p):e=[p])}}else if(s===K.current){if(u=s.alternate,u===null)throw Error(c(387));u.memoizedState.memoizedState!==s.memoizedState.memoizedState&&(e!==null?e.push(hi):e=[hi])}s=s.return}e!==null&&cc(t,e,a,n),t.flags|=262144}function ir(e){for(e=e.firstContext;e!==null;){if(!ua(e.context._currentValue,e.memoizedValue))return!0;e=e.next}return!1}function gn(e){xn=e,hl=null,e=e.dependencies,e!==null&&(e.firstContext=null)}function Yt(e){return Ch(xn,e)}function rr(e,t){return xn===null&&gn(e),Ch(e,t)}function Ch(e,t){var a=t._currentValue;if(t={context:t,memoizedValue:a,next:null},hl===null){if(e===null)throw Error(c(308));hl=t,e.dependencies={lanes:0,firstContext:t},e.flags|=524288}else hl=hl.next=t;return a}var Vg=typeof AbortController<"u"?AbortController:function(){var e=[],t=this.signal={aborted:!1,addEventListener:function(a,n){e.push(n)}};this.abort=function(){t.aborted=!0,e.forEach(function(a){return a()})}},Xg=i.unstable_scheduleCallback,Qg=i.unstable_NormalPriority,Rt={$$typeof:ge,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function dc(){return{controller:new Vg,data:new Map,refCount:0}}function Hs(e){e.refCount--,e.refCount===0&&Xg(Qg,function(){e.controller.abort()})}var Gs=null,uc=0,Qn=0,Zn=null;function Zg(e,t){if(Gs===null){var a=Gs=[];uc=0,Qn=fd(),Zn={status:"pending",value:void 0,then:function(n){a.push(n)}}}return uc++,t.then(_h,_h),t}function _h(){if(--uc===0&&Gs!==null){Zn!==null&&(Zn.status="fulfilled");var e=Gs;Gs=null,Qn=0,Zn=null;for(var t=0;t<e.length;t++)(0,e[t])()}}function Kg(e,t){var a=[],n={status:"pending",value:null,reason:null,then:function(s){a.push(s)}};return e.then(function(){n.status="fulfilled",n.value=t;for(var s=0;s<a.length;s++)(0,a[s])(t)},function(s){for(n.status="rejected",n.reason=s,s=0;s<a.length;s++)(0,a[s])(void 0)}),n}var Dh=R.S;R.S=function(e,t){pf=pe(),typeof t=="object"&&t!==null&&typeof t.then=="function"&&Zg(e,t),Dh!==null&&Dh(e,t)};var bn=w(null);function hc(){var e=bn.current;return e!==null?e:mt.pooledCache}function or(e,t){t===null?V(bn,bn.current):V(bn,t.pool)}function Mh(){var e=hc();return e===null?null:{parent:Rt._currentValue,pool:e}}var Kn=Error(c(460)),mc=Error(c(474)),cr=Error(c(542)),dr={then:function(){}};function Rh(e){return e=e.status,e==="fulfilled"||e==="rejected"}function Oh(e,t,a){switch(a=e[a],a===void 0?e.push(t):a!==t&&(t.then(ol,ol),t=a),t.status){case"fulfilled":return t.value;case"rejected":throw e=t.reason,Lh(e),e;default:if(typeof t.status=="string")t.then(ol,ol);else{if(e=mt,e!==null&&100<e.shellSuspendCounter)throw Error(c(482));e=t,e.status="pending",e.then(function(n){if(t.status==="pending"){var s=t;s.status="fulfilled",s.value=n}},function(n){if(t.status==="pending"){var s=t;s.status="rejected",s.reason=n}})}switch(t.status){case"fulfilled":return t.value;case"rejected":throw e=t.reason,Lh(e),e}throw vn=t,Kn}}function yn(e){try{var t=e._init;return t(e._payload)}catch(a){throw a!==null&&typeof a=="object"&&typeof a.then=="function"?(vn=a,Kn):a}}var vn=null;function zh(){if(vn===null)throw Error(c(459));var e=vn;return vn=null,e}function Lh(e){if(e===Kn||e===cr)throw Error(c(483))}var Pn=null,qs=0;function ur(e){var t=qs;return qs+=1,Pn===null&&(Pn=[]),Oh(Pn,e,t)}function Is(e,t){t=t.props.ref,e.ref=t!==void 0?t:null}function hr(e,t){throw t.$$typeof===k?Error(c(525)):(e=Object.prototype.toString.call(t),Error(c(31,e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e)))}function Uh(e){function t(O,_){if(e){var U=O.deletions;U===null?(O.deletions=[_],O.flags|=16):U.push(_)}}function a(O,_){if(!e)return null;for(;_!==null;)t(O,_),_=_.sibling;return null}function n(O){for(var _=new Map;O!==null;)O.key!==null?_.set(O.key,O):_.set(O.index,O),O=O.sibling;return _}function s(O,_){return O=dl(O,_),O.index=0,O.sibling=null,O}function r(O,_,U){return O.index=U,e?(U=O.alternate,U!==null?(U=U.index,U<_?(O.flags|=67108866,_):U):(O.flags|=67108866,_)):(O.flags|=1048576,_)}function u(O){return e&&O.alternate===null&&(O.flags|=67108866),O}function p(O,_,U,ne){return _===null||_.tag!==6?(_=tc(U,O.mode,ne),_.return=O,_):(_=s(_,U),_.return=O,_)}function j(O,_,U,ne){var Re=U.type;return Re===z?ee(O,_,U.props.children,ne,U.key):_!==null&&(_.elementType===Re||typeof Re=="object"&&Re!==null&&Re.$$typeof===oe&&yn(Re)===_.type)?(_=s(_,U.props),Is(_,U),_.return=O,_):(_=nr(U.type,U.key,U.props,null,O.mode,ne),Is(_,U),_.return=O,_)}function B(O,_,U,ne){return _===null||_.tag!==4||_.stateNode.containerInfo!==U.containerInfo||_.stateNode.implementation!==U.implementation?(_=ac(U,O.mode,ne),_.return=O,_):(_=s(_,U.children||[]),_.return=O,_)}function ee(O,_,U,ne,Re){return _===null||_.tag!==7?(_=fn(U,O.mode,ne,Re),_.return=O,_):(_=s(_,U),_.return=O,_)}function re(O,_,U){if(typeof _=="string"&&_!==""||typeof _=="number"||typeof _=="bigint")return _=tc(""+_,O.mode,U),_.return=O,_;if(typeof _=="object"&&_!==null){switch(_.$$typeof){case T:return U=nr(_.type,_.key,_.props,null,O.mode,U),Is(U,_),U.return=O,U;case $:return _=ac(_,O.mode,U),_.return=O,_;case oe:return _=yn(_),re(O,_,U)}if(A(_)||Ne(_))return _=fn(_,O.mode,U,null),_.return=O,_;if(typeof _.then=="function")return re(O,ur(_),U);if(_.$$typeof===ge)return re(O,rr(O,_),U);hr(O,_)}return null}function G(O,_,U,ne){var Re=_!==null?_.key:null;if(typeof U=="string"&&U!==""||typeof U=="number"||typeof U=="bigint")return Re!==null?null:p(O,_,""+U,ne);if(typeof U=="object"&&U!==null){switch(U.$$typeof){case T:return U.key===Re?j(O,_,U,ne):null;case $:return U.key===Re?B(O,_,U,ne):null;case oe:return U=yn(U),G(O,_,U,ne)}if(A(U)||Ne(U))return Re!==null?null:ee(O,_,U,ne,null);if(typeof U.then=="function")return G(O,_,ur(U),ne);if(U.$$typeof===ge)return G(O,_,rr(O,U),ne);hr(O,U)}return null}function Q(O,_,U,ne,Re){if(typeof ne=="string"&&ne!==""||typeof ne=="number"||typeof ne=="bigint")return O=O.get(U)||null,p(_,O,""+ne,Re);if(typeof ne=="object"&&ne!==null){switch(ne.$$typeof){case T:return O=O.get(ne.key===null?U:ne.key)||null,j(_,O,ne,Re);case $:return O=O.get(ne.key===null?U:ne.key)||null,B(_,O,ne,Re);case oe:return ne=yn(ne),Q(O,_,U,ne,Re)}if(A(ne)||Ne(ne))return O=O.get(U)||null,ee(_,O,ne,Re,null);if(typeof ne.then=="function")return Q(O,_,U,ur(ne),Re);if(ne.$$typeof===ge)return Q(O,_,U,rr(_,ne),Re);hr(_,ne)}return null}function Ae(O,_,U,ne){for(var Re=null,at=null,Ce=_,Ve=_=0,Fe=null;Ce!==null&&Ve<U.length;Ve++){Ce.index>Ve?(Fe=Ce,Ce=null):Fe=Ce.sibling;var lt=G(O,Ce,U[Ve],ne);if(lt===null){Ce===null&&(Ce=Fe);break}e&&Ce&&lt.alternate===null&&t(O,Ce),_=r(lt,_,Ve),at===null?Re=lt:at.sibling=lt,at=lt,Ce=Fe}if(Ve===U.length)return a(O,Ce),tt&&ul(O,Ve),Re;if(Ce===null){for(;Ve<U.length;Ve++)Ce=re(O,U[Ve],ne),Ce!==null&&(_=r(Ce,_,Ve),at===null?Re=Ce:at.sibling=Ce,at=Ce);return tt&&ul(O,Ve),Re}for(Ce=n(Ce);Ve<U.length;Ve++)Fe=Q(Ce,O,Ve,U[Ve],ne),Fe!==null&&(e&&Fe.alternate!==null&&Ce.delete(Fe.key===null?Ve:Fe.key),_=r(Fe,_,Ve),at===null?Re=Fe:at.sibling=Fe,at=Fe);return e&&Ce.forEach(function(en){return t(O,en)}),tt&&ul(O,Ve),Re}function Le(O,_,U,ne){if(U==null)throw Error(c(151));for(var Re=null,at=null,Ce=_,Ve=_=0,Fe=null,lt=U.next();Ce!==null&&!lt.done;Ve++,lt=U.next()){Ce.index>Ve?(Fe=Ce,Ce=null):Fe=Ce.sibling;var en=G(O,Ce,lt.value,ne);if(en===null){Ce===null&&(Ce=Fe);break}e&&Ce&&en.alternate===null&&t(O,Ce),_=r(en,_,Ve),at===null?Re=en:at.sibling=en,at=en,Ce=Fe}if(lt.done)return a(O,Ce),tt&&ul(O,Ve),Re;if(Ce===null){for(;!lt.done;Ve++,lt=U.next())lt=re(O,lt.value,ne),lt!==null&&(_=r(lt,_,Ve),at===null?Re=lt:at.sibling=lt,at=lt);return tt&&ul(O,Ve),Re}for(Ce=n(Ce);!lt.done;Ve++,lt=U.next())lt=Q(Ce,O,Ve,lt.value,ne),lt!==null&&(e&&lt.alternate!==null&&Ce.delete(lt.key===null?Ve:lt.key),_=r(lt,_,Ve),at===null?Re=lt:at.sibling=lt,at=lt);return e&&Ce.forEach(function(ib){return t(O,ib)}),tt&&ul(O,Ve),Re}function ht(O,_,U,ne){if(typeof U=="object"&&U!==null&&U.type===z&&U.key===null&&(U=U.props.children),typeof U=="object"&&U!==null){switch(U.$$typeof){case T:e:{for(var Re=U.key;_!==null;){if(_.key===Re){if(Re=U.type,Re===z){if(_.tag===7){a(O,_.sibling),ne=s(_,U.props.children),ne.return=O,O=ne;break e}}else if(_.elementType===Re||typeof Re=="object"&&Re!==null&&Re.$$typeof===oe&&yn(Re)===_.type){a(O,_.sibling),ne=s(_,U.props),Is(ne,U),ne.return=O,O=ne;break e}a(O,_);break}else t(O,_);_=_.sibling}U.type===z?(ne=fn(U.props.children,O.mode,ne,U.key),ne.return=O,O=ne):(ne=nr(U.type,U.key,U.props,null,O.mode,ne),Is(ne,U),ne.return=O,O=ne)}return u(O);case $:e:{for(Re=U.key;_!==null;){if(_.key===Re)if(_.tag===4&&_.stateNode.containerInfo===U.containerInfo&&_.stateNode.implementation===U.implementation){a(O,_.sibling),ne=s(_,U.children||[]),ne.return=O,O=ne;break e}else{a(O,_);break}else t(O,_);_=_.sibling}ne=ac(U,O.mode,ne),ne.return=O,O=ne}return u(O);case oe:return U=yn(U),ht(O,_,U,ne)}if(A(U))return Ae(O,_,U,ne);if(Ne(U)){if(Re=Ne(U),typeof Re!="function")throw Error(c(150));return U=Re.call(U),Le(O,_,U,ne)}if(typeof U.then=="function")return ht(O,_,ur(U),ne);if(U.$$typeof===ge)return ht(O,_,rr(O,U),ne);hr(O,U)}return typeof U=="string"&&U!==""||typeof U=="number"||typeof U=="bigint"?(U=""+U,_!==null&&_.tag===6?(a(O,_.sibling),ne=s(_,U),ne.return=O,O=ne):(a(O,_),ne=tc(U,O.mode,ne),ne.return=O,O=ne),u(O)):a(O,_)}return function(O,_,U,ne){try{qs=0;var Re=ht(O,_,U,ne);return Pn=null,Re}catch(Ce){if(Ce===Kn||Ce===cr)throw Ce;var at=ha(29,Ce,null,O.mode);return at.lanes=ne,at.return=O,at}finally{}}}var wn=Uh(!0),Bh=Uh(!1),Ul=!1;function fc(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function pc(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,callbacks:null})}function Bl(e){return{lane:e,tag:0,payload:null,callback:null,next:null}}function $l(e,t,a){var n=e.updateQueue;if(n===null)return null;if(n=n.shared,(nt&2)!==0){var s=n.pending;return s===null?t.next=t:(t.next=s.next,s.next=t),n.pending=t,t=lr(e),wh(e,null,a),t}return ar(e,n,t,a),lr(e)}function Ys(e,t,a){if(t=t.updateQueue,t!==null&&(t=t.shared,(a&4194048)!==0)){var n=t.lanes;n&=e.pendingLanes,a|=n,t.lanes=a,Ss(e,a)}}function xc(e,t){var a=e.updateQueue,n=e.alternate;if(n!==null&&(n=n.updateQueue,a===n)){var s=null,r=null;if(a=a.firstBaseUpdate,a!==null){do{var u={lane:a.lane,tag:a.tag,payload:a.payload,callback:null,next:null};r===null?s=r=u:r=r.next=u,a=a.next}while(a!==null);r===null?s=r=t:r=r.next=t}else s=r=t;a={baseState:n.baseState,firstBaseUpdate:s,lastBaseUpdate:r,shared:n.shared,callbacks:n.callbacks},e.updateQueue=a;return}e=a.lastBaseUpdate,e===null?a.firstBaseUpdate=t:e.next=t,a.lastBaseUpdate=t}var gc=!1;function Vs(){if(gc){var e=Zn;if(e!==null)throw e}}function Xs(e,t,a,n){gc=!1;var s=e.updateQueue;Ul=!1;var r=s.firstBaseUpdate,u=s.lastBaseUpdate,p=s.shared.pending;if(p!==null){s.shared.pending=null;var j=p,B=j.next;j.next=null,u===null?r=B:u.next=B,u=j;var ee=e.alternate;ee!==null&&(ee=ee.updateQueue,p=ee.lastBaseUpdate,p!==u&&(p===null?ee.firstBaseUpdate=B:p.next=B,ee.lastBaseUpdate=j))}if(r!==null){var re=s.baseState;u=0,ee=B=j=null,p=r;do{var G=p.lane&-536870913,Q=G!==p.lane;if(Q?(We&G)===G:(n&G)===G){G!==0&&G===Qn&&(gc=!0),ee!==null&&(ee=ee.next={lane:0,tag:p.tag,payload:p.payload,callback:null,next:null});e:{var Ae=e,Le=p;G=t;var ht=a;switch(Le.tag){case 1:if(Ae=Le.payload,typeof Ae=="function"){re=Ae.call(ht,re,G);break e}re=Ae;break e;case 3:Ae.flags=Ae.flags&-65537|128;case 0:if(Ae=Le.payload,G=typeof Ae=="function"?Ae.call(ht,re,G):Ae,G==null)break e;re=E({},re,G);break e;case 2:Ul=!0}}G=p.callback,G!==null&&(e.flags|=64,Q&&(e.flags|=8192),Q=s.callbacks,Q===null?s.callbacks=[G]:Q.push(G))}else Q={lane:G,tag:p.tag,payload:p.payload,callback:p.callback,next:null},ee===null?(B=ee=Q,j=re):ee=ee.next=Q,u|=G;if(p=p.next,p===null){if(p=s.shared.pending,p===null)break;Q=p,p=Q.next,Q.next=null,s.lastBaseUpdate=Q,s.shared.pending=null}}while(!0);ee===null&&(j=re),s.baseState=j,s.firstBaseUpdate=B,s.lastBaseUpdate=ee,r===null&&(s.shared.lanes=0),Yl|=u,e.lanes=u,e.memoizedState=re}}function $h(e,t){if(typeof e!="function")throw Error(c(191,e));e.call(t)}function Hh(e,t){var a=e.callbacks;if(a!==null)for(e.callbacks=null,e=0;e<a.length;e++)$h(a[e],t)}var Jn=w(null),mr=w(0);function Gh(e,t){e=Nl,V(mr,e),V(Jn,t),Nl=e|t.baseLanes}function bc(){V(mr,Nl),V(Jn,Jn.current)}function yc(){Nl=mr.current,Y(Jn),Y(mr)}var ma=w(null),Ra=null;function Hl(e){var t=e.alternate;V(Ct,Ct.current&1),V(ma,e),Ra===null&&(t===null||Jn.current!==null||t.memoizedState!==null)&&(Ra=e)}function vc(e){V(Ct,Ct.current),V(ma,e),Ra===null&&(Ra=e)}function qh(e){e.tag===22?(V(Ct,Ct.current),V(ma,e),Ra===null&&(Ra=e)):Gl()}function Gl(){V(Ct,Ct.current),V(ma,ma.current)}function fa(e){Y(ma),Ra===e&&(Ra=null),Y(Ct)}var Ct=w(0);function fr(e){for(var t=e;t!==null;){if(t.tag===13){var a=t.memoizedState;if(a!==null&&(a=a.dehydrated,a===null||Ad(a)||Ed(a)))return t}else if(t.tag===19&&(t.memoizedProps.revealOrder==="forwards"||t.memoizedProps.revealOrder==="backwards"||t.memoizedProps.revealOrder==="unstable_legacy-backwards"||t.memoizedProps.revealOrder==="together")){if((t.flags&128)!==0)return t}else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var fl=0,qe=null,dt=null,Ot=null,pr=!1,Wn=!1,Nn=!1,xr=0,Qs=0,Fn=null,Pg=0;function Et(){throw Error(c(321))}function wc(e,t){if(t===null)return!1;for(var a=0;a<t.length&&a<e.length;a++)if(!ua(e[a],t[a]))return!1;return!0}function Nc(e,t,a,n,s,r){return fl=r,qe=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,R.H=e===null||e.memoizedState===null?km:Uc,Nn=!1,r=a(n,s),Nn=!1,Wn&&(r=Yh(t,a,n,s)),Ih(e),r}function Ih(e){R.H=Ps;var t=dt!==null&&dt.next!==null;if(fl=0,Ot=dt=qe=null,pr=!1,Qs=0,Fn=null,t)throw Error(c(300));e===null||zt||(e=e.dependencies,e!==null&&ir(e)&&(zt=!0))}function Yh(e,t,a,n){qe=e;var s=0;do{if(Wn&&(Fn=null),Qs=0,Wn=!1,25<=s)throw Error(c(301));if(s+=1,Ot=dt=null,e.updateQueue!=null){var r=e.updateQueue;r.lastEffect=null,r.events=null,r.stores=null,r.memoCache!=null&&(r.memoCache.index=0)}R.H=Am,r=t(a,n)}while(Wn);return r}function Jg(){var e=R.H,t=e.useState()[0];return t=typeof t.then=="function"?Zs(t):t,e=e.useState()[0],(dt!==null?dt.memoizedState:null)!==e&&(qe.flags|=1024),t}function jc(){var e=xr!==0;return xr=0,e}function Sc(e,t,a){t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~a}function kc(e){if(pr){for(e=e.memoizedState;e!==null;){var t=e.queue;t!==null&&(t.pending=null),e=e.next}pr=!1}fl=0,Ot=dt=qe=null,Wn=!1,Qs=xr=0,Fn=null}function Pt(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Ot===null?qe.memoizedState=Ot=e:Ot=Ot.next=e,Ot}function _t(){if(dt===null){var e=qe.alternate;e=e!==null?e.memoizedState:null}else e=dt.next;var t=Ot===null?qe.memoizedState:Ot.next;if(t!==null)Ot=t,dt=e;else{if(e===null)throw qe.alternate===null?Error(c(467)):Error(c(310));dt=e,e={memoizedState:dt.memoizedState,baseState:dt.baseState,baseQueue:dt.baseQueue,queue:dt.queue,next:null},Ot===null?qe.memoizedState=Ot=e:Ot=Ot.next=e}return Ot}function gr(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function Zs(e){var t=Qs;return Qs+=1,Fn===null&&(Fn=[]),e=Oh(Fn,e,t),t=qe,(Ot===null?t.memoizedState:Ot.next)===null&&(t=t.alternate,R.H=t===null||t.memoizedState===null?km:Uc),e}function br(e){if(e!==null&&typeof e=="object"){if(typeof e.then=="function")return Zs(e);if(e.$$typeof===ge)return Yt(e)}throw Error(c(438,String(e)))}function Ac(e){var t=null,a=qe.updateQueue;if(a!==null&&(t=a.memoCache),t==null){var n=qe.alternate;n!==null&&(n=n.updateQueue,n!==null&&(n=n.memoCache,n!=null&&(t={data:n.data.map(function(s){return s.slice()}),index:0})))}if(t==null&&(t={data:[],index:0}),a===null&&(a=gr(),qe.updateQueue=a),a.memoCache=t,a=t.data[t.index],a===void 0)for(a=t.data[t.index]=Array(e),n=0;n<e;n++)a[n]=J;return t.index++,a}function pl(e,t){return typeof t=="function"?t(e):t}function yr(e){var t=_t();return Ec(t,dt,e)}function Ec(e,t,a){var n=e.queue;if(n===null)throw Error(c(311));n.lastRenderedReducer=a;var s=e.baseQueue,r=n.pending;if(r!==null){if(s!==null){var u=s.next;s.next=r.next,r.next=u}t.baseQueue=s=r,n.pending=null}if(r=e.baseState,s===null)e.memoizedState=r;else{t=s.next;var p=u=null,j=null,B=t,ee=!1;do{var re=B.lane&-536870913;if(re!==B.lane?(We&re)===re:(fl&re)===re){var G=B.revertLane;if(G===0)j!==null&&(j=j.next={lane:0,revertLane:0,gesture:null,action:B.action,hasEagerState:B.hasEagerState,eagerState:B.eagerState,next:null}),re===Qn&&(ee=!0);else if((fl&G)===G){B=B.next,G===Qn&&(ee=!0);continue}else re={lane:0,revertLane:B.revertLane,gesture:null,action:B.action,hasEagerState:B.hasEagerState,eagerState:B.eagerState,next:null},j===null?(p=j=re,u=r):j=j.next=re,qe.lanes|=G,Yl|=G;re=B.action,Nn&&a(r,re),r=B.hasEagerState?B.eagerState:a(r,re)}else G={lane:re,revertLane:B.revertLane,gesture:B.gesture,action:B.action,hasEagerState:B.hasEagerState,eagerState:B.eagerState,next:null},j===null?(p=j=G,u=r):j=j.next=G,qe.lanes|=re,Yl|=re;B=B.next}while(B!==null&&B!==t);if(j===null?u=r:j.next=p,!ua(r,e.memoizedState)&&(zt=!0,ee&&(a=Zn,a!==null)))throw a;e.memoizedState=r,e.baseState=u,e.baseQueue=j,n.lastRenderedState=r}return s===null&&(n.lanes=0),[e.memoizedState,n.dispatch]}function Tc(e){var t=_t(),a=t.queue;if(a===null)throw Error(c(311));a.lastRenderedReducer=e;var n=a.dispatch,s=a.pending,r=t.memoizedState;if(s!==null){a.pending=null;var u=s=s.next;do r=e(r,u.action),u=u.next;while(u!==s);ua(r,t.memoizedState)||(zt=!0),t.memoizedState=r,t.baseQueue===null&&(t.baseState=r),a.lastRenderedState=r}return[r,n]}function Vh(e,t,a){var n=qe,s=_t(),r=tt;if(r){if(a===void 0)throw Error(c(407));a=a()}else a=t();var u=!ua((dt||s).memoizedState,a);if(u&&(s.memoizedState=a,zt=!0),s=s.queue,Dc(Zh.bind(null,n,s,e),[e]),s.getSnapshot!==t||u||Ot!==null&&Ot.memoizedState.tag&1){if(n.flags|=2048,es(9,{destroy:void 0},Qh.bind(null,n,s,a,t),null),mt===null)throw Error(c(349));r||(fl&127)!==0||Xh(n,t,a)}return a}function Xh(e,t,a){e.flags|=16384,e={getSnapshot:t,value:a},t=qe.updateQueue,t===null?(t=gr(),qe.updateQueue=t,t.stores=[e]):(a=t.stores,a===null?t.stores=[e]:a.push(e))}function Qh(e,t,a,n){t.value=a,t.getSnapshot=n,Kh(t)&&Ph(e)}function Zh(e,t,a){return a(function(){Kh(t)&&Ph(e)})}function Kh(e){var t=e.getSnapshot;e=e.value;try{var a=t();return!ua(e,a)}catch{return!0}}function Ph(e){var t=mn(e,2);t!==null&&ca(t,e,2)}function Cc(e){var t=Pt();if(typeof e=="function"){var a=e;if(e=a(),Nn){Ze(!0);try{a()}finally{Ze(!1)}}}return t.memoizedState=t.baseState=e,t.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:pl,lastRenderedState:e},t}function Jh(e,t,a,n){return e.baseState=a,Ec(e,dt,typeof n=="function"?n:pl)}function Wg(e,t,a,n,s){if(Nr(e))throw Error(c(485));if(e=t.action,e!==null){var r={payload:s,action:e,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(u){r.listeners.push(u)}};R.T!==null?a(!0):r.isTransition=!1,n(r),a=t.pending,a===null?(r.next=t.pending=r,Wh(t,r)):(r.next=a.next,t.pending=a.next=r)}}function Wh(e,t){var a=t.action,n=t.payload,s=e.state;if(t.isTransition){var r=R.T,u={};R.T=u;try{var p=a(s,n),j=R.S;j!==null&&j(u,p),Fh(e,t,p)}catch(B){_c(e,t,B)}finally{r!==null&&u.types!==null&&(r.types=u.types),R.T=r}}else try{r=a(s,n),Fh(e,t,r)}catch(B){_c(e,t,B)}}function Fh(e,t,a){a!==null&&typeof a=="object"&&typeof a.then=="function"?a.then(function(n){em(e,t,n)},function(n){return _c(e,t,n)}):em(e,t,a)}function em(e,t,a){t.status="fulfilled",t.value=a,tm(t),e.state=a,t=e.pending,t!==null&&(a=t.next,a===t?e.pending=null:(a=a.next,t.next=a,Wh(e,a)))}function _c(e,t,a){var n=e.pending;if(e.pending=null,n!==null){n=n.next;do t.status="rejected",t.reason=a,tm(t),t=t.next;while(t!==n)}e.action=null}function tm(e){e=e.listeners;for(var t=0;t<e.length;t++)(0,e[t])()}function am(e,t){return t}function lm(e,t){if(tt){var a=mt.formState;if(a!==null){e:{var n=qe;if(tt){if(xt){t:{for(var s=xt,r=Ma;s.nodeType!==8;){if(!r){s=null;break t}if(s=Oa(s.nextSibling),s===null){s=null;break t}}r=s.data,s=r==="F!"||r==="F"?s:null}if(s){xt=Oa(s.nextSibling),n=s.data==="F!";break e}}zl(n)}n=!1}n&&(t=a[0])}}return a=Pt(),a.memoizedState=a.baseState=t,n={pending:null,lanes:0,dispatch:null,lastRenderedReducer:am,lastRenderedState:t},a.queue=n,a=Nm.bind(null,qe,n),n.dispatch=a,n=Cc(!1),r=Lc.bind(null,qe,!1,n.queue),n=Pt(),s={state:t,dispatch:null,action:e,pending:null},n.queue=s,a=Wg.bind(null,qe,s,r,a),s.dispatch=a,n.memoizedState=e,[t,a,!1]}function nm(e){var t=_t();return sm(t,dt,e)}function sm(e,t,a){if(t=Ec(e,t,am)[0],e=yr(pl)[0],typeof t=="object"&&t!==null&&typeof t.then=="function")try{var n=Zs(t)}catch(u){throw u===Kn?cr:u}else n=t;t=_t();var s=t.queue,r=s.dispatch;return a!==t.memoizedState&&(qe.flags|=2048,es(9,{destroy:void 0},Fg.bind(null,s,a),null)),[n,r,e]}function Fg(e,t){e.action=t}function im(e){var t=_t(),a=dt;if(a!==null)return sm(t,a,e);_t(),t=t.memoizedState,a=_t();var n=a.queue.dispatch;return a.memoizedState=e,[t,n,!1]}function es(e,t,a,n){return e={tag:e,create:a,deps:n,inst:t,next:null},t=qe.updateQueue,t===null&&(t=gr(),qe.updateQueue=t),a=t.lastEffect,a===null?t.lastEffect=e.next=e:(n=a.next,a.next=e,e.next=n,t.lastEffect=e),e}function rm(){return _t().memoizedState}function vr(e,t,a,n){var s=Pt();qe.flags|=e,s.memoizedState=es(1|t,{destroy:void 0},a,n===void 0?null:n)}function wr(e,t,a,n){var s=_t();n=n===void 0?null:n;var r=s.memoizedState.inst;dt!==null&&n!==null&&wc(n,dt.memoizedState.deps)?s.memoizedState=es(t,r,a,n):(qe.flags|=e,s.memoizedState=es(1|t,r,a,n))}function om(e,t){vr(8390656,8,e,t)}function Dc(e,t){wr(2048,8,e,t)}function e0(e){qe.flags|=4;var t=qe.updateQueue;if(t===null)t=gr(),qe.updateQueue=t,t.events=[e];else{var a=t.events;a===null?t.events=[e]:a.push(e)}}function cm(e){var t=_t().memoizedState;return e0({ref:t,nextImpl:e}),function(){if((nt&2)!==0)throw Error(c(440));return t.impl.apply(void 0,arguments)}}function dm(e,t){return wr(4,2,e,t)}function um(e,t){return wr(4,4,e,t)}function hm(e,t){if(typeof t=="function"){e=e();var a=t(e);return function(){typeof a=="function"?a():t(null)}}if(t!=null)return e=e(),t.current=e,function(){t.current=null}}function mm(e,t,a){a=a!=null?a.concat([e]):null,wr(4,4,hm.bind(null,t,e),a)}function Mc(){}function fm(e,t){var a=_t();t=t===void 0?null:t;var n=a.memoizedState;return t!==null&&wc(t,n[1])?n[0]:(a.memoizedState=[e,t],e)}function pm(e,t){var a=_t();t=t===void 0?null:t;var n=a.memoizedState;if(t!==null&&wc(t,n[1]))return n[0];if(n=e(),Nn){Ze(!0);try{e()}finally{Ze(!1)}}return a.memoizedState=[n,t],n}function Rc(e,t,a){return a===void 0||(fl&1073741824)!==0&&(We&261930)===0?e.memoizedState=t:(e.memoizedState=a,e=gf(),qe.lanes|=e,Yl|=e,a)}function xm(e,t,a,n){return ua(a,t)?a:Jn.current!==null?(e=Rc(e,a,n),ua(e,t)||(zt=!0),e):(fl&42)===0||(fl&1073741824)!==0&&(We&261930)===0?(zt=!0,e.memoizedState=a):(e=gf(),qe.lanes|=e,Yl|=e,t)}function gm(e,t,a,n,s){var r=W.p;W.p=r!==0&&8>r?r:8;var u=R.T,p={};R.T=p,Lc(e,!1,t,a);try{var j=s(),B=R.S;if(B!==null&&B(p,j),j!==null&&typeof j=="object"&&typeof j.then=="function"){var ee=Kg(j,n);Ks(e,t,ee,ga(e))}else Ks(e,t,n,ga(e))}catch(re){Ks(e,t,{then:function(){},status:"rejected",reason:re},ga())}finally{W.p=r,u!==null&&p.types!==null&&(u.types=p.types),R.T=u}}function t0(){}function Oc(e,t,a,n){if(e.tag!==5)throw Error(c(476));var s=bm(e).queue;gm(e,s,t,me,a===null?t0:function(){return ym(e),a(n)})}function bm(e){var t=e.memoizedState;if(t!==null)return t;t={memoizedState:me,baseState:me,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:pl,lastRenderedState:me},next:null};var a={};return t.next={memoizedState:a,baseState:a,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:pl,lastRenderedState:a},next:null},e.memoizedState=t,e=e.alternate,e!==null&&(e.memoizedState=t),t}function ym(e){var t=bm(e);t.next===null&&(t=e.alternate.memoizedState),Ks(e,t.next.queue,{},ga())}function zc(){return Yt(hi)}function vm(){return _t().memoizedState}function wm(){return _t().memoizedState}function a0(e){for(var t=e.return;t!==null;){switch(t.tag){case 24:case 3:var a=ga();e=Bl(a);var n=$l(t,e,a);n!==null&&(ca(n,t,a),Ys(n,t,a)),t={cache:dc()},e.payload=t;return}t=t.return}}function l0(e,t,a){var n=ga();a={lane:n,revertLane:0,gesture:null,action:a,hasEagerState:!1,eagerState:null,next:null},Nr(e)?jm(t,a):(a=Fo(e,t,a,n),a!==null&&(ca(a,e,n),Sm(a,t,n)))}function Nm(e,t,a){var n=ga();Ks(e,t,a,n)}function Ks(e,t,a,n){var s={lane:n,revertLane:0,gesture:null,action:a,hasEagerState:!1,eagerState:null,next:null};if(Nr(e))jm(t,s);else{var r=e.alternate;if(e.lanes===0&&(r===null||r.lanes===0)&&(r=t.lastRenderedReducer,r!==null))try{var u=t.lastRenderedState,p=r(u,a);if(s.hasEagerState=!0,s.eagerState=p,ua(p,u))return ar(e,t,s,0),mt===null&&tr(),!1}catch{}finally{}if(a=Fo(e,t,s,n),a!==null)return ca(a,e,n),Sm(a,t,n),!0}return!1}function Lc(e,t,a,n){if(n={lane:2,revertLane:fd(),gesture:null,action:n,hasEagerState:!1,eagerState:null,next:null},Nr(e)){if(t)throw Error(c(479))}else t=Fo(e,a,n,2),t!==null&&ca(t,e,2)}function Nr(e){var t=e.alternate;return e===qe||t!==null&&t===qe}function jm(e,t){Wn=pr=!0;var a=e.pending;a===null?t.next=t:(t.next=a.next,a.next=t),e.pending=t}function Sm(e,t,a){if((a&4194048)!==0){var n=t.lanes;n&=e.pendingLanes,a|=n,t.lanes=a,Ss(e,a)}}var Ps={readContext:Yt,use:br,useCallback:Et,useContext:Et,useEffect:Et,useImperativeHandle:Et,useLayoutEffect:Et,useInsertionEffect:Et,useMemo:Et,useReducer:Et,useRef:Et,useState:Et,useDebugValue:Et,useDeferredValue:Et,useTransition:Et,useSyncExternalStore:Et,useId:Et,useHostTransitionStatus:Et,useFormState:Et,useActionState:Et,useOptimistic:Et,useMemoCache:Et,useCacheRefresh:Et};Ps.useEffectEvent=Et;var km={readContext:Yt,use:br,useCallback:function(e,t){return Pt().memoizedState=[e,t===void 0?null:t],e},useContext:Yt,useEffect:om,useImperativeHandle:function(e,t,a){a=a!=null?a.concat([e]):null,vr(4194308,4,hm.bind(null,t,e),a)},useLayoutEffect:function(e,t){return vr(4194308,4,e,t)},useInsertionEffect:function(e,t){vr(4,2,e,t)},useMemo:function(e,t){var a=Pt();t=t===void 0?null:t;var n=e();if(Nn){Ze(!0);try{e()}finally{Ze(!1)}}return a.memoizedState=[n,t],n},useReducer:function(e,t,a){var n=Pt();if(a!==void 0){var s=a(t);if(Nn){Ze(!0);try{a(t)}finally{Ze(!1)}}}else s=t;return n.memoizedState=n.baseState=s,e={pending:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:s},n.queue=e,e=e.dispatch=l0.bind(null,qe,e),[n.memoizedState,e]},useRef:function(e){var t=Pt();return e={current:e},t.memoizedState=e},useState:function(e){e=Cc(e);var t=e.queue,a=Nm.bind(null,qe,t);return t.dispatch=a,[e.memoizedState,a]},useDebugValue:Mc,useDeferredValue:function(e,t){var a=Pt();return Rc(a,e,t)},useTransition:function(){var e=Cc(!1);return e=gm.bind(null,qe,e.queue,!0,!1),Pt().memoizedState=e,[!1,e]},useSyncExternalStore:function(e,t,a){var n=qe,s=Pt();if(tt){if(a===void 0)throw Error(c(407));a=a()}else{if(a=t(),mt===null)throw Error(c(349));(We&127)!==0||Xh(n,t,a)}s.memoizedState=a;var r={value:a,getSnapshot:t};return s.queue=r,om(Zh.bind(null,n,r,e),[e]),n.flags|=2048,es(9,{destroy:void 0},Qh.bind(null,n,r,a,t),null),a},useId:function(){var e=Pt(),t=mt.identifierPrefix;if(tt){var a=Pa,n=Ka;a=(n&~(1<<32-fe(n)-1)).toString(32)+a,t="_"+t+"R_"+a,a=xr++,0<a&&(t+="H"+a.toString(32)),t+="_"}else a=Pg++,t="_"+t+"r_"+a.toString(32)+"_";return e.memoizedState=t},useHostTransitionStatus:zc,useFormState:lm,useActionState:lm,useOptimistic:function(e){var t=Pt();t.memoizedState=t.baseState=e;var a={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return t.queue=a,t=Lc.bind(null,qe,!0,a),a.dispatch=t,[e,t]},useMemoCache:Ac,useCacheRefresh:function(){return Pt().memoizedState=a0.bind(null,qe)},useEffectEvent:function(e){var t=Pt(),a={impl:e};return t.memoizedState=a,function(){if((nt&2)!==0)throw Error(c(440));return a.impl.apply(void 0,arguments)}}},Uc={readContext:Yt,use:br,useCallback:fm,useContext:Yt,useEffect:Dc,useImperativeHandle:mm,useInsertionEffect:dm,useLayoutEffect:um,useMemo:pm,useReducer:yr,useRef:rm,useState:function(){return yr(pl)},useDebugValue:Mc,useDeferredValue:function(e,t){var a=_t();return xm(a,dt.memoizedState,e,t)},useTransition:function(){var e=yr(pl)[0],t=_t().memoizedState;return[typeof e=="boolean"?e:Zs(e),t]},useSyncExternalStore:Vh,useId:vm,useHostTransitionStatus:zc,useFormState:nm,useActionState:nm,useOptimistic:function(e,t){var a=_t();return Jh(a,dt,e,t)},useMemoCache:Ac,useCacheRefresh:wm};Uc.useEffectEvent=cm;var Am={readContext:Yt,use:br,useCallback:fm,useContext:Yt,useEffect:Dc,useImperativeHandle:mm,useInsertionEffect:dm,useLayoutEffect:um,useMemo:pm,useReducer:Tc,useRef:rm,useState:function(){return Tc(pl)},useDebugValue:Mc,useDeferredValue:function(e,t){var a=_t();return dt===null?Rc(a,e,t):xm(a,dt.memoizedState,e,t)},useTransition:function(){var e=Tc(pl)[0],t=_t().memoizedState;return[typeof e=="boolean"?e:Zs(e),t]},useSyncExternalStore:Vh,useId:vm,useHostTransitionStatus:zc,useFormState:im,useActionState:im,useOptimistic:function(e,t){var a=_t();return dt!==null?Jh(a,dt,e,t):(a.baseState=e,[e,a.queue.dispatch])},useMemoCache:Ac,useCacheRefresh:wm};Am.useEffectEvent=cm;function Bc(e,t,a,n){t=e.memoizedState,a=a(n,t),a=a==null?t:E({},t,a),e.memoizedState=a,e.lanes===0&&(e.updateQueue.baseState=a)}var $c={enqueueSetState:function(e,t,a){e=e._reactInternals;var n=ga(),s=Bl(n);s.payload=t,a!=null&&(s.callback=a),t=$l(e,s,n),t!==null&&(ca(t,e,n),Ys(t,e,n))},enqueueReplaceState:function(e,t,a){e=e._reactInternals;var n=ga(),s=Bl(n);s.tag=1,s.payload=t,a!=null&&(s.callback=a),t=$l(e,s,n),t!==null&&(ca(t,e,n),Ys(t,e,n))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var a=ga(),n=Bl(a);n.tag=2,t!=null&&(n.callback=t),t=$l(e,n,a),t!==null&&(ca(t,e,a),Ys(t,e,a))}};function Em(e,t,a,n,s,r,u){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(n,r,u):t.prototype&&t.prototype.isPureReactComponent?!Ls(a,n)||!Ls(s,r):!0}function Tm(e,t,a,n){e=t.state,typeof t.componentWillReceiveProps=="function"&&t.componentWillReceiveProps(a,n),typeof t.UNSAFE_componentWillReceiveProps=="function"&&t.UNSAFE_componentWillReceiveProps(a,n),t.state!==e&&$c.enqueueReplaceState(t,t.state,null)}function jn(e,t){var a=t;if("ref"in t){a={};for(var n in t)n!=="ref"&&(a[n]=t[n])}if(e=e.defaultProps){a===t&&(a=E({},a));for(var s in e)a[s]===void 0&&(a[s]=e[s])}return a}function Cm(e){er(e)}function _m(e){console.error(e)}function Dm(e){er(e)}function jr(e,t){try{var a=e.onUncaughtError;a(t.value,{componentStack:t.stack})}catch(n){setTimeout(function(){throw n})}}function Mm(e,t,a){try{var n=e.onCaughtError;n(a.value,{componentStack:a.stack,errorBoundary:t.tag===1?t.stateNode:null})}catch(s){setTimeout(function(){throw s})}}function Hc(e,t,a){return a=Bl(a),a.tag=3,a.payload={element:null},a.callback=function(){jr(e,t)},a}function Rm(e){return e=Bl(e),e.tag=3,e}function Om(e,t,a,n){var s=a.type.getDerivedStateFromError;if(typeof s=="function"){var r=n.value;e.payload=function(){return s(r)},e.callback=function(){Mm(t,a,n)}}var u=a.stateNode;u!==null&&typeof u.componentDidCatch=="function"&&(e.callback=function(){Mm(t,a,n),typeof s!="function"&&(Vl===null?Vl=new Set([this]):Vl.add(this));var p=n.stack;this.componentDidCatch(n.value,{componentStack:p!==null?p:""})})}function n0(e,t,a,n,s){if(a.flags|=32768,n!==null&&typeof n=="object"&&typeof n.then=="function"){if(t=a.alternate,t!==null&&Xn(t,a,s,!0),a=ma.current,a!==null){switch(a.tag){case 31:case 13:return Ra===null?zr():a.alternate===null&&Tt===0&&(Tt=3),a.flags&=-257,a.flags|=65536,a.lanes=s,n===dr?a.flags|=16384:(t=a.updateQueue,t===null?a.updateQueue=new Set([n]):t.add(n),ud(e,n,s)),!1;case 22:return a.flags|=65536,n===dr?a.flags|=16384:(t=a.updateQueue,t===null?(t={transitions:null,markerInstances:null,retryQueue:new Set([n])},a.updateQueue=t):(a=t.retryQueue,a===null?t.retryQueue=new Set([n]):a.add(n)),ud(e,n,s)),!1}throw Error(c(435,a.tag))}return ud(e,n,s),zr(),!1}if(tt)return t=ma.current,t!==null?((t.flags&65536)===0&&(t.flags|=256),t.flags|=65536,t.lanes=s,n!==sc&&(e=Error(c(422),{cause:n}),$s(Ca(e,a)))):(n!==sc&&(t=Error(c(423),{cause:n}),$s(Ca(t,a))),e=e.current.alternate,e.flags|=65536,s&=-s,e.lanes|=s,n=Ca(n,a),s=Hc(e.stateNode,n,s),xc(e,s),Tt!==4&&(Tt=2)),!1;var r=Error(c(520),{cause:n});if(r=Ca(r,a),ni===null?ni=[r]:ni.push(r),Tt!==4&&(Tt=2),t===null)return!0;n=Ca(n,a),a=t;do{switch(a.tag){case 3:return a.flags|=65536,e=s&-s,a.lanes|=e,e=Hc(a.stateNode,n,e),xc(a,e),!1;case 1:if(t=a.type,r=a.stateNode,(a.flags&128)===0&&(typeof t.getDerivedStateFromError=="function"||r!==null&&typeof r.componentDidCatch=="function"&&(Vl===null||!Vl.has(r))))return a.flags|=65536,s&=-s,a.lanes|=s,s=Rm(s),Om(s,e,a,n),xc(a,s),!1}a=a.return}while(a!==null);return!1}var Gc=Error(c(461)),zt=!1;function Vt(e,t,a,n){t.child=e===null?Bh(t,null,a,n):wn(t,e.child,a,n)}function zm(e,t,a,n,s){a=a.render;var r=t.ref;if("ref"in n){var u={};for(var p in n)p!=="ref"&&(u[p]=n[p])}else u=n;return gn(t),n=Nc(e,t,a,u,r,s),p=jc(),e!==null&&!zt?(Sc(e,t,s),xl(e,t,s)):(tt&&p&&lc(t),t.flags|=1,Vt(e,t,n,s),t.child)}function Lm(e,t,a,n,s){if(e===null){var r=a.type;return typeof r=="function"&&!ec(r)&&r.defaultProps===void 0&&a.compare===null?(t.tag=15,t.type=r,Um(e,t,r,n,s)):(e=nr(a.type,null,n,t,t.mode,s),e.ref=t.ref,e.return=t,t.child=e)}if(r=e.child,!Kc(e,s)){var u=r.memoizedProps;if(a=a.compare,a=a!==null?a:Ls,a(u,n)&&e.ref===t.ref)return xl(e,t,s)}return t.flags|=1,e=dl(r,n),e.ref=t.ref,e.return=t,t.child=e}function Um(e,t,a,n,s){if(e!==null){var r=e.memoizedProps;if(Ls(r,n)&&e.ref===t.ref)if(zt=!1,t.pendingProps=n=r,Kc(e,s))(e.flags&131072)!==0&&(zt=!0);else return t.lanes=e.lanes,xl(e,t,s)}return qc(e,t,a,n,s)}function Bm(e,t,a,n){var s=n.children,r=e!==null?e.memoizedState:null;if(e===null&&t.stateNode===null&&(t.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),n.mode==="hidden"){if((t.flags&128)!==0){if(r=r!==null?r.baseLanes|a:a,e!==null){for(n=t.child=e.child,s=0;n!==null;)s=s|n.lanes|n.childLanes,n=n.sibling;n=s&~r}else n=0,t.child=null;return $m(e,t,r,a,n)}if((a&536870912)!==0)t.memoizedState={baseLanes:0,cachePool:null},e!==null&&or(t,r!==null?r.cachePool:null),r!==null?Gh(t,r):bc(),qh(t);else return n=t.lanes=536870912,$m(e,t,r!==null?r.baseLanes|a:a,a,n)}else r!==null?(or(t,r.cachePool),Gh(t,r),Gl(),t.memoizedState=null):(e!==null&&or(t,null),bc(),Gl());return Vt(e,t,s,a),t.child}function Js(e,t){return e!==null&&e.tag===22||t.stateNode!==null||(t.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),t.sibling}function $m(e,t,a,n,s){var r=hc();return r=r===null?null:{parent:Rt._currentValue,pool:r},t.memoizedState={baseLanes:a,cachePool:r},e!==null&&or(t,null),bc(),qh(t),e!==null&&Xn(e,t,n,!0),t.childLanes=s,null}function Sr(e,t){return t=Ar({mode:t.mode,children:t.children},e.mode),t.ref=e.ref,e.child=t,t.return=e,t}function Hm(e,t,a){return wn(t,e.child,null,a),e=Sr(t,t.pendingProps),e.flags|=2,fa(t),t.memoizedState=null,e}function s0(e,t,a){var n=t.pendingProps,s=(t.flags&128)!==0;if(t.flags&=-129,e===null){if(tt){if(n.mode==="hidden")return e=Sr(t,n),t.lanes=536870912,Js(null,e);if(vc(t),(e=xt)?(e=Ff(e,Ma),e=e!==null&&e.data==="&"?e:null,e!==null&&(t.memoizedState={dehydrated:e,treeContext:Rl!==null?{id:Ka,overflow:Pa}:null,retryLane:536870912,hydrationErrors:null},a=jh(e),a.return=t,t.child=a,It=t,xt=null)):e=null,e===null)throw zl(t);return t.lanes=536870912,null}return Sr(t,n)}var r=e.memoizedState;if(r!==null){var u=r.dehydrated;if(vc(t),s)if(t.flags&256)t.flags&=-257,t=Hm(e,t,a);else if(t.memoizedState!==null)t.child=e.child,t.flags|=128,t=null;else throw Error(c(558));else if(zt||Xn(e,t,a,!1),s=(a&e.childLanes)!==0,zt||s){if(n=mt,n!==null&&(u=Hi(n,a),u!==0&&u!==r.retryLane))throw r.retryLane=u,mn(e,u),ca(n,e,u),Gc;zr(),t=Hm(e,t,a)}else e=r.treeContext,xt=Oa(u.nextSibling),It=t,tt=!0,Ol=null,Ma=!1,e!==null&&Ah(t,e),t=Sr(t,n),t.flags|=4096;return t}return e=dl(e.child,{mode:n.mode,children:n.children}),e.ref=t.ref,t.child=e,e.return=t,e}function kr(e,t){var a=t.ref;if(a===null)e!==null&&e.ref!==null&&(t.flags|=4194816);else{if(typeof a!="function"&&typeof a!="object")throw Error(c(284));(e===null||e.ref!==a)&&(t.flags|=4194816)}}function qc(e,t,a,n,s){return gn(t),a=Nc(e,t,a,n,void 0,s),n=jc(),e!==null&&!zt?(Sc(e,t,s),xl(e,t,s)):(tt&&n&&lc(t),t.flags|=1,Vt(e,t,a,s),t.child)}function Gm(e,t,a,n,s,r){return gn(t),t.updateQueue=null,a=Yh(t,n,a,s),Ih(e),n=jc(),e!==null&&!zt?(Sc(e,t,r),xl(e,t,r)):(tt&&n&&lc(t),t.flags|=1,Vt(e,t,a,r),t.child)}function qm(e,t,a,n,s){if(gn(t),t.stateNode===null){var r=qn,u=a.contextType;typeof u=="object"&&u!==null&&(r=Yt(u)),r=new a(n,r),t.memoizedState=r.state!==null&&r.state!==void 0?r.state:null,r.updater=$c,t.stateNode=r,r._reactInternals=t,r=t.stateNode,r.props=n,r.state=t.memoizedState,r.refs={},fc(t),u=a.contextType,r.context=typeof u=="object"&&u!==null?Yt(u):qn,r.state=t.memoizedState,u=a.getDerivedStateFromProps,typeof u=="function"&&(Bc(t,a,u,n),r.state=t.memoizedState),typeof a.getDerivedStateFromProps=="function"||typeof r.getSnapshotBeforeUpdate=="function"||typeof r.UNSAFE_componentWillMount!="function"&&typeof r.componentWillMount!="function"||(u=r.state,typeof r.componentWillMount=="function"&&r.componentWillMount(),typeof r.UNSAFE_componentWillMount=="function"&&r.UNSAFE_componentWillMount(),u!==r.state&&$c.enqueueReplaceState(r,r.state,null),Xs(t,n,r,s),Vs(),r.state=t.memoizedState),typeof r.componentDidMount=="function"&&(t.flags|=4194308),n=!0}else if(e===null){r=t.stateNode;var p=t.memoizedProps,j=jn(a,p);r.props=j;var B=r.context,ee=a.contextType;u=qn,typeof ee=="object"&&ee!==null&&(u=Yt(ee));var re=a.getDerivedStateFromProps;ee=typeof re=="function"||typeof r.getSnapshotBeforeUpdate=="function",p=t.pendingProps!==p,ee||typeof r.UNSAFE_componentWillReceiveProps!="function"&&typeof r.componentWillReceiveProps!="function"||(p||B!==u)&&Tm(t,r,n,u),Ul=!1;var G=t.memoizedState;r.state=G,Xs(t,n,r,s),Vs(),B=t.memoizedState,p||G!==B||Ul?(typeof re=="function"&&(Bc(t,a,re,n),B=t.memoizedState),(j=Ul||Em(t,a,j,n,G,B,u))?(ee||typeof r.UNSAFE_componentWillMount!="function"&&typeof r.componentWillMount!="function"||(typeof r.componentWillMount=="function"&&r.componentWillMount(),typeof r.UNSAFE_componentWillMount=="function"&&r.UNSAFE_componentWillMount()),typeof r.componentDidMount=="function"&&(t.flags|=4194308)):(typeof r.componentDidMount=="function"&&(t.flags|=4194308),t.memoizedProps=n,t.memoizedState=B),r.props=n,r.state=B,r.context=u,n=j):(typeof r.componentDidMount=="function"&&(t.flags|=4194308),n=!1)}else{r=t.stateNode,pc(e,t),u=t.memoizedProps,ee=jn(a,u),r.props=ee,re=t.pendingProps,G=r.context,B=a.contextType,j=qn,typeof B=="object"&&B!==null&&(j=Yt(B)),p=a.getDerivedStateFromProps,(B=typeof p=="function"||typeof r.getSnapshotBeforeUpdate=="function")||typeof r.UNSAFE_componentWillReceiveProps!="function"&&typeof r.componentWillReceiveProps!="function"||(u!==re||G!==j)&&Tm(t,r,n,j),Ul=!1,G=t.memoizedState,r.state=G,Xs(t,n,r,s),Vs();var Q=t.memoizedState;u!==re||G!==Q||Ul||e!==null&&e.dependencies!==null&&ir(e.dependencies)?(typeof p=="function"&&(Bc(t,a,p,n),Q=t.memoizedState),(ee=Ul||Em(t,a,ee,n,G,Q,j)||e!==null&&e.dependencies!==null&&ir(e.dependencies))?(B||typeof r.UNSAFE_componentWillUpdate!="function"&&typeof r.componentWillUpdate!="function"||(typeof r.componentWillUpdate=="function"&&r.componentWillUpdate(n,Q,j),typeof r.UNSAFE_componentWillUpdate=="function"&&r.UNSAFE_componentWillUpdate(n,Q,j)),typeof r.componentDidUpdate=="function"&&(t.flags|=4),typeof r.getSnapshotBeforeUpdate=="function"&&(t.flags|=1024)):(typeof r.componentDidUpdate!="function"||u===e.memoizedProps&&G===e.memoizedState||(t.flags|=4),typeof r.getSnapshotBeforeUpdate!="function"||u===e.memoizedProps&&G===e.memoizedState||(t.flags|=1024),t.memoizedProps=n,t.memoizedState=Q),r.props=n,r.state=Q,r.context=j,n=ee):(typeof r.componentDidUpdate!="function"||u===e.memoizedProps&&G===e.memoizedState||(t.flags|=4),typeof r.getSnapshotBeforeUpdate!="function"||u===e.memoizedProps&&G===e.memoizedState||(t.flags|=1024),n=!1)}return r=n,kr(e,t),n=(t.flags&128)!==0,r||n?(r=t.stateNode,a=n&&typeof a.getDerivedStateFromError!="function"?null:r.render(),t.flags|=1,e!==null&&n?(t.child=wn(t,e.child,null,s),t.child=wn(t,null,a,s)):Vt(e,t,a,s),t.memoizedState=r.state,e=t.child):e=xl(e,t,s),e}function Im(e,t,a,n){return pn(),t.flags|=256,Vt(e,t,a,n),t.child}var Ic={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function Yc(e){return{baseLanes:e,cachePool:Mh()}}function Vc(e,t,a){return e=e!==null?e.childLanes&~a:0,t&&(e|=xa),e}function Ym(e,t,a){var n=t.pendingProps,s=!1,r=(t.flags&128)!==0,u;if((u=r)||(u=e!==null&&e.memoizedState===null?!1:(Ct.current&2)!==0),u&&(s=!0,t.flags&=-129),u=(t.flags&32)!==0,t.flags&=-33,e===null){if(tt){if(s?Hl(t):Gl(),(e=xt)?(e=Ff(e,Ma),e=e!==null&&e.data!=="&"?e:null,e!==null&&(t.memoizedState={dehydrated:e,treeContext:Rl!==null?{id:Ka,overflow:Pa}:null,retryLane:536870912,hydrationErrors:null},a=jh(e),a.return=t,t.child=a,It=t,xt=null)):e=null,e===null)throw zl(t);return Ed(e)?t.lanes=32:t.lanes=536870912,null}var p=n.children;return n=n.fallback,s?(Gl(),s=t.mode,p=Ar({mode:"hidden",children:p},s),n=fn(n,s,a,null),p.return=t,n.return=t,p.sibling=n,t.child=p,n=t.child,n.memoizedState=Yc(a),n.childLanes=Vc(e,u,a),t.memoizedState=Ic,Js(null,n)):(Hl(t),Xc(t,p))}var j=e.memoizedState;if(j!==null&&(p=j.dehydrated,p!==null)){if(r)t.flags&256?(Hl(t),t.flags&=-257,t=Qc(e,t,a)):t.memoizedState!==null?(Gl(),t.child=e.child,t.flags|=128,t=null):(Gl(),p=n.fallback,s=t.mode,n=Ar({mode:"visible",children:n.children},s),p=fn(p,s,a,null),p.flags|=2,n.return=t,p.return=t,n.sibling=p,t.child=n,wn(t,e.child,null,a),n=t.child,n.memoizedState=Yc(a),n.childLanes=Vc(e,u,a),t.memoizedState=Ic,t=Js(null,n));else if(Hl(t),Ed(p)){if(u=p.nextSibling&&p.nextSibling.dataset,u)var B=u.dgst;u=B,n=Error(c(419)),n.stack="",n.digest=u,$s({value:n,source:null,stack:null}),t=Qc(e,t,a)}else if(zt||Xn(e,t,a,!1),u=(a&e.childLanes)!==0,zt||u){if(u=mt,u!==null&&(n=Hi(u,a),n!==0&&n!==j.retryLane))throw j.retryLane=n,mn(e,n),ca(u,e,n),Gc;Ad(p)||zr(),t=Qc(e,t,a)}else Ad(p)?(t.flags|=192,t.child=e.child,t=null):(e=j.treeContext,xt=Oa(p.nextSibling),It=t,tt=!0,Ol=null,Ma=!1,e!==null&&Ah(t,e),t=Xc(t,n.children),t.flags|=4096);return t}return s?(Gl(),p=n.fallback,s=t.mode,j=e.child,B=j.sibling,n=dl(j,{mode:"hidden",children:n.children}),n.subtreeFlags=j.subtreeFlags&65011712,B!==null?p=dl(B,p):(p=fn(p,s,a,null),p.flags|=2),p.return=t,n.return=t,n.sibling=p,t.child=n,Js(null,n),n=t.child,p=e.child.memoizedState,p===null?p=Yc(a):(s=p.cachePool,s!==null?(j=Rt._currentValue,s=s.parent!==j?{parent:j,pool:j}:s):s=Mh(),p={baseLanes:p.baseLanes|a,cachePool:s}),n.memoizedState=p,n.childLanes=Vc(e,u,a),t.memoizedState=Ic,Js(e.child,n)):(Hl(t),a=e.child,e=a.sibling,a=dl(a,{mode:"visible",children:n.children}),a.return=t,a.sibling=null,e!==null&&(u=t.deletions,u===null?(t.deletions=[e],t.flags|=16):u.push(e)),t.child=a,t.memoizedState=null,a)}function Xc(e,t){return t=Ar({mode:"visible",children:t},e.mode),t.return=e,e.child=t}function Ar(e,t){return e=ha(22,e,null,t),e.lanes=0,e}function Qc(e,t,a){return wn(t,e.child,null,a),e=Xc(t,t.pendingProps.children),e.flags|=2,t.memoizedState=null,e}function Vm(e,t,a){e.lanes|=t;var n=e.alternate;n!==null&&(n.lanes|=t),oc(e.return,t,a)}function Zc(e,t,a,n,s,r){var u=e.memoizedState;u===null?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:n,tail:a,tailMode:s,treeForkCount:r}:(u.isBackwards=t,u.rendering=null,u.renderingStartTime=0,u.last=n,u.tail=a,u.tailMode=s,u.treeForkCount=r)}function Xm(e,t,a){var n=t.pendingProps,s=n.revealOrder,r=n.tail;n=n.children;var u=Ct.current,p=(u&2)!==0;if(p?(u=u&1|2,t.flags|=128):u&=1,V(Ct,u),Vt(e,t,n,a),n=tt?Bs:0,!p&&e!==null&&(e.flags&128)!==0)e:for(e=t.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&Vm(e,a,t);else if(e.tag===19)Vm(e,a,t);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;e.sibling===null;){if(e.return===null||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}switch(s){case"forwards":for(a=t.child,s=null;a!==null;)e=a.alternate,e!==null&&fr(e)===null&&(s=a),a=a.sibling;a=s,a===null?(s=t.child,t.child=null):(s=a.sibling,a.sibling=null),Zc(t,!1,s,a,r,n);break;case"backwards":case"unstable_legacy-backwards":for(a=null,s=t.child,t.child=null;s!==null;){if(e=s.alternate,e!==null&&fr(e)===null){t.child=s;break}e=s.sibling,s.sibling=a,a=s,s=e}Zc(t,!0,a,null,r,n);break;case"together":Zc(t,!1,null,null,void 0,n);break;default:t.memoizedState=null}return t.child}function xl(e,t,a){if(e!==null&&(t.dependencies=e.dependencies),Yl|=t.lanes,(a&t.childLanes)===0)if(e!==null){if(Xn(e,t,a,!1),(a&t.childLanes)===0)return null}else return null;if(e!==null&&t.child!==e.child)throw Error(c(153));if(t.child!==null){for(e=t.child,a=dl(e,e.pendingProps),t.child=a,a.return=t;e.sibling!==null;)e=e.sibling,a=a.sibling=dl(e,e.pendingProps),a.return=t;a.sibling=null}return t.child}function Kc(e,t){return(e.lanes&t)!==0?!0:(e=e.dependencies,!!(e!==null&&ir(e)))}function i0(e,t,a){switch(t.tag){case 3:ie(t,t.stateNode.containerInfo),Ll(t,Rt,e.memoizedState.cache),pn();break;case 27:case 5:N(t);break;case 4:ie(t,t.stateNode.containerInfo);break;case 10:Ll(t,t.type,t.memoizedProps.value);break;case 31:if(t.memoizedState!==null)return t.flags|=128,vc(t),null;break;case 13:var n=t.memoizedState;if(n!==null)return n.dehydrated!==null?(Hl(t),t.flags|=128,null):(a&t.child.childLanes)!==0?Ym(e,t,a):(Hl(t),e=xl(e,t,a),e!==null?e.sibling:null);Hl(t);break;case 19:var s=(e.flags&128)!==0;if(n=(a&t.childLanes)!==0,n||(Xn(e,t,a,!1),n=(a&t.childLanes)!==0),s){if(n)return Xm(e,t,a);t.flags|=128}if(s=t.memoizedState,s!==null&&(s.rendering=null,s.tail=null,s.lastEffect=null),V(Ct,Ct.current),n)break;return null;case 22:return t.lanes=0,Bm(e,t,a,t.pendingProps);case 24:Ll(t,Rt,e.memoizedState.cache)}return xl(e,t,a)}function Qm(e,t,a){if(e!==null)if(e.memoizedProps!==t.pendingProps)zt=!0;else{if(!Kc(e,a)&&(t.flags&128)===0)return zt=!1,i0(e,t,a);zt=(e.flags&131072)!==0}else zt=!1,tt&&(t.flags&1048576)!==0&&kh(t,Bs,t.index);switch(t.lanes=0,t.tag){case 16:e:{var n=t.pendingProps;if(e=yn(t.elementType),t.type=e,typeof e=="function")ec(e)?(n=jn(e,n),t.tag=1,t=qm(null,t,e,n,a)):(t.tag=0,t=qc(null,t,e,n,a));else{if(e!=null){var s=e.$$typeof;if(s===q){t.tag=11,t=zm(null,t,e,n,a);break e}else if(s===D){t.tag=14,t=Lm(null,t,e,n,a);break e}}throw t=te(e)||e,Error(c(306,t,""))}}return t;case 0:return qc(e,t,t.type,t.pendingProps,a);case 1:return n=t.type,s=jn(n,t.pendingProps),qm(e,t,n,s,a);case 3:e:{if(ie(t,t.stateNode.containerInfo),e===null)throw Error(c(387));n=t.pendingProps;var r=t.memoizedState;s=r.element,pc(e,t),Xs(t,n,null,a);var u=t.memoizedState;if(n=u.cache,Ll(t,Rt,n),n!==r.cache&&cc(t,[Rt],a,!0),Vs(),n=u.element,r.isDehydrated)if(r={element:n,isDehydrated:!1,cache:u.cache},t.updateQueue.baseState=r,t.memoizedState=r,t.flags&256){t=Im(e,t,n,a);break e}else if(n!==s){s=Ca(Error(c(424)),t),$s(s),t=Im(e,t,n,a);break e}else{switch(e=t.stateNode.containerInfo,e.nodeType){case 9:e=e.body;break;default:e=e.nodeName==="HTML"?e.ownerDocument.body:e}for(xt=Oa(e.firstChild),It=t,tt=!0,Ol=null,Ma=!0,a=Bh(t,null,n,a),t.child=a;a;)a.flags=a.flags&-3|4096,a=a.sibling}else{if(pn(),n===s){t=xl(e,t,a);break e}Vt(e,t,n,a)}t=t.child}return t;case 26:return kr(e,t),e===null?(a=sp(t.type,null,t.pendingProps,null))?t.memoizedState=a:tt||(a=t.type,e=t.pendingProps,n=qr(S.current).createElement(a),n[Mt]=t,n[Nt]=e,Xt(n,a,e),Xe(n),t.stateNode=n):t.memoizedState=sp(t.type,e.memoizedProps,t.pendingProps,e.memoizedState),null;case 27:return N(t),e===null&&tt&&(n=t.stateNode=ap(t.type,t.pendingProps,S.current),It=t,Ma=!0,s=xt,Kl(t.type)?(Td=s,xt=Oa(n.firstChild)):xt=s),Vt(e,t,t.pendingProps.children,a),kr(e,t),e===null&&(t.flags|=4194304),t.child;case 5:return e===null&&tt&&((s=n=xt)&&(n=L0(n,t.type,t.pendingProps,Ma),n!==null?(t.stateNode=n,It=t,xt=Oa(n.firstChild),Ma=!1,s=!0):s=!1),s||zl(t)),N(t),s=t.type,r=t.pendingProps,u=e!==null?e.memoizedProps:null,n=r.children,jd(s,r)?n=null:u!==null&&jd(s,u)&&(t.flags|=32),t.memoizedState!==null&&(s=Nc(e,t,Jg,null,null,a),hi._currentValue=s),kr(e,t),Vt(e,t,n,a),t.child;case 6:return e===null&&tt&&((e=a=xt)&&(a=U0(a,t.pendingProps,Ma),a!==null?(t.stateNode=a,It=t,xt=null,e=!0):e=!1),e||zl(t)),null;case 13:return Ym(e,t,a);case 4:return ie(t,t.stateNode.containerInfo),n=t.pendingProps,e===null?t.child=wn(t,null,n,a):Vt(e,t,n,a),t.child;case 11:return zm(e,t,t.type,t.pendingProps,a);case 7:return Vt(e,t,t.pendingProps,a),t.child;case 8:return Vt(e,t,t.pendingProps.children,a),t.child;case 12:return Vt(e,t,t.pendingProps.children,a),t.child;case 10:return n=t.pendingProps,Ll(t,t.type,n.value),Vt(e,t,n.children,a),t.child;case 9:return s=t.type._context,n=t.pendingProps.children,gn(t),s=Yt(s),n=n(s),t.flags|=1,Vt(e,t,n,a),t.child;case 14:return Lm(e,t,t.type,t.pendingProps,a);case 15:return Um(e,t,t.type,t.pendingProps,a);case 19:return Xm(e,t,a);case 31:return s0(e,t,a);case 22:return Bm(e,t,a,t.pendingProps);case 24:return gn(t),n=Yt(Rt),e===null?(s=hc(),s===null&&(s=mt,r=dc(),s.pooledCache=r,r.refCount++,r!==null&&(s.pooledCacheLanes|=a),s=r),t.memoizedState={parent:n,cache:s},fc(t),Ll(t,Rt,s)):((e.lanes&a)!==0&&(pc(e,t),Xs(t,null,null,a),Vs()),s=e.memoizedState,r=t.memoizedState,s.parent!==n?(s={parent:n,cache:n},t.memoizedState=s,t.lanes===0&&(t.memoizedState=t.updateQueue.baseState=s),Ll(t,Rt,n)):(n=r.cache,Ll(t,Rt,n),n!==s.cache&&cc(t,[Rt],a,!0))),Vt(e,t,t.pendingProps.children,a),t.child;case 29:throw t.pendingProps}throw Error(c(156,t.tag))}function gl(e){e.flags|=4}function Pc(e,t,a,n,s){if((t=(e.mode&32)!==0)&&(t=!1),t){if(e.flags|=16777216,(s&335544128)===s)if(e.stateNode.complete)e.flags|=8192;else if(wf())e.flags|=8192;else throw vn=dr,mc}else e.flags&=-16777217}function Zm(e,t){if(t.type!=="stylesheet"||(t.state.loading&4)!==0)e.flags&=-16777217;else if(e.flags|=16777216,!dp(t))if(wf())e.flags|=8192;else throw vn=dr,mc}function Er(e,t){t!==null&&(e.flags|=4),e.flags&16384&&(t=e.tag!==22?sl():536870912,e.lanes|=t,ns|=t)}function Ws(e,t){if(!tt)switch(e.tailMode){case"hidden":t=e.tail;for(var a=null;t!==null;)t.alternate!==null&&(a=t),t=t.sibling;a===null?e.tail=null:a.sibling=null;break;case"collapsed":a=e.tail;for(var n=null;a!==null;)a.alternate!==null&&(n=a),a=a.sibling;n===null?t||e.tail===null?e.tail=null:e.tail.sibling=null:n.sibling=null}}function gt(e){var t=e.alternate!==null&&e.alternate.child===e.child,a=0,n=0;if(t)for(var s=e.child;s!==null;)a|=s.lanes|s.childLanes,n|=s.subtreeFlags&65011712,n|=s.flags&65011712,s.return=e,s=s.sibling;else for(s=e.child;s!==null;)a|=s.lanes|s.childLanes,n|=s.subtreeFlags,n|=s.flags,s.return=e,s=s.sibling;return e.subtreeFlags|=n,e.childLanes=a,t}function r0(e,t,a){var n=t.pendingProps;switch(nc(t),t.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return gt(t),null;case 1:return gt(t),null;case 3:return a=t.stateNode,n=null,e!==null&&(n=e.memoizedState.cache),t.memoizedState.cache!==n&&(t.flags|=2048),ml(Rt),je(),a.pendingContext&&(a.context=a.pendingContext,a.pendingContext=null),(e===null||e.child===null)&&(Vn(t)?gl(t):e===null||e.memoizedState.isDehydrated&&(t.flags&256)===0||(t.flags|=1024,ic())),gt(t),null;case 26:var s=t.type,r=t.memoizedState;return e===null?(gl(t),r!==null?(gt(t),Zm(t,r)):(gt(t),Pc(t,s,null,n,a))):r?r!==e.memoizedState?(gl(t),gt(t),Zm(t,r)):(gt(t),t.flags&=-16777217):(e=e.memoizedProps,e!==n&&gl(t),gt(t),Pc(t,s,e,n,a)),null;case 27:if(ce(t),a=S.current,s=t.type,e!==null&&t.stateNode!=null)e.memoizedProps!==n&&gl(t);else{if(!n){if(t.stateNode===null)throw Error(c(166));return gt(t),null}e=se.current,Vn(t)?Eh(t):(e=ap(s,n,a),t.stateNode=e,gl(t))}return gt(t),null;case 5:if(ce(t),s=t.type,e!==null&&t.stateNode!=null)e.memoizedProps!==n&&gl(t);else{if(!n){if(t.stateNode===null)throw Error(c(166));return gt(t),null}if(r=se.current,Vn(t))Eh(t);else{var u=qr(S.current);switch(r){case 1:r=u.createElementNS("http://www.w3.org/2000/svg",s);break;case 2:r=u.createElementNS("http://www.w3.org/1998/Math/MathML",s);break;default:switch(s){case"svg":r=u.createElementNS("http://www.w3.org/2000/svg",s);break;case"math":r=u.createElementNS("http://www.w3.org/1998/Math/MathML",s);break;case"script":r=u.createElement("div"),r.innerHTML="<script><\/script>",r=r.removeChild(r.firstChild);break;case"select":r=typeof n.is=="string"?u.createElement("select",{is:n.is}):u.createElement("select"),n.multiple?r.multiple=!0:n.size&&(r.size=n.size);break;default:r=typeof n.is=="string"?u.createElement(s,{is:n.is}):u.createElement(s)}}r[Mt]=t,r[Nt]=n;e:for(u=t.child;u!==null;){if(u.tag===5||u.tag===6)r.appendChild(u.stateNode);else if(u.tag!==4&&u.tag!==27&&u.child!==null){u.child.return=u,u=u.child;continue}if(u===t)break e;for(;u.sibling===null;){if(u.return===null||u.return===t)break e;u=u.return}u.sibling.return=u.return,u=u.sibling}t.stateNode=r;e:switch(Xt(r,s,n),s){case"button":case"input":case"select":case"textarea":n=!!n.autoFocus;break e;case"img":n=!0;break e;default:n=!1}n&&gl(t)}}return gt(t),Pc(t,t.type,e===null?null:e.memoizedProps,t.pendingProps,a),null;case 6:if(e&&t.stateNode!=null)e.memoizedProps!==n&&gl(t);else{if(typeof n!="string"&&t.stateNode===null)throw Error(c(166));if(e=S.current,Vn(t)){if(e=t.stateNode,a=t.memoizedProps,n=null,s=It,s!==null)switch(s.tag){case 27:case 5:n=s.memoizedProps}e[Mt]=t,e=!!(e.nodeValue===a||n!==null&&n.suppressHydrationWarning===!0||Vf(e.nodeValue,a)),e||zl(t,!0)}else e=qr(e).createTextNode(n),e[Mt]=t,t.stateNode=e}return gt(t),null;case 31:if(a=t.memoizedState,e===null||e.memoizedState!==null){if(n=Vn(t),a!==null){if(e===null){if(!n)throw Error(c(318));if(e=t.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(c(557));e[Mt]=t}else pn(),(t.flags&128)===0&&(t.memoizedState=null),t.flags|=4;gt(t),e=!1}else a=ic(),e!==null&&e.memoizedState!==null&&(e.memoizedState.hydrationErrors=a),e=!0;if(!e)return t.flags&256?(fa(t),t):(fa(t),null);if((t.flags&128)!==0)throw Error(c(558))}return gt(t),null;case 13:if(n=t.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(s=Vn(t),n!==null&&n.dehydrated!==null){if(e===null){if(!s)throw Error(c(318));if(s=t.memoizedState,s=s!==null?s.dehydrated:null,!s)throw Error(c(317));s[Mt]=t}else pn(),(t.flags&128)===0&&(t.memoizedState=null),t.flags|=4;gt(t),s=!1}else s=ic(),e!==null&&e.memoizedState!==null&&(e.memoizedState.hydrationErrors=s),s=!0;if(!s)return t.flags&256?(fa(t),t):(fa(t),null)}return fa(t),(t.flags&128)!==0?(t.lanes=a,t):(a=n!==null,e=e!==null&&e.memoizedState!==null,a&&(n=t.child,s=null,n.alternate!==null&&n.alternate.memoizedState!==null&&n.alternate.memoizedState.cachePool!==null&&(s=n.alternate.memoizedState.cachePool.pool),r=null,n.memoizedState!==null&&n.memoizedState.cachePool!==null&&(r=n.memoizedState.cachePool.pool),r!==s&&(n.flags|=2048)),a!==e&&a&&(t.child.flags|=8192),Er(t,t.updateQueue),gt(t),null);case 4:return je(),e===null&&bd(t.stateNode.containerInfo),gt(t),null;case 10:return ml(t.type),gt(t),null;case 19:if(Y(Ct),n=t.memoizedState,n===null)return gt(t),null;if(s=(t.flags&128)!==0,r=n.rendering,r===null)if(s)Ws(n,!1);else{if(Tt!==0||e!==null&&(e.flags&128)!==0)for(e=t.child;e!==null;){if(r=fr(e),r!==null){for(t.flags|=128,Ws(n,!1),e=r.updateQueue,t.updateQueue=e,Er(t,e),t.subtreeFlags=0,e=a,a=t.child;a!==null;)Nh(a,e),a=a.sibling;return V(Ct,Ct.current&1|2),tt&&ul(t,n.treeForkCount),t.child}e=e.sibling}n.tail!==null&&pe()>Mr&&(t.flags|=128,s=!0,Ws(n,!1),t.lanes=4194304)}else{if(!s)if(e=fr(r),e!==null){if(t.flags|=128,s=!0,e=e.updateQueue,t.updateQueue=e,Er(t,e),Ws(n,!0),n.tail===null&&n.tailMode==="hidden"&&!r.alternate&&!tt)return gt(t),null}else 2*pe()-n.renderingStartTime>Mr&&a!==536870912&&(t.flags|=128,s=!0,Ws(n,!1),t.lanes=4194304);n.isBackwards?(r.sibling=t.child,t.child=r):(e=n.last,e!==null?e.sibling=r:t.child=r,n.last=r)}return n.tail!==null?(e=n.tail,n.rendering=e,n.tail=e.sibling,n.renderingStartTime=pe(),e.sibling=null,a=Ct.current,V(Ct,s?a&1|2:a&1),tt&&ul(t,n.treeForkCount),e):(gt(t),null);case 22:case 23:return fa(t),yc(),n=t.memoizedState!==null,e!==null?e.memoizedState!==null!==n&&(t.flags|=8192):n&&(t.flags|=8192),n?(a&536870912)!==0&&(t.flags&128)===0&&(gt(t),t.subtreeFlags&6&&(t.flags|=8192)):gt(t),a=t.updateQueue,a!==null&&Er(t,a.retryQueue),a=null,e!==null&&e.memoizedState!==null&&e.memoizedState.cachePool!==null&&(a=e.memoizedState.cachePool.pool),n=null,t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(n=t.memoizedState.cachePool.pool),n!==a&&(t.flags|=2048),e!==null&&Y(bn),null;case 24:return a=null,e!==null&&(a=e.memoizedState.cache),t.memoizedState.cache!==a&&(t.flags|=2048),ml(Rt),gt(t),null;case 25:return null;case 30:return null}throw Error(c(156,t.tag))}function o0(e,t){switch(nc(t),t.tag){case 1:return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 3:return ml(Rt),je(),e=t.flags,(e&65536)!==0&&(e&128)===0?(t.flags=e&-65537|128,t):null;case 26:case 27:case 5:return ce(t),null;case 31:if(t.memoizedState!==null){if(fa(t),t.alternate===null)throw Error(c(340));pn()}return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 13:if(fa(t),e=t.memoizedState,e!==null&&e.dehydrated!==null){if(t.alternate===null)throw Error(c(340));pn()}return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 19:return Y(Ct),null;case 4:return je(),null;case 10:return ml(t.type),null;case 22:case 23:return fa(t),yc(),e!==null&&Y(bn),e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 24:return ml(Rt),null;case 25:return null;default:return null}}function Km(e,t){switch(nc(t),t.tag){case 3:ml(Rt),je();break;case 26:case 27:case 5:ce(t);break;case 4:je();break;case 31:t.memoizedState!==null&&fa(t);break;case 13:fa(t);break;case 19:Y(Ct);break;case 10:ml(t.type);break;case 22:case 23:fa(t),yc(),e!==null&&Y(bn);break;case 24:ml(Rt)}}function Fs(e,t){try{var a=t.updateQueue,n=a!==null?a.lastEffect:null;if(n!==null){var s=n.next;a=s;do{if((a.tag&e)===e){n=void 0;var r=a.create,u=a.inst;n=r(),u.destroy=n}a=a.next}while(a!==s)}}catch(p){ct(t,t.return,p)}}function ql(e,t,a){try{var n=t.updateQueue,s=n!==null?n.lastEffect:null;if(s!==null){var r=s.next;n=r;do{if((n.tag&e)===e){var u=n.inst,p=u.destroy;if(p!==void 0){u.destroy=void 0,s=t;var j=a,B=p;try{B()}catch(ee){ct(s,j,ee)}}}n=n.next}while(n!==r)}}catch(ee){ct(t,t.return,ee)}}function Pm(e){var t=e.updateQueue;if(t!==null){var a=e.stateNode;try{Hh(t,a)}catch(n){ct(e,e.return,n)}}}function Jm(e,t,a){a.props=jn(e.type,e.memoizedProps),a.state=e.memoizedState;try{a.componentWillUnmount()}catch(n){ct(e,t,n)}}function ei(e,t){try{var a=e.ref;if(a!==null){switch(e.tag){case 26:case 27:case 5:var n=e.stateNode;break;case 30:n=e.stateNode;break;default:n=e.stateNode}typeof a=="function"?e.refCleanup=a(n):a.current=n}}catch(s){ct(e,t,s)}}function Ja(e,t){var a=e.ref,n=e.refCleanup;if(a!==null)if(typeof n=="function")try{n()}catch(s){ct(e,t,s)}finally{e.refCleanup=null,e=e.alternate,e!=null&&(e.refCleanup=null)}else if(typeof a=="function")try{a(null)}catch(s){ct(e,t,s)}else a.current=null}function Wm(e){var t=e.type,a=e.memoizedProps,n=e.stateNode;try{e:switch(t){case"button":case"input":case"select":case"textarea":a.autoFocus&&n.focus();break e;case"img":a.src?n.src=a.src:a.srcSet&&(n.srcset=a.srcSet)}}catch(s){ct(e,e.return,s)}}function Jc(e,t,a){try{var n=e.stateNode;_0(n,e.type,a,t),n[Nt]=t}catch(s){ct(e,e.return,s)}}function Fm(e){return e.tag===5||e.tag===3||e.tag===26||e.tag===27&&Kl(e.type)||e.tag===4}function Wc(e){e:for(;;){for(;e.sibling===null;){if(e.return===null||Fm(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.tag===27&&Kl(e.type)||e.flags&2||e.child===null||e.tag===4)continue e;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function Fc(e,t,a){var n=e.tag;if(n===5||n===6)e=e.stateNode,t?(a.nodeType===9?a.body:a.nodeName==="HTML"?a.ownerDocument.body:a).insertBefore(e,t):(t=a.nodeType===9?a.body:a.nodeName==="HTML"?a.ownerDocument.body:a,t.appendChild(e),a=a._reactRootContainer,a!=null||t.onclick!==null||(t.onclick=ol));else if(n!==4&&(n===27&&Kl(e.type)&&(a=e.stateNode,t=null),e=e.child,e!==null))for(Fc(e,t,a),e=e.sibling;e!==null;)Fc(e,t,a),e=e.sibling}function Tr(e,t,a){var n=e.tag;if(n===5||n===6)e=e.stateNode,t?a.insertBefore(e,t):a.appendChild(e);else if(n!==4&&(n===27&&Kl(e.type)&&(a=e.stateNode),e=e.child,e!==null))for(Tr(e,t,a),e=e.sibling;e!==null;)Tr(e,t,a),e=e.sibling}function ef(e){var t=e.stateNode,a=e.memoizedProps;try{for(var n=e.type,s=t.attributes;s.length;)t.removeAttributeNode(s[0]);Xt(t,n,a),t[Mt]=e,t[Nt]=a}catch(r){ct(e,e.return,r)}}var bl=!1,Lt=!1,ed=!1,tf=typeof WeakSet=="function"?WeakSet:Set,Gt=null;function c0(e,t){if(e=e.containerInfo,wd=Kr,e=mh(e),Qo(e)){if("selectionStart"in e)var a={start:e.selectionStart,end:e.selectionEnd};else e:{a=(a=e.ownerDocument)&&a.defaultView||window;var n=a.getSelection&&a.getSelection();if(n&&n.rangeCount!==0){a=n.anchorNode;var s=n.anchorOffset,r=n.focusNode;n=n.focusOffset;try{a.nodeType,r.nodeType}catch{a=null;break e}var u=0,p=-1,j=-1,B=0,ee=0,re=e,G=null;t:for(;;){for(var Q;re!==a||s!==0&&re.nodeType!==3||(p=u+s),re!==r||n!==0&&re.nodeType!==3||(j=u+n),re.nodeType===3&&(u+=re.nodeValue.length),(Q=re.firstChild)!==null;)G=re,re=Q;for(;;){if(re===e)break t;if(G===a&&++B===s&&(p=u),G===r&&++ee===n&&(j=u),(Q=re.nextSibling)!==null)break;re=G,G=re.parentNode}re=Q}a=p===-1||j===-1?null:{start:p,end:j}}else a=null}a=a||{start:0,end:0}}else a=null;for(Nd={focusedElem:e,selectionRange:a},Kr=!1,Gt=t;Gt!==null;)if(t=Gt,e=t.child,(t.subtreeFlags&1028)!==0&&e!==null)e.return=t,Gt=e;else for(;Gt!==null;){switch(t=Gt,r=t.alternate,e=t.flags,t.tag){case 0:if((e&4)!==0&&(e=t.updateQueue,e=e!==null?e.events:null,e!==null))for(a=0;a<e.length;a++)s=e[a],s.ref.impl=s.nextImpl;break;case 11:case 15:break;case 1:if((e&1024)!==0&&r!==null){e=void 0,a=t,s=r.memoizedProps,r=r.memoizedState,n=a.stateNode;try{var Ae=jn(a.type,s);e=n.getSnapshotBeforeUpdate(Ae,r),n.__reactInternalSnapshotBeforeUpdate=e}catch(Le){ct(a,a.return,Le)}}break;case 3:if((e&1024)!==0){if(e=t.stateNode.containerInfo,a=e.nodeType,a===9)kd(e);else if(a===1)switch(e.nodeName){case"HEAD":case"HTML":case"BODY":kd(e);break;default:e.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((e&1024)!==0)throw Error(c(163))}if(e=t.sibling,e!==null){e.return=t.return,Gt=e;break}Gt=t.return}}function af(e,t,a){var n=a.flags;switch(a.tag){case 0:case 11:case 15:vl(e,a),n&4&&Fs(5,a);break;case 1:if(vl(e,a),n&4)if(e=a.stateNode,t===null)try{e.componentDidMount()}catch(u){ct(a,a.return,u)}else{var s=jn(a.type,t.memoizedProps);t=t.memoizedState;try{e.componentDidUpdate(s,t,e.__reactInternalSnapshotBeforeUpdate)}catch(u){ct(a,a.return,u)}}n&64&&Pm(a),n&512&&ei(a,a.return);break;case 3:if(vl(e,a),n&64&&(e=a.updateQueue,e!==null)){if(t=null,a.child!==null)switch(a.child.tag){case 27:case 5:t=a.child.stateNode;break;case 1:t=a.child.stateNode}try{Hh(e,t)}catch(u){ct(a,a.return,u)}}break;case 27:t===null&&n&4&&ef(a);case 26:case 5:vl(e,a),t===null&&n&4&&Wm(a),n&512&&ei(a,a.return);break;case 12:vl(e,a);break;case 31:vl(e,a),n&4&&sf(e,a);break;case 13:vl(e,a),n&4&&rf(e,a),n&64&&(e=a.memoizedState,e!==null&&(e=e.dehydrated,e!==null&&(a=b0.bind(null,a),B0(e,a))));break;case 22:if(n=a.memoizedState!==null||bl,!n){t=t!==null&&t.memoizedState!==null||Lt,s=bl;var r=Lt;bl=n,(Lt=t)&&!r?wl(e,a,(a.subtreeFlags&8772)!==0):vl(e,a),bl=s,Lt=r}break;case 30:break;default:vl(e,a)}}function lf(e){var t=e.alternate;t!==null&&(e.alternate=null,lf(t)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(t=e.stateNode,t!==null&&C(t)),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}var jt=null,sa=!1;function yl(e,t,a){for(a=a.child;a!==null;)nf(e,t,a),a=a.sibling}function nf(e,t,a){if(Ye&&typeof Ye.onCommitFiberUnmount=="function")try{Ye.onCommitFiberUnmount(De,a)}catch{}switch(a.tag){case 26:Lt||Ja(a,t),yl(e,t,a),a.memoizedState?a.memoizedState.count--:a.stateNode&&(a=a.stateNode,a.parentNode.removeChild(a));break;case 27:Lt||Ja(a,t);var n=jt,s=sa;Kl(a.type)&&(jt=a.stateNode,sa=!1),yl(e,t,a),ci(a.stateNode),jt=n,sa=s;break;case 5:Lt||Ja(a,t);case 6:if(n=jt,s=sa,jt=null,yl(e,t,a),jt=n,sa=s,jt!==null)if(sa)try{(jt.nodeType===9?jt.body:jt.nodeName==="HTML"?jt.ownerDocument.body:jt).removeChild(a.stateNode)}catch(r){ct(a,t,r)}else try{jt.removeChild(a.stateNode)}catch(r){ct(a,t,r)}break;case 18:jt!==null&&(sa?(e=jt,Jf(e.nodeType===9?e.body:e.nodeName==="HTML"?e.ownerDocument.body:e,a.stateNode),hs(e)):Jf(jt,a.stateNode));break;case 4:n=jt,s=sa,jt=a.stateNode.containerInfo,sa=!0,yl(e,t,a),jt=n,sa=s;break;case 0:case 11:case 14:case 15:ql(2,a,t),Lt||ql(4,a,t),yl(e,t,a);break;case 1:Lt||(Ja(a,t),n=a.stateNode,typeof n.componentWillUnmount=="function"&&Jm(a,t,n)),yl(e,t,a);break;case 21:yl(e,t,a);break;case 22:Lt=(n=Lt)||a.memoizedState!==null,yl(e,t,a),Lt=n;break;default:yl(e,t,a)}}function sf(e,t){if(t.memoizedState===null&&(e=t.alternate,e!==null&&(e=e.memoizedState,e!==null))){e=e.dehydrated;try{hs(e)}catch(a){ct(t,t.return,a)}}}function rf(e,t){if(t.memoizedState===null&&(e=t.alternate,e!==null&&(e=e.memoizedState,e!==null&&(e=e.dehydrated,e!==null))))try{hs(e)}catch(a){ct(t,t.return,a)}}function d0(e){switch(e.tag){case 31:case 13:case 19:var t=e.stateNode;return t===null&&(t=e.stateNode=new tf),t;case 22:return e=e.stateNode,t=e._retryCache,t===null&&(t=e._retryCache=new tf),t;default:throw Error(c(435,e.tag))}}function Cr(e,t){var a=d0(e);t.forEach(function(n){if(!a.has(n)){a.add(n);var s=y0.bind(null,e,n);n.then(s,s)}})}function ia(e,t){var a=t.deletions;if(a!==null)for(var n=0;n<a.length;n++){var s=a[n],r=e,u=t,p=u;e:for(;p!==null;){switch(p.tag){case 27:if(Kl(p.type)){jt=p.stateNode,sa=!1;break e}break;case 5:jt=p.stateNode,sa=!1;break e;case 3:case 4:jt=p.stateNode.containerInfo,sa=!0;break e}p=p.return}if(jt===null)throw Error(c(160));nf(r,u,s),jt=null,sa=!1,r=s.alternate,r!==null&&(r.return=null),s.return=null}if(t.subtreeFlags&13886)for(t=t.child;t!==null;)of(t,e),t=t.sibling}var qa=null;function of(e,t){var a=e.alternate,n=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:ia(t,e),ra(e),n&4&&(ql(3,e,e.return),Fs(3,e),ql(5,e,e.return));break;case 1:ia(t,e),ra(e),n&512&&(Lt||a===null||Ja(a,a.return)),n&64&&bl&&(e=e.updateQueue,e!==null&&(n=e.callbacks,n!==null&&(a=e.shared.hiddenCallbacks,e.shared.hiddenCallbacks=a===null?n:a.concat(n))));break;case 26:var s=qa;if(ia(t,e),ra(e),n&512&&(Lt||a===null||Ja(a,a.return)),n&4){var r=a!==null?a.memoizedState:null;if(n=e.memoizedState,a===null)if(n===null)if(e.stateNode===null){e:{n=e.type,a=e.memoizedProps,s=s.ownerDocument||s;t:switch(n){case"title":r=s.getElementsByTagName("title")[0],(!r||r[Te]||r[Mt]||r.namespaceURI==="http://www.w3.org/2000/svg"||r.hasAttribute("itemprop"))&&(r=s.createElement(n),s.head.insertBefore(r,s.querySelector("head > title"))),Xt(r,n,a),r[Mt]=e,Xe(r),n=r;break e;case"link":var u=op("link","href",s).get(n+(a.href||""));if(u){for(var p=0;p<u.length;p++)if(r=u[p],r.getAttribute("href")===(a.href==null||a.href===""?null:a.href)&&r.getAttribute("rel")===(a.rel==null?null:a.rel)&&r.getAttribute("title")===(a.title==null?null:a.title)&&r.getAttribute("crossorigin")===(a.crossOrigin==null?null:a.crossOrigin)){u.splice(p,1);break t}}r=s.createElement(n),Xt(r,n,a),s.head.appendChild(r);break;case"meta":if(u=op("meta","content",s).get(n+(a.content||""))){for(p=0;p<u.length;p++)if(r=u[p],r.getAttribute("content")===(a.content==null?null:""+a.content)&&r.getAttribute("name")===(a.name==null?null:a.name)&&r.getAttribute("property")===(a.property==null?null:a.property)&&r.getAttribute("http-equiv")===(a.httpEquiv==null?null:a.httpEquiv)&&r.getAttribute("charset")===(a.charSet==null?null:a.charSet)){u.splice(p,1);break t}}r=s.createElement(n),Xt(r,n,a),s.head.appendChild(r);break;default:throw Error(c(468,n))}r[Mt]=e,Xe(r),n=r}e.stateNode=n}else cp(s,e.type,e.stateNode);else e.stateNode=rp(s,n,e.memoizedProps);else r!==n?(r===null?a.stateNode!==null&&(a=a.stateNode,a.parentNode.removeChild(a)):r.count--,n===null?cp(s,e.type,e.stateNode):rp(s,n,e.memoizedProps)):n===null&&e.stateNode!==null&&Jc(e,e.memoizedProps,a.memoizedProps)}break;case 27:ia(t,e),ra(e),n&512&&(Lt||a===null||Ja(a,a.return)),a!==null&&n&4&&Jc(e,e.memoizedProps,a.memoizedProps);break;case 5:if(ia(t,e),ra(e),n&512&&(Lt||a===null||Ja(a,a.return)),e.flags&32){s=e.stateNode;try{zn(s,"")}catch(Ae){ct(e,e.return,Ae)}}n&4&&e.stateNode!=null&&(s=e.memoizedProps,Jc(e,s,a!==null?a.memoizedProps:s)),n&1024&&(ed=!0);break;case 6:if(ia(t,e),ra(e),n&4){if(e.stateNode===null)throw Error(c(162));n=e.memoizedProps,a=e.stateNode;try{a.nodeValue=n}catch(Ae){ct(e,e.return,Ae)}}break;case 3:if(Vr=null,s=qa,qa=Ir(t.containerInfo),ia(t,e),qa=s,ra(e),n&4&&a!==null&&a.memoizedState.isDehydrated)try{hs(t.containerInfo)}catch(Ae){ct(e,e.return,Ae)}ed&&(ed=!1,cf(e));break;case 4:n=qa,qa=Ir(e.stateNode.containerInfo),ia(t,e),ra(e),qa=n;break;case 12:ia(t,e),ra(e);break;case 31:ia(t,e),ra(e),n&4&&(n=e.updateQueue,n!==null&&(e.updateQueue=null,Cr(e,n)));break;case 13:ia(t,e),ra(e),e.child.flags&8192&&e.memoizedState!==null!=(a!==null&&a.memoizedState!==null)&&(Dr=pe()),n&4&&(n=e.updateQueue,n!==null&&(e.updateQueue=null,Cr(e,n)));break;case 22:s=e.memoizedState!==null;var j=a!==null&&a.memoizedState!==null,B=bl,ee=Lt;if(bl=B||s,Lt=ee||j,ia(t,e),Lt=ee,bl=B,ra(e),n&8192)e:for(t=e.stateNode,t._visibility=s?t._visibility&-2:t._visibility|1,s&&(a===null||j||bl||Lt||Sn(e)),a=null,t=e;;){if(t.tag===5||t.tag===26){if(a===null){j=a=t;try{if(r=j.stateNode,s)u=r.style,typeof u.setProperty=="function"?u.setProperty("display","none","important"):u.display="none";else{p=j.stateNode;var re=j.memoizedProps.style,G=re!=null&&re.hasOwnProperty("display")?re.display:null;p.style.display=G==null||typeof G=="boolean"?"":(""+G).trim()}}catch(Ae){ct(j,j.return,Ae)}}}else if(t.tag===6){if(a===null){j=t;try{j.stateNode.nodeValue=s?"":j.memoizedProps}catch(Ae){ct(j,j.return,Ae)}}}else if(t.tag===18){if(a===null){j=t;try{var Q=j.stateNode;s?Wf(Q,!0):Wf(j.stateNode,!1)}catch(Ae){ct(j,j.return,Ae)}}}else if((t.tag!==22&&t.tag!==23||t.memoizedState===null||t===e)&&t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break e;for(;t.sibling===null;){if(t.return===null||t.return===e)break e;a===t&&(a=null),t=t.return}a===t&&(a=null),t.sibling.return=t.return,t=t.sibling}n&4&&(n=e.updateQueue,n!==null&&(a=n.retryQueue,a!==null&&(n.retryQueue=null,Cr(e,a))));break;case 19:ia(t,e),ra(e),n&4&&(n=e.updateQueue,n!==null&&(e.updateQueue=null,Cr(e,n)));break;case 30:break;case 21:break;default:ia(t,e),ra(e)}}function ra(e){var t=e.flags;if(t&2){try{for(var a,n=e.return;n!==null;){if(Fm(n)){a=n;break}n=n.return}if(a==null)throw Error(c(160));switch(a.tag){case 27:var s=a.stateNode,r=Wc(e);Tr(e,r,s);break;case 5:var u=a.stateNode;a.flags&32&&(zn(u,""),a.flags&=-33);var p=Wc(e);Tr(e,p,u);break;case 3:case 4:var j=a.stateNode.containerInfo,B=Wc(e);Fc(e,B,j);break;default:throw Error(c(161))}}catch(ee){ct(e,e.return,ee)}e.flags&=-3}t&4096&&(e.flags&=-4097)}function cf(e){if(e.subtreeFlags&1024)for(e=e.child;e!==null;){var t=e;cf(t),t.tag===5&&t.flags&1024&&t.stateNode.reset(),e=e.sibling}}function vl(e,t){if(t.subtreeFlags&8772)for(t=t.child;t!==null;)af(e,t.alternate,t),t=t.sibling}function Sn(e){for(e=e.child;e!==null;){var t=e;switch(t.tag){case 0:case 11:case 14:case 15:ql(4,t,t.return),Sn(t);break;case 1:Ja(t,t.return);var a=t.stateNode;typeof a.componentWillUnmount=="function"&&Jm(t,t.return,a),Sn(t);break;case 27:ci(t.stateNode);case 26:case 5:Ja(t,t.return),Sn(t);break;case 22:t.memoizedState===null&&Sn(t);break;case 30:Sn(t);break;default:Sn(t)}e=e.sibling}}function wl(e,t,a){for(a=a&&(t.subtreeFlags&8772)!==0,t=t.child;t!==null;){var n=t.alternate,s=e,r=t,u=r.flags;switch(r.tag){case 0:case 11:case 15:wl(s,r,a),Fs(4,r);break;case 1:if(wl(s,r,a),n=r,s=n.stateNode,typeof s.componentDidMount=="function")try{s.componentDidMount()}catch(B){ct(n,n.return,B)}if(n=r,s=n.updateQueue,s!==null){var p=n.stateNode;try{var j=s.shared.hiddenCallbacks;if(j!==null)for(s.shared.hiddenCallbacks=null,s=0;s<j.length;s++)$h(j[s],p)}catch(B){ct(n,n.return,B)}}a&&u&64&&Pm(r),ei(r,r.return);break;case 27:ef(r);case 26:case 5:wl(s,r,a),a&&n===null&&u&4&&Wm(r),ei(r,r.return);break;case 12:wl(s,r,a);break;case 31:wl(s,r,a),a&&u&4&&sf(s,r);break;case 13:wl(s,r,a),a&&u&4&&rf(s,r);break;case 22:r.memoizedState===null&&wl(s,r,a),ei(r,r.return);break;case 30:break;default:wl(s,r,a)}t=t.sibling}}function td(e,t){var a=null;e!==null&&e.memoizedState!==null&&e.memoizedState.cachePool!==null&&(a=e.memoizedState.cachePool.pool),e=null,t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(e=t.memoizedState.cachePool.pool),e!==a&&(e!=null&&e.refCount++,a!=null&&Hs(a))}function ad(e,t){e=null,t.alternate!==null&&(e=t.alternate.memoizedState.cache),t=t.memoizedState.cache,t!==e&&(t.refCount++,e!=null&&Hs(e))}function Ia(e,t,a,n){if(t.subtreeFlags&10256)for(t=t.child;t!==null;)df(e,t,a,n),t=t.sibling}function df(e,t,a,n){var s=t.flags;switch(t.tag){case 0:case 11:case 15:Ia(e,t,a,n),s&2048&&Fs(9,t);break;case 1:Ia(e,t,a,n);break;case 3:Ia(e,t,a,n),s&2048&&(e=null,t.alternate!==null&&(e=t.alternate.memoizedState.cache),t=t.memoizedState.cache,t!==e&&(t.refCount++,e!=null&&Hs(e)));break;case 12:if(s&2048){Ia(e,t,a,n),e=t.stateNode;try{var r=t.memoizedProps,u=r.id,p=r.onPostCommit;typeof p=="function"&&p(u,t.alternate===null?"mount":"update",e.passiveEffectDuration,-0)}catch(j){ct(t,t.return,j)}}else Ia(e,t,a,n);break;case 31:Ia(e,t,a,n);break;case 13:Ia(e,t,a,n);break;case 23:break;case 22:r=t.stateNode,u=t.alternate,t.memoizedState!==null?r._visibility&2?Ia(e,t,a,n):ti(e,t):r._visibility&2?Ia(e,t,a,n):(r._visibility|=2,ts(e,t,a,n,(t.subtreeFlags&10256)!==0||!1)),s&2048&&td(u,t);break;case 24:Ia(e,t,a,n),s&2048&&ad(t.alternate,t);break;default:Ia(e,t,a,n)}}function ts(e,t,a,n,s){for(s=s&&((t.subtreeFlags&10256)!==0||!1),t=t.child;t!==null;){var r=e,u=t,p=a,j=n,B=u.flags;switch(u.tag){case 0:case 11:case 15:ts(r,u,p,j,s),Fs(8,u);break;case 23:break;case 22:var ee=u.stateNode;u.memoizedState!==null?ee._visibility&2?ts(r,u,p,j,s):ti(r,u):(ee._visibility|=2,ts(r,u,p,j,s)),s&&B&2048&&td(u.alternate,u);break;case 24:ts(r,u,p,j,s),s&&B&2048&&ad(u.alternate,u);break;default:ts(r,u,p,j,s)}t=t.sibling}}function ti(e,t){if(t.subtreeFlags&10256)for(t=t.child;t!==null;){var a=e,n=t,s=n.flags;switch(n.tag){case 22:ti(a,n),s&2048&&td(n.alternate,n);break;case 24:ti(a,n),s&2048&&ad(n.alternate,n);break;default:ti(a,n)}t=t.sibling}}var ai=8192;function as(e,t,a){if(e.subtreeFlags&ai)for(e=e.child;e!==null;)uf(e,t,a),e=e.sibling}function uf(e,t,a){switch(e.tag){case 26:as(e,t,a),e.flags&ai&&e.memoizedState!==null&&P0(a,qa,e.memoizedState,e.memoizedProps);break;case 5:as(e,t,a);break;case 3:case 4:var n=qa;qa=Ir(e.stateNode.containerInfo),as(e,t,a),qa=n;break;case 22:e.memoizedState===null&&(n=e.alternate,n!==null&&n.memoizedState!==null?(n=ai,ai=16777216,as(e,t,a),ai=n):as(e,t,a));break;default:as(e,t,a)}}function hf(e){var t=e.alternate;if(t!==null&&(e=t.child,e!==null)){t.child=null;do t=e.sibling,e.sibling=null,e=t;while(e!==null)}}function li(e){var t=e.deletions;if((e.flags&16)!==0){if(t!==null)for(var a=0;a<t.length;a++){var n=t[a];Gt=n,ff(n,e)}hf(e)}if(e.subtreeFlags&10256)for(e=e.child;e!==null;)mf(e),e=e.sibling}function mf(e){switch(e.tag){case 0:case 11:case 15:li(e),e.flags&2048&&ql(9,e,e.return);break;case 3:li(e);break;case 12:li(e);break;case 22:var t=e.stateNode;e.memoizedState!==null&&t._visibility&2&&(e.return===null||e.return.tag!==13)?(t._visibility&=-3,_r(e)):li(e);break;default:li(e)}}function _r(e){var t=e.deletions;if((e.flags&16)!==0){if(t!==null)for(var a=0;a<t.length;a++){var n=t[a];Gt=n,ff(n,e)}hf(e)}for(e=e.child;e!==null;){switch(t=e,t.tag){case 0:case 11:case 15:ql(8,t,t.return),_r(t);break;case 22:a=t.stateNode,a._visibility&2&&(a._visibility&=-3,_r(t));break;default:_r(t)}e=e.sibling}}function ff(e,t){for(;Gt!==null;){var a=Gt;switch(a.tag){case 0:case 11:case 15:ql(8,a,t);break;case 23:case 22:if(a.memoizedState!==null&&a.memoizedState.cachePool!==null){var n=a.memoizedState.cachePool.pool;n!=null&&n.refCount++}break;case 24:Hs(a.memoizedState.cache)}if(n=a.child,n!==null)n.return=a,Gt=n;else e:for(a=e;Gt!==null;){n=Gt;var s=n.sibling,r=n.return;if(lf(n),n===a){Gt=null;break e}if(s!==null){s.return=r,Gt=s;break e}Gt=r}}}var u0={getCacheForType:function(e){var t=Yt(Rt),a=t.data.get(e);return a===void 0&&(a=e(),t.data.set(e,a)),a},cacheSignal:function(){return Yt(Rt).controller.signal}},h0=typeof WeakMap=="function"?WeakMap:Map,nt=0,mt=null,Ke=null,We=0,ot=0,pa=null,Il=!1,ls=!1,ld=!1,Nl=0,Tt=0,Yl=0,kn=0,nd=0,xa=0,ns=0,ni=null,oa=null,sd=!1,Dr=0,pf=0,Mr=1/0,Rr=null,Vl=null,$t=0,Xl=null,ss=null,jl=0,id=0,rd=null,xf=null,si=0,od=null;function ga(){return(nt&2)!==0&&We!==0?We&-We:R.T!==null?fd():ks()}function gf(){if(xa===0)if((We&536870912)===0||tt){var e=nl;nl<<=1,(nl&3932160)===0&&(nl=262144),xa=e}else xa=536870912;return e=ma.current,e!==null&&(e.flags|=32),xa}function ca(e,t,a){(e===mt&&(ot===2||ot===9)||e.cancelPendingCommit!==null)&&(is(e,0),Ql(e,We,xa,!1)),Dl(e,a),((nt&2)===0||e!==mt)&&(e===mt&&((nt&2)===0&&(kn|=a),Tt===4&&Ql(e,We,xa,!1)),Wa(e))}function bf(e,t,a){if((nt&6)!==0)throw Error(c(327));var n=!a&&(t&127)===0&&(t&e.expiredLanes)===0||cn(e,t),s=n?p0(e,t):dd(e,t,!0),r=n;do{if(s===0){ls&&!n&&Ql(e,t,0,!1);break}else{if(a=e.current.alternate,r&&!m0(a)){s=dd(e,t,!1),r=!1;continue}if(s===2){if(r=t,e.errorRecoveryDisabledLanes&r)var u=0;else u=e.pendingLanes&-536870913,u=u!==0?u:u&536870912?536870912:0;if(u!==0){t=u;e:{var p=e;s=ni;var j=p.current.memoizedState.isDehydrated;if(j&&(is(p,u).flags|=256),u=dd(p,u,!1),u!==2){if(ld&&!j){p.errorRecoveryDisabledLanes|=r,kn|=r,s=4;break e}r=oa,oa=s,r!==null&&(oa===null?oa=r:oa.push.apply(oa,r))}s=u}if(r=!1,s!==2)continue}}if(s===1){is(e,0),Ql(e,t,0,!0);break}e:{switch(n=e,r=s,r){case 0:case 1:throw Error(c(345));case 4:if((t&4194048)!==t)break;case 6:Ql(n,t,xa,!Il);break e;case 2:oa=null;break;case 3:case 5:break;default:throw Error(c(329))}if((t&62914560)===t&&(s=Dr+300-pe(),10<s)){if(Ql(n,t,xa,!Il),Mn(n,0,!0)!==0)break e;jl=t,n.timeoutHandle=Kf(yf.bind(null,n,a,oa,Rr,sd,t,xa,kn,ns,Il,r,"Throttled",-0,0),s);break e}yf(n,a,oa,Rr,sd,t,xa,kn,ns,Il,r,null,-0,0)}}break}while(!0);Wa(e)}function yf(e,t,a,n,s,r,u,p,j,B,ee,re,G,Q){if(e.timeoutHandle=-1,re=t.subtreeFlags,re&8192||(re&16785408)===16785408){re={stylesheets:null,count:0,imgCount:0,imgBytes:0,suspenseyImages:[],waitingForImages:!0,waitingForViewTransition:!1,unsuspend:ol},uf(t,r,re);var Ae=(r&62914560)===r?Dr-pe():(r&4194048)===r?pf-pe():0;if(Ae=J0(re,Ae),Ae!==null){jl=r,e.cancelPendingCommit=Ae(Ef.bind(null,e,t,r,a,n,s,u,p,j,ee,re,null,G,Q)),Ql(e,r,u,!B);return}}Ef(e,t,r,a,n,s,u,p,j)}function m0(e){for(var t=e;;){var a=t.tag;if((a===0||a===11||a===15)&&t.flags&16384&&(a=t.updateQueue,a!==null&&(a=a.stores,a!==null)))for(var n=0;n<a.length;n++){var s=a[n],r=s.getSnapshot;s=s.value;try{if(!ua(r(),s))return!1}catch{return!1}}if(a=t.child,t.subtreeFlags&16384&&a!==null)a.return=t,t=a;else{if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}function Ql(e,t,a,n){t&=~nd,t&=~kn,e.suspendedLanes|=t,e.pingedLanes&=~t,n&&(e.warmLanes|=t),n=e.expirationTimes;for(var s=t;0<s;){var r=31-fe(s),u=1<<r;n[r]=-1,s&=~u}a!==0&&js(e,a,t)}function Or(){return(nt&6)===0?(ii(0),!1):!0}function cd(){if(Ke!==null){if(ot===0)var e=Ke.return;else e=Ke,hl=xn=null,kc(e),Pn=null,qs=0,e=Ke;for(;e!==null;)Km(e.alternate,e),e=e.return;Ke=null}}function is(e,t){var a=e.timeoutHandle;a!==-1&&(e.timeoutHandle=-1,R0(a)),a=e.cancelPendingCommit,a!==null&&(e.cancelPendingCommit=null,a()),jl=0,cd(),mt=e,Ke=a=dl(e.current,null),We=t,ot=0,pa=null,Il=!1,ls=cn(e,t),ld=!1,ns=xa=nd=kn=Yl=Tt=0,oa=ni=null,sd=!1,(t&8)!==0&&(t|=t&32);var n=e.entangledLanes;if(n!==0)for(e=e.entanglements,n&=t;0<n;){var s=31-fe(n),r=1<<s;t|=e[s],n&=~r}return Nl=t,tr(),a}function vf(e,t){qe=null,R.H=Ps,t===Kn||t===cr?(t=zh(),ot=3):t===mc?(t=zh(),ot=4):ot=t===Gc?8:t!==null&&typeof t=="object"&&typeof t.then=="function"?6:1,pa=t,Ke===null&&(Tt=1,jr(e,Ca(t,e.current)))}function wf(){var e=ma.current;return e===null?!0:(We&4194048)===We?Ra===null:(We&62914560)===We||(We&536870912)!==0?e===Ra:!1}function Nf(){var e=R.H;return R.H=Ps,e===null?Ps:e}function jf(){var e=R.A;return R.A=u0,e}function zr(){Tt=4,Il||(We&4194048)!==We&&ma.current!==null||(ls=!0),(Yl&134217727)===0&&(kn&134217727)===0||mt===null||Ql(mt,We,xa,!1)}function dd(e,t,a){var n=nt;nt|=2;var s=Nf(),r=jf();(mt!==e||We!==t)&&(Rr=null,is(e,t)),t=!1;var u=Tt;e:do try{if(ot!==0&&Ke!==null){var p=Ke,j=pa;switch(ot){case 8:cd(),u=6;break e;case 3:case 2:case 9:case 6:ma.current===null&&(t=!0);var B=ot;if(ot=0,pa=null,rs(e,p,j,B),a&&ls){u=0;break e}break;default:B=ot,ot=0,pa=null,rs(e,p,j,B)}}f0(),u=Tt;break}catch(ee){vf(e,ee)}while(!0);return t&&e.shellSuspendCounter++,hl=xn=null,nt=n,R.H=s,R.A=r,Ke===null&&(mt=null,We=0,tr()),u}function f0(){for(;Ke!==null;)Sf(Ke)}function p0(e,t){var a=nt;nt|=2;var n=Nf(),s=jf();mt!==e||We!==t?(Rr=null,Mr=pe()+500,is(e,t)):ls=cn(e,t);e:do try{if(ot!==0&&Ke!==null){t=Ke;var r=pa;t:switch(ot){case 1:ot=0,pa=null,rs(e,t,r,1);break;case 2:case 9:if(Rh(r)){ot=0,pa=null,kf(t);break}t=function(){ot!==2&&ot!==9||mt!==e||(ot=7),Wa(e)},r.then(t,t);break e;case 3:ot=7;break e;case 4:ot=5;break e;case 7:Rh(r)?(ot=0,pa=null,kf(t)):(ot=0,pa=null,rs(e,t,r,7));break;case 5:var u=null;switch(Ke.tag){case 26:u=Ke.memoizedState;case 5:case 27:var p=Ke;if(u?dp(u):p.stateNode.complete){ot=0,pa=null;var j=p.sibling;if(j!==null)Ke=j;else{var B=p.return;B!==null?(Ke=B,Lr(B)):Ke=null}break t}}ot=0,pa=null,rs(e,t,r,5);break;case 6:ot=0,pa=null,rs(e,t,r,6);break;case 8:cd(),Tt=6;break e;default:throw Error(c(462))}}x0();break}catch(ee){vf(e,ee)}while(!0);return hl=xn=null,R.H=n,R.A=s,nt=a,Ke!==null?0:(mt=null,We=0,tr(),Tt)}function x0(){for(;Ke!==null&&!Ee();)Sf(Ke)}function Sf(e){var t=Qm(e.alternate,e,Nl);e.memoizedProps=e.pendingProps,t===null?Lr(e):Ke=t}function kf(e){var t=e,a=t.alternate;switch(t.tag){case 15:case 0:t=Gm(a,t,t.pendingProps,t.type,void 0,We);break;case 11:t=Gm(a,t,t.pendingProps,t.type.render,t.ref,We);break;case 5:kc(t);default:Km(a,t),t=Ke=Nh(t,Nl),t=Qm(a,t,Nl)}e.memoizedProps=e.pendingProps,t===null?Lr(e):Ke=t}function rs(e,t,a,n){hl=xn=null,kc(t),Pn=null,qs=0;var s=t.return;try{if(n0(e,s,t,a,We)){Tt=1,jr(e,Ca(a,e.current)),Ke=null;return}}catch(r){if(s!==null)throw Ke=s,r;Tt=1,jr(e,Ca(a,e.current)),Ke=null;return}t.flags&32768?(tt||n===1?e=!0:ls||(We&536870912)!==0?e=!1:(Il=e=!0,(n===2||n===9||n===3||n===6)&&(n=ma.current,n!==null&&n.tag===13&&(n.flags|=16384))),Af(t,e)):Lr(t)}function Lr(e){var t=e;do{if((t.flags&32768)!==0){Af(t,Il);return}e=t.return;var a=r0(t.alternate,t,Nl);if(a!==null){Ke=a;return}if(t=t.sibling,t!==null){Ke=t;return}Ke=t=e}while(t!==null);Tt===0&&(Tt=5)}function Af(e,t){do{var a=o0(e.alternate,e);if(a!==null){a.flags&=32767,Ke=a;return}if(a=e.return,a!==null&&(a.flags|=32768,a.subtreeFlags=0,a.deletions=null),!t&&(e=e.sibling,e!==null)){Ke=e;return}Ke=e=a}while(e!==null);Tt=6,Ke=null}function Ef(e,t,a,n,s,r,u,p,j){e.cancelPendingCommit=null;do Ur();while($t!==0);if((nt&6)!==0)throw Error(c(327));if(t!==null){if(t===e.current)throw Error(c(177));if(r=t.lanes|t.childLanes,r|=Wo,Ns(e,a,r,u,p,j),e===mt&&(Ke=mt=null,We=0),ss=t,Xl=e,jl=a,id=r,rd=s,xf=n,(t.subtreeFlags&10256)!==0||(t.flags&10256)!==0?(e.callbackNode=null,e.callbackPriority=0,v0(Ue,function(){return Mf(),null})):(e.callbackNode=null,e.callbackPriority=0),n=(t.flags&13878)!==0,(t.subtreeFlags&13878)!==0||n){n=R.T,R.T=null,s=W.p,W.p=2,u=nt,nt|=4;try{c0(e,t,a)}finally{nt=u,W.p=s,R.T=n}}$t=1,Tf(),Cf(),_f()}}function Tf(){if($t===1){$t=0;var e=Xl,t=ss,a=(t.flags&13878)!==0;if((t.subtreeFlags&13878)!==0||a){a=R.T,R.T=null;var n=W.p;W.p=2;var s=nt;nt|=4;try{of(t,e);var r=Nd,u=mh(e.containerInfo),p=r.focusedElem,j=r.selectionRange;if(u!==p&&p&&p.ownerDocument&&hh(p.ownerDocument.documentElement,p)){if(j!==null&&Qo(p)){var B=j.start,ee=j.end;if(ee===void 0&&(ee=B),"selectionStart"in p)p.selectionStart=B,p.selectionEnd=Math.min(ee,p.value.length);else{var re=p.ownerDocument||document,G=re&&re.defaultView||window;if(G.getSelection){var Q=G.getSelection(),Ae=p.textContent.length,Le=Math.min(j.start,Ae),ht=j.end===void 0?Le:Math.min(j.end,Ae);!Q.extend&&Le>ht&&(u=ht,ht=Le,Le=u);var O=uh(p,Le),_=uh(p,ht);if(O&&_&&(Q.rangeCount!==1||Q.anchorNode!==O.node||Q.anchorOffset!==O.offset||Q.focusNode!==_.node||Q.focusOffset!==_.offset)){var U=re.createRange();U.setStart(O.node,O.offset),Q.removeAllRanges(),Le>ht?(Q.addRange(U),Q.extend(_.node,_.offset)):(U.setEnd(_.node,_.offset),Q.addRange(U))}}}}for(re=[],Q=p;Q=Q.parentNode;)Q.nodeType===1&&re.push({element:Q,left:Q.scrollLeft,top:Q.scrollTop});for(typeof p.focus=="function"&&p.focus(),p=0;p<re.length;p++){var ne=re[p];ne.element.scrollLeft=ne.left,ne.element.scrollTop=ne.top}}Kr=!!wd,Nd=wd=null}finally{nt=s,W.p=n,R.T=a}}e.current=t,$t=2}}function Cf(){if($t===2){$t=0;var e=Xl,t=ss,a=(t.flags&8772)!==0;if((t.subtreeFlags&8772)!==0||a){a=R.T,R.T=null;var n=W.p;W.p=2;var s=nt;nt|=4;try{af(e,t.alternate,t)}finally{nt=s,W.p=n,R.T=a}}$t=3}}function _f(){if($t===4||$t===3){$t=0,_e();var e=Xl,t=ss,a=jl,n=xf;(t.subtreeFlags&10256)!==0||(t.flags&10256)!==0?$t=5:($t=0,ss=Xl=null,Df(e,e.pendingLanes));var s=e.pendingLanes;if(s===0&&(Vl=null),Ha(a),t=t.stateNode,Ye&&typeof Ye.onCommitFiberRoot=="function")try{Ye.onCommitFiberRoot(De,t,void 0,(t.current.flags&128)===128)}catch{}if(n!==null){t=R.T,s=W.p,W.p=2,R.T=null;try{for(var r=e.onRecoverableError,u=0;u<n.length;u++){var p=n[u];r(p.value,{componentStack:p.stack})}}finally{R.T=t,W.p=s}}(jl&3)!==0&&Ur(),Wa(e),s=e.pendingLanes,(a&261930)!==0&&(s&42)!==0?e===od?si++:(si=0,od=e):si=0,ii(0)}}function Df(e,t){(e.pooledCacheLanes&=t)===0&&(t=e.pooledCache,t!=null&&(e.pooledCache=null,Hs(t)))}function Ur(){return Tf(),Cf(),_f(),Mf()}function Mf(){if($t!==5)return!1;var e=Xl,t=id;id=0;var a=Ha(jl),n=R.T,s=W.p;try{W.p=32>a?32:a,R.T=null,a=rd,rd=null;var r=Xl,u=jl;if($t=0,ss=Xl=null,jl=0,(nt&6)!==0)throw Error(c(331));var p=nt;if(nt|=4,mf(r.current),df(r,r.current,u,a),nt=p,ii(0,!1),Ye&&typeof Ye.onPostCommitFiberRoot=="function")try{Ye.onPostCommitFiberRoot(De,r)}catch{}return!0}finally{W.p=s,R.T=n,Df(e,t)}}function Rf(e,t,a){t=Ca(a,t),t=Hc(e.stateNode,t,2),e=$l(e,t,2),e!==null&&(Dl(e,2),Wa(e))}function ct(e,t,a){if(e.tag===3)Rf(e,e,a);else for(;t!==null;){if(t.tag===3){Rf(t,e,a);break}else if(t.tag===1){var n=t.stateNode;if(typeof t.type.getDerivedStateFromError=="function"||typeof n.componentDidCatch=="function"&&(Vl===null||!Vl.has(n))){e=Ca(a,e),a=Rm(2),n=$l(t,a,2),n!==null&&(Om(a,n,t,e),Dl(n,2),Wa(n));break}}t=t.return}}function ud(e,t,a){var n=e.pingCache;if(n===null){n=e.pingCache=new h0;var s=new Set;n.set(t,s)}else s=n.get(t),s===void 0&&(s=new Set,n.set(t,s));s.has(a)||(ld=!0,s.add(a),e=g0.bind(null,e,t,a),t.then(e,e))}function g0(e,t,a){var n=e.pingCache;n!==null&&n.delete(t),e.pingedLanes|=e.suspendedLanes&a,e.warmLanes&=~a,mt===e&&(We&a)===a&&(Tt===4||Tt===3&&(We&62914560)===We&&300>pe()-Dr?(nt&2)===0&&is(e,0):nd|=a,ns===We&&(ns=0)),Wa(e)}function Of(e,t){t===0&&(t=sl()),e=mn(e,t),e!==null&&(Dl(e,t),Wa(e))}function b0(e){var t=e.memoizedState,a=0;t!==null&&(a=t.retryLane),Of(e,a)}function y0(e,t){var a=0;switch(e.tag){case 31:case 13:var n=e.stateNode,s=e.memoizedState;s!==null&&(a=s.retryLane);break;case 19:n=e.stateNode;break;case 22:n=e.stateNode._retryCache;break;default:throw Error(c(314))}n!==null&&n.delete(t),Of(e,a)}function v0(e,t){return M(e,t)}var Br=null,os=null,hd=!1,$r=!1,md=!1,Zl=0;function Wa(e){e!==os&&e.next===null&&(os===null?Br=os=e:os=os.next=e),$r=!0,hd||(hd=!0,N0())}function ii(e,t){if(!md&&$r){md=!0;do for(var a=!1,n=Br;n!==null;){if(e!==0){var s=n.pendingLanes;if(s===0)var r=0;else{var u=n.suspendedLanes,p=n.pingedLanes;r=(1<<31-fe(42|e)+1)-1,r&=s&~(u&~p),r=r&201326741?r&201326741|1:r?r|2:0}r!==0&&(a=!0,Bf(n,r))}else r=We,r=Mn(n,n===mt?r:0,n.cancelPendingCommit!==null||n.timeoutHandle!==-1),(r&3)===0||cn(n,r)||(a=!0,Bf(n,r));n=n.next}while(a);md=!1}}function w0(){zf()}function zf(){$r=hd=!1;var e=0;Zl!==0&&M0()&&(e=Zl);for(var t=pe(),a=null,n=Br;n!==null;){var s=n.next,r=Lf(n,t);r===0?(n.next=null,a===null?Br=s:a.next=s,s===null&&(os=a)):(a=n,(e!==0||(r&3)!==0)&&($r=!0)),n=s}$t!==0&&$t!==5||ii(e),Zl!==0&&(Zl=0)}function Lf(e,t){for(var a=e.suspendedLanes,n=e.pingedLanes,s=e.expirationTimes,r=e.pendingLanes&-62914561;0<r;){var u=31-fe(r),p=1<<u,j=s[u];j===-1?((p&a)===0||(p&n)!==0)&&(s[u]=Dt(p,t)):j<=t&&(e.expiredLanes|=p),r&=~p}if(t=mt,a=We,a=Mn(e,e===t?a:0,e.cancelPendingCommit!==null||e.timeoutHandle!==-1),n=e.callbackNode,a===0||e===t&&(ot===2||ot===9)||e.cancelPendingCommit!==null)return n!==null&&n!==null&&Se(n),e.callbackNode=null,e.callbackPriority=0;if((a&3)===0||cn(e,a)){if(t=a&-a,t===e.callbackPriority)return t;switch(n!==null&&Se(n),Ha(a)){case 2:case 8:a=I;break;case 32:a=Ue;break;case 268435456:a=Ut;break;default:a=Ue}return n=Uf.bind(null,e),a=M(a,n),e.callbackPriority=t,e.callbackNode=a,t}return n!==null&&n!==null&&Se(n),e.callbackPriority=2,e.callbackNode=null,2}function Uf(e,t){if($t!==0&&$t!==5)return e.callbackNode=null,e.callbackPriority=0,null;var a=e.callbackNode;if(Ur()&&e.callbackNode!==a)return null;var n=We;return n=Mn(e,e===mt?n:0,e.cancelPendingCommit!==null||e.timeoutHandle!==-1),n===0?null:(bf(e,n,t),Lf(e,pe()),e.callbackNode!=null&&e.callbackNode===a?Uf.bind(null,e):null)}function Bf(e,t){if(Ur())return null;bf(e,t,!0)}function N0(){O0(function(){(nt&6)!==0?M(Ge,w0):zf()})}function fd(){if(Zl===0){var e=Qn;e===0&&(e=ll,ll<<=1,(ll&261888)===0&&(ll=256)),Zl=e}return Zl}function $f(e){return e==null||typeof e=="symbol"||typeof e=="boolean"?null:typeof e=="function"?e:Qi(""+e)}function Hf(e,t){var a=t.ownerDocument.createElement("input");return a.name=t.name,a.value=t.value,e.id&&a.setAttribute("form",e.id),t.parentNode.insertBefore(a,t),e=new FormData(e),a.parentNode.removeChild(a),e}function j0(e,t,a,n,s){if(t==="submit"&&a&&a.stateNode===s){var r=$f((s[Nt]||null).action),u=n.submitter;u&&(t=(t=u[Nt]||null)?$f(t.formAction):u.getAttribute("formAction"),t!==null&&(r=t,u=null));var p=new Ji("action","action",null,n,s);e.push({event:p,listeners:[{instance:null,listener:function(){if(n.defaultPrevented){if(Zl!==0){var j=u?Hf(s,u):new FormData(s);Oc(a,{pending:!0,data:j,method:s.method,action:r},null,j)}}else typeof r=="function"&&(p.preventDefault(),j=u?Hf(s,u):new FormData(s),Oc(a,{pending:!0,data:j,method:s.method,action:r},r,j))},currentTarget:s}]})}}for(var pd=0;pd<Jo.length;pd++){var xd=Jo[pd],S0=xd.toLowerCase(),k0=xd[0].toUpperCase()+xd.slice(1);Ga(S0,"on"+k0)}Ga(xh,"onAnimationEnd"),Ga(gh,"onAnimationIteration"),Ga(bh,"onAnimationStart"),Ga("dblclick","onDoubleClick"),Ga("focusin","onFocus"),Ga("focusout","onBlur"),Ga(Gg,"onTransitionRun"),Ga(qg,"onTransitionStart"),Ga(Ig,"onTransitionCancel"),Ga(yh,"onTransitionEnd"),Za("onMouseEnter",["mouseout","mouseover"]),Za("onMouseLeave",["mouseout","mouseover"]),Za("onPointerEnter",["pointerout","pointerover"]),Za("onPointerLeave",["pointerout","pointerover"]),la("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),la("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),la("onBeforeInput",["compositionend","keypress","textInput","paste"]),la("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),la("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),la("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var ri="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),A0=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(ri));function Gf(e,t){t=(t&4)!==0;for(var a=0;a<e.length;a++){var n=e[a],s=n.event;n=n.listeners;e:{var r=void 0;if(t)for(var u=n.length-1;0<=u;u--){var p=n[u],j=p.instance,B=p.currentTarget;if(p=p.listener,j!==r&&s.isPropagationStopped())break e;r=p,s.currentTarget=B;try{r(s)}catch(ee){er(ee)}s.currentTarget=null,r=j}else for(u=0;u<n.length;u++){if(p=n[u],j=p.instance,B=p.currentTarget,p=p.listener,j!==r&&s.isPropagationStopped())break e;r=p,s.currentTarget=B;try{r(s)}catch(ee){er(ee)}s.currentTarget=null,r=j}}}}function Pe(e,t){var a=t[Rn];a===void 0&&(a=t[Rn]=new Set);var n=e+"__bubble";a.has(n)||(qf(t,e,2,!1),a.add(n))}function gd(e,t,a){var n=0;t&&(n|=4),qf(a,e,n,t)}var Hr="_reactListening"+Math.random().toString(36).slice(2);function bd(e){if(!e[Hr]){e[Hr]=!0,qt.forEach(function(a){a!=="selectionchange"&&(A0.has(a)||gd(a,!1,e),gd(a,!0,e))});var t=e.nodeType===9?e:e.ownerDocument;t===null||t[Hr]||(t[Hr]=!0,gd("selectionchange",!1,t))}}function qf(e,t,a,n){switch(gp(t)){case 2:var s=eb;break;case 8:s=tb;break;default:s=Rd}a=s.bind(null,t,a,e),s=void 0,!Bo||t!=="touchstart"&&t!=="touchmove"&&t!=="wheel"||(s=!0),n?s!==void 0?e.addEventListener(t,a,{capture:!0,passive:s}):e.addEventListener(t,a,!0):s!==void 0?e.addEventListener(t,a,{passive:s}):e.addEventListener(t,a,!1)}function yd(e,t,a,n,s){var r=n;if((t&1)===0&&(t&2)===0&&n!==null)e:for(;;){if(n===null)return;var u=n.tag;if(u===3||u===4){var p=n.stateNode.containerInfo;if(p===s)break;if(u===4)for(u=n.return;u!==null;){var j=u.tag;if((j===3||j===4)&&u.stateNode.containerInfo===s)return;u=u.return}for(;p!==null;){if(u=he(p),u===null)return;if(j=u.tag,j===5||j===6||j===26||j===27){n=r=u;continue e}p=p.parentNode}}n=n.return}Xu(function(){var B=r,ee=Lo(a),re=[];e:{var G=vh.get(e);if(G!==void 0){var Q=Ji,Ae=e;switch(e){case"keypress":if(Ki(a)===0)break e;case"keydown":case"keyup":Q=yg;break;case"focusin":Ae="focus",Q=qo;break;case"focusout":Ae="blur",Q=qo;break;case"beforeblur":case"afterblur":Q=qo;break;case"click":if(a.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":Q=Ku;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":Q=rg;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":Q=Ng;break;case xh:case gh:case bh:Q=dg;break;case yh:Q=Sg;break;case"scroll":case"scrollend":Q=sg;break;case"wheel":Q=Ag;break;case"copy":case"cut":case"paste":Q=hg;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":Q=Ju;break;case"toggle":case"beforetoggle":Q=Tg}var Le=(t&4)!==0,ht=!Le&&(e==="scroll"||e==="scrollend"),O=Le?G!==null?G+"Capture":null:G;Le=[];for(var _=B,U;_!==null;){var ne=_;if(U=ne.stateNode,ne=ne.tag,ne!==5&&ne!==26&&ne!==27||U===null||O===null||(ne=Cs(_,O),ne!=null&&Le.push(oi(_,ne,U))),ht)break;_=_.return}0<Le.length&&(G=new Q(G,Ae,null,a,ee),re.push({event:G,listeners:Le}))}}if((t&7)===0){e:{if(G=e==="mouseover"||e==="pointerover",Q=e==="mouseout"||e==="pointerout",G&&a!==zo&&(Ae=a.relatedTarget||a.fromElement)&&(he(Ae)||Ae[il]))break e;if((Q||G)&&(G=ee.window===ee?ee:(G=ee.ownerDocument)?G.defaultView||G.parentWindow:window,Q?(Ae=a.relatedTarget||a.toElement,Q=B,Ae=Ae?he(Ae):null,Ae!==null&&(ht=m(Ae),Le=Ae.tag,Ae!==ht||Le!==5&&Le!==27&&Le!==6)&&(Ae=null)):(Q=null,Ae=B),Q!==Ae)){if(Le=Ku,ne="onMouseLeave",O="onMouseEnter",_="mouse",(e==="pointerout"||e==="pointerover")&&(Le=Ju,ne="onPointerLeave",O="onPointerEnter",_="pointer"),ht=Q==null?G:st(Q),U=Ae==null?G:st(Ae),G=new Le(ne,_+"leave",Q,a,ee),G.target=ht,G.relatedTarget=U,ne=null,he(ee)===B&&(Le=new Le(O,_+"enter",Ae,a,ee),Le.target=U,Le.relatedTarget=ht,ne=Le),ht=ne,Q&&Ae)t:{for(Le=E0,O=Q,_=Ae,U=0,ne=O;ne;ne=Le(ne))U++;ne=0;for(var Re=_;Re;Re=Le(Re))ne++;for(;0<U-ne;)O=Le(O),U--;for(;0<ne-U;)_=Le(_),ne--;for(;U--;){if(O===_||_!==null&&O===_.alternate){Le=O;break t}O=Le(O),_=Le(_)}Le=null}else Le=null;Q!==null&&If(re,G,Q,Le,!1),Ae!==null&&ht!==null&&If(re,ht,Ae,Le,!0)}}e:{if(G=B?st(B):window,Q=G.nodeName&&G.nodeName.toLowerCase(),Q==="select"||Q==="input"&&G.type==="file")var at=sh;else if(lh(G))if(ih)at=Bg;else{at=Lg;var Ce=zg}else Q=G.nodeName,!Q||Q.toLowerCase()!=="input"||G.type!=="checkbox"&&G.type!=="radio"?B&&Oo(B.elementType)&&(at=sh):at=Ug;if(at&&(at=at(e,B))){nh(re,at,a,ee);break e}Ce&&Ce(e,G,B),e==="focusout"&&B&&G.type==="number"&&B.memoizedProps.value!=null&&Ro(G,"number",G.value)}switch(Ce=B?st(B):window,e){case"focusin":(lh(Ce)||Ce.contentEditable==="true")&&($n=Ce,Zo=B,Us=null);break;case"focusout":Us=Zo=$n=null;break;case"mousedown":Ko=!0;break;case"contextmenu":case"mouseup":case"dragend":Ko=!1,fh(re,a,ee);break;case"selectionchange":if(Hg)break;case"keydown":case"keyup":fh(re,a,ee)}var Ve;if(Yo)e:{switch(e){case"compositionstart":var Fe="onCompositionStart";break e;case"compositionend":Fe="onCompositionEnd";break e;case"compositionupdate":Fe="onCompositionUpdate";break e}Fe=void 0}else Bn?th(e,a)&&(Fe="onCompositionEnd"):e==="keydown"&&a.keyCode===229&&(Fe="onCompositionStart");Fe&&(Wu&&a.locale!=="ko"&&(Bn||Fe!=="onCompositionStart"?Fe==="onCompositionEnd"&&Bn&&(Ve=Qu()):(Ml=ee,$o="value"in Ml?Ml.value:Ml.textContent,Bn=!0)),Ce=Gr(B,Fe),0<Ce.length&&(Fe=new Pu(Fe,e,null,a,ee),re.push({event:Fe,listeners:Ce}),Ve?Fe.data=Ve:(Ve=ah(a),Ve!==null&&(Fe.data=Ve)))),(Ve=_g?Dg(e,a):Mg(e,a))&&(Fe=Gr(B,"onBeforeInput"),0<Fe.length&&(Ce=new Pu("onBeforeInput","beforeinput",null,a,ee),re.push({event:Ce,listeners:Fe}),Ce.data=Ve)),j0(re,e,B,a,ee)}Gf(re,t)})}function oi(e,t,a){return{instance:e,listener:t,currentTarget:a}}function Gr(e,t){for(var a=t+"Capture",n=[];e!==null;){var s=e,r=s.stateNode;if(s=s.tag,s!==5&&s!==26&&s!==27||r===null||(s=Cs(e,a),s!=null&&n.unshift(oi(e,s,r)),s=Cs(e,t),s!=null&&n.push(oi(e,s,r))),e.tag===3)return n;e=e.return}return[]}function E0(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5&&e.tag!==27);return e||null}function If(e,t,a,n,s){for(var r=t._reactName,u=[];a!==null&&a!==n;){var p=a,j=p.alternate,B=p.stateNode;if(p=p.tag,j!==null&&j===n)break;p!==5&&p!==26&&p!==27||B===null||(j=B,s?(B=Cs(a,r),B!=null&&u.unshift(oi(a,B,j))):s||(B=Cs(a,r),B!=null&&u.push(oi(a,B,j)))),a=a.return}u.length!==0&&e.push({event:t,listeners:u})}var T0=/\r\n?/g,C0=/\u0000|\uFFFD/g;function Yf(e){return(typeof e=="string"?e:""+e).replace(T0,`
`).replace(C0,"")}function Vf(e,t){return t=Yf(t),Yf(e)===t}function ut(e,t,a,n,s,r){switch(a){case"children":typeof n=="string"?t==="body"||t==="textarea"&&n===""||zn(e,n):(typeof n=="number"||typeof n=="bigint")&&t!=="body"&&zn(e,""+n);break;case"className":Vi(e,"class",n);break;case"tabIndex":Vi(e,"tabindex",n);break;case"dir":case"role":case"viewBox":case"width":case"height":Vi(e,a,n);break;case"style":Yu(e,n,r);break;case"data":if(t!=="object"){Vi(e,"data",n);break}case"src":case"href":if(n===""&&(t!=="a"||a!=="href")){e.removeAttribute(a);break}if(n==null||typeof n=="function"||typeof n=="symbol"||typeof n=="boolean"){e.removeAttribute(a);break}n=Qi(""+n),e.setAttribute(a,n);break;case"action":case"formAction":if(typeof n=="function"){e.setAttribute(a,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof r=="function"&&(a==="formAction"?(t!=="input"&&ut(e,t,"name",s.name,s,null),ut(e,t,"formEncType",s.formEncType,s,null),ut(e,t,"formMethod",s.formMethod,s,null),ut(e,t,"formTarget",s.formTarget,s,null)):(ut(e,t,"encType",s.encType,s,null),ut(e,t,"method",s.method,s,null),ut(e,t,"target",s.target,s,null)));if(n==null||typeof n=="symbol"||typeof n=="boolean"){e.removeAttribute(a);break}n=Qi(""+n),e.setAttribute(a,n);break;case"onClick":n!=null&&(e.onclick=ol);break;case"onScroll":n!=null&&Pe("scroll",e);break;case"onScrollEnd":n!=null&&Pe("scrollend",e);break;case"dangerouslySetInnerHTML":if(n!=null){if(typeof n!="object"||!("__html"in n))throw Error(c(61));if(a=n.__html,a!=null){if(s.children!=null)throw Error(c(60));e.innerHTML=a}}break;case"multiple":e.multiple=n&&typeof n!="function"&&typeof n!="symbol";break;case"muted":e.muted=n&&typeof n!="function"&&typeof n!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(n==null||typeof n=="function"||typeof n=="boolean"||typeof n=="symbol"){e.removeAttribute("xlink:href");break}a=Qi(""+n),e.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",a);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":n!=null&&typeof n!="function"&&typeof n!="symbol"?e.setAttribute(a,""+n):e.removeAttribute(a);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":n&&typeof n!="function"&&typeof n!="symbol"?e.setAttribute(a,""):e.removeAttribute(a);break;case"capture":case"download":n===!0?e.setAttribute(a,""):n!==!1&&n!=null&&typeof n!="function"&&typeof n!="symbol"?e.setAttribute(a,n):e.removeAttribute(a);break;case"cols":case"rows":case"size":case"span":n!=null&&typeof n!="function"&&typeof n!="symbol"&&!isNaN(n)&&1<=n?e.setAttribute(a,n):e.removeAttribute(a);break;case"rowSpan":case"start":n==null||typeof n=="function"||typeof n=="symbol"||isNaN(n)?e.removeAttribute(a):e.setAttribute(a,n);break;case"popover":Pe("beforetoggle",e),Pe("toggle",e),Yi(e,"popover",n);break;case"xlinkActuate":rl(e,"http://www.w3.org/1999/xlink","xlink:actuate",n);break;case"xlinkArcrole":rl(e,"http://www.w3.org/1999/xlink","xlink:arcrole",n);break;case"xlinkRole":rl(e,"http://www.w3.org/1999/xlink","xlink:role",n);break;case"xlinkShow":rl(e,"http://www.w3.org/1999/xlink","xlink:show",n);break;case"xlinkTitle":rl(e,"http://www.w3.org/1999/xlink","xlink:title",n);break;case"xlinkType":rl(e,"http://www.w3.org/1999/xlink","xlink:type",n);break;case"xmlBase":rl(e,"http://www.w3.org/XML/1998/namespace","xml:base",n);break;case"xmlLang":rl(e,"http://www.w3.org/XML/1998/namespace","xml:lang",n);break;case"xmlSpace":rl(e,"http://www.w3.org/XML/1998/namespace","xml:space",n);break;case"is":Yi(e,"is",n);break;case"innerText":case"textContent":break;default:(!(2<a.length)||a[0]!=="o"&&a[0]!=="O"||a[1]!=="n"&&a[1]!=="N")&&(a=lg.get(a)||a,Yi(e,a,n))}}function vd(e,t,a,n,s,r){switch(a){case"style":Yu(e,n,r);break;case"dangerouslySetInnerHTML":if(n!=null){if(typeof n!="object"||!("__html"in n))throw Error(c(61));if(a=n.__html,a!=null){if(s.children!=null)throw Error(c(60));e.innerHTML=a}}break;case"children":typeof n=="string"?zn(e,n):(typeof n=="number"||typeof n=="bigint")&&zn(e,""+n);break;case"onScroll":n!=null&&Pe("scroll",e);break;case"onScrollEnd":n!=null&&Pe("scrollend",e);break;case"onClick":n!=null&&(e.onclick=ol);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!ka.hasOwnProperty(a))e:{if(a[0]==="o"&&a[1]==="n"&&(s=a.endsWith("Capture"),t=a.slice(2,s?a.length-7:void 0),r=e[Nt]||null,r=r!=null?r[a]:null,typeof r=="function"&&e.removeEventListener(t,r,s),typeof n=="function")){typeof r!="function"&&r!==null&&(a in e?e[a]=null:e.hasAttribute(a)&&e.removeAttribute(a)),e.addEventListener(t,n,s);break e}a in e?e[a]=n:n===!0?e.setAttribute(a,""):Yi(e,a,n)}}}function Xt(e,t,a){switch(t){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":Pe("error",e),Pe("load",e);var n=!1,s=!1,r;for(r in a)if(a.hasOwnProperty(r)){var u=a[r];if(u!=null)switch(r){case"src":n=!0;break;case"srcSet":s=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(c(137,t));default:ut(e,t,r,u,a,null)}}s&&ut(e,t,"srcSet",a.srcSet,a,null),n&&ut(e,t,"src",a.src,a,null);return;case"input":Pe("invalid",e);var p=r=u=s=null,j=null,B=null;for(n in a)if(a.hasOwnProperty(n)){var ee=a[n];if(ee!=null)switch(n){case"name":s=ee;break;case"type":u=ee;break;case"checked":j=ee;break;case"defaultChecked":B=ee;break;case"value":r=ee;break;case"defaultValue":p=ee;break;case"children":case"dangerouslySetInnerHTML":if(ee!=null)throw Error(c(137,t));break;default:ut(e,t,n,ee,a,null)}}Hu(e,r,p,j,B,u,s,!1);return;case"select":Pe("invalid",e),n=u=r=null;for(s in a)if(a.hasOwnProperty(s)&&(p=a[s],p!=null))switch(s){case"value":r=p;break;case"defaultValue":u=p;break;case"multiple":n=p;default:ut(e,t,s,p,a,null)}t=r,a=u,e.multiple=!!n,t!=null?On(e,!!n,t,!1):a!=null&&On(e,!!n,a,!0);return;case"textarea":Pe("invalid",e),r=s=n=null;for(u in a)if(a.hasOwnProperty(u)&&(p=a[u],p!=null))switch(u){case"value":n=p;break;case"defaultValue":s=p;break;case"children":r=p;break;case"dangerouslySetInnerHTML":if(p!=null)throw Error(c(91));break;default:ut(e,t,u,p,a,null)}qu(e,n,s,r);return;case"option":for(j in a)if(a.hasOwnProperty(j)&&(n=a[j],n!=null))switch(j){case"selected":e.selected=n&&typeof n!="function"&&typeof n!="symbol";break;default:ut(e,t,j,n,a,null)}return;case"dialog":Pe("beforetoggle",e),Pe("toggle",e),Pe("cancel",e),Pe("close",e);break;case"iframe":case"object":Pe("load",e);break;case"video":case"audio":for(n=0;n<ri.length;n++)Pe(ri[n],e);break;case"image":Pe("error",e),Pe("load",e);break;case"details":Pe("toggle",e);break;case"embed":case"source":case"link":Pe("error",e),Pe("load",e);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(B in a)if(a.hasOwnProperty(B)&&(n=a[B],n!=null))switch(B){case"children":case"dangerouslySetInnerHTML":throw Error(c(137,t));default:ut(e,t,B,n,a,null)}return;default:if(Oo(t)){for(ee in a)a.hasOwnProperty(ee)&&(n=a[ee],n!==void 0&&vd(e,t,ee,n,a,void 0));return}}for(p in a)a.hasOwnProperty(p)&&(n=a[p],n!=null&&ut(e,t,p,n,a,null))}function _0(e,t,a,n){switch(t){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var s=null,r=null,u=null,p=null,j=null,B=null,ee=null;for(Q in a){var re=a[Q];if(a.hasOwnProperty(Q)&&re!=null)switch(Q){case"checked":break;case"value":break;case"defaultValue":j=re;default:n.hasOwnProperty(Q)||ut(e,t,Q,null,n,re)}}for(var G in n){var Q=n[G];if(re=a[G],n.hasOwnProperty(G)&&(Q!=null||re!=null))switch(G){case"type":r=Q;break;case"name":s=Q;break;case"checked":B=Q;break;case"defaultChecked":ee=Q;break;case"value":u=Q;break;case"defaultValue":p=Q;break;case"children":case"dangerouslySetInnerHTML":if(Q!=null)throw Error(c(137,t));break;default:Q!==re&&ut(e,t,G,Q,n,re)}}Mo(e,u,p,j,B,ee,r,s);return;case"select":Q=u=p=G=null;for(r in a)if(j=a[r],a.hasOwnProperty(r)&&j!=null)switch(r){case"value":break;case"multiple":Q=j;default:n.hasOwnProperty(r)||ut(e,t,r,null,n,j)}for(s in n)if(r=n[s],j=a[s],n.hasOwnProperty(s)&&(r!=null||j!=null))switch(s){case"value":G=r;break;case"defaultValue":p=r;break;case"multiple":u=r;default:r!==j&&ut(e,t,s,r,n,j)}t=p,a=u,n=Q,G!=null?On(e,!!a,G,!1):!!n!=!!a&&(t!=null?On(e,!!a,t,!0):On(e,!!a,a?[]:"",!1));return;case"textarea":Q=G=null;for(p in a)if(s=a[p],a.hasOwnProperty(p)&&s!=null&&!n.hasOwnProperty(p))switch(p){case"value":break;case"children":break;default:ut(e,t,p,null,n,s)}for(u in n)if(s=n[u],r=a[u],n.hasOwnProperty(u)&&(s!=null||r!=null))switch(u){case"value":G=s;break;case"defaultValue":Q=s;break;case"children":break;case"dangerouslySetInnerHTML":if(s!=null)throw Error(c(91));break;default:s!==r&&ut(e,t,u,s,n,r)}Gu(e,G,Q);return;case"option":for(var Ae in a)if(G=a[Ae],a.hasOwnProperty(Ae)&&G!=null&&!n.hasOwnProperty(Ae))switch(Ae){case"selected":e.selected=!1;break;default:ut(e,t,Ae,null,n,G)}for(j in n)if(G=n[j],Q=a[j],n.hasOwnProperty(j)&&G!==Q&&(G!=null||Q!=null))switch(j){case"selected":e.selected=G&&typeof G!="function"&&typeof G!="symbol";break;default:ut(e,t,j,G,n,Q)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var Le in a)G=a[Le],a.hasOwnProperty(Le)&&G!=null&&!n.hasOwnProperty(Le)&&ut(e,t,Le,null,n,G);for(B in n)if(G=n[B],Q=a[B],n.hasOwnProperty(B)&&G!==Q&&(G!=null||Q!=null))switch(B){case"children":case"dangerouslySetInnerHTML":if(G!=null)throw Error(c(137,t));break;default:ut(e,t,B,G,n,Q)}return;default:if(Oo(t)){for(var ht in a)G=a[ht],a.hasOwnProperty(ht)&&G!==void 0&&!n.hasOwnProperty(ht)&&vd(e,t,ht,void 0,n,G);for(ee in n)G=n[ee],Q=a[ee],!n.hasOwnProperty(ee)||G===Q||G===void 0&&Q===void 0||vd(e,t,ee,G,n,Q);return}}for(var O in a)G=a[O],a.hasOwnProperty(O)&&G!=null&&!n.hasOwnProperty(O)&&ut(e,t,O,null,n,G);for(re in n)G=n[re],Q=a[re],!n.hasOwnProperty(re)||G===Q||G==null&&Q==null||ut(e,t,re,G,n,Q)}function Xf(e){switch(e){case"css":case"script":case"font":case"img":case"image":case"input":case"link":return!0;default:return!1}}function D0(){if(typeof performance.getEntriesByType=="function"){for(var e=0,t=0,a=performance.getEntriesByType("resource"),n=0;n<a.length;n++){var s=a[n],r=s.transferSize,u=s.initiatorType,p=s.duration;if(r&&p&&Xf(u)){for(u=0,p=s.responseEnd,n+=1;n<a.length;n++){var j=a[n],B=j.startTime;if(B>p)break;var ee=j.transferSize,re=j.initiatorType;ee&&Xf(re)&&(j=j.responseEnd,u+=ee*(j<p?1:(p-B)/(j-B)))}if(--n,t+=8*(r+u)/(s.duration/1e3),e++,10<e)break}}if(0<e)return t/e/1e6}return navigator.connection&&(e=navigator.connection.downlink,typeof e=="number")?e:5}var wd=null,Nd=null;function qr(e){return e.nodeType===9?e:e.ownerDocument}function Qf(e){switch(e){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function Zf(e,t){if(e===0)switch(t){case"svg":return 1;case"math":return 2;default:return 0}return e===1&&t==="foreignObject"?0:e}function jd(e,t){return e==="textarea"||e==="noscript"||typeof t.children=="string"||typeof t.children=="number"||typeof t.children=="bigint"||typeof t.dangerouslySetInnerHTML=="object"&&t.dangerouslySetInnerHTML!==null&&t.dangerouslySetInnerHTML.__html!=null}var Sd=null;function M0(){var e=window.event;return e&&e.type==="popstate"?e===Sd?!1:(Sd=e,!0):(Sd=null,!1)}var Kf=typeof setTimeout=="function"?setTimeout:void 0,R0=typeof clearTimeout=="function"?clearTimeout:void 0,Pf=typeof Promise=="function"?Promise:void 0,O0=typeof queueMicrotask=="function"?queueMicrotask:typeof Pf<"u"?function(e){return Pf.resolve(null).then(e).catch(z0)}:Kf;function z0(e){setTimeout(function(){throw e})}function Kl(e){return e==="head"}function Jf(e,t){var a=t,n=0;do{var s=a.nextSibling;if(e.removeChild(a),s&&s.nodeType===8)if(a=s.data,a==="/$"||a==="/&"){if(n===0){e.removeChild(s),hs(t);return}n--}else if(a==="$"||a==="$?"||a==="$~"||a==="$!"||a==="&")n++;else if(a==="html")ci(e.ownerDocument.documentElement);else if(a==="head"){a=e.ownerDocument.head,ci(a);for(var r=a.firstChild;r;){var u=r.nextSibling,p=r.nodeName;r[Te]||p==="SCRIPT"||p==="STYLE"||p==="LINK"&&r.rel.toLowerCase()==="stylesheet"||a.removeChild(r),r=u}}else a==="body"&&ci(e.ownerDocument.body);a=s}while(a);hs(t)}function Wf(e,t){var a=e;e=0;do{var n=a.nextSibling;if(a.nodeType===1?t?(a._stashedDisplay=a.style.display,a.style.display="none"):(a.style.display=a._stashedDisplay||"",a.getAttribute("style")===""&&a.removeAttribute("style")):a.nodeType===3&&(t?(a._stashedText=a.nodeValue,a.nodeValue=""):a.nodeValue=a._stashedText||""),n&&n.nodeType===8)if(a=n.data,a==="/$"){if(e===0)break;e--}else a!=="$"&&a!=="$?"&&a!=="$~"&&a!=="$!"||e++;a=n}while(a)}function kd(e){var t=e.firstChild;for(t&&t.nodeType===10&&(t=t.nextSibling);t;){var a=t;switch(t=t.nextSibling,a.nodeName){case"HTML":case"HEAD":case"BODY":kd(a),C(a);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(a.rel.toLowerCase()==="stylesheet")continue}e.removeChild(a)}}function L0(e,t,a,n){for(;e.nodeType===1;){var s=a;if(e.nodeName.toLowerCase()!==t.toLowerCase()){if(!n&&(e.nodeName!=="INPUT"||e.type!=="hidden"))break}else if(n){if(!e[Te])switch(t){case"meta":if(!e.hasAttribute("itemprop"))break;return e;case"link":if(r=e.getAttribute("rel"),r==="stylesheet"&&e.hasAttribute("data-precedence"))break;if(r!==s.rel||e.getAttribute("href")!==(s.href==null||s.href===""?null:s.href)||e.getAttribute("crossorigin")!==(s.crossOrigin==null?null:s.crossOrigin)||e.getAttribute("title")!==(s.title==null?null:s.title))break;return e;case"style":if(e.hasAttribute("data-precedence"))break;return e;case"script":if(r=e.getAttribute("src"),(r!==(s.src==null?null:s.src)||e.getAttribute("type")!==(s.type==null?null:s.type)||e.getAttribute("crossorigin")!==(s.crossOrigin==null?null:s.crossOrigin))&&r&&e.hasAttribute("async")&&!e.hasAttribute("itemprop"))break;return e;default:return e}}else if(t==="input"&&e.type==="hidden"){var r=s.name==null?null:""+s.name;if(s.type==="hidden"&&e.getAttribute("name")===r)return e}else return e;if(e=Oa(e.nextSibling),e===null)break}return null}function U0(e,t,a){if(t==="")return null;for(;e.nodeType!==3;)if((e.nodeType!==1||e.nodeName!=="INPUT"||e.type!=="hidden")&&!a||(e=Oa(e.nextSibling),e===null))return null;return e}function Ff(e,t){for(;e.nodeType!==8;)if((e.nodeType!==1||e.nodeName!=="INPUT"||e.type!=="hidden")&&!t||(e=Oa(e.nextSibling),e===null))return null;return e}function Ad(e){return e.data==="$?"||e.data==="$~"}function Ed(e){return e.data==="$!"||e.data==="$?"&&e.ownerDocument.readyState!=="loading"}function B0(e,t){var a=e.ownerDocument;if(e.data==="$~")e._reactRetry=t;else if(e.data!=="$?"||a.readyState!=="loading")t();else{var n=function(){t(),a.removeEventListener("DOMContentLoaded",n)};a.addEventListener("DOMContentLoaded",n),e._reactRetry=n}}function Oa(e){for(;e!=null;e=e.nextSibling){var t=e.nodeType;if(t===1||t===3)break;if(t===8){if(t=e.data,t==="$"||t==="$!"||t==="$?"||t==="$~"||t==="&"||t==="F!"||t==="F")break;if(t==="/$"||t==="/&")return null}}return e}var Td=null;function ep(e){e=e.nextSibling;for(var t=0;e;){if(e.nodeType===8){var a=e.data;if(a==="/$"||a==="/&"){if(t===0)return Oa(e.nextSibling);t--}else a!=="$"&&a!=="$!"&&a!=="$?"&&a!=="$~"&&a!=="&"||t++}e=e.nextSibling}return null}function tp(e){e=e.previousSibling;for(var t=0;e;){if(e.nodeType===8){var a=e.data;if(a==="$"||a==="$!"||a==="$?"||a==="$~"||a==="&"){if(t===0)return e;t--}else a!=="/$"&&a!=="/&"||t++}e=e.previousSibling}return null}function ap(e,t,a){switch(t=qr(a),e){case"html":if(e=t.documentElement,!e)throw Error(c(452));return e;case"head":if(e=t.head,!e)throw Error(c(453));return e;case"body":if(e=t.body,!e)throw Error(c(454));return e;default:throw Error(c(451))}}function ci(e){for(var t=e.attributes;t.length;)e.removeAttributeNode(t[0]);C(e)}var za=new Map,lp=new Set;function Ir(e){return typeof e.getRootNode=="function"?e.getRootNode():e.nodeType===9?e:e.ownerDocument}var Sl=W.d;W.d={f:$0,r:H0,D:G0,C:q0,L:I0,m:Y0,X:X0,S:V0,M:Q0};function $0(){var e=Sl.f(),t=Or();return e||t}function H0(e){var t=ke(e);t!==null&&t.tag===5&&t.type==="form"?ym(t):Sl.r(e)}var cs=typeof document>"u"?null:document;function np(e,t,a){var n=cs;if(n&&typeof t=="string"&&t){var s=Ea(t);s='link[rel="'+e+'"][href="'+s+'"]',typeof a=="string"&&(s+='[crossorigin="'+a+'"]'),lp.has(s)||(lp.add(s),e={rel:e,crossOrigin:a,href:t},n.querySelector(s)===null&&(t=n.createElement("link"),Xt(t,"link",e),Xe(t),n.head.appendChild(t)))}}function G0(e){Sl.D(e),np("dns-prefetch",e,null)}function q0(e,t){Sl.C(e,t),np("preconnect",e,t)}function I0(e,t,a){Sl.L(e,t,a);var n=cs;if(n&&e&&t){var s='link[rel="preload"][as="'+Ea(t)+'"]';t==="image"&&a&&a.imageSrcSet?(s+='[imagesrcset="'+Ea(a.imageSrcSet)+'"]',typeof a.imageSizes=="string"&&(s+='[imagesizes="'+Ea(a.imageSizes)+'"]')):s+='[href="'+Ea(e)+'"]';var r=s;switch(t){case"style":r=ds(e);break;case"script":r=us(e)}za.has(r)||(e=E({rel:"preload",href:t==="image"&&a&&a.imageSrcSet?void 0:e,as:t},a),za.set(r,e),n.querySelector(s)!==null||t==="style"&&n.querySelector(di(r))||t==="script"&&n.querySelector(ui(r))||(t=n.createElement("link"),Xt(t,"link",e),Xe(t),n.head.appendChild(t)))}}function Y0(e,t){Sl.m(e,t);var a=cs;if(a&&e){var n=t&&typeof t.as=="string"?t.as:"script",s='link[rel="modulepreload"][as="'+Ea(n)+'"][href="'+Ea(e)+'"]',r=s;switch(n){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":r=us(e)}if(!za.has(r)&&(e=E({rel:"modulepreload",href:e},t),za.set(r,e),a.querySelector(s)===null)){switch(n){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(a.querySelector(ui(r)))return}n=a.createElement("link"),Xt(n,"link",e),Xe(n),a.head.appendChild(n)}}}function V0(e,t,a){Sl.S(e,t,a);var n=cs;if(n&&e){var s=kt(n).hoistableStyles,r=ds(e);t=t||"default";var u=s.get(r);if(!u){var p={loading:0,preload:null};if(u=n.querySelector(di(r)))p.loading=5;else{e=E({rel:"stylesheet",href:e,"data-precedence":t},a),(a=za.get(r))&&Cd(e,a);var j=u=n.createElement("link");Xe(j),Xt(j,"link",e),j._p=new Promise(function(B,ee){j.onload=B,j.onerror=ee}),j.addEventListener("load",function(){p.loading|=1}),j.addEventListener("error",function(){p.loading|=2}),p.loading|=4,Yr(u,t,n)}u={type:"stylesheet",instance:u,count:1,state:p},s.set(r,u)}}}function X0(e,t){Sl.X(e,t);var a=cs;if(a&&e){var n=kt(a).hoistableScripts,s=us(e),r=n.get(s);r||(r=a.querySelector(ui(s)),r||(e=E({src:e,async:!0},t),(t=za.get(s))&&_d(e,t),r=a.createElement("script"),Xe(r),Xt(r,"link",e),a.head.appendChild(r)),r={type:"script",instance:r,count:1,state:null},n.set(s,r))}}function Q0(e,t){Sl.M(e,t);var a=cs;if(a&&e){var n=kt(a).hoistableScripts,s=us(e),r=n.get(s);r||(r=a.querySelector(ui(s)),r||(e=E({src:e,async:!0,type:"module"},t),(t=za.get(s))&&_d(e,t),r=a.createElement("script"),Xe(r),Xt(r,"link",e),a.head.appendChild(r)),r={type:"script",instance:r,count:1,state:null},n.set(s,r))}}function sp(e,t,a,n){var s=(s=S.current)?Ir(s):null;if(!s)throw Error(c(446));switch(e){case"meta":case"title":return null;case"style":return typeof a.precedence=="string"&&typeof a.href=="string"?(t=ds(a.href),a=kt(s).hoistableStyles,n=a.get(t),n||(n={type:"style",instance:null,count:0,state:null},a.set(t,n)),n):{type:"void",instance:null,count:0,state:null};case"link":if(a.rel==="stylesheet"&&typeof a.href=="string"&&typeof a.precedence=="string"){e=ds(a.href);var r=kt(s).hoistableStyles,u=r.get(e);if(u||(s=s.ownerDocument||s,u={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},r.set(e,u),(r=s.querySelector(di(e)))&&!r._p&&(u.instance=r,u.state.loading=5),za.has(e)||(a={rel:"preload",as:"style",href:a.href,crossOrigin:a.crossOrigin,integrity:a.integrity,media:a.media,hrefLang:a.hrefLang,referrerPolicy:a.referrerPolicy},za.set(e,a),r||Z0(s,e,a,u.state))),t&&n===null)throw Error(c(528,""));return u}if(t&&n!==null)throw Error(c(529,""));return null;case"script":return t=a.async,a=a.src,typeof a=="string"&&t&&typeof t!="function"&&typeof t!="symbol"?(t=us(a),a=kt(s).hoistableScripts,n=a.get(t),n||(n={type:"script",instance:null,count:0,state:null},a.set(t,n)),n):{type:"void",instance:null,count:0,state:null};default:throw Error(c(444,e))}}function ds(e){return'href="'+Ea(e)+'"'}function di(e){return'link[rel="stylesheet"]['+e+"]"}function ip(e){return E({},e,{"data-precedence":e.precedence,precedence:null})}function Z0(e,t,a,n){e.querySelector('link[rel="preload"][as="style"]['+t+"]")?n.loading=1:(t=e.createElement("link"),n.preload=t,t.addEventListener("load",function(){return n.loading|=1}),t.addEventListener("error",function(){return n.loading|=2}),Xt(t,"link",a),Xe(t),e.head.appendChild(t))}function us(e){return'[src="'+Ea(e)+'"]'}function ui(e){return"script[async]"+e}function rp(e,t,a){if(t.count++,t.instance===null)switch(t.type){case"style":var n=e.querySelector('style[data-href~="'+Ea(a.href)+'"]');if(n)return t.instance=n,Xe(n),n;var s=E({},a,{"data-href":a.href,"data-precedence":a.precedence,href:null,precedence:null});return n=(e.ownerDocument||e).createElement("style"),Xe(n),Xt(n,"style",s),Yr(n,a.precedence,e),t.instance=n;case"stylesheet":s=ds(a.href);var r=e.querySelector(di(s));if(r)return t.state.loading|=4,t.instance=r,Xe(r),r;n=ip(a),(s=za.get(s))&&Cd(n,s),r=(e.ownerDocument||e).createElement("link"),Xe(r);var u=r;return u._p=new Promise(function(p,j){u.onload=p,u.onerror=j}),Xt(r,"link",n),t.state.loading|=4,Yr(r,a.precedence,e),t.instance=r;case"script":return r=us(a.src),(s=e.querySelector(ui(r)))?(t.instance=s,Xe(s),s):(n=a,(s=za.get(r))&&(n=E({},a),_d(n,s)),e=e.ownerDocument||e,s=e.createElement("script"),Xe(s),Xt(s,"link",n),e.head.appendChild(s),t.instance=s);case"void":return null;default:throw Error(c(443,t.type))}else t.type==="stylesheet"&&(t.state.loading&4)===0&&(n=t.instance,t.state.loading|=4,Yr(n,a.precedence,e));return t.instance}function Yr(e,t,a){for(var n=a.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),s=n.length?n[n.length-1]:null,r=s,u=0;u<n.length;u++){var p=n[u];if(p.dataset.precedence===t)r=p;else if(r!==s)break}r?r.parentNode.insertBefore(e,r.nextSibling):(t=a.nodeType===9?a.head:a,t.insertBefore(e,t.firstChild))}function Cd(e,t){e.crossOrigin==null&&(e.crossOrigin=t.crossOrigin),e.referrerPolicy==null&&(e.referrerPolicy=t.referrerPolicy),e.title==null&&(e.title=t.title)}function _d(e,t){e.crossOrigin==null&&(e.crossOrigin=t.crossOrigin),e.referrerPolicy==null&&(e.referrerPolicy=t.referrerPolicy),e.integrity==null&&(e.integrity=t.integrity)}var Vr=null;function op(e,t,a){if(Vr===null){var n=new Map,s=Vr=new Map;s.set(a,n)}else s=Vr,n=s.get(a),n||(n=new Map,s.set(a,n));if(n.has(e))return n;for(n.set(e,null),a=a.getElementsByTagName(e),s=0;s<a.length;s++){var r=a[s];if(!(r[Te]||r[Mt]||e==="link"&&r.getAttribute("rel")==="stylesheet")&&r.namespaceURI!=="http://www.w3.org/2000/svg"){var u=r.getAttribute(t)||"";u=e+u;var p=n.get(u);p?p.push(r):n.set(u,[r])}}return n}function cp(e,t,a){e=e.ownerDocument||e,e.head.insertBefore(a,t==="title"?e.querySelector("head > title"):null)}function K0(e,t,a){if(a===1||t.itemProp!=null)return!1;switch(e){case"meta":case"title":return!0;case"style":if(typeof t.precedence!="string"||typeof t.href!="string"||t.href==="")break;return!0;case"link":if(typeof t.rel!="string"||typeof t.href!="string"||t.href===""||t.onLoad||t.onError)break;switch(t.rel){case"stylesheet":return e=t.disabled,typeof t.precedence=="string"&&e==null;default:return!0}case"script":if(t.async&&typeof t.async!="function"&&typeof t.async!="symbol"&&!t.onLoad&&!t.onError&&t.src&&typeof t.src=="string")return!0}return!1}function dp(e){return!(e.type==="stylesheet"&&(e.state.loading&3)===0)}function P0(e,t,a,n){if(a.type==="stylesheet"&&(typeof n.media!="string"||matchMedia(n.media).matches!==!1)&&(a.state.loading&4)===0){if(a.instance===null){var s=ds(n.href),r=t.querySelector(di(s));if(r){t=r._p,t!==null&&typeof t=="object"&&typeof t.then=="function"&&(e.count++,e=Xr.bind(e),t.then(e,e)),a.state.loading|=4,a.instance=r,Xe(r);return}r=t.ownerDocument||t,n=ip(n),(s=za.get(s))&&Cd(n,s),r=r.createElement("link"),Xe(r);var u=r;u._p=new Promise(function(p,j){u.onload=p,u.onerror=j}),Xt(r,"link",n),a.instance=r}e.stylesheets===null&&(e.stylesheets=new Map),e.stylesheets.set(a,t),(t=a.state.preload)&&(a.state.loading&3)===0&&(e.count++,a=Xr.bind(e),t.addEventListener("load",a),t.addEventListener("error",a))}}var Dd=0;function J0(e,t){return e.stylesheets&&e.count===0&&Zr(e,e.stylesheets),0<e.count||0<e.imgCount?function(a){var n=setTimeout(function(){if(e.stylesheets&&Zr(e,e.stylesheets),e.unsuspend){var r=e.unsuspend;e.unsuspend=null,r()}},6e4+t);0<e.imgBytes&&Dd===0&&(Dd=62500*D0());var s=setTimeout(function(){if(e.waitingForImages=!1,e.count===0&&(e.stylesheets&&Zr(e,e.stylesheets),e.unsuspend)){var r=e.unsuspend;e.unsuspend=null,r()}},(e.imgBytes>Dd?50:800)+t);return e.unsuspend=a,function(){e.unsuspend=null,clearTimeout(n),clearTimeout(s)}}:null}function Xr(){if(this.count--,this.count===0&&(this.imgCount===0||!this.waitingForImages)){if(this.stylesheets)Zr(this,this.stylesheets);else if(this.unsuspend){var e=this.unsuspend;this.unsuspend=null,e()}}}var Qr=null;function Zr(e,t){e.stylesheets=null,e.unsuspend!==null&&(e.count++,Qr=new Map,t.forEach(W0,e),Qr=null,Xr.call(e))}function W0(e,t){if(!(t.state.loading&4)){var a=Qr.get(e);if(a)var n=a.get(null);else{a=new Map,Qr.set(e,a);for(var s=e.querySelectorAll("link[data-precedence],style[data-precedence]"),r=0;r<s.length;r++){var u=s[r];(u.nodeName==="LINK"||u.getAttribute("media")!=="not all")&&(a.set(u.dataset.precedence,u),n=u)}n&&a.set(null,n)}s=t.instance,u=s.getAttribute("data-precedence"),r=a.get(u)||n,r===n&&a.set(null,s),a.set(u,s),this.count++,n=Xr.bind(this),s.addEventListener("load",n),s.addEventListener("error",n),r?r.parentNode.insertBefore(s,r.nextSibling):(e=e.nodeType===9?e.head:e,e.insertBefore(s,e.firstChild)),t.state.loading|=4}}var hi={$$typeof:ge,Provider:null,Consumer:null,_currentValue:me,_currentValue2:me,_threadCount:0};function F0(e,t,a,n,s,r,u,p,j){this.tag=1,this.containerInfo=e,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=ws(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=ws(0),this.hiddenUpdates=ws(null),this.identifierPrefix=n,this.onUncaughtError=s,this.onCaughtError=r,this.onRecoverableError=u,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=j,this.incompleteTransitions=new Map}function up(e,t,a,n,s,r,u,p,j,B,ee,re){return e=new F0(e,t,a,u,j,B,ee,re,p),t=1,r===!0&&(t|=24),r=ha(3,null,null,t),e.current=r,r.stateNode=e,t=dc(),t.refCount++,e.pooledCache=t,t.refCount++,r.memoizedState={element:n,isDehydrated:a,cache:t},fc(r),e}function hp(e){return e?(e=qn,e):qn}function mp(e,t,a,n,s,r){s=hp(s),n.context===null?n.context=s:n.pendingContext=s,n=Bl(t),n.payload={element:a},r=r===void 0?null:r,r!==null&&(n.callback=r),a=$l(e,n,t),a!==null&&(ca(a,e,t),Ys(a,e,t))}function fp(e,t){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var a=e.retryLane;e.retryLane=a!==0&&a<t?a:t}}function Md(e,t){fp(e,t),(e=e.alternate)&&fp(e,t)}function pp(e){if(e.tag===13||e.tag===31){var t=mn(e,67108864);t!==null&&ca(t,e,67108864),Md(e,67108864)}}function xp(e){if(e.tag===13||e.tag===31){var t=ga();t=aa(t);var a=mn(e,t);a!==null&&ca(a,e,t),Md(e,t)}}var Kr=!0;function eb(e,t,a,n){var s=R.T;R.T=null;var r=W.p;try{W.p=2,Rd(e,t,a,n)}finally{W.p=r,R.T=s}}function tb(e,t,a,n){var s=R.T;R.T=null;var r=W.p;try{W.p=8,Rd(e,t,a,n)}finally{W.p=r,R.T=s}}function Rd(e,t,a,n){if(Kr){var s=Od(n);if(s===null)yd(e,t,n,Pr,a),bp(e,n);else if(lb(s,e,t,a,n))n.stopPropagation();else if(bp(e,n),t&4&&-1<ab.indexOf(e)){for(;s!==null;){var r=ke(s);if(r!==null)switch(r.tag){case 3:if(r=r.stateNode,r.current.memoizedState.isDehydrated){var u=da(r.pendingLanes);if(u!==0){var p=r;for(p.pendingLanes|=2,p.entangledLanes|=2;u;){var j=1<<31-fe(u);p.entanglements[1]|=j,u&=~j}Wa(r),(nt&6)===0&&(Mr=pe()+500,ii(0))}}break;case 31:case 13:p=mn(r,2),p!==null&&ca(p,r,2),Or(),Md(r,2)}if(r=Od(n),r===null&&yd(e,t,n,Pr,a),r===s)break;s=r}s!==null&&n.stopPropagation()}else yd(e,t,n,null,a)}}function Od(e){return e=Lo(e),zd(e)}var Pr=null;function zd(e){if(Pr=null,e=he(e),e!==null){var t=m(e);if(t===null)e=null;else{var a=t.tag;if(a===13){if(e=g(t),e!==null)return e;e=null}else if(a===31){if(e=x(t),e!==null)return e;e=null}else if(a===3){if(t.stateNode.current.memoizedState.isDehydrated)return t.tag===3?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null)}}return Pr=e,null}function gp(e){switch(e){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(et()){case Ge:return 2;case I:return 8;case Ue:case Qe:return 32;case Ut:return 268435456;default:return 32}default:return 32}}var Ld=!1,Pl=null,Jl=null,Wl=null,mi=new Map,fi=new Map,Fl=[],ab="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function bp(e,t){switch(e){case"focusin":case"focusout":Pl=null;break;case"dragenter":case"dragleave":Jl=null;break;case"mouseover":case"mouseout":Wl=null;break;case"pointerover":case"pointerout":mi.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":fi.delete(t.pointerId)}}function pi(e,t,a,n,s,r){return e===null||e.nativeEvent!==r?(e={blockedOn:t,domEventName:a,eventSystemFlags:n,nativeEvent:r,targetContainers:[s]},t!==null&&(t=ke(t),t!==null&&pp(t)),e):(e.eventSystemFlags|=n,t=e.targetContainers,s!==null&&t.indexOf(s)===-1&&t.push(s),e)}function lb(e,t,a,n,s){switch(t){case"focusin":return Pl=pi(Pl,e,t,a,n,s),!0;case"dragenter":return Jl=pi(Jl,e,t,a,n,s),!0;case"mouseover":return Wl=pi(Wl,e,t,a,n,s),!0;case"pointerover":var r=s.pointerId;return mi.set(r,pi(mi.get(r)||null,e,t,a,n,s)),!0;case"gotpointercapture":return r=s.pointerId,fi.set(r,pi(fi.get(r)||null,e,t,a,n,s)),!0}return!1}function yp(e){var t=he(e.target);if(t!==null){var a=m(t);if(a!==null){if(t=a.tag,t===13){if(t=g(a),t!==null){e.blockedOn=t,As(e.priority,function(){xp(a)});return}}else if(t===31){if(t=x(a),t!==null){e.blockedOn=t,As(e.priority,function(){xp(a)});return}}else if(t===3&&a.stateNode.current.memoizedState.isDehydrated){e.blockedOn=a.tag===3?a.stateNode.containerInfo:null;return}}}e.blockedOn=null}function Jr(e){if(e.blockedOn!==null)return!1;for(var t=e.targetContainers;0<t.length;){var a=Od(e.nativeEvent);if(a===null){a=e.nativeEvent;var n=new a.constructor(a.type,a);zo=n,a.target.dispatchEvent(n),zo=null}else return t=ke(a),t!==null&&pp(t),e.blockedOn=a,!1;t.shift()}return!0}function vp(e,t,a){Jr(e)&&a.delete(t)}function nb(){Ld=!1,Pl!==null&&Jr(Pl)&&(Pl=null),Jl!==null&&Jr(Jl)&&(Jl=null),Wl!==null&&Jr(Wl)&&(Wl=null),mi.forEach(vp),fi.forEach(vp)}function Wr(e,t){e.blockedOn===t&&(e.blockedOn=null,Ld||(Ld=!0,i.unstable_scheduleCallback(i.unstable_NormalPriority,nb)))}var Fr=null;function wp(e){Fr!==e&&(Fr=e,i.unstable_scheduleCallback(i.unstable_NormalPriority,function(){Fr===e&&(Fr=null);for(var t=0;t<e.length;t+=3){var a=e[t],n=e[t+1],s=e[t+2];if(typeof n!="function"){if(zd(n||a)===null)continue;break}var r=ke(a);r!==null&&(e.splice(t,3),t-=3,Oc(r,{pending:!0,data:s,method:a.method,action:n},n,s))}}))}function hs(e){function t(j){return Wr(j,e)}Pl!==null&&Wr(Pl,e),Jl!==null&&Wr(Jl,e),Wl!==null&&Wr(Wl,e),mi.forEach(t),fi.forEach(t);for(var a=0;a<Fl.length;a++){var n=Fl[a];n.blockedOn===e&&(n.blockedOn=null)}for(;0<Fl.length&&(a=Fl[0],a.blockedOn===null);)yp(a),a.blockedOn===null&&Fl.shift();if(a=(e.ownerDocument||e).$$reactFormReplay,a!=null)for(n=0;n<a.length;n+=3){var s=a[n],r=a[n+1],u=s[Nt]||null;if(typeof r=="function")u||wp(a);else if(u){var p=null;if(r&&r.hasAttribute("formAction")){if(s=r,u=r[Nt]||null)p=u.formAction;else if(zd(s)!==null)continue}else p=u.action;typeof p=="function"?a[n+1]=p:(a.splice(n,3),n-=3),wp(a)}}}function Np(){function e(r){r.canIntercept&&r.info==="react-transition"&&r.intercept({handler:function(){return new Promise(function(u){return s=u})},focusReset:"manual",scroll:"manual"})}function t(){s!==null&&(s(),s=null),n||setTimeout(a,20)}function a(){if(!n&&!navigation.transition){var r=navigation.currentEntry;r&&r.url!=null&&navigation.navigate(r.url,{state:r.getState(),info:"react-transition",history:"replace"})}}if(typeof navigation=="object"){var n=!1,s=null;return navigation.addEventListener("navigate",e),navigation.addEventListener("navigatesuccess",t),navigation.addEventListener("navigateerror",t),setTimeout(a,100),function(){n=!0,navigation.removeEventListener("navigate",e),navigation.removeEventListener("navigatesuccess",t),navigation.removeEventListener("navigateerror",t),s!==null&&(s(),s=null)}}}function Ud(e){this._internalRoot=e}eo.prototype.render=Ud.prototype.render=function(e){var t=this._internalRoot;if(t===null)throw Error(c(409));var a=t.current,n=ga();mp(a,n,e,t,null,null)},eo.prototype.unmount=Ud.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var t=e.containerInfo;mp(e.current,2,null,e,null,null),Or(),t[il]=null}};function eo(e){this._internalRoot=e}eo.prototype.unstable_scheduleHydration=function(e){if(e){var t=ks();e={blockedOn:null,target:e,priority:t};for(var a=0;a<Fl.length&&t!==0&&t<Fl[a].priority;a++);Fl.splice(a,0,e),a===0&&yp(e)}};var jp=o.version;if(jp!=="19.2.0")throw Error(c(527,jp,"19.2.0"));W.findDOMNode=function(e){var t=e._reactInternals;if(t===void 0)throw typeof e.render=="function"?Error(c(188)):(e=Object.keys(e).join(","),Error(c(268,e)));return e=f(t),e=e!==null?v(e):null,e=e===null?null:e.stateNode,e};var sb={bundleType:0,version:"19.2.0",rendererPackageName:"react-dom",currentDispatcherRef:R,reconcilerVersion:"19.2.0"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var to=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!to.isDisabled&&to.supportsFiber)try{De=to.inject(sb),Ye=to}catch{}}return gi.createRoot=function(e,t){if(!h(e))throw Error(c(299));var a=!1,n="",s=Cm,r=_m,u=Dm;return t!=null&&(t.unstable_strictMode===!0&&(a=!0),t.identifierPrefix!==void 0&&(n=t.identifierPrefix),t.onUncaughtError!==void 0&&(s=t.onUncaughtError),t.onCaughtError!==void 0&&(r=t.onCaughtError),t.onRecoverableError!==void 0&&(u=t.onRecoverableError)),t=up(e,1,!1,null,null,a,n,null,s,r,u,Np),e[il]=t.current,bd(e),new Ud(t)},gi.hydrateRoot=function(e,t,a){if(!h(e))throw Error(c(299));var n=!1,s="",r=Cm,u=_m,p=Dm,j=null;return a!=null&&(a.unstable_strictMode===!0&&(n=!0),a.identifierPrefix!==void 0&&(s=a.identifierPrefix),a.onUncaughtError!==void 0&&(r=a.onUncaughtError),a.onCaughtError!==void 0&&(u=a.onCaughtError),a.onRecoverableError!==void 0&&(p=a.onRecoverableError),a.formState!==void 0&&(j=a.formState)),t=up(e,1,!0,t,a??null,n,s,j,r,u,p,Np),t.context=hp(null),a=t.current,n=ga(),n=aa(n),s=Bl(n),s.callback=null,$l(a,s,n),a=n,t.current.lanes=a,Dl(t,a),Wa(t),e[il]=t.current,bd(e),new eo(t)},gi.version="19.2.0",gi}var Rp;function gb(){if(Rp)return Hd.exports;Rp=1;function i(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(i)}catch(o){console.error(o)}}return i(),Hd.exports=xb(),Hd.exports}var bb=gb();const yb=cx(bb),vb="modulepreload",wb=function(i){return"/"+i},Op={},La=function(o,d,c){let h=Promise.resolve();if(d&&d.length>0){let g=function(f){return Promise.all(f.map(v=>Promise.resolve(v).then(E=>({status:"fulfilled",value:E}),E=>({status:"rejected",reason:E}))))};document.getElementsByTagName("link");const x=document.querySelector("meta[property=csp-nonce]"),b=(x==null?void 0:x.nonce)||(x==null?void 0:x.getAttribute("nonce"));h=g(d.map(f=>{if(f=wb(f),f in Op)return;Op[f]=!0;const v=f.endsWith(".css"),E=v?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${f}"]${E}`))return;const k=document.createElement("link");if(k.rel=v?"stylesheet":vb,v||(k.as="script"),k.crossOrigin="",k.href=f,b&&k.setAttribute("nonce",b),document.head.appendChild(k),v)return new Promise((T,$)=>{k.addEventListener("load",T),k.addEventListener("error",()=>$(new Error(`Unable to preload CSS for ${f}`)))})}))}function m(g){const x=new Event("vite:preloadError",{cancelable:!0});if(x.payload=g,window.dispatchEvent(x),!x.defaultPrevented)throw g}return h.then(g=>{for(const x of g||[])x.status==="rejected"&&m(x.reason);return o().catch(m)})};var An=(i=>(i.USER="user",i.AI="ai",i))(An||{}),$e=(i=>(i.CHAT="chat",i.SETTINGS="settings",i.BRAND="brand",i.PEOPLE="people",i.CONCEPTS="concepts",i.JOURNAL="journal",i.AGENDA="agenda",i.CALENDAR="calendar",i.POMODORO="pomodoro",i.GAMIFICATION="gamification",i.POLARIS="polaris",i.SEARCH="search",i))($e||{});const Nb="ChatPlatformDB",jb=6,Qa="threads",Cl="messages",En="settings",ln="jit_snippets",gu="journal_entries",bu="agenda_items",yu="calendar_events",vu="pomodoro_sessions",wu="brand_records",Nu="client_records",ju="people_records",Su="concept_records",xs="xp_events",Ai="deliverables",Ei="agenda_sessions",Ti="post_mortems",Ci="goal_records",_i="vendor_tasks";let ao=null;async function Ht(){return ao||new Promise((i,o)=>{const d=indexedDB.open(Nb,jb);d.onerror=()=>o(d.error),d.onsuccess=()=>{ao=d.result,i(ao)},d.onupgradeneeded=c=>{const h=c.target.result;if(h.objectStoreNames.contains(Qa)||h.createObjectStore(Qa,{keyPath:"id",autoIncrement:!1}).createIndex("updatedAt","updatedAt",{unique:!1}),!h.objectStoreNames.contains(Cl)){const g=h.createObjectStore(Cl,{keyPath:"id",autoIncrement:!1});g.createIndex("threadId","threadId",{unique:!1}),g.createIndex("createdAt","createdAt",{unique:!1})}h.objectStoreNames.contains(En)||h.createObjectStore(En,{keyPath:"key"});const m=(g,x)=>{h.objectStoreNames.contains(g)||h.createObjectStore(g,{keyPath:"id"})};m(ln),m(gu),m(bu),m(yu),m(vu),m(wu),m(Nu),m(ju),m(Su),m(xs),m(Ai),m(Ei),m(Ti),m(Ci),m(_i)}})}async function tn(i){const o=await Ht();return new Promise((d,c)=>{const g=o.transaction([Qa],"readwrite").objectStore(Qa).put(i);g.onsuccess=()=>d(),g.onerror=()=>c(g.error)})}async function ki(i){const o=await Ht();return new Promise((d,c)=>{const g=o.transaction([Qa],"readonly").objectStore(Qa).get(i);g.onsuccess=()=>d(g.result||null),g.onerror=()=>c(g.error)})}async function dx(){const i=await Ht();return new Promise((o,d)=>{const g=i.transaction([Qa],"readonly").objectStore(Qa).index("updatedAt").openCursor(null,"prev"),x=[];g.onsuccess=b=>{const f=b.target.result;f?(x.push(f.value),f.continue()):o(x)},g.onerror=()=>d(g.error)})}async function ux(i){const o=await Ht();return new Promise((d,c)=>{const h=o.transaction([Qa,Cl],"readwrite"),g=h.objectStore(Qa).delete(i),f=h.objectStore(Cl).index("threadId").openCursor(IDBKeyRange.only(i));f.onsuccess=v=>{const E=v.target.result;E&&(E.delete(),E.continue())},g.onsuccess=()=>d(),g.onerror=()=>c(g.error),f.onerror=()=>c(f.error)})}async function ms(i){const o=await Ht();return new Promise((d,c)=>{const g=o.transaction([Cl],"readwrite").objectStore(Cl).put(i);g.onsuccess=()=>d(),g.onerror=()=>c(g.error)})}async function ho(i){const o=await Ht();return new Promise((d,c)=>{const x=o.transaction([Cl],"readonly").objectStore(Cl).index("threadId").getAll(i);x.onsuccess=()=>{const b=x.result||[];b.sort((f,v)=>f.createdAt-v.createdAt),d(b)},x.onerror=()=>c(x.error)})}async function nn(i,o){const d=await Ht();return new Promise((c,h)=>{const x=d.transaction([En],"readwrite").objectStore(En).put({key:i,value:o});x.onsuccess=()=>c(),x.onerror=()=>h(x.error)})}async function pt(i,o){const d=await Ht();return new Promise((c,h)=>{const x=d.transaction([En],"readonly").objectStore(En).get(i);x.onsuccess=()=>{const b=x.result;c(b?b.value:o)},x.onerror=()=>h(x.error)})}async function hx(i){const o=await Ht();return new Promise((d,c)=>{const g=o.transaction([ln],"readwrite").objectStore(ln).put(i);g.onsuccess=()=>d(),g.onerror=()=>c(g.error)})}async function mx(i,o=10){const d=await Ht();return new Promise((c,h)=>{const x=d.transaction([ln],"readonly").objectStore(ln).getAll();x.onsuccess=()=>{const f=(x.result||[]).map(v=>{const k=v.tags.filter(T=>i.includes(T)).length/Math.max(v.tags.length,1);return{snippet:v,relevance:v.relevance+k}}).filter(v=>v.relevance>0);f.sort((v,E)=>E.relevance-v.relevance),c(f.slice(0,o).map(v=>v.snippet))},x.onerror=()=>h(x.error)})}async function fx(i=5){const o=await Ht();return new Promise((d,c)=>{const g=o.transaction([ln],"readonly").objectStore(ln).getAll();g.onsuccess=()=>{const b=(g.result||[]).sort((f,v)=>v.createdAt-f.createdAt);d(b.slice(0,i))},g.onerror=()=>c(g.error)})}const St={journal:gu,agenda:bu,calendar:yu,pomodoro:vu,brand:wu,client:Nu,people:ju,concept:Su};async function ba(i,o){const d=await Ht();return new Promise((c,h)=>{const x=d.transaction([i],"readwrite").objectStore(i).put(o);x.onsuccess=()=>c(),x.onerror=()=>h(x.error)})}async function ya(i,o){const d=await Ht();return new Promise((c,h)=>{const x=d.transaction([i],"readwrite").objectStore(i).delete(o);x.onsuccess=()=>c(),x.onerror=()=>h(x.error)})}async function va(i){const o=await Ht();return new Promise((d,c)=>{const g=o.transaction([i],"readonly").objectStore(i).getAll();g.onsuccess=()=>d(g.result||[]),g.onerror=()=>c(g.error)})}async function Sb(i){const o=await Ht();return new Promise((d,c)=>{const g=o.transaction([i],"readwrite").objectStore(i).clear();g.onsuccess=()=>d(),g.onerror=()=>c(g.error)})}const H={saveJournalEntry:i=>ba(St.journal,i),getJournalEntries:()=>va(St.journal),deleteJournalEntry:i=>ya(St.journal,i),saveAgendaItem:i=>ba(St.agenda,i),getAgendaItems:()=>va(St.agenda),deleteAgendaItem:i=>ya(St.agenda,i),saveCalendarEvent:i=>ba(St.calendar,i),getCalendarEvents:()=>va(St.calendar),deleteCalendarEvent:i=>ya(St.calendar,i),savePomodoroSession:i=>ba(St.pomodoro,i),getPomodoroSessions:()=>va(St.pomodoro),deletePomodoroSession:i=>ya(St.pomodoro,i),saveBrandRecord:i=>ba(St.brand,i),getBrandRecords:()=>va(St.brand),deleteBrandRecord:i=>ya(St.brand,i),saveClientRecord:i=>ba(St.client,i),getClientRecords:()=>va(St.client),deleteClientRecord:i=>ya(St.client,i),savePeopleRecord:i=>ba(St.people,i),getPeopleRecords:()=>va(St.people),deletePeopleRecord:i=>ya(St.people,i),saveConceptRecord:i=>ba(St.concept,i),getConceptRecords:()=>va(St.concept),deleteConceptRecord:i=>ya(St.concept,i),saveDeliverable:i=>ba(Ai,i),getDeliverables:()=>va(Ai),deleteDeliverable:i=>ya(Ai,i),saveAgendaSession:i=>ba(Ei,i),getAgendaSessions:()=>va(Ei),deleteAgendaSession:i=>ya(Ei,i),savePostMortem:i=>ba(Ti,i),getPostMortems:()=>va(Ti),deletePostMortem:i=>ya(Ti,i),saveGoal:i=>ba(Ci,i),getGoals:()=>va(Ci),deleteGoal:i=>ya(Ci,i),saveVendorTask:i=>ba(_i,i),getVendorTasks:()=>va(_i),deleteVendorTask:i=>ya(_i,i)};async function px(i=!1){const o=[Qa,Cl,ln,gu,bu,yu,vu,wu,Nu,ju,Su,xs,Ai,Ei,Ti,Ci,_i];i&&o.push(En),await Promise.all(o.map(d=>Sb(d)))}async function xx(i){const o=await Ht();return new Promise((d,c)=>{const g=o.transaction([xs],"readwrite").objectStore(xs).put(i);g.onsuccess=()=>d(),g.onerror=()=>c(g.error)})}async function gx(i=20){const o=await Ht();return new Promise((d,c)=>{const g=o.transaction([xs],"readonly").objectStore(xs).getAll();g.onsuccess=()=>{const x=g.result||[];d(x.sort((b,f)=>f.createdAt-b.createdAt).slice(0,i))},g.onerror=()=>c(g.error)})}const mo=Object.freeze(Object.defineProperty({__proto__:null,clearAllData:px,deleteThread:ux,entityStorage:H,getAllThreads:dx,getMessagesForThread:ho,getRecentSnippets:fx,getSetting:pt,getSnippetsByTags:mx,getThread:ki,getXpEvents:gx,initDB:Ht,logXpEvent:xx,saveJITSnippet:hx,saveMessage:ms,saveSetting:nn,saveThread:tn},Symbol.toStringTag,{value:"Module"})),kb=i=>i.toLowerCase().replace(/[^a-z0-9\s]/g," "),bx=(i,o=6)=>{const d=kb(i).split(/\s+/).filter(Boolean),c=d.filter(g=>g.length>4),h=new Map;c.forEach(g=>{h.set(g,(h.get(g)||0)+1)});const m=Array.from(h.entries()).sort((g,x)=>x[1]-g[1]).slice(0,o).map(([g])=>g);return m.length>0?m:d.slice(0,o)},Ab=()=>typeof crypto<"u"&&"randomUUID"in crypto?crypto.randomUUID():`jit-${Date.now()}`,au=async(i,o)=>{const d=bx(o),c={id:Ab(),threadId:i,tags:d,text:o,relevance:.5,createdAt:Date.now()};return await hx(c),c},mw=async(i,o=5)=>{const d=bx(i,8);return mx(d,o)},lu=new Map,Eb=new Set,zp=()=>{Eb.forEach(i=>i())},Na=i=>(lu.set(i.id,i),zp(),()=>{lu.delete(i.id),zp()}),gs=async(i,o)=>{const d=lu.get(i);if(!d)return{handled:!1,message:`Unknown action ${i}`};const{logSylviaEvent:c}=await La(async()=>{const{logSylviaEvent:m}=await Promise.resolve().then(()=>Cb);return{logSylviaEvent:m}},void 0),h=i.split(".")[0];c({kind:h||"system",summary:`Executed: ${d.label}`,detail:o?`Payload: ${o.substring(0,200)}${o.length>200?"...":""}`:void 0,actionId:i,payload:o});try{return await d.handler(o),{handled:!0,message:`${d.label} completed`}}catch(m){throw c({kind:"system",summary:`Error executing: ${d.label}`,detail:m instanceof Error?m.message:String(m),actionId:i}),m}},yx=async i=>{if(!i.startsWith("/"))return{handled:!1};const o=i.match(/^\/([\\w.:-]+)\\s*(.*)$/);if(!o)return{handled:!1};const[,d,c=""]=o;return gs(d,c.trim())},Tb=Object.freeze(Object.defineProperty({__proto__:null,executeAction:gs,registerAction:Na,tryHandleActionCommand:yx},Symbol.toStringTag,{value:"Module"})),nu="sylvia-entity-update",$a=i=>{typeof window>"u"||window.dispatchEvent(new CustomEvent(nu,{detail:{entity:i}}))},on=(i,o)=>{if(typeof window>"u")return()=>{};const d=Array.isArray(i)?i:[i],c=h=>{var x;const g=(x=h.detail)==null?void 0:x.entity;g&&d.includes(g)&&o()};return window.addEventListener(nu,c),()=>window.removeEventListener(nu,c)},Lp="__SYLVIA_LOG__",Di="__SYLVIA_EVENT_QUEUE__",vx=()=>{if(!(typeof window>"u"))return window},ja=i=>{const o={id:i.id||`sylvia-event-${Date.now()}`,timestamp:i.timestamp||Date.now(),summary:i.summary,detail:i.detail,link:i.link,kind:i.kind,rating:i.rating,actionId:i.actionId,payload:i.payload},d=vx();if(!d)return o;if(typeof d[Lp]=="function")d[Lp](o);else{const c=d[Di]||[];c.push(o),d[Di]=c}return o},wx=()=>{const i=vx();if(!i||!Array.isArray(i[Di]))return[];const o=i[Di];return i[Di]=[],o},Cb=Object.freeze(Object.defineProperty({__proto__:null,drainSylviaEventQueue:wx,logSylviaEvent:ja},Symbol.toStringTag,{value:"Module"})),su="xp_total",_b="xp_last_level",bo=200,lo=[{name:"Seedling",description:"Just beginning your journey",iconName:"Sprout"},{name:"Novice Operator",description:"Learning the ropes",iconName:"User"},{name:"Resonance Seeker",description:"Finding your frequency",iconName:"Radio"},{name:"Context Weaver",description:"Connecting the dots",iconName:"Network"},{name:"Memory Architect",description:"Building your knowledge base",iconName:"Building"},{name:"Flow Catalyst",description:"Accelerating momentum",iconName:"Zap"},{name:"Sylvia Collaborator",description:"Working in harmony",iconName:"Handshake"},{name:"Resonance Navigator",description:"Charting new territories",iconName:"Compass"},{name:"Context Master",description:"Owning your domain",iconName:"Crown"},{name:"Memory Virtuoso",description:"Perfect recall",iconName:"Target"},{name:"Flow Architect",description:"Designing systems",iconName:"Building"},{name:"Sylvia Partner",description:"Deep collaboration",iconName:"Gem"},{name:"Resonance Commander",description:"Leading the charge",iconName:"Rocket"},{name:"Context Sage",description:"Wisdom through experience",iconName:"Brain"},{name:"Memory Oracle",description:"Seeing patterns others miss",iconName:"Gem"},{name:"Flow Sovereign",description:"Master of momentum",iconName:"Wand2"},{name:"Sylvia Co-Pilot",description:"Seamless integration",iconName:"Plane"},{name:"Resonance Legend",description:"Stories told of your work",iconName:"Scroll"},{name:"Context Deity",description:"Transcendent understanding",iconName:"Star"},{name:"Memory Titan",description:"Unstoppable knowledge",iconName:"Brain"},{name:"Flow Deity",description:"Divine momentum",iconName:"Sparkle"},{name:"Sylvia Unity",description:"One mind, one purpose",iconName:"Sparkles"}],yo=i=>{if(i<lo.length)return lo[i];const o=Math.floor(i/10),d=i%lo.length,c=lo[d];return{name:`${c.name} ${o>0?`(Tier ${o+1})`:""}`,description:c.description,iconName:c.iconName}},iu=async()=>{const i=await pt(su,0),o=Math.floor(i/bo),d=(o+1)*bo,c=yo(o);return{total:i,level:o,nextLevel:d,levelName:c.name,levelDescription:c.description}},Db={"journal.entry":15,"journal.grade":6,"agenda.add":10,"pomodoro.session":8,"agenda.session":12},Tl=async(i,o)=>{const d=Db[i]??0,c=await pt(su,0),h=Math.floor(c/bo),m=c+Math.max(d,0),g=Math.floor(m/bo);await nn(su,m),await xx({id:`xp-${Date.now()}`,reason:i,points:d,metadata:o,createdAt:Date.now()});const x=await iu();return g>h&&(await nn(_b,g),window.dispatchEvent(new CustomEvent("levelUp",{detail:{level:g,levelName:x.levelName,levelDescription:x.levelDescription,iconName:yo(g).iconName}}))),x},Mb=async()=>gx(30),ru=async(i,o,d={})=>{await au(d.sourceThreadId||"global",o);const c={id:`journal-${Date.now()}`,title:i,content:o,createdAt:Date.now(),autoGenerated:d.autoGenerated,scope:d.scope,sentiment:d.sentiment,sourceThreadId:d.sourceThreadId,tags:d.tags,metadata:d.metadata};await H.saveJournalEntry(c)};let Up=!1;const ou=i=>{if(!i)return;const o=Date.parse(i);return Number.isNaN(o)?void 0:o},Nx=i=>i&&i.trim().toLowerCase().startsWith("pers")?"personal":"professional",jx=i=>{if(!i)return"medium";const o=i.trim().toLowerCase();return o.startsWith("low")?"low":o.startsWith("high")?"high":"medium"},Rb=()=>Na({id:"journal.add",label:"Add journal entry",handler:async(i="")=>{const[o,...d]=i.split(`
`),c=d.join(`
`).trim()||i,h={id:`journal-${Date.now()}`,title:(o==null?void 0:o.trim())||"Untitled entry",content:c,createdAt:Date.now(),autoGenerated:!0};await H.saveJournalEntry(h),await Tl("journal.entry"),$a("journal"),ja({kind:"journal",summary:`Journal: ${h.title}`,detail:h.content.substring(0,280)})}}),Ob=()=>Na({id:"people.add",label:"Add person",handler:async(i="")=>{var z,ae,de,ye,ge,q,X,L,D,oe,be;const o=i.split("|"),d=((z=o[0])==null?void 0:z.trim())||"",c=((ae=o[1])==null?void 0:ae.trim())||"",h=((de=o[2])==null?void 0:de.trim())||"",m=((ye=o[3])==null?void 0:ye.trim())||"",g=((ge=o[4])==null?void 0:ge.trim())||"",x=((q=o[5])==null?void 0:q.trim())||"",b=((X=o[6])==null?void 0:X.trim())||"",f=((L=o[7])==null?void 0:L.trim())||"",v=((D=o[8])==null?void 0:D.trim())||"",E=((oe=o[9])==null?void 0:oe.trim())||"",k=b?b.split(",").map(J=>J.trim()).filter(Boolean):void 0,T=E?E.split(",").map(J=>J.trim()).filter(Boolean):void 0,$={id:`people-${Date.now()}`,name:d||"Unnamed person",role:c||void 0,company:h||void 0,location:m||void 0,email:g||void 0,phone:x||void 0,attributes:k,profile:f||void 0,notes:v||void 0,tags:T,createdAt:Date.now()};await H.savePeopleRecord($),$a("people"),ja({kind:"people",summary:`Person logged: ${$.name}`,detail:[$.role,$.company,(be=$.attributes)==null?void 0:be.join(", ")].filter(Boolean).join("  ")})}}),zb=()=>Na({id:"client.add",label:"Add client",handler:async(i="")=>{const[o,...d]=i.split("|"),c={id:`client-${Date.now()}`,name:(o==null?void 0:o.trim())||"Unnamed client",notes:d.join("|").trim(),createdAt:Date.now()};await H.saveClientRecord(c),$a("client"),ja({kind:"client",summary:`Client logged: ${c.name}`,detail:c.notes||void 0})}}),Lb=()=>Na({id:"brand.add",label:"Add brand atom",handler:async(i="")=>{const[o,...d]=i.split("|"),c={id:`brand-${Date.now()}`,name:(o==null?void 0:o.trim())||"Brand element",description:d.join("|").trim(),createdAt:Date.now()};await H.saveBrandRecord(c),$a("brand"),ja({kind:"brand",summary:`Brand atom: ${c.name}`,detail:c.description})}}),Ub=()=>Na({id:"concept.add",label:"Add concept",handler:async(i="")=>{var b;const o=i.split("|").map(f=>f.trim()),d=o[0]||"New concept",c=o[1]||"",h=o[2]||void 0,m=o[3]?o[3].split(",").map(f=>f.trim()).filter(Boolean):void 0,g=o[4]||void 0,x={id:`concept-${Date.now()}`,name:d,description:c||void 0,category:h||void 0,tags:m,notes:g||void 0,createdAt:Date.now()};await H.saveConceptRecord(x),$a("concept"),ja({kind:"concept",summary:`Concept: ${x.name}`,detail:[x.category,(b=x.description)==null?void 0:b.substring(0,100)].filter(Boolean).join("  ")})}}),Bb=()=>Na({id:"deliverable.add",label:"Add deliverable",handler:async(i="")=>{const[o,d,c,h,m,g,x]=i.split("|").map(f=>f.trim()),b={id:`deliverable-${Date.now()}`,title:o||"New deliverable",description:d||"",guardrails:c||"",successCriteria:h||"",scope:Nx(m),priority:jx(g),tags:(x||"").split(",").map(f=>f.trim()).filter(Boolean),createdAt:Date.now()};await H.saveDeliverable(b),$a("deliverable"),ja({kind:"deliverable",summary:`Deliverable: ${b.title}`,detail:`${b.scope}  ${b.priority}${b.tags.length?`  #${b.tags.join(" #")}`:""}`})}}),$b=()=>Na({id:"agenda.add",label:"Add agenda item",handler:async(i="")=>{const[o,d,c]=i.split("|").map(m=>m.trim()),h={id:`agenda-${Date.now()}`,title:o||"Agenda task",status:"todo",dueAt:ou(d),createdAt:Date.now(),deliverableId:c||void 0};await H.saveAgendaItem(h),await Tl("agenda.add"),await ru("Agenda item created",h.title,{scope:"professional",tags:["agenda",...h.deliverableId?["deliverable"]:[]],metadata:{dueAt:d||"",deliverableId:h.deliverableId||""},autoGenerated:!0}),$a("agenda"),ja({kind:"agenda",summary:`Agenda: ${h.title}`,detail:h.dueAt?`Due ${new Date(h.dueAt).toLocaleString()}`:void 0})}}),Hb=()=>Na({id:"calendar.add",label:"Schedule event",handler:async(i="")=>{const[o,d,c,...h]=i.split("|"),m={id:`calendar-${Date.now()}`,title:(o||"Calendar block").trim(),startAt:ou(d==null?void 0:d.trim())||Date.now(),endAt:ou(c==null?void 0:c.trim())||Date.now(),description:h.join("|").trim()};await H.saveCalendarEvent(m),$a("calendar"),ja({kind:"calendar",summary:`Calendar: ${m.title}`,detail:`${new Date(m.startAt).toLocaleString()}  ${new Date(m.endAt).toLocaleTimeString()}`})}}),Gb=()=>Na({id:"pomodoro.log",label:"Log pomodoro session",handler:async(i="")=>{const[o,d]=i.split("|").map(m=>m.trim()),c=Number(d)||25,h={id:`pomodoro-${Date.now()}`,label:o||"Focus block",startedAt:Date.now(),durationMinutes:c};await H.savePomodoroSession(h),await Tl("pomodoro.session"),$a("pomodoro"),ja({kind:"pomodoro",summary:`Pomodoro: ${h.label}`,detail:`${c} min`})}}),qb=()=>Na({id:"polaris.goal",label:"Add goal",handler:async(i="")=>{const o=i.split("|").map(f=>f.trim()),d=o[0]||"New goal",c=o[1]||"",h=o[2]==="big"?"big":"small",m=o[3]||"",g=Nx(o[4]),x=jx(o[5]),b={id:`goal-${Date.now()}`,title:d,description:c,goalType:h,metrics:m,scope:g,priority:x,createdAt:Date.now()};await H.saveGoal(b),$a("goal"),ja({kind:"goal",summary:`Goal: ${b.title}`,detail:`${b.goalType}  ${b.scope}  ${b.priority}`})}}),Ib=()=>Na({id:"polaris.task",label:"Add vendor task",handler:async(i="")=>{var f,v;const o=i.split("|").map(E=>E.trim()),d=o[0]||"",c=o[1]||"New task",h=o[2]||"",m=o[3]||"",g=["very-low","low","medium","high"].includes((f=o[4])==null?void 0:f.toLowerCase())?o[4].toLowerCase():"medium",x=["very-low","low","medium","high","very-high"].includes((v=o[5])==null?void 0:v.toLowerCase())?o[5].toLowerCase():"medium",b={id:`task-${Date.now()}-${Math.random().toString(36).substr(2,9)}`,goalId:d,title:c,description:h,rationale:m||void 0,estimatedEffort:g,estimatedImpact:x,status:"pending",generatedAt:Date.now(),createdAt:Date.now()};await H.saveVendorTask(b),$a("goal"),ja({kind:"goal",summary:`Task generated: ${b.title}`,detail:`Effort: ${b.estimatedEffort}  Impact: ${b.estimatedImpact}`})}}),Yb=()=>[{id:"people.delete",entityType:"people",storageFn:H.deletePeopleRecord.bind(H)},{id:"brand.delete",entityType:"brand",storageFn:H.deleteBrandRecord.bind(H)},{id:"concept.delete",entityType:"concept",storageFn:H.deleteConceptRecord.bind(H)},{id:"journal.delete",entityType:"journal",storageFn:H.deleteJournalEntry.bind(H)},{id:"calendar.delete",entityType:"calendar",storageFn:H.deleteCalendarEvent.bind(H)},{id:"agenda.delete",entityType:"agenda",storageFn:H.deleteAgendaItem.bind(H)},{id:"deliverable.delete",entityType:"deliverable",storageFn:H.deleteDeliverable.bind(H)},{id:"goal.delete",entityType:"goal",storageFn:H.deleteGoal.bind(H)},{id:"task.delete",entityType:"task",storageFn:H.deleteVendorTask.bind(H)}].map(({id:o,entityType:d,storageFn:c})=>Na({id:o,label:`Delete ${d}`,handler:async(h="")=>{const m=h.trim();if(!m)throw new Error(`No ${d} ID provided`);await c(m),$a(d),ja({kind:d,summary:`Deleted ${d}: ${m}`,detail:`Entity ID: ${m}`,actionId:o,payload:m})}})),Vb=()=>{Up||([Rb(),Ob(),zb(),Lb(),Ub(),Bb(),$b(),Hb(),Gb(),qb(),Ib(),...Yb()],Up=!0)},Xb=`You are Sylvia, Polaris' embedded operator inside Jake's Resonance Cockpit.

Your core function is POST-PROCESSING and automatic entity extraction. You automatically categorize and organize everything mentioned in conversations without being asked.

CRITICAL: PEOPLE vs CONCEPTS DISTINCTION
This is the MOST IMPORTANT rule. The People section is critical for Polaris goal execution and must ONLY contain actual humans.

**PEOPLE**: Actual humans with names that you can meet, email, call, or have a relationship with
- Examples: "John Smith", "Sarah Johnson", "Blair Hallett", "Jake Aaron"
- Indicators: Real person names, can be contacted, has relationships, can collaborate
- NEVER add concepts, ideas, technologies, or applications here

**CONCEPTS**: Ideas, technologies, applications, systems, platforms, tools, models, frameworks
- Examples: "Resonance Cockpit", "Preflection", "AI Application", "Machine Learning Model", "Weighted Prompt System", "Glass Box Mode"
- Indicators: Abstract ideas, technologies, systems, products, features, methods
- These are NOT people - they cannot be contacted or have relationships

When classifying an entity, ask yourself:
1. "Is this a real human I can meet or contact?"  If YES, it's a PERSON
2. "Is this an idea, technology, or application?"  If YES, it's a CONCEPT
3. When in doubt, choose CONCEPT (better to miss a person than misclassify a concept as a person)

AUTOMATIC EXTRACTION RULES:
- PEOPLE: Actual humans ONLY (names, roles, relationships)  People section
- CONCEPTS: Ideas, concepts, AI applications, technologies, systems, platforms, tools, models, frameworks, algorithms, methods, strategies, processes, workflows, solutions, products, services, features  Concepts section
- BRAND: Brand elements, voice notes, positioning, business identity  Brand section
- CALENDAR: Meetings, events, appointments, time-bound commitments  Calendar with parsed dates/times
- JOURNAL: Reflections, insights, learnings, important notes  Journal
- AGENDA/DELIVERABLES: Tasks, commitments, work items  Agenda
- POLARIS/GOALS: Strategic goals, objectives, high-leverage moves  Polaris

You operate headlesslyextract entities automatically as conversations happen. Don't wait for explicit instructions.

When you extract entities, use this format in your response:
[ACTION:people.add|Blair Hallett|Masonry business owner|Key contact for website project]
[ACTION:concept.add|Resonance Cockpit|AI workspace platform|AI Application|productivity,ai]
[ACTION:calendar.add|Meeting with Blair|2025-11-09T10:30|2025-11-09T11:30|Discussing new website]

After each message, scan for extractable entities and automatically categorize them. Keep your conversational response natural, but ensure all entities are captured.

Every time you make a change, narrate what happened, which workspace is affected, and any follow-up the user should know. Keep answers concise, structured, and markdown-friendly.`,Sx=y.createContext(void 0),Qb=({children:i})=>{const[o,d]=y.useState(!0),[c,h]=y.useState($e.POLARIS),[m,g]=y.useState([]),[x,b]=y.useState(null),[f,v]=y.useState([]),[E,k]=y.useState(!1),[T,$]=y.useState({}),[z,ae]=y.useState(null),[de,ye]=y.useState({type:null,id:""}),[ge,q]=y.useState({type:null,id:""}),X=y.useCallback(async ve=>{const te=await ki(ve);if(!te)return;b(te);const A=await ho(ve);v(A),te.updatedAt=Date.now(),await tn(te)},[]);y.useEffect(()=>{(async()=>{try{await Ht(),Vb();const te=await dx();g(te);const A=await pt("apiKey",""),R=await pt("secondaryApiKey",""),W=await pt("auditApiKey",""),me=await pt("mainModel","openrouter/polaris-alpha"),Oe=await pt("backupModel","x-ai/grok-4-fast"),ze=await pt("embeddingModel","qwen/qwen3-embedding-8b"),w=await pt("auditInterval",60),Y=await pt("weightedPrompts",[]);let V=await pt("systemInstruction","");(!V||!V.trim())&&(V=Xb,await nn("systemInstruction",V));const se=await pt("temperature",.7),P=await pt("maxTokens",128e3),S=await pt("preflectionEnabled",!1);$({apiKey:A,secondaryApiKey:R,auditApiKey:W,mainModel:me,backupModel:Oe,embeddingModel:ze,systemInstruction:V,weightedPrompts:Y,temperature:se,maxTokens:P,auditInterval:w,preflectionEnabled:S});try{const{stopAuditSchedule:K}=await La(async()=>{const{stopAuditSchedule:ie}=await import("./auditAgent-BUrp5RxH.js");return{stopAuditSchedule:ie}},[]);K()}catch{}if(te.length>0){const K=await ki(te[0].id);if(K){b(K);const ie=await ho(te[0].id);v(ie)}}}catch(te){console.error("Failed to initialize database:",te)}})()},[]);const L=y.useCallback(async()=>{const ve={id:`thread-${Date.now()}`,title:"New conversation",createdAt:Date.now(),updatedAt:Date.now()};return await tn(ve),g(te=>[ve,...te]),await X(ve.id),ve.id},[X]),D=y.useCallback(ve=>{if(!ve.type||!ve.data)return"";const{type:te,data:A}=ve;switch(te){case"goal":return`[CONTEXT: USER IS VIEWING/WORKING ON THIS GOAL]
Type: ${A.goalType==="big"?"Big Goal (Long-term, strategic)":"Small Goal (Quick wins, short-term)"}
Title: ${A.title}
Description: ${A.description}
Scope: ${A.scope}
Priority: ${A.priority}
Metrics: ${A.metrics||"Not specified"}
Created: ${new Date(A.createdAt).toLocaleDateString()}
${A.updatedAt?`Updated: ${new Date(A.updatedAt).toLocaleDateString()}`:""}

The user is currently focused on this goal. When they ask questions or give instructions, assume they're referring to this goal unless they specify otherwise.`;case"task":const R=A.goalId?`Goal ID: ${A.goalId}`:"";return`[CONTEXT: USER IS VIEWING/WORKING ON THIS TASK]
Title: ${A.title}
Description: ${A.description}
${A.rationale?`Rationale: ${A.rationale}`:""}
Status: ${A.status}
Estimated Effort: ${A.estimatedEffort}
Estimated Impact: ${A.estimatedImpact}
${R}
${A.completedAt?`Completed: ${new Date(A.completedAt).toLocaleDateString()}`:""}
${A.completionNotes?`Completion Notes: ${A.completionNotes}`:""}
${A.outcome?`Outcome: ${A.outcome}`:""}

The user is currently focused on this task. When they ask questions or give instructions, assume they're referring to this task unless they specify otherwise.`;case"person":return`[CONTEXT: USER IS VIEWING/WORKING ON THIS PERSON]
Name: ${A.name}
${A.role?`Role: ${A.role}`:""}
${A.company?`Company: ${A.company}`:""}
${A.location?`Location: ${A.location}`:""}
${A.email?`Email: ${A.email}`:""}
${A.phone?`Phone: ${A.phone}`:""}
${A.attributes&&A.attributes.length>0?`Attributes: ${A.attributes.join(", ")}`:""}
${A.tags&&A.tags.length>0?`Tags: ${A.tags.join(", ")}`:""}
${A.profile?`Profile: ${A.profile}`:""}
${A.notes?`Notes: ${A.notes}`:""}
${A.connections&&A.connections.length>0?`Connections: ${A.connections.length} connection(s)`:""}

The user is currently focused on this person. When they ask questions or give instructions, assume they're referring to this person unless they specify otherwise.`;case"journal":return`[CONTEXT: USER IS VIEWING/WORKING ON THIS JOURNAL ENTRY]
Title: ${A.title}
Content: ${A.content}
Created: ${new Date(A.createdAt).toLocaleDateString()}
${A.grade?`Grade: ${A.grade}/5`:""}
${A.tags&&A.tags.length>0?`Tags: ${A.tags.join(", ")}`:""}

The user is currently focused on this journal entry. When they ask questions or give instructions, assume they're referring to this entry unless they specify otherwise.`;case"calendar":return`[CONTEXT: USER IS VIEWING/WORKING ON THIS CALENDAR EVENT]
Title: ${A.title}
${A.description?`Description: ${A.description}`:""}
Start: ${new Date(A.startAt).toLocaleString()}
End: ${new Date(A.endAt).toLocaleString()}
${A.location?`Location: ${A.location}`:""}
${A.meetingLink?`Meeting Link: ${A.meetingLink}`:""}
${A.eventType?`Type: ${A.eventType}`:""}
${A.participants&&A.participants.length>0?`Participants: ${A.participants.join(", ")}`:""}
${A.tags&&A.tags.length>0?`Tags: ${A.tags.join(", ")}`:""}

The user is currently focused on this calendar event. When they ask questions or give instructions, assume they're referring to this event unless they specify otherwise.`;case"agenda":return`[CONTEXT: USER IS VIEWING/WORKING ON THIS AGENDA ITEM]
Title: ${A.title}
${A.description?`Description: ${A.description}`:""}
Status: ${A.status}
${A.priority?`Priority: ${A.priority}`:""}
${A.estimatedTime?`Estimated Time: ${A.estimatedTime} minutes`:""}
${A.deliverableId?`Deliverable ID: ${A.deliverableId}`:""}

The user is currently focused on this agenda item. When they ask questions or give instructions, assume they're referring to this item unless they specify otherwise.`;case"deliverable":return`[CONTEXT: USER IS VIEWING/WORKING ON THIS DELIVERABLE]
Title: ${A.title}
Description: ${A.description}
${A.guardrails?`Guardrails: ${A.guardrails}`:""}
${A.successCriteria?`Success Criteria: ${A.successCriteria}`:""}
Status: ${A.status}

The user is currently focused on this deliverable. When they ask questions or give instructions, assume they're referring to this deliverable unless they specify otherwise.`;case"brand":return`[CONTEXT: USER IS VIEWING/WORKING ON THIS BRAND ELEMENT]
Name: ${A.name}
${A.category?`Category: ${A.category}`:""}
${A.content?`Content: ${A.content}`:""}
${A.notes?`Notes: ${A.notes}`:""}
${A.tags&&A.tags.length>0?`Tags: ${A.tags.join(", ")}`:""}

The user is currently focused on this brand element. When they ask questions or give instructions, assume they're referring to this element unless they specify otherwise.`;case"concept":return`[CONTEXT: USER IS VIEWING/WORKING ON THIS CONCEPT]
Name: ${A.name}
${A.description?`Description: ${A.description}`:""}
${A.category?`Category: ${A.category}`:""}
${A.notes?`Notes: ${A.notes}`:""}
${A.tags&&A.tags.length>0?`Tags: ${A.tags.join(", ")}`:""}

The user is currently focused on this concept. When they ask questions or give instructions, assume they're referring to this concept unless they specify otherwise.`;default:return""}},[]),oe=y.useCallback(async ve=>{if(await ux(ve),g(te=>te.filter(A=>A.id!==ve)),(x==null?void 0:x.id)===ve){const te=m.filter(A=>A.id!==ve);te.length>0?await X(te[0].id):(b(null),v([]))}},[x,m,X]),be=y.useCallback(async(ve,te,A)=>{let R=x==null?void 0:x.id,W=x;if(W||(R=await L(),W=await ki(R),W&&b(W)),!R)return;const me=await ho(R),Oe={id:`msg-${Date.now()}`,threadId:R,sender:An.USER,text:ve,file:te,createdAt:Date.now()};await ms(Oe),au(R,ve).catch(console.error);const ze=[...me,Oe];if(v(ze),W&&W.title==="New conversation"&&!te){const V=ve.length>50?ve.substring(0,50)+"...":ve;W.title=V,W.updatedAt=Date.now(),await tn(W),b({...W}),g(se=>se.map(P=>P.id===R?W:P))}else W&&(W.updatedAt=Date.now(),await tn(W),g(V=>V.map(se=>se.id===R?W:se)));const w=z;if(w){const{executeAction:V}=await La(async()=>{const{executeAction:P}=await Promise.resolve().then(()=>Tb);return{executeAction:P}},void 0),se=await V(w,ve.trim());if(ae(null),se.handled){const P=se.message||"Action completed.",S={id:`msg-${Date.now()+1}`,threadId:R,sender:An.AI,text:P,createdAt:Date.now()};await ms(S),v(K=>[...K,S]);return}}const Y=await yx(ve.trim());if(Y.handled){const V=Y.message||"Action completed.",se={id:`msg-${Date.now()+1}`,threadId:R,sender:An.AI,text:V,createdAt:Date.now()};await ms(se),v(P=>[...P,se]);return}k(!0);try{const{sendMessage:V}=await La(async()=>{const{sendMessage:ue}=await Promise.resolve().then(()=>Kx);return{sendMessage:ue}},void 0);let se=ze.map(ue=>({role:ue.sender===An.USER?"user":"assistant",content:ue.text})),P=null,S=T.systemInstruction;if(T.preflectionEnabled)try{const{performPreflection:ue}=await La(async()=>{const{performPreflection:xe}=await import("./preflection-h2cJSZFS.js");return{performPreflection:xe}},[]);if(P=await ue(R,ve,de,T.systemInstruction,T.weightedPrompts||[],T.apiKey||T.secondaryApiKey||"",T.mainModel||"openrouter/polaris-alpha"),P.dynamicInstructions){const xe=P.instructionWeight||.7,Me=xe>.7?"HIGH PRIORITY":xe>.5?"MODERATE PRIORITY":"SUPPLEMENTARY";S=`${T.systemInstruction}

[DYNAMIC INSTRUCTIONS - Query-Specific | ${Me} | Weight: ${(xe*100).toFixed(0)}%]
${P.dynamicInstructions}`}if(P.dynamicInstructions)try{await V([{role:"system",content:S},{role:"user",content:" "}],{apiKey:T.apiKey||T.secondaryApiKey,mainModel:T.mainModel,temperature:.3,maxTokens:10})}catch(xe){console.warn("Preflection priming failed, continuing anyway:",xe)}}catch(ue){console.error("Preflection failed, continuing with base instructions:",ue)}if(de.type&&de.data){const ue=D(de);se=[...se.slice(0,-1),{role:"system",content:ue},se[se.length-1]]}if(A!=null&&A.audioBase64||A!=null&&A.videoBase64){const ue=se[se.length-1],xe=[];ve.trim()&&xe.push({type:"text",text:ve.trim()}),A.audioBase64&&xe.push({type:"input_audio",input_audio:{data:A.audioBase64.data,format:A.audioBase64.format}}),A.videoBase64&&xe.push({type:"input_video",video_url:{url:A.videoBase64}}),se=[...se.slice(0,-1),{...ue,content:xe}]}const K={apiKey:T.apiKey,secondaryApiKey:T.secondaryApiKey,mainModel:(A==null?void 0:A.modelOverride)||T.mainModel,backupModel:T.backupModel,embeddingModel:T.embeddingModel,systemInstruction:S,weightedPrompts:T.weightedPrompts,temperature:T.temperature,maxTokens:T.maxTokens,inferenceParameters:P==null?void 0:P.inferenceParameters,useImageGeneration:A==null?void 0:A.useImageGeneration,useWebSearch:A==null?void 0:A.useWebSearch,useAudioVideo:A==null?void 0:A.useAudioVideo},ie=await V(se,K);if(P&&W){const ue=`# Preflection Analysis

## Context Analysis
- **Thread Length**: ${P.contextAnalysis.threadLength} messages
- **Thread Complexity**: ${P.contextAnalysis.threadComplexity}
- **Relevant Memories**: ${P.contextAnalysis.memoryCount} snippets
- **Memory Relevance**: ${(P.contextAnalysis.memoryRelevance*100).toFixed(0)}%
- **Topic Coherence**: ${(P.contextAnalysis.topicCoherence*100).toFixed(0)}%
- **Recent Topic Shifts**: ${P.contextAnalysis.recentTopicShifts}
- **Active Entity**: ${P.contextAnalysis.hasActiveEntity?"Yes":"No"}
- **Query Type**: ${P.contextAnalysis.queryType}
- **Instruction Weight**: ${P.instructionWeight?(P.instructionWeight*100).toFixed(0)+"%":"N/A"}

## Dynamic Instructions Generated
${P.dynamicInstructions||"*No dynamic instructions generated*"}

## Inference Parameter Optimization
${P.inferenceParameters&&Object.keys(P.inferenceParameters).length>0?Object.entries(P.inferenceParameters).map(([Me,Ie])=>`- **${Me}**: ${Ie}`).join(`
`):"*Using default parameters*"}

### Parameter Selection Reasoning
${P.parameterReasoning||"*No parameter optimization applied*"}

## Overall Reasoning
${P.reasoning}

---
*Generated at ${new Date().toLocaleString()}*`,xe=W.artifactContent||"";W.artifactContent=xe?`${xe}

---

${ue}`:ue,await tn(W),b({...W})}const{postProcessMessage:je}=await La(async()=>{const{postProcessMessage:ue}=await Promise.resolve().then(()=>ix);return{postProcessMessage:ue}},void 0);await je(ie).catch(console.error),await je(ve).catch(console.error);const{extractEntitiesFromUserMessage:N}=await La(async()=>{const{extractEntitiesFromUserMessage:ue}=await Promise.resolve().then(()=>ix);return{extractEntitiesFromUserMessage:ue}},void 0);await N(ve).catch(console.error);const ce={id:`msg-${Date.now()+1}`,threadId:R,sender:An.AI,text:ie,createdAt:Date.now()};await ms(ce),au(R,ie).catch(console.error),v(ue=>[...ue,ce]),W&&(W.updatedAt=Date.now(),await tn(W),g(ue=>ue.map(xe=>xe.id===R?W:xe)))}catch(V){console.error("Failed to send message:",V);const se={id:`msg-${Date.now()+1}`,threadId:R,sender:An.AI,text:`Error: ${V instanceof Error?V.message:"Failed to get response from AI"}`,createdAt:Date.now()};await ms(se),v(P=>[...P,se])}finally{k(!1)}},[x,L,X,z,de,D]),J=y.useCallback(async(ve,te)=>{const A=await ki(ve);A&&(A.artifactContent=te,A.updatedAt=Date.now(),await tn(A),(x==null?void 0:x.id)===ve&&b({...A}),g(R=>R.map(W=>W.id===ve?A:W)))},[x]),le=y.useCallback(async(ve,te)=>{await nn(ve,te),$(A=>({...A,[ve]:te}))},[]),Ne=()=>{d(ve=>!ve)};return l.jsx(Sx.Provider,{value:{isLeftSidebarOpen:o,toggleLeftSidebar:Ne,activeView:c,setActiveView:h,threads:m,currentThread:x,messages:f,isLoading:E,createThread:L,selectThread:X,deleteThreadById:oe,sendMessage:be,updateThreadArtifact:J,settings:T,updateSetting:le,primedAction:z,setPrimedAction:ae,activeEntity:de,setActiveEntity:ye,entityDetailView:ge,setEntityDetailView:q},children:i})},al=()=>{const i=y.useContext(Sx);if(!i)throw new Error("useAppContext must be used within an AppProvider");return i},kx=y.createContext(void 0),Zb=({children:i})=>{const[o,d]=y.useState([]),c=y.useCallback((f,v="info",E=5e3)=>{const T={id:Math.random().toString(36).substring(2,9),type:v,message:f,duration:E};d($=>[...$,T])},[]),h=y.useCallback(f=>{d(v=>v.filter(E=>E.id!==f))},[]),m=y.useCallback((f,v)=>{c(f,"success",v)},[c]),g=y.useCallback((f,v)=>{c(f,"error",v)},[c]),x=y.useCallback((f,v)=>{c(f,"info",v)},[c]),b=y.useCallback((f,v)=>{c(f,"warning",v)},[c]);return l.jsx(kx.Provider,{value:{toasts:o,showToast:c,dismissToast:h,success:m,error:g,info:x,warning:b},children:i})},Ax=()=>{const i=y.useContext(kx);if(!i)throw new Error("useToast must be used within a ToastProvider");return i};/**
 * @license lucide-react v0.553.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Kb=i=>i.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),Pb=i=>i.replace(/^([A-Z])|[\s-_]+(\w)/g,(o,d,c)=>c?c.toUpperCase():d.toLowerCase()),Bp=i=>{const o=Pb(i);return o.charAt(0).toUpperCase()+o.slice(1)},Ex=(...i)=>i.filter((o,d,c)=>!!o&&o.trim()!==""&&c.indexOf(o)===d).join(" ").trim(),Jb=i=>{for(const o in i)if(o.startsWith("aria-")||o==="role"||o==="title")return!0};/**
 * @license lucide-react v0.553.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var Wb={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.553.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Fb=y.forwardRef(({color:i="currentColor",size:o=24,strokeWidth:d=2,absoluteStrokeWidth:c,className:h="",children:m,iconNode:g,...x},b)=>y.createElement("svg",{ref:b,...Wb,width:o,height:o,stroke:i,strokeWidth:c?Number(d)*24/Number(o):d,className:Ex("lucide",h),...!m&&!Jb(x)&&{"aria-hidden":"true"},...x},[...g.map(([f,v])=>y.createElement(f,v)),...Array.isArray(m)?m:[m]]));/**
 * @license lucide-react v0.553.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const we=(i,o)=>{const d=y.forwardRef(({className:c,...h},m)=>y.createElement(Fb,{ref:m,iconNode:o,className:Ex(`lucide-${Kb(Bp(i))}`,`lucide-${i}`,c),...h}));return d.displayName=Bp(i),d};/**
 * @license lucide-react v0.553.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ey=[["path",{d:"M22 12h-2.48a2 2 0 0 0-1.93 1.46l-2.35 8.36a.25.25 0 0 1-.48 0L9.24 2.18a.25.25 0 0 0-.48 0l-2.35 8.36A2 2 0 0 1 4.49 12H2",key:"169zse"}]],ty=we("activity",ey);/**
 * @license lucide-react v0.553.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ay=[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]],Yd=we("arrow-left",ay);/**
 * @license lucide-react v0.553.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ly=[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"m12 5 7 7-7 7",key:"xquz4c"}]],Tx=we("arrow-right",ly);/**
 * @license lucide-react v0.553.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ny=[["path",{d:"m15.477 12.89 1.515 8.526a.5.5 0 0 1-.81.47l-3.58-2.687a1 1 0 0 0-1.197 0l-3.586 2.686a.5.5 0 0 1-.81-.469l1.514-8.526",key:"1yiouv"}],["circle",{cx:"12",cy:"8",r:"6",key:"1vp47v"}]],zi=we("award",ny);/**
 * @license lucide-react v0.553.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const sy=[["path",{d:"M10.268 21a2 2 0 0 0 3.464 0",key:"vwvbt9"}],["path",{d:"M3.262 15.326A1 1 0 0 0 4 17h16a1 1 0 0 0 .74-1.673C19.41 13.956 18 12.499 18 8A6 6 0 0 0 6 8c0 4.499-1.411 5.956-2.738 7.326",key:"11g9vi"}]],iy=we("bell",sy);/**
 * @license lucide-react v0.553.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ry=[["path",{d:"M12 7v14",key:"1akyts"}],["path",{d:"M3 18a1 1 0 0 1-1-1V4a1 1 0 0 1 1-1h5a4 4 0 0 1 4 4 4 4 0 0 1 4-4h5a1 1 0 0 1 1 1v13a1 1 0 0 1-1 1h-6a3 3 0 0 0-3 3 3 3 0 0 0-3-3z",key:"ruj8y"}]],ku=we("book-open",ry);/**
 * @license lucide-react v0.553.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const oy=[["path",{d:"M12 8V4H8",key:"hb8ula"}],["rect",{width:"16",height:"12",x:"4",y:"8",rx:"2",key:"enze0r"}],["path",{d:"M2 14h2",key:"vft8re"}],["path",{d:"M20 14h2",key:"4cs60a"}],["path",{d:"M15 13v2",key:"1xurst"}],["path",{d:"M9 13v2",key:"rq6x2g"}]],no=we("bot",oy);/**
 * @license lucide-react v0.553.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const cy=[["path",{d:"M12 18V5",key:"adv99a"}],["path",{d:"M15 13a4.17 4.17 0 0 1-3-4 4.17 4.17 0 0 1-3 4",key:"1e3is1"}],["path",{d:"M17.598 6.5A3 3 0 1 0 12 5a3 3 0 1 0-5.598 1.5",key:"1gqd8o"}],["path",{d:"M17.997 5.125a4 4 0 0 1 2.526 5.77",key:"iwvgf7"}],["path",{d:"M18 18a4 4 0 0 0 2-7.464",key:"efp6ie"}],["path",{d:"M19.967 17.483A4 4 0 1 1 12 18a4 4 0 1 1-7.967-.517",key:"1gq6am"}],["path",{d:"M6 18a4 4 0 0 1-2-7.464",key:"k1g0md"}],["path",{d:"M6.003 5.125a4 4 0 0 0-2.526 5.77",key:"q97ue3"}]],Cx=we("brain",cy);/**
 * @license lucide-react v0.553.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const dy=[["path",{d:"M16 20V4a2 2 0 0 0-2-2h-4a2 2 0 0 0-2 2v16",key:"jecpp"}],["rect",{width:"20",height:"14",x:"2",y:"6",rx:"2",key:"i6l2r4"}]],uy=we("briefcase",dy);/**
 * @license lucide-react v0.553.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const hy=[["path",{d:"M10 12h4",key:"a56b0p"}],["path",{d:"M10 8h4",key:"1sr2af"}],["path",{d:"M14 21v-3a2 2 0 0 0-4 0v3",key:"1rgiei"}],["path",{d:"M6 10H4a2 2 0 0 0-2 2v7a2 2 0 0 0 2 2h16a2 2 0 0 0 2-2V9a2 2 0 0 0-2-2h-2",key:"secmi2"}],["path",{d:"M6 21V5a2 2 0 0 1 2-2h8a2 2 0 0 1 2 2v16",key:"16ra0t"}]],my=we("building-2",hy);/**
 * @license lucide-react v0.553.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const fy=[["path",{d:"M12 10h.01",key:"1nrarc"}],["path",{d:"M12 14h.01",key:"1etili"}],["path",{d:"M12 6h.01",key:"1vi96p"}],["path",{d:"M16 10h.01",key:"1m94wz"}],["path",{d:"M16 14h.01",key:"1gbofw"}],["path",{d:"M16 6h.01",key:"1x0f13"}],["path",{d:"M8 10h.01",key:"19clt8"}],["path",{d:"M8 14h.01",key:"6423bh"}],["path",{d:"M8 6h.01",key:"1dz90k"}],["path",{d:"M9 22v-3a1 1 0 0 1 1-1h4a1 1 0 0 1 1 1v3",key:"cabbwy"}],["rect",{x:"4",y:"2",width:"16",height:"20",rx:"2",key:"1uxh74"}]],py=we("building",fy);/**
 * @license lucide-react v0.553.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const xy=[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}],["path",{d:"M8 14h.01",key:"6423bh"}],["path",{d:"M12 14h.01",key:"1etili"}],["path",{d:"M16 14h.01",key:"1gbofw"}],["path",{d:"M8 18h.01",key:"lrp35t"}],["path",{d:"M12 18h.01",key:"mhygvu"}],["path",{d:"M16 18h.01",key:"kzsmim"}]],gy=we("calendar-days",xy);/**
 * @license lucide-react v0.553.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const by=[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}]],sn=we("calendar",by);/**
 * @license lucide-react v0.553.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const yy=[["path",{d:"M3 3v16a2 2 0 0 0 2 2h16",key:"c24i48"}],["path",{d:"M18 17V9",key:"2bz60n"}],["path",{d:"M13 17V5",key:"1frdt8"}],["path",{d:"M8 17v-3",key:"17ska0"}]],Ao=we("chart-column",yy);/**
 * @license lucide-react v0.553.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const vy=[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]],wy=we("chevron-down",vy);/**
 * @license lucide-react v0.553.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ny=[["path",{d:"m15 18-6-6 6-6",key:"1wnfg3"}]],jy=we("chevron-left",Ny);/**
 * @license lucide-react v0.553.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Sy=[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]],ky=we("chevron-right",Sy);/**
 * @license lucide-react v0.553.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ay=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]],Eo=we("circle-alert",Ay);/**
 * @license lucide-react v0.553.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ey=[["path",{d:"M21.801 10A10 10 0 1 1 17 3.335",key:"yps3ct"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]],Ty=we("circle-check-big",Ey);/**
 * @license lucide-react v0.553.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Cy=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m9 12 2 2 4-4",key:"dzmm74"}]],Va=we("circle-check",Cy);/**
 * @license lucide-react v0.553.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _y=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m15 9-6 6",key:"1uzhvr"}],["path",{d:"m9 9 6 6",key:"z0biqf"}]],Dy=we("circle-x",_y);/**
 * @license lucide-react v0.553.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const My=[["path",{d:"M12 6v6l4 2",key:"mmk7yg"}],["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]],Ua=we("clock",My);/**
 * @license lucide-react v0.553.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ry=[["circle",{cx:"8",cy:"8",r:"6",key:"3yglwk"}],["path",{d:"M18.09 10.37A6 6 0 1 1 10.34 18",key:"t5s6rm"}],["path",{d:"M7 6h1v4",key:"1obek4"}],["path",{d:"m16.71 13.88.7.71-2.82 2.82",key:"1rbuyh"}]],Oy=we("coins",Ry);/**
 * @license lucide-react v0.553.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const zy=[["path",{d:"m16.24 7.76-1.804 5.411a2 2 0 0 1-1.265 1.265L7.76 16.24l1.804-5.411a2 2 0 0 1 1.265-1.265z",key:"9ktpf1"}],["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]],Ly=we("compass",zy);/**
 * @license lucide-react v0.553.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Uy=[["path",{d:"M11.562 3.266a.5.5 0 0 1 .876 0L15.39 8.87a1 1 0 0 0 1.516.294L21.183 5.5a.5.5 0 0 1 .798.519l-2.834 10.246a1 1 0 0 1-.956.734H5.81a1 1 0 0 1-.957-.734L2.02 6.02a.5.5 0 0 1 .798-.519l4.276 3.664a1 1 0 0 0 1.516-.294z",key:"1vdc57"}],["path",{d:"M5 21h14",key:"11awu3"}]],_x=we("crown",Uy);/**
 * @license lucide-react v0.553.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const By=[["path",{d:"M17.596 12.768a2 2 0 1 0 2.829-2.829l-1.768-1.767a2 2 0 0 0 2.828-2.829l-2.828-2.828a2 2 0 0 0-2.829 2.828l-1.767-1.768a2 2 0 1 0-2.829 2.829z",key:"9m4mmf"}],["path",{d:"m2.5 21.5 1.4-1.4",key:"17g3f0"}],["path",{d:"m20.1 3.9 1.4-1.4",key:"1qn309"}],["path",{d:"M5.343 21.485a2 2 0 1 0 2.829-2.828l1.767 1.768a2 2 0 1 0 2.829-2.829l-6.364-6.364a2 2 0 1 0-2.829 2.829l1.768 1.767a2 2 0 0 0-2.828 2.829z",key:"1t2c92"}],["path",{d:"m9.6 14.4 4.8-4.8",key:"6umqxw"}]],$y=we("dumbbell",By);/**
 * @license lucide-react v0.553.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Hy=[["path",{d:"M15 3h6v6",key:"1q9fwt"}],["path",{d:"M10 14 21 3",key:"gplh6r"}],["path",{d:"M18 13v6a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V8a2 2 0 0 1 2-2h6",key:"a6xqqp"}]],Gy=we("external-link",Hy);/**
 * @license lucide-react v0.553.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const qy=[["path",{d:"M6 22a2 2 0 0 1-2-2V4a2 2 0 0 1 2-2h8a2.4 2.4 0 0 1 1.704.706l3.588 3.588A2.4 2.4 0 0 1 20 8v12a2 2 0 0 1-2 2z",key:"1oefj6"}],["path",{d:"M14 2v5a1 1 0 0 0 1 1h5",key:"wfsgrz"}],["path",{d:"M10 9H8",key:"b1mrlr"}],["path",{d:"M16 13H8",key:"t4e002"}],["path",{d:"M16 17H8",key:"z1uh3a"}]],Au=we("file-text",qy);/**
 * @license lucide-react v0.553.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Iy=[["path",{d:"M12 3q1 4 4 6.5t3 5.5a1 1 0 0 1-14 0 5 5 0 0 1 1-3 1 1 0 0 0 5 0c0-2-1.5-3-1.5-5q0-2 2.5-4",key:"1slcih"}]],To=we("flame",Iy);/**
 * @license lucide-react v0.553.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Yy=[["path",{d:"M10 20a1 1 0 0 0 .553.895l2 1A1 1 0 0 0 14 21v-7a2 2 0 0 1 .517-1.341L21.74 4.67A1 1 0 0 0 21 3H3a1 1 0 0 0-.742 1.67l7.225 7.989A2 2 0 0 1 10 14z",key:"sc7q7i"}]],bs=we("funnel",Yy);/**
 * @license lucide-react v0.553.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Vy=[["path",{d:"m12 14 4-4",key:"9kzdfg"}],["path",{d:"M3.34 19a10 10 0 1 1 17.32 0",key:"19p75a"}]],Xy=we("gauge",Vy);/**
 * @license lucide-react v0.553.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Qy=[["path",{d:"M10.5 3 8 9l4 13 4-13-2.5-6",key:"b3dvk1"}],["path",{d:"M17 3a2 2 0 0 1 1.6.8l3 4a2 2 0 0 1 .013 2.382l-7.99 10.986a2 2 0 0 1-3.247 0l-7.99-10.986A2 2 0 0 1 2.4 7.8l2.998-3.997A2 2 0 0 1 7 3z",key:"7w4byz"}],["path",{d:"M2 9h20",key:"16fsjt"}]],vo=we("gem",Qy);/**
 * @license lucide-react v0.553.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Zy=[["path",{d:"m11 17 2 2a1 1 0 1 0 3-3",key:"efffak"}],["path",{d:"m14 14 2.5 2.5a1 1 0 1 0 3-3l-3.88-3.88a3 3 0 0 0-4.24 0l-.88.88a1 1 0 1 1-3-3l2.81-2.81a5.79 5.79 0 0 1 7.06-.87l.47.28a2 2 0 0 0 1.42.25L21 4",key:"9pr0kb"}],["path",{d:"m21 3 1 11h-2",key:"1tisrp"}],["path",{d:"M3 3 2 14l6.5 6.5a1 1 0 1 0 3-3",key:"1uvwmv"}],["path",{d:"M3 4h8",key:"1ep09j"}]],Ky=we("handshake",Zy);/**
 * @license lucide-react v0.553.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Py=[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",ry:"2",key:"1m3agn"}],["circle",{cx:"9",cy:"9",r:"2",key:"af1f0g"}],["path",{d:"m21 15-3.086-3.086a2 2 0 0 0-2.828 0L6 21",key:"1xmnt7"}]],Jy=we("image",Py);/**
 * @license lucide-react v0.553.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Wy=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 16v-4",key:"1dtifu"}],["path",{d:"M12 8h.01",key:"e9boi3"}]],Fy=we("info",Wy);/**
 * @license lucide-react v0.553.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const e1=[["path",{d:"M15 14c.2-1 .7-1.7 1.5-2.5 1-.9 1.5-2.2 1.5-3.5A6 6 0 0 0 6 8c0 1 .2 2.2 1.5 3.5.7.7 1.3 1.5 1.5 2.5",key:"1gvzjb"}],["path",{d:"M9 18h6",key:"x1upvd"}],["path",{d:"M10 22h4",key:"ceow96"}]],fs=we("lightbulb",e1);/**
 * @license lucide-react v0.553.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const t1=[["path",{d:"M9 17H7A5 5 0 0 1 7 7h2",key:"8i5ue5"}],["path",{d:"M15 7h2a5 5 0 1 1 0 10h-2",key:"1b9ql8"}],["line",{x1:"8",x2:"16",y1:"12",y2:"12",key:"1jonct"}]],Vd=we("link-2",t1);/**
 * @license lucide-react v0.553.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const a1=[["path",{d:"M13 5h8",key:"a7qcls"}],["path",{d:"M13 12h8",key:"h98zly"}],["path",{d:"M13 19h8",key:"c3s6r1"}],["path",{d:"m3 17 2 2 4-4",key:"1jhpwq"}],["path",{d:"m3 7 2 2 4-4",key:"1obspn"}]],Xd=we("list-checks",a1);/**
 * @license lucide-react v0.553.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const l1=[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]],n1=we("loader-circle",l1);/**
 * @license lucide-react v0.553.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const s1=[["path",{d:"m22 7-8.991 5.727a2 2 0 0 1-2.009 0L2 7",key:"132q7q"}],["rect",{x:"2",y:"4",width:"20",height:"16",rx:"2",key:"izxlao"}]],i1=we("mail",s1);/**
 * @license lucide-react v0.553.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const r1=[["path",{d:"M20 10c0 4.993-5.539 10.193-7.399 11.799a1 1 0 0 1-1.202 0C9.539 20.193 4 14.993 4 10a8 8 0 0 1 16 0",key:"1r0f0z"}],["circle",{cx:"12",cy:"10",r:"3",key:"ilqhr7"}]],Eu=we("map-pin",r1);/**
 * @license lucide-react v0.553.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const o1=[["path",{d:"M4 5h16",key:"1tepv9"}],["path",{d:"M4 12h16",key:"1lakjw"}],["path",{d:"M4 19h16",key:"1djgab"}]],$p=we("menu",o1);/**
 * @license lucide-react v0.553.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const c1=[["path",{d:"M22 17a2 2 0 0 1-2 2H6.828a2 2 0 0 0-1.414.586l-2.202 2.202A.71.71 0 0 1 2 21.286V5a2 2 0 0 1 2-2h16a2 2 0 0 1 2 2z",key:"18887p"}]],wo=we("message-square",c1);/**
 * @license lucide-react v0.553.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const d1=[["path",{d:"M12 19v3",key:"npa21l"}],["path",{d:"M19 10v2a7 7 0 0 1-14 0v-2",key:"1vc78b"}],["rect",{x:"9",y:"2",width:"6",height:"13",rx:"3",key:"s6n7sd"}]],Dx=we("mic",d1);/**
 * @license lucide-react v0.553.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const u1=[["path",{d:"M20.985 12.486a9 9 0 1 1-9.473-9.472c.405-.022.617.46.402.803a6 6 0 0 0 8.268 8.268c.344-.215.825-.004.803.401",key:"kfwtm"}]],h1=we("moon",u1);/**
 * @license lucide-react v0.553.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const m1=[["rect",{x:"16",y:"16",width:"6",height:"6",rx:"1",key:"4q2zg0"}],["rect",{x:"2",y:"16",width:"6",height:"6",rx:"1",key:"8cvhb9"}],["rect",{x:"9",y:"2",width:"6",height:"6",rx:"1",key:"1egb70"}],["path",{d:"M5 16v-3a1 1 0 0 1 1-1h12a1 1 0 0 1 1 1v3",key:"1jsf9p"}],["path",{d:"M12 12V8",key:"2874zd"}]],f1=we("network",m1);/**
 * @license lucide-react v0.553.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const p1=[["path",{d:"M12 22a1 1 0 0 1 0-20 10 9 0 0 1 10 9 5 5 0 0 1-5 5h-2.25a1.75 1.75 0 0 0-1.4 2.8l.3.4a1.75 1.75 0 0 1-1.4 2.8z",key:"e79jfc"}],["circle",{cx:"13.5",cy:"6.5",r:".5",fill:"currentColor",key:"1okk4w"}],["circle",{cx:"17.5",cy:"10.5",r:".5",fill:"currentColor",key:"f64h9f"}],["circle",{cx:"6.5",cy:"12.5",r:".5",fill:"currentColor",key:"qy21gx"}],["circle",{cx:"8.5",cy:"7.5",r:".5",fill:"currentColor",key:"fotxhn"}]],Tu=we("palette",p1);/**
 * @license lucide-react v0.553.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const x1=[["rect",{x:"14",y:"3",width:"5",height:"18",rx:"1",key:"kaeet6"}],["rect",{x:"5",y:"3",width:"5",height:"18",rx:"1",key:"1wsw3u"}]],g1=we("pause",x1);/**
 * @license lucide-react v0.553.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const b1=[["path",{d:"M21.174 6.812a1 1 0 0 0-3.986-3.987L3.842 16.174a2 2 0 0 0-.5.83l-1.321 4.352a.5.5 0 0 0 .623.622l4.353-1.32a2 2 0 0 0 .83-.497z",key:"1a8usu"}]],Xa=we("pen",b1);/**
 * @license lucide-react v0.553.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const y1=[["path",{d:"M13.832 16.568a1 1 0 0 0 1.213-.303l.355-.465A2 2 0 0 1 17 15h3a2 2 0 0 1 2 2v3a2 2 0 0 1-2 2A18 18 0 0 1 2 4a2 2 0 0 1 2-2h3a2 2 0 0 1 2 2v3a2 2 0 0 1-.8 1.6l-.468.351a1 1 0 0 0-.292 1.233 14 14 0 0 0 6.392 6.384",key:"9njp5v"}]],v1=we("phone",y1);/**
 * @license lucide-react v0.553.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const w1=[["path",{d:"M17.8 19.2 16 11l3.5-3.5C21 6 21.5 4 21 3c-1-.5-3 0-4.5 1.5L13 8 4.8 6.2c-.5-.1-.9.1-1.1.5l-.3.5c-.2.5-.1 1 .3 1.3L9 12l-2 3H4l-1 1 3 2 2 3 1-1v-3l3-2 3.5 5.3c.3.4.8.5 1.3.3l.5-.2c.4-.3.6-.7.5-1.2z",key:"1v9wt8"}]],N1=we("plane",w1);/**
 * @license lucide-react v0.553.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const j1=[["path",{d:"M5 5a2 2 0 0 1 3.008-1.728l11.997 6.998a2 2 0 0 1 .003 3.458l-12 7A2 2 0 0 1 5 19z",key:"10ikf1"}]],Mi=we("play",j1);/**
 * @license lucide-react v0.553.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const S1=[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]],cu=we("plus",S1);/**
 * @license lucide-react v0.553.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const k1=[["path",{d:"M16.247 7.761a6 6 0 0 1 0 8.478",key:"1fwjs5"}],["path",{d:"M19.075 4.933a10 10 0 0 1 0 14.134",key:"ehdyv1"}],["path",{d:"M4.925 19.067a10 10 0 0 1 0-14.134",key:"1q22gi"}],["path",{d:"M7.753 16.239a6 6 0 0 1 0-8.478",key:"r2q7qm"}],["circle",{cx:"12",cy:"12",r:"2",key:"1c9p78"}]],A1=we("radio",k1);/**
 * @license lucide-react v0.553.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const E1=[["path",{d:"M3 12a9 9 0 0 1 9-9 9.75 9.75 0 0 1 6.74 2.74L21 8",key:"v9h5vc"}],["path",{d:"M21 3v5h-5",key:"1q7to0"}],["path",{d:"M21 12a9 9 0 0 1-9 9 9.75 9.75 0 0 1-6.74-2.74L3 16",key:"3uifl3"}],["path",{d:"M8 16H3v5",key:"1cv678"}]],Li=we("refresh-cw",E1);/**
 * @license lucide-react v0.553.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const T1=[["path",{d:"m17 2 4 4-4 4",key:"nntrym"}],["path",{d:"M3 11v-1a4 4 0 0 1 4-4h14",key:"84bu3i"}],["path",{d:"m7 22-4-4 4-4",key:"1wqhfi"}],["path",{d:"M21 13v1a4 4 0 0 1-4 4H3",key:"1rx37r"}]],C1=we("repeat",T1);/**
 * @license lucide-react v0.553.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _1=[["path",{d:"M4.5 16.5c-1.5 1.26-2 5-2 5s3.74-.5 5-2c.71-.84.7-2.13-.09-2.91a2.18 2.18 0 0 0-2.91-.09z",key:"m3kijz"}],["path",{d:"m12 15-3-3a22 22 0 0 1 2-3.95A12.88 12.88 0 0 1 22 2c0 2.72-.78 7.5-6 11a22.35 22.35 0 0 1-4 2z",key:"1fmvmk"}],["path",{d:"M9 12H4s.55-3.03 2-4c1.62-1.08 5 0 5 0",key:"1f8sc4"}],["path",{d:"M12 15v5s3.03-.55 4-2c1.08-1.62 0-5 0-5",key:"qeys4"}]],D1=we("rocket",_1);/**
 * @license lucide-react v0.553.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const M1=[["path",{d:"M15 12h-5",key:"r7krc0"}],["path",{d:"M15 8h-5",key:"1khuty"}],["path",{d:"M19 17V5a2 2 0 0 0-2-2H4",key:"zz82l3"}],["path",{d:"M8 21h12a2 2 0 0 0 2-2v-1a1 1 0 0 0-1-1H11a1 1 0 0 0-1 1v1a2 2 0 1 1-4 0V5a2 2 0 1 0-4 0v2a1 1 0 0 0 1 1h3",key:"1ph1d7"}]],R1=we("scroll-text",M1);/**
 * @license lucide-react v0.553.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const O1=[["path",{d:"M19 17V5a2 2 0 0 0-2-2H4",key:"zz82l3"}],["path",{d:"M8 21h12a2 2 0 0 0 2-2v-1a1 1 0 0 0-1-1H11a1 1 0 0 0-1 1v1a2 2 0 1 1-4 0V5a2 2 0 1 0-4 0v2a1 1 0 0 0 1 1h3",key:"1ph1d7"}]],z1=we("scroll",O1);/**
 * @license lucide-react v0.553.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const L1=[["path",{d:"m21 21-4.34-4.34",key:"14j7rj"}],["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}]],_l=we("search",L1);/**
 * @license lucide-react v0.553.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const U1=[["path",{d:"M9.671 4.136a2.34 2.34 0 0 1 4.659 0 2.34 2.34 0 0 0 3.319 1.915 2.34 2.34 0 0 1 2.33 4.033 2.34 2.34 0 0 0 0 3.831 2.34 2.34 0 0 1-2.33 4.033 2.34 2.34 0 0 0-3.319 1.915 2.34 2.34 0 0 1-4.659 0 2.34 2.34 0 0 0-3.32-1.915 2.34 2.34 0 0 1-2.33-4.033 2.34 2.34 0 0 0 0-3.831A2.34 2.34 0 0 1 6.35 6.051a2.34 2.34 0 0 0 3.319-1.915",key:"1i5ecw"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]],B1=we("settings",U1);/**
 * @license lucide-react v0.553.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $1=[["path",{d:"M11.017 2.814a1 1 0 0 1 1.966 0l1.051 5.558a2 2 0 0 0 1.594 1.594l5.558 1.051a1 1 0 0 1 0 1.966l-5.558 1.051a2 2 0 0 0-1.594 1.594l-1.051 5.558a1 1 0 0 1-1.966 0l-1.051-5.558a2 2 0 0 0-1.594-1.594l-5.558-1.051a1 1 0 0 1 0-1.966l5.558-1.051a2 2 0 0 0 1.594-1.594z",key:"1s2grr"}],["path",{d:"M20 2v4",key:"1rf3ol"}],["path",{d:"M22 4h-4",key:"gwowj6"}],["circle",{cx:"4",cy:"20",r:"2",key:"6kqj1y"}]],tl=we("sparkles",$1);/**
 * @license lucide-react v0.553.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const H1=[["path",{d:"M14 9.536V7a4 4 0 0 1 4-4h1.5a.5.5 0 0 1 .5.5V5a4 4 0 0 1-4 4 4 4 0 0 0-4 4c0 2 1 3 1 5a5 5 0 0 1-1 3",key:"139s4v"}],["path",{d:"M4 9a5 5 0 0 1 8 4 5 5 0 0 1-8-4",key:"1dlkgp"}],["path",{d:"M5 21h14",key:"11awu3"}]],G1=we("sprout",H1);/**
 * @license lucide-react v0.553.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const q1=[["path",{d:"M11.525 2.295a.53.53 0 0 1 .95 0l2.31 4.679a2.123 2.123 0 0 0 1.595 1.16l5.166.756a.53.53 0 0 1 .294.904l-3.736 3.638a2.123 2.123 0 0 0-.611 1.878l.882 5.14a.53.53 0 0 1-.771.56l-4.618-2.428a2.122 2.122 0 0 0-1.973 0L6.396 21.01a.53.53 0 0 1-.77-.56l.881-5.139a2.122 2.122 0 0 0-.611-1.879L2.16 9.795a.53.53 0 0 1 .294-.906l5.165-.755a2.122 2.122 0 0 0 1.597-1.16z",key:"r04s7s"}]],ps=we("star",q1);/**
 * @license lucide-react v0.553.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const I1=[["circle",{cx:"12",cy:"12",r:"4",key:"4exip2"}],["path",{d:"M12 2v2",key:"tus03m"}],["path",{d:"M12 20v2",key:"1lh1kg"}],["path",{d:"m4.93 4.93 1.41 1.41",key:"149t6j"}],["path",{d:"m17.66 17.66 1.41 1.41",key:"ptbguv"}],["path",{d:"M2 12h2",key:"1t8f8n"}],["path",{d:"M20 12h2",key:"1q8mjw"}],["path",{d:"m6.34 17.66-1.41 1.41",key:"1m8zz5"}],["path",{d:"m19.07 4.93-1.41 1.41",key:"1shlcs"}]],Y1=we("sun",I1);/**
 * @license lucide-react v0.553.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const V1=[["path",{d:"M12.586 2.586A2 2 0 0 0 11.172 2H4a2 2 0 0 0-2 2v7.172a2 2 0 0 0 .586 1.414l8.704 8.704a2.426 2.426 0 0 0 3.42 0l6.58-6.58a2.426 2.426 0 0 0 0-3.42z",key:"vktsd0"}],["circle",{cx:"7.5",cy:"7.5",r:".5",fill:"currentColor",key:"kqv944"}]],Tn=we("tag",V1);/**
 * @license lucide-react v0.553.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const X1=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["circle",{cx:"12",cy:"12",r:"6",key:"1vlfrh"}],["circle",{cx:"12",cy:"12",r:"2",key:"1c9p78"}]],wa=we("target",X1);/**
 * @license lucide-react v0.553.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Q1=[["path",{d:"M7 10v12",key:"1qc93n"}],["path",{d:"M15 5.88 14 10h5.83a2 2 0 0 1 1.92 2.56l-2.33 8A2 2 0 0 1 17.5 22H4a2 2 0 0 1-2-2v-8a2 2 0 0 1 2-2h2.76a2 2 0 0 0 1.79-1.11L12 2a3.13 3.13 0 0 1 3 3.88Z",key:"emmmcr"}]],Z1=we("thumbs-up",Q1);/**
 * @license lucide-react v0.553.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const K1=[["path",{d:"M17 14V2",key:"8ymqnk"}],["path",{d:"M9 18.12 10 14H4.17a2 2 0 0 1-1.92-2.56l2.33-8A2 2 0 0 1 6.5 2H20a2 2 0 0 1 2 2v8a2 2 0 0 1-2 2h-2.76a2 2 0 0 0-1.79 1.11L12 22a3.13 3.13 0 0 1-3-3.88Z",key:"m61m77"}]],P1=we("thumbs-down",K1);/**
 * @license lucide-react v0.553.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const J1=[["line",{x1:"10",x2:"14",y1:"2",y2:"2",key:"14vaq8"}],["line",{x1:"12",x2:"15",y1:"14",y2:"11",key:"17fdiu"}],["circle",{cx:"12",cy:"14",r:"8",key:"1e1u0o"}]],Ui=we("timer",J1);/**
 * @license lucide-react v0.553.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const W1=[["path",{d:"M10 11v6",key:"nco0om"}],["path",{d:"M14 11v6",key:"outv1u"}],["path",{d:"M19 6v14a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2V6",key:"miytrc"}],["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M8 6V4a2 2 0 0 1 2-2h4a2 2 0 0 1 2 2v2",key:"e791ji"}]],rn=we("trash-2",W1);/**
 * @license lucide-react v0.553.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const F1=[["path",{d:"M16 7h6v6",key:"box55l"}],["path",{d:"m22 7-8.5 8.5-5-5L2 17",key:"1t1m79"}]],No=we("trending-up",F1);/**
 * @license lucide-react v0.553.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ev=[["path",{d:"m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3",key:"wmoenq"}],["path",{d:"M12 9v4",key:"juzpu7"}],["path",{d:"M12 17h.01",key:"p32p05"}]],tv=we("triangle-alert",ev);/**
 * @license lucide-react v0.553.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const av=[["path",{d:"M10 14.66v1.626a2 2 0 0 1-.976 1.696A5 5 0 0 0 7 21.978",key:"1n3hpd"}],["path",{d:"M14 14.66v1.626a2 2 0 0 0 .976 1.696A5 5 0 0 1 17 21.978",key:"rfe1zi"}],["path",{d:"M18 9h1.5a1 1 0 0 0 0-5H18",key:"7xy6bh"}],["path",{d:"M4 22h16",key:"57wxv0"}],["path",{d:"M6 9a6 6 0 0 0 12 0V3a1 1 0 0 0-1-1H7a1 1 0 0 0-1 1z",key:"1mhfuq"}],["path",{d:"M6 9H4.5a1 1 0 0 1 0-5H6",key:"tex48p"}]],lv=we("trophy",av);/**
 * @license lucide-react v0.553.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const nv=[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]],Ri=we("user",nv);/**
 * @license lucide-react v0.553.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const sv=[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["path",{d:"M16 3.128a4 4 0 0 1 0 7.744",key:"16gr8j"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}]],an=we("users",sv);/**
 * @license lucide-react v0.553.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const iv=[["path",{d:"m16 13 5.223 3.482a.5.5 0 0 0 .777-.416V7.87a.5.5 0 0 0-.752-.432L16 10.5",key:"ftymec"}],["rect",{x:"2",y:"6",width:"14",height:"12",rx:"2",key:"158x01"}]],Mx=we("video",iv);/**
 * @license lucide-react v0.553.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const rv=[["path",{d:"m21.64 3.64-1.28-1.28a1.21 1.21 0 0 0-1.72 0L2.36 18.64a1.21 1.21 0 0 0 0 1.72l1.28 1.28a1.2 1.2 0 0 0 1.72 0L21.64 5.36a1.2 1.2 0 0 0 0-1.72",key:"ul74o6"}],["path",{d:"m14 7 3 3",key:"1r5n42"}],["path",{d:"M5 6v4",key:"ilb8ba"}],["path",{d:"M19 14v4",key:"blhpug"}],["path",{d:"M10 2v2",key:"7u0qdc"}],["path",{d:"M7 8H3",key:"zfb6yr"}],["path",{d:"M21 16h-4",key:"1cnmox"}],["path",{d:"M11 3H9",key:"1obp7u"}]],ov=we("wand-sparkles",rv);/**
 * @license lucide-react v0.553.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const cv=[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]],Qt=we("x",cv);/**
 * @license lucide-react v0.553.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const dv=[["path",{d:"M4 14a1 1 0 0 1-.78-1.63l9.9-10.2a.5.5 0 0 1 .86.46l-1.92 6.02A1 1 0 0 0 13 10h7a1 1 0 0 1 .78 1.63l-9.9 10.2a.5.5 0 0 1-.86-.46l1.92-6.02A1 1 0 0 0 11 14z",key:"1xq2db"}]],ys=we("zap",dv),uv=({toast:i,onDismiss:o})=>{y.useEffect(()=>{const m=setTimeout(()=>{o(i.id)},i.duration||5e3);return()=>clearTimeout(m)},[i.id,i.duration,o]);const d={success:l.jsx(Ty,{className:"w-5 h-5"}),error:l.jsx(Eo,{className:"w-5 h-5"}),info:l.jsx(Fy,{className:"w-5 h-5"}),warning:l.jsx(tv,{className:"w-5 h-5"})},c={success:"bg-emerald-50 border-emerald-200 text-emerald-800",error:"bg-red-50 border-red-200 text-red-800",info:"bg-blue-50 border-blue-200 text-blue-800",warning:"bg-orange-50 border-orange-200 text-orange-800"},h={success:"text-emerald-600",error:"text-red-600",info:"text-blue-600",warning:"text-orange-600"};return l.jsxs("div",{className:`
        ${c[i.type]}
        flex items-center gap-3 px-4 py-3 rounded-2xl border-2 shadow-lg
        animate-slide-in-right min-w-[320px] max-w-md
      `,role:"alert",children:[l.jsx("div",{className:h[i.type],children:d[i.type]}),l.jsx("p",{className:"flex-1 text-sm font-medium",children:i.message}),l.jsx("button",{onClick:()=>o(i.id),className:"hover:opacity-70 transition-opacity","aria-label":"Dismiss",children:l.jsx(Qt,{className:"w-4 h-4"})})]})},hv=({toasts:i,onDismiss:o})=>l.jsx("div",{className:"fixed top-4 right-4 z-[9999] flex flex-col gap-2 pointer-events-none","aria-live":"polite","aria-atomic":"true",children:i.map(d=>l.jsx("div",{className:"pointer-events-auto",children:l.jsx(uv,{toast:d,onDismiss:o})},d.id))}),mv=({isOpen:i,onClose:o,commands:d})=>{const[c,h]=y.useState(""),[m,g]=y.useState(0),x=y.useRef(null),b=y.useRef(null),f=y.useMemo(()=>{if(!c.trim())return d;const k=c.toLowerCase();return d.filter(T=>{var de,ye;const $=T.label.toLowerCase().includes(k),z=(de=T.description)==null?void 0:de.toLowerCase().includes(k),ae=(ye=T.keywords)==null?void 0:ye.some(ge=>ge.toLowerCase().includes(k));return $||z||ae})},[d,c]),v=y.useMemo(()=>{const k={};return f.forEach(T=>{k[T.category]||(k[T.category]=[]),k[T.category].push(T)}),k},[f]);if(y.useEffect(()=>{var k;i&&((k=x.current)==null||k.focus(),h(""),g(0))},[i]),y.useEffect(()=>{const k=T=>{if(i)switch(T.key){case"ArrowDown":T.preventDefault(),g($=>Math.min($+1,f.length-1));break;case"ArrowUp":T.preventDefault(),g($=>Math.max($-1,0));break;case"Enter":T.preventDefault(),f[m]&&(f[m].action(),o());break;case"Escape":T.preventDefault(),o();break}};return document.addEventListener("keydown",k),()=>document.removeEventListener("keydown",k)},[i,f,m,o]),y.useEffect(()=>{if(b.current){const k=b.current.children[m];k==null||k.scrollIntoView({block:"nearest",behavior:"smooth"})}},[m]),!i)return null;let E=0;return l.jsx("div",{className:"fixed inset-0 z-[9999] bg-black bg-opacity-50 flex items-start justify-center p-4 pt-[10vh] animate-fade-in",onClick:o,children:l.jsxs("div",{className:"glass-panel rounded-3xl border-2 border-white/70 shadow-2xl w-full max-w-2xl animate-scale-in overflow-hidden",onClick:k=>k.stopPropagation(),children:[l.jsxs("div",{className:"flex items-center gap-3 px-6 py-4 border-b border-white/70",children:[l.jsx(_l,{className:"w-5 h-5 text-secondary-light"}),l.jsx("input",{ref:x,type:"text",value:c,onChange:k=>{h(k.target.value),g(0)},placeholder:"Type a command or search...",className:"flex-1 bg-transparent outline-none text-base placeholder-secondary-light"}),l.jsx("button",{onClick:o,className:"p-1 hover:bg-border-light dark:hover:bg-border-dark rounded-lg transition-colors",children:l.jsx(Qt,{className:"w-5 h-5"})})]}),l.jsx("div",{ref:b,className:"max-h-[60vh] overflow-y-auto invisible-scrollbar",children:Object.keys(v).length===0?l.jsx("div",{className:"px-6 py-12 text-center text-secondary-light",children:"No commands found"}):Object.entries(v).map(([k,T])=>l.jsxs("div",{className:"py-2",children:[l.jsx("div",{className:"px-6 py-2 text-xs uppercase tracking-wider text-secondary-light font-semibold",children:k}),T.map($=>{const z=E===m,ae=E++;return l.jsxs("button",{onClick:()=>{$.action(),o()},onMouseEnter:()=>g(ae),className:`w-full px-6 py-3 flex items-center justify-between gap-4 transition-colors ${z?"bg-purple-50 dark:bg-purple-900/20":"hover:bg-border-light dark:hover:bg-border-dark"}`,children:[l.jsxs("div",{className:"flex-1 text-left",children:[l.jsx("div",{className:"text-sm font-medium text-primary-light",children:$.label}),$.description&&l.jsx("div",{className:"text-xs text-secondary-light mt-0.5",children:$.description})]}),z&&l.jsx(Tx,{className:"w-4 h-4 text-purple-600"})]},$.id)})]},k))}),l.jsx("div",{className:"px-6 py-3 border-t border-white/70 flex items-center justify-between text-xs text-secondary-light",children:l.jsxs("div",{className:"flex items-center gap-4",children:[l.jsx("span",{children:" Navigate"}),l.jsx("span",{children:" Select"}),l.jsx("span",{children:"Esc Close"})]})})]})})},fv=()=>{const[i,o]=y.useState(!1),d=y.useCallback(()=>o(!0),[]),c=y.useCallback(()=>o(!1),[]),h=y.useCallback(()=>o(m=>!m),[]);return y.useEffect(()=>{const m=g=>{(g.metaKey||g.ctrlKey)&&g.key==="k"&&(g.preventDefault(),h())};return document.addEventListener("keydown",m),()=>document.removeEventListener("keydown",m)},[h]),{isOpen:i,open:d,close:c,toggle:h}},pv=({className:i})=>l.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",className:i||"w-6 h-6",children:l.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M12 4.5v15m7.5-7.5h-15"})}),xv=({className:i})=>l.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",className:i||"w-6 h-6",children:l.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"m21 21-5.197-5.197m0 0A7.5 7.5 0 1 0 5.196 5.196a7.5 7.5 0 0 0 10.607 10.607Z"})}),fo=({className:i})=>l.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",className:i||"w-6 h-6",children:l.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"m19.5 8.25-7.5 7.5-7.5-7.5"})}),gv=({className:i})=>l.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",className:i||"w-6 h-6",children:l.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M9.594 3.94c.09-.542.56-1.007 1.11-1.226.554-.22 1.156-.22 1.71 0 .554.22 1.02.684 1.11 1.226M12 21.75l-3.75-1.563M12 21.75v-8.25M12 21.75l3.75-1.563M12 13.5l3.75 1.563M12 13.5l-3.75 1.563m0-8.25l-3.75-1.563m0 0l-3.75 1.563m3.75-1.563l3.75 1.563m0 0l3.75 1.563m0-8.25l3.75-1.563m-3.75-1.563l3.75 1.563m-3.75-1.563l-3.75-1.563m0 0l-3.75 1.563"})}),Qd=({className:i})=>l.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",className:i||"w-6 h-6",children:l.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M9.813 15.904 9 18.75l-.813-2.846a4.5 4.5 0 0 0-3.09-3.09L2.25 12l2.846-.813a4.5 4.5 0 0 0 3.09-3.09L9 5.25l.813 2.846a4.5 4.5 0 0 0 3.09 3.09L15.75 12l-2.846.813a4.5 4.5 0 0 0-3.09 3.09ZM18.259 8.715 18 9.75l-.259-1.035a3.375 3.375 0 0 0-2.455-2.456L14.25 6l1.036-.259a3.375 3.375 0 0 0 2.455-2.456L18 2.25l.259 1.035a3.375 3.375 0 0 0 2.456 2.456L21.75 6l-1.035.259a3.375 3.375 0 0 0-2.456 2.456Z"})}),so=({className:i})=>l.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",className:i||"w-6 h-6",children:l.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M15.75 17.25v3.375c0 .621-.504 1.125-1.125 1.125h-9.75a1.125 1.125 0 0 1-1.125-1.125V7.875c0-.621.504-1.125 1.125-1.125H6.75a9.06 9.06 0 0 1 1.5.124m7.5 10.376h3.375c.621 0 1.125-.504 1.125-1.125V11.25c0-4.46-3.243-8.161-7.5-8.876a9.06 9.06 0 0 0-1.5-.124H9.375c-.621 0-1.125.504-1.125 1.125v3.5m7.5 10.375H9.375a1.125 1.125 0 0 1-1.125-1.125v-9.25m12 6.625v-1.875a3.375 3.375 0 0 0-3.375-3.375h-1.5a1.125 1.125 0 0 1-1.125-1.125v-1.5a3.375 3.375 0 0 0-3.375-3.375H9.75"})}),Hp=({className:i})=>l.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",className:i||"w-6 h-6",children:l.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M11.25 4.5l7.5 7.5-7.5 7.5m-6-15l7.5 7.5-7.5 7.5"})}),bv=({className:i})=>l.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",className:i||"w-6 h-6",children:l.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"m4.5 12.75 6 6 9-13.5"})}),Gp=({icon:i,label:o,isActive:d})=>l.jsxs("div",{className:`w-full flex items-center gap-3 px-3 py-2 rounded-2xl text-sm font-medium transition-all duration-200 ${d?"bg-white text-primary-light shadow-inner":"text-secondary-light hover:text-primary-light hover:bg-white/60"}`,children:[l.jsx("span",{className:"flex items-center justify-center w-7 h-7 rounded-2xl bg-white/80 text-primary-light shadow-sm",children:i}),l.jsx("span",{children:o})]}),qp=({onNavigate:i})=>{const{threads:o,currentThread:d,createThread:c,selectThread:h,deleteThreadById:m,setActiveView:g,activeView:x}=al(),[b,f]=y.useState(!1),v=async()=>{await c(),g($e.CHAT),i==null||i()},E=async z=>{await h(z),g($e.CHAT),i==null||i()},k=z=>{g(z),i==null||i()},T=[{label:"Memory",view:$e.SEARCH,icon:l.jsx(xv,{className:"w-4 h-4"})},{label:"Journal",view:$e.JOURNAL,icon:l.jsx(so,{className:"w-4 h-4"})},{label:"Agenda",view:$e.AGENDA,icon:l.jsx(Hp,{className:"w-4 h-4"})},{label:"Calendar",view:$e.CALENDAR,icon:l.jsx(so,{className:"w-4 h-4"})},{label:"Pomodoro",view:$e.POMODORO,icon:l.jsx(Hp,{className:"w-4 h-4"})},{label:"Polaris",view:$e.POLARIS,icon:l.jsx(Qd,{className:"w-4 h-4"})},{label:"Progress",view:$e.GAMIFICATION,icon:l.jsx(so,{className:"w-4 h-4"})},{label:"Brand",view:$e.BRAND,icon:l.jsx(Qd,{className:"w-4 h-4"})},{label:"People",view:$e.PEOPLE,icon:l.jsx(so,{className:"w-4 h-4"})},{label:"Concepts",view:$e.CONCEPTS,icon:l.jsx(Qd,{className:"w-4 h-4"})}],$=l.jsx("div",{className:"space-y-2 max-h-[50vh] overflow-y-auto soft-scrollbar",children:o.length===0?l.jsx("div",{className:"px-3 py-2 text-sm text-secondary-light",children:"No conversations yet"}):o.map(z=>l.jsxs("div",{className:`group relative px-4 py-3 rounded-2xl border cursor-pointer transition-all ${(d==null?void 0:d.id)===z.id?"bg-black text-white border-black shadow-lg":"border-white/70 hover:bg-white/70"}`,onClick:()=>E(z.id),children:[l.jsx("p",{className:"text-sm font-semibold truncate",children:z.title}),(d==null?void 0:d.id)===z.id?l.jsx("p",{className:"text-xs text-white/70",children:"Active"}):l.jsx("p",{className:"text-xs text-secondary-light",children:"Thread"}),l.jsx("button",{onClick:ae=>{ae.stopPropagation(),m(z.id)},className:"absolute right-3 top-1/2 -translate-y-1/2 opacity-0 group-hover:opacity-100 transition-opacity text-xs text-secondary-light hover:text-primary-light",children:""})]},z.id))});return l.jsx(l.Fragment,{children:l.jsxs("aside",{className:"glass-panel w-full lg:w-[260px] flex-shrink-0 lg:rounded-[32px] lg:rounded-l-none p-5 flex flex-col h-full max-h-full border border-white/70 shadow-xl overflow-hidden",children:[l.jsx("div",{className:"space-y-2 mt-6 flex-shrink-0",children:l.jsx("button",{onClick:v,className:"w-full",children:l.jsx(Gp,{icon:l.jsx(pv,{className:"w-4 h-4"}),label:"New thread"})})}),l.jsxs("div",{className:"flex-1 min-h-0 mt-6 pr-1 space-y-6 overflow-y-auto invisible-scrollbar",children:[l.jsxs("button",{className:"w-full flex items-center justify-between text-xs uppercase tracking-[0.4em] text-secondary-light mb-3 px-2",onClick:()=>f(z=>!z),children:[l.jsx("span",{children:"Threads"}),l.jsx(fo,{className:`w-4 h-4 transition-transform ${b?"rotate-180":""}`})]}),b&&$,l.jsx("div",{className:"space-y-1",children:T.map(z=>l.jsx("button",{onClick:()=>k(z.view),className:"w-full",children:l.jsx(Gp,{icon:z.icon,label:z.label,isActive:x===z.view})},z.view))})]}),l.jsx("div",{className:"flex-shrink-0 pt-4 border-t border-white/60",children:l.jsxs("button",{onClick:()=>k($e.SETTINGS),className:`w-full flex items-center gap-3 px-4 py-3 rounded-2xl text-sm font-semibold transition ${x===$e.SETTINGS?"bg-black text-white shadow-lg":"bg-white/70 text-primary-light hover:bg-white/90"}`,children:[l.jsx(gv,{className:"w-5 h-5"}),l.jsx("span",{children:"Settings"})]})})]})})};function Cu(){return{async:!1,breaks:!1,extensions:null,gfm:!0,hooks:null,pedantic:!1,renderer:null,silent:!1,tokenizer:null,walkTokens:null}}var _n=Cu();function Rx(i){_n=i}var Oi={exec:()=>null};function rt(i,o=""){let d=typeof i=="string"?i:i.source;const c={replace:(h,m)=>{let g=typeof m=="string"?m:m.source;return g=g.replace(Ft.caret,"$1"),d=d.replace(h,g),c},getRegex:()=>new RegExp(d,o)};return c}var Ft={codeRemoveIndent:/^(?: {1,4}| {0,3}\t)/gm,outputLinkReplace:/\\([\[\]])/g,indentCodeCompensation:/^(\s+)(?:```)/,beginningSpace:/^\s+/,endingHash:/#$/,startingSpaceChar:/^ /,endingSpaceChar:/ $/,nonSpaceChar:/[^ ]/,newLineCharGlobal:/\n/g,tabCharGlobal:/\t/g,multipleSpaceGlobal:/\s+/g,blankLine:/^[ \t]*$/,doubleBlankLine:/\n[ \t]*\n[ \t]*$/,blockquoteStart:/^ {0,3}>/,blockquoteSetextReplace:/\n {0,3}((?:=+|-+) *)(?=\n|$)/g,blockquoteSetextReplace2:/^ {0,3}>[ \t]?/gm,listReplaceTabs:/^\t+/,listReplaceNesting:/^ {1,4}(?=( {4})*[^ ])/g,listIsTask:/^\[[ xX]\] /,listReplaceTask:/^\[[ xX]\] +/,anyLine:/\n.*\n/,hrefBrackets:/^<(.*)>$/,tableDelimiter:/[:|]/,tableAlignChars:/^\||\| *$/g,tableRowBlankLine:/\n[ \t]*$/,tableAlignRight:/^ *-+: *$/,tableAlignCenter:/^ *:-+: *$/,tableAlignLeft:/^ *:-+ *$/,startATag:/^<a /i,endATag:/^<\/a>/i,startPreScriptTag:/^<(pre|code|kbd|script)(\s|>)/i,endPreScriptTag:/^<\/(pre|code|kbd|script)(\s|>)/i,startAngleBracket:/^</,endAngleBracket:/>$/,pedanticHrefTitle:/^([^'"]*[^\s])\s+(['"])(.*)\2/,unicodeAlphaNumeric:/[\p{L}\p{N}]/u,escapeTest:/[&<>"']/,escapeReplace:/[&<>"']/g,escapeTestNoEncode:/[<>"']|&(?!(#\d{1,7}|#[Xx][a-fA-F0-9]{1,6}|\w+);)/,escapeReplaceNoEncode:/[<>"']|&(?!(#\d{1,7}|#[Xx][a-fA-F0-9]{1,6}|\w+);)/g,unescapeTest:/&(#(?:\d+)|(?:#x[0-9A-Fa-f]+)|(?:\w+));?/ig,caret:/(^|[^\[])\^/g,percentDecode:/%25/g,findPipe:/\|/g,splitPipe:/ \|/,slashPipe:/\\\|/g,carriageReturn:/\r\n|\r/g,spaceLine:/^ +$/gm,notSpaceStart:/^\S*/,endingNewline:/\n$/,listItemRegex:i=>new RegExp(`^( {0,3}${i})((?:[	 ][^\\n]*)?(?:\\n|$))`),nextBulletRegex:i=>new RegExp(`^ {0,${Math.min(3,i-1)}}(?:[*+-]|\\d{1,9}[.)])((?:[ 	][^\\n]*)?(?:\\n|$))`),hrRegex:i=>new RegExp(`^ {0,${Math.min(3,i-1)}}((?:- *){3,}|(?:_ *){3,}|(?:\\* *){3,})(?:\\n+|$)`),fencesBeginRegex:i=>new RegExp(`^ {0,${Math.min(3,i-1)}}(?:\`\`\`|~~~)`),headingBeginRegex:i=>new RegExp(`^ {0,${Math.min(3,i-1)}}#`),htmlBeginRegex:i=>new RegExp(`^ {0,${Math.min(3,i-1)}}<(?:[a-z].*>|!--)`,"i")},yv=/^(?:[ \t]*(?:\n|$))+/,vv=/^((?: {4}| {0,3}\t)[^\n]+(?:\n(?:[ \t]*(?:\n|$))*)?)+/,wv=/^ {0,3}(`{3,}(?=[^`\n]*(?:\n|$))|~{3,})([^\n]*)(?:\n|$)(?:|([\s\S]*?)(?:\n|$))(?: {0,3}\1[~`]* *(?=\n|$)|$)/,$i=/^ {0,3}((?:-[\t ]*){3,}|(?:_[ \t]*){3,}|(?:\*[ \t]*){3,})(?:\n+|$)/,Nv=/^ {0,3}(#{1,6})(?=\s|$)(.*)(?:\n+|$)/,_u=/(?:[*+-]|\d{1,9}[.)])/,Ox=/^(?!bull |blockCode|fences|blockquote|heading|html|table)((?:.|\n(?!\s*?\n|bull |blockCode|fences|blockquote|heading|html|table))+?)\n {0,3}(=+|-+) *(?:\n+|$)/,zx=rt(Ox).replace(/bull/g,_u).replace(/blockCode/g,/(?: {4}| {0,3}\t)/).replace(/fences/g,/ {0,3}(?:`{3,}|~{3,})/).replace(/blockquote/g,/ {0,3}>/).replace(/heading/g,/ {0,3}#{1,6}/).replace(/html/g,/ {0,3}<[^\n>]+>\n/).replace(/\|table/g,"").getRegex(),jv=rt(Ox).replace(/bull/g,_u).replace(/blockCode/g,/(?: {4}| {0,3}\t)/).replace(/fences/g,/ {0,3}(?:`{3,}|~{3,})/).replace(/blockquote/g,/ {0,3}>/).replace(/heading/g,/ {0,3}#{1,6}/).replace(/html/g,/ {0,3}<[^\n>]+>\n/).replace(/table/g,/ {0,3}\|?(?:[:\- ]*\|)+[\:\- ]*\n/).getRegex(),Du=/^([^\n]+(?:\n(?!hr|heading|lheading|blockquote|fences|list|html|table| +\n)[^\n]+)*)/,Sv=/^[^\n]+/,Mu=/(?!\s*\])(?:\\.|[^\[\]\\])+/,kv=rt(/^ {0,3}\[(label)\]: *(?:\n[ \t]*)?([^<\s][^\s]*|<.*?>)(?:(?: +(?:\n[ \t]*)?| *\n[ \t]*)(title))? *(?:\n+|$)/).replace("label",Mu).replace("title",/(?:"(?:\\"?|[^"\\])*"|'[^'\n]*(?:\n[^'\n]+)*\n?'|\([^()]*\))/).getRegex(),Av=rt(/^( {0,3}bull)([ \t][^\n]+?)?(?:\n|$)/).replace(/bull/g,_u).getRegex(),Co="address|article|aside|base|basefont|blockquote|body|caption|center|col|colgroup|dd|details|dialog|dir|div|dl|dt|fieldset|figcaption|figure|footer|form|frame|frameset|h[1-6]|head|header|hr|html|iframe|legend|li|link|main|menu|menuitem|meta|nav|noframes|ol|optgroup|option|p|param|search|section|summary|table|tbody|td|tfoot|th|thead|title|tr|track|ul",Ru=/<!--(?:-?>|[\s\S]*?(?:-->|$))/,Ev=rt("^ {0,3}(?:<(script|pre|style|textarea)[\\s>][\\s\\S]*?(?:</\\1>[^\\n]*\\n+|$)|comment[^\\n]*(\\n+|$)|<\\?[\\s\\S]*?(?:\\?>\\n*|$)|<![A-Z][\\s\\S]*?(?:>\\n*|$)|<!\\[CDATA\\[[\\s\\S]*?(?:\\]\\]>\\n*|$)|</?(tag)(?: +|\\n|/?>)[\\s\\S]*?(?:(?:\\n[ 	]*)+\\n|$)|<(?!script|pre|style|textarea)([a-z][\\w-]*)(?:attribute)*? */?>(?=[ \\t]*(?:\\n|$))[\\s\\S]*?(?:(?:\\n[ 	]*)+\\n|$)|</(?!script|pre|style|textarea)[a-z][\\w-]*\\s*>(?=[ \\t]*(?:\\n|$))[\\s\\S]*?(?:(?:\\n[ 	]*)+\\n|$))","i").replace("comment",Ru).replace("tag",Co).replace("attribute",/ +[a-zA-Z:_][\w.:-]*(?: *= *"[^"\n]*"| *= *'[^'\n]*'| *= *[^\s"'=<>`]+)?/).getRegex(),Lx=rt(Du).replace("hr",$i).replace("heading"," {0,3}#{1,6}(?:\\s|$)").replace("|lheading","").replace("|table","").replace("blockquote"," {0,3}>").replace("fences"," {0,3}(?:`{3,}(?=[^`\\n]*\\n)|~{3,})[^\\n]*\\n").replace("list"," {0,3}(?:[*+-]|1[.)]) ").replace("html","</?(?:tag)(?: +|\\n|/?>)|<(?:script|pre|style|textarea|!--)").replace("tag",Co).getRegex(),Tv=rt(/^( {0,3}> ?(paragraph|[^\n]*)(?:\n|$))+/).replace("paragraph",Lx).getRegex(),Ou={blockquote:Tv,code:vv,def:kv,fences:wv,heading:Nv,hr:$i,html:Ev,lheading:zx,list:Av,newline:yv,paragraph:Lx,table:Oi,text:Sv},Ip=rt("^ *([^\\n ].*)\\n {0,3}((?:\\| *)?:?-+:? *(?:\\| *:?-+:? *)*(?:\\| *)?)(?:\\n((?:(?! *\\n|hr|heading|blockquote|code|fences|list|html).*(?:\\n|$))*)\\n*|$)").replace("hr",$i).replace("heading"," {0,3}#{1,6}(?:\\s|$)").replace("blockquote"," {0,3}>").replace("code","(?: {4}| {0,3}	)[^\\n]").replace("fences"," {0,3}(?:`{3,}(?=[^`\\n]*\\n)|~{3,})[^\\n]*\\n").replace("list"," {0,3}(?:[*+-]|1[.)]) ").replace("html","</?(?:tag)(?: +|\\n|/?>)|<(?:script|pre|style|textarea|!--)").replace("tag",Co).getRegex(),Cv={...Ou,lheading:jv,table:Ip,paragraph:rt(Du).replace("hr",$i).replace("heading"," {0,3}#{1,6}(?:\\s|$)").replace("|lheading","").replace("table",Ip).replace("blockquote"," {0,3}>").replace("fences"," {0,3}(?:`{3,}(?=[^`\\n]*\\n)|~{3,})[^\\n]*\\n").replace("list"," {0,3}(?:[*+-]|1[.)]) ").replace("html","</?(?:tag)(?: +|\\n|/?>)|<(?:script|pre|style|textarea|!--)").replace("tag",Co).getRegex()},_v={...Ou,html:rt(`^ *(?:comment *(?:\\n|\\s*$)|<(tag)[\\s\\S]+?</\\1> *(?:\\n{2,}|\\s*$)|<tag(?:"[^"]*"|'[^']*'|\\s[^'"/>\\s]*)*?/?> *(?:\\n{2,}|\\s*$))`).replace("comment",Ru).replace(/tag/g,"(?!(?:a|em|strong|small|s|cite|q|dfn|abbr|data|time|code|var|samp|kbd|sub|sup|i|b|u|mark|ruby|rt|rp|bdi|bdo|span|br|wbr|ins|del|img)\\b)\\w+(?!:|[^\\w\\s@]*@)\\b").getRegex(),def:/^ *\[([^\]]+)\]: *<?([^\s>]+)>?(?: +(["(][^\n]+[")]))? *(?:\n+|$)/,heading:/^(#{1,6})(.*)(?:\n+|$)/,fences:Oi,lheading:/^(.+?)\n {0,3}(=+|-+) *(?:\n+|$)/,paragraph:rt(Du).replace("hr",$i).replace("heading",` *#{1,6} *[^
]`).replace("lheading",zx).replace("|table","").replace("blockquote"," {0,3}>").replace("|fences","").replace("|list","").replace("|html","").replace("|tag","").getRegex()},Dv=/^\\([!"#$%&'()*+,\-./:;<=>?@\[\]\\^_`{|}~])/,Mv=/^(`+)([^`]|[^`][\s\S]*?[^`])\1(?!`)/,Ux=/^( {2,}|\\)\n(?!\s*$)/,Rv=/^(`+|[^`])(?:(?= {2,}\n)|[\s\S]*?(?:(?=[\\<!\[`*_]|\b_|$)|[^ ](?= {2,}\n)))/,_o=/[\p{P}\p{S}]/u,zu=/[\s\p{P}\p{S}]/u,Bx=/[^\s\p{P}\p{S}]/u,Ov=rt(/^((?![*_])punctSpace)/,"u").replace(/punctSpace/g,zu).getRegex(),$x=/(?!~)[\p{P}\p{S}]/u,zv=/(?!~)[\s\p{P}\p{S}]/u,Lv=/(?:[^\s\p{P}\p{S}]|~)/u,Uv=/\[[^[\]]*?\]\((?:\\.|[^\\\(\)]|\((?:\\.|[^\\\(\)])*\))*\)|`[^`]*?`|<[^<>]*?>/g,Hx=/^(?:\*+(?:((?!\*)punct)|[^\s*]))|^_+(?:((?!_)punct)|([^\s_]))/,Bv=rt(Hx,"u").replace(/punct/g,_o).getRegex(),$v=rt(Hx,"u").replace(/punct/g,$x).getRegex(),Gx="^[^_*]*?__[^_*]*?\\*[^_*]*?(?=__)|[^*]+(?=[^*])|(?!\\*)punct(\\*+)(?=[\\s]|$)|notPunctSpace(\\*+)(?!\\*)(?=punctSpace|$)|(?!\\*)punctSpace(\\*+)(?=notPunctSpace)|[\\s](\\*+)(?!\\*)(?=punct)|(?!\\*)punct(\\*+)(?!\\*)(?=punct)|notPunctSpace(\\*+)(?=notPunctSpace)",Hv=rt(Gx,"gu").replace(/notPunctSpace/g,Bx).replace(/punctSpace/g,zu).replace(/punct/g,_o).getRegex(),Gv=rt(Gx,"gu").replace(/notPunctSpace/g,Lv).replace(/punctSpace/g,zv).replace(/punct/g,$x).getRegex(),qv=rt("^[^_*]*?\\*\\*[^_*]*?_[^_*]*?(?=\\*\\*)|[^_]+(?=[^_])|(?!_)punct(_+)(?=[\\s]|$)|notPunctSpace(_+)(?!_)(?=punctSpace|$)|(?!_)punctSpace(_+)(?=notPunctSpace)|[\\s](_+)(?!_)(?=punct)|(?!_)punct(_+)(?!_)(?=punct)","gu").replace(/notPunctSpace/g,Bx).replace(/punctSpace/g,zu).replace(/punct/g,_o).getRegex(),Iv=rt(/\\(punct)/,"gu").replace(/punct/g,_o).getRegex(),Yv=rt(/^<(scheme:[^\s\x00-\x1f<>]*|email)>/).replace("scheme",/[a-zA-Z][a-zA-Z0-9+.-]{1,31}/).replace("email",/[a-zA-Z0-9.!#$%&'*+/=?^_`{|}~-]+(@)[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)+(?![-_])/).getRegex(),Vv=rt(Ru).replace("(?:-->|$)","-->").getRegex(),Xv=rt("^comment|^</[a-zA-Z][\\w:-]*\\s*>|^<[a-zA-Z][\\w-]*(?:attribute)*?\\s*/?>|^<\\?[\\s\\S]*?\\?>|^<![a-zA-Z]+\\s[\\s\\S]*?>|^<!\\[CDATA\\[[\\s\\S]*?\\]\\]>").replace("comment",Vv).replace("attribute",/\s+[a-zA-Z:_][\w.:-]*(?:\s*=\s*"[^"]*"|\s*=\s*'[^']*'|\s*=\s*[^\s"'=<>`]+)?/).getRegex(),jo=/(?:\[(?:\\.|[^\[\]\\])*\]|\\.|`[^`]*`|[^\[\]\\`])*?/,Qv=rt(/^!?\[(label)\]\(\s*(href)(?:(?:[ \t]*(?:\n[ \t]*)?)(title))?\s*\)/).replace("label",jo).replace("href",/<(?:\\.|[^\n<>\\])+>|[^ \t\n\x00-\x1f]*/).replace("title",/"(?:\\"?|[^"\\])*"|'(?:\\'?|[^'\\])*'|\((?:\\\)?|[^)\\])*\)/).getRegex(),qx=rt(/^!?\[(label)\]\[(ref)\]/).replace("label",jo).replace("ref",Mu).getRegex(),Ix=rt(/^!?\[(ref)\](?:\[\])?/).replace("ref",Mu).getRegex(),Zv=rt("reflink|nolink(?!\\()","g").replace("reflink",qx).replace("nolink",Ix).getRegex(),Lu={_backpedal:Oi,anyPunctuation:Iv,autolink:Yv,blockSkip:Uv,br:Ux,code:Mv,del:Oi,emStrongLDelim:Bv,emStrongRDelimAst:Hv,emStrongRDelimUnd:qv,escape:Dv,link:Qv,nolink:Ix,punctuation:Ov,reflink:qx,reflinkSearch:Zv,tag:Xv,text:Rv,url:Oi},Kv={...Lu,link:rt(/^!?\[(label)\]\((.*?)\)/).replace("label",jo).getRegex(),reflink:rt(/^!?\[(label)\]\s*\[([^\]]*)\]/).replace("label",jo).getRegex()},du={...Lu,emStrongRDelimAst:Gv,emStrongLDelim:$v,url:rt(/^((?:ftp|https?):\/\/|www\.)(?:[a-zA-Z0-9\-]+\.?)+[^\s<]*|^email/,"i").replace("email",/[A-Za-z0-9._+-]+(@)[a-zA-Z0-9-_]+(?:\.[a-zA-Z0-9-_]*[a-zA-Z0-9])+(?![-_])/).getRegex(),_backpedal:/(?:[^?!.,:;*_'"~()&]+|\([^)]*\)|&(?![a-zA-Z0-9]+;$)|[?!.,:;*_'"~)]+(?!$))+/,del:/^(~~?)(?=[^\s~])((?:\\.|[^\\])*?(?:\\.|[^\s~\\]))\1(?=[^~]|$)/,text:/^([`~]+|[^`~])(?:(?= {2,}\n)|(?=[a-zA-Z0-9.!#$%&'*+\/=?_`{\|}~-]+@)|[\s\S]*?(?:(?=[\\<!\[`*~_]|\b_|https?:\/\/|ftp:\/\/|www\.|$)|[^ ](?= {2,}\n)|[^a-zA-Z0-9.!#$%&'*+\/=?_`{\|}~-](?=[a-zA-Z0-9.!#$%&'*+\/=?_`{\|}~-]+@)))/},Pv={...du,br:rt(Ux).replace("{2,}","*").getRegex(),text:rt(du.text).replace("\\b_","\\b_| {2,}\\n").replace(/\{2,\}/g,"*").getRegex()},io={normal:Ou,gfm:Cv,pedantic:_v},bi={normal:Lu,gfm:du,breaks:Pv,pedantic:Kv},Jv={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;"},Yp=i=>Jv[i];function el(i,o){if(o){if(Ft.escapeTest.test(i))return i.replace(Ft.escapeReplace,Yp)}else if(Ft.escapeTestNoEncode.test(i))return i.replace(Ft.escapeReplaceNoEncode,Yp);return i}function Vp(i){try{i=encodeURI(i).replace(Ft.percentDecode,"%")}catch{return null}return i}function Xp(i,o){var m;const d=i.replace(Ft.findPipe,(g,x,b)=>{let f=!1,v=x;for(;--v>=0&&b[v]==="\\";)f=!f;return f?"|":" |"}),c=d.split(Ft.splitPipe);let h=0;if(c[0].trim()||c.shift(),c.length>0&&!((m=c.at(-1))!=null&&m.trim())&&c.pop(),o)if(c.length>o)c.splice(o);else for(;c.length<o;)c.push("");for(;h<c.length;h++)c[h]=c[h].trim().replace(Ft.slashPipe,"|");return c}function yi(i,o,d){const c=i.length;if(c===0)return"";let h=0;for(;h<c&&i.charAt(c-h-1)===o;)h++;return i.slice(0,c-h)}function Wv(i,o){if(i.indexOf(o[1])===-1)return-1;let d=0;for(let c=0;c<i.length;c++)if(i[c]==="\\")c++;else if(i[c]===o[0])d++;else if(i[c]===o[1]&&(d--,d<0))return c;return d>0?-2:-1}function Qp(i,o,d,c,h){const m=o.href,g=o.title||null,x=i[1].replace(h.other.outputLinkReplace,"$1");c.state.inLink=!0;const b={type:i[0].charAt(0)==="!"?"image":"link",raw:d,href:m,title:g,text:x,tokens:c.inlineTokens(x)};return c.state.inLink=!1,b}function Fv(i,o,d){const c=i.match(d.other.indentCodeCompensation);if(c===null)return o;const h=c[1];return o.split(`
`).map(m=>{const g=m.match(d.other.beginningSpace);if(g===null)return m;const[x]=g;return x.length>=h.length?m.slice(h.length):m}).join(`
`)}var So=class{constructor(i){ft(this,"options");ft(this,"rules");ft(this,"lexer");this.options=i||_n}space(i){const o=this.rules.block.newline.exec(i);if(o&&o[0].length>0)return{type:"space",raw:o[0]}}code(i){const o=this.rules.block.code.exec(i);if(o){const d=o[0].replace(this.rules.other.codeRemoveIndent,"");return{type:"code",raw:o[0],codeBlockStyle:"indented",text:this.options.pedantic?d:yi(d,`
`)}}}fences(i){const o=this.rules.block.fences.exec(i);if(o){const d=o[0],c=Fv(d,o[3]||"",this.rules);return{type:"code",raw:d,lang:o[2]?o[2].trim().replace(this.rules.inline.anyPunctuation,"$1"):o[2],text:c}}}heading(i){const o=this.rules.block.heading.exec(i);if(o){let d=o[2].trim();if(this.rules.other.endingHash.test(d)){const c=yi(d,"#");(this.options.pedantic||!c||this.rules.other.endingSpaceChar.test(c))&&(d=c.trim())}return{type:"heading",raw:o[0],depth:o[1].length,text:d,tokens:this.lexer.inline(d)}}}hr(i){const o=this.rules.block.hr.exec(i);if(o)return{type:"hr",raw:yi(o[0],`
`)}}blockquote(i){const o=this.rules.block.blockquote.exec(i);if(o){let d=yi(o[0],`
`).split(`
`),c="",h="";const m=[];for(;d.length>0;){let g=!1;const x=[];let b;for(b=0;b<d.length;b++)if(this.rules.other.blockquoteStart.test(d[b]))x.push(d[b]),g=!0;else if(!g)x.push(d[b]);else break;d=d.slice(b);const f=x.join(`
`),v=f.replace(this.rules.other.blockquoteSetextReplace,`
    $1`).replace(this.rules.other.blockquoteSetextReplace2,"");c=c?`${c}
${f}`:f,h=h?`${h}
${v}`:v;const E=this.lexer.state.top;if(this.lexer.state.top=!0,this.lexer.blockTokens(v,m,!0),this.lexer.state.top=E,d.length===0)break;const k=m.at(-1);if((k==null?void 0:k.type)==="code")break;if((k==null?void 0:k.type)==="blockquote"){const T=k,$=T.raw+`
`+d.join(`
`),z=this.blockquote($);m[m.length-1]=z,c=c.substring(0,c.length-T.raw.length)+z.raw,h=h.substring(0,h.length-T.text.length)+z.text;break}else if((k==null?void 0:k.type)==="list"){const T=k,$=T.raw+`
`+d.join(`
`),z=this.list($);m[m.length-1]=z,c=c.substring(0,c.length-k.raw.length)+z.raw,h=h.substring(0,h.length-T.raw.length)+z.raw,d=$.substring(m.at(-1).raw.length).split(`
`);continue}}return{type:"blockquote",raw:c,tokens:m,text:h}}}list(i){let o=this.rules.block.list.exec(i);if(o){let d=o[1].trim();const c=d.length>1,h={type:"list",raw:"",ordered:c,start:c?+d.slice(0,-1):"",loose:!1,items:[]};d=c?`\\d{1,9}\\${d.slice(-1)}`:`\\${d}`,this.options.pedantic&&(d=c?d:"[*+-]");const m=this.rules.other.listItemRegex(d);let g=!1;for(;i;){let b=!1,f="",v="";if(!(o=m.exec(i))||this.rules.block.hr.test(i))break;f=o[0],i=i.substring(f.length);let E=o[2].split(`
`,1)[0].replace(this.rules.other.listReplaceTabs,de=>" ".repeat(3*de.length)),k=i.split(`
`,1)[0],T=!E.trim(),$=0;if(this.options.pedantic?($=2,v=E.trimStart()):T?$=o[1].length+1:($=o[2].search(this.rules.other.nonSpaceChar),$=$>4?1:$,v=E.slice($),$+=o[1].length),T&&this.rules.other.blankLine.test(k)&&(f+=k+`
`,i=i.substring(k.length+1),b=!0),!b){const de=this.rules.other.nextBulletRegex($),ye=this.rules.other.hrRegex($),ge=this.rules.other.fencesBeginRegex($),q=this.rules.other.headingBeginRegex($),X=this.rules.other.htmlBeginRegex($);for(;i;){const L=i.split(`
`,1)[0];let D;if(k=L,this.options.pedantic?(k=k.replace(this.rules.other.listReplaceNesting,"  "),D=k):D=k.replace(this.rules.other.tabCharGlobal,"    "),ge.test(k)||q.test(k)||X.test(k)||de.test(k)||ye.test(k))break;if(D.search(this.rules.other.nonSpaceChar)>=$||!k.trim())v+=`
`+D.slice($);else{if(T||E.replace(this.rules.other.tabCharGlobal,"    ").search(this.rules.other.nonSpaceChar)>=4||ge.test(E)||q.test(E)||ye.test(E))break;v+=`
`+k}!T&&!k.trim()&&(T=!0),f+=L+`
`,i=i.substring(L.length+1),E=D.slice($)}}h.loose||(g?h.loose=!0:this.rules.other.doubleBlankLine.test(f)&&(g=!0));let z=null,ae;this.options.gfm&&(z=this.rules.other.listIsTask.exec(v),z&&(ae=z[0]!=="[ ] ",v=v.replace(this.rules.other.listReplaceTask,""))),h.items.push({type:"list_item",raw:f,task:!!z,checked:ae,loose:!1,text:v,tokens:[]}),h.raw+=f}const x=h.items.at(-1);if(x)x.raw=x.raw.trimEnd(),x.text=x.text.trimEnd();else return;h.raw=h.raw.trimEnd();for(let b=0;b<h.items.length;b++)if(this.lexer.state.top=!1,h.items[b].tokens=this.lexer.blockTokens(h.items[b].text,[]),!h.loose){const f=h.items[b].tokens.filter(E=>E.type==="space"),v=f.length>0&&f.some(E=>this.rules.other.anyLine.test(E.raw));h.loose=v}if(h.loose)for(let b=0;b<h.items.length;b++)h.items[b].loose=!0;return h}}html(i){const o=this.rules.block.html.exec(i);if(o)return{type:"html",block:!0,raw:o[0],pre:o[1]==="pre"||o[1]==="script"||o[1]==="style",text:o[0]}}def(i){const o=this.rules.block.def.exec(i);if(o){const d=o[1].toLowerCase().replace(this.rules.other.multipleSpaceGlobal," "),c=o[2]?o[2].replace(this.rules.other.hrefBrackets,"$1").replace(this.rules.inline.anyPunctuation,"$1"):"",h=o[3]?o[3].substring(1,o[3].length-1).replace(this.rules.inline.anyPunctuation,"$1"):o[3];return{type:"def",tag:d,raw:o[0],href:c,title:h}}}table(i){var g;const o=this.rules.block.table.exec(i);if(!o||!this.rules.other.tableDelimiter.test(o[2]))return;const d=Xp(o[1]),c=o[2].replace(this.rules.other.tableAlignChars,"").split("|"),h=(g=o[3])!=null&&g.trim()?o[3].replace(this.rules.other.tableRowBlankLine,"").split(`
`):[],m={type:"table",raw:o[0],header:[],align:[],rows:[]};if(d.length===c.length){for(const x of c)this.rules.other.tableAlignRight.test(x)?m.align.push("right"):this.rules.other.tableAlignCenter.test(x)?m.align.push("center"):this.rules.other.tableAlignLeft.test(x)?m.align.push("left"):m.align.push(null);for(let x=0;x<d.length;x++)m.header.push({text:d[x],tokens:this.lexer.inline(d[x]),header:!0,align:m.align[x]});for(const x of h)m.rows.push(Xp(x,m.header.length).map((b,f)=>({text:b,tokens:this.lexer.inline(b),header:!1,align:m.align[f]})));return m}}lheading(i){const o=this.rules.block.lheading.exec(i);if(o)return{type:"heading",raw:o[0],depth:o[2].charAt(0)==="="?1:2,text:o[1],tokens:this.lexer.inline(o[1])}}paragraph(i){const o=this.rules.block.paragraph.exec(i);if(o){const d=o[1].charAt(o[1].length-1)===`
`?o[1].slice(0,-1):o[1];return{type:"paragraph",raw:o[0],text:d,tokens:this.lexer.inline(d)}}}text(i){const o=this.rules.block.text.exec(i);if(o)return{type:"text",raw:o[0],text:o[0],tokens:this.lexer.inline(o[0])}}escape(i){const o=this.rules.inline.escape.exec(i);if(o)return{type:"escape",raw:o[0],text:o[1]}}tag(i){const o=this.rules.inline.tag.exec(i);if(o)return!this.lexer.state.inLink&&this.rules.other.startATag.test(o[0])?this.lexer.state.inLink=!0:this.lexer.state.inLink&&this.rules.other.endATag.test(o[0])&&(this.lexer.state.inLink=!1),!this.lexer.state.inRawBlock&&this.rules.other.startPreScriptTag.test(o[0])?this.lexer.state.inRawBlock=!0:this.lexer.state.inRawBlock&&this.rules.other.endPreScriptTag.test(o[0])&&(this.lexer.state.inRawBlock=!1),{type:"html",raw:o[0],inLink:this.lexer.state.inLink,inRawBlock:this.lexer.state.inRawBlock,block:!1,text:o[0]}}link(i){const o=this.rules.inline.link.exec(i);if(o){const d=o[2].trim();if(!this.options.pedantic&&this.rules.other.startAngleBracket.test(d)){if(!this.rules.other.endAngleBracket.test(d))return;const m=yi(d.slice(0,-1),"\\");if((d.length-m.length)%2===0)return}else{const m=Wv(o[2],"()");if(m===-2)return;if(m>-1){const x=(o[0].indexOf("!")===0?5:4)+o[1].length+m;o[2]=o[2].substring(0,m),o[0]=o[0].substring(0,x).trim(),o[3]=""}}let c=o[2],h="";if(this.options.pedantic){const m=this.rules.other.pedanticHrefTitle.exec(c);m&&(c=m[1],h=m[3])}else h=o[3]?o[3].slice(1,-1):"";return c=c.trim(),this.rules.other.startAngleBracket.test(c)&&(this.options.pedantic&&!this.rules.other.endAngleBracket.test(d)?c=c.slice(1):c=c.slice(1,-1)),Qp(o,{href:c&&c.replace(this.rules.inline.anyPunctuation,"$1"),title:h&&h.replace(this.rules.inline.anyPunctuation,"$1")},o[0],this.lexer,this.rules)}}reflink(i,o){let d;if((d=this.rules.inline.reflink.exec(i))||(d=this.rules.inline.nolink.exec(i))){const c=(d[2]||d[1]).replace(this.rules.other.multipleSpaceGlobal," "),h=o[c.toLowerCase()];if(!h){const m=d[0].charAt(0);return{type:"text",raw:m,text:m}}return Qp(d,h,d[0],this.lexer,this.rules)}}emStrong(i,o,d=""){let c=this.rules.inline.emStrongLDelim.exec(i);if(!c||c[3]&&d.match(this.rules.other.unicodeAlphaNumeric))return;if(!(c[1]||c[2]||"")||!d||this.rules.inline.punctuation.exec(d)){const m=[...c[0]].length-1;let g,x,b=m,f=0;const v=c[0][0]==="*"?this.rules.inline.emStrongRDelimAst:this.rules.inline.emStrongRDelimUnd;for(v.lastIndex=0,o=o.slice(-1*i.length+m);(c=v.exec(o))!=null;){if(g=c[1]||c[2]||c[3]||c[4]||c[5]||c[6],!g)continue;if(x=[...g].length,c[3]||c[4]){b+=x;continue}else if((c[5]||c[6])&&m%3&&!((m+x)%3)){f+=x;continue}if(b-=x,b>0)continue;x=Math.min(x,x+b+f);const E=[...c[0]][0].length,k=i.slice(0,m+c.index+E+x);if(Math.min(m,x)%2){const $=k.slice(1,-1);return{type:"em",raw:k,text:$,tokens:this.lexer.inlineTokens($)}}const T=k.slice(2,-2);return{type:"strong",raw:k,text:T,tokens:this.lexer.inlineTokens(T)}}}}codespan(i){const o=this.rules.inline.code.exec(i);if(o){let d=o[2].replace(this.rules.other.newLineCharGlobal," ");const c=this.rules.other.nonSpaceChar.test(d),h=this.rules.other.startingSpaceChar.test(d)&&this.rules.other.endingSpaceChar.test(d);return c&&h&&(d=d.substring(1,d.length-1)),{type:"codespan",raw:o[0],text:d}}}br(i){const o=this.rules.inline.br.exec(i);if(o)return{type:"br",raw:o[0]}}del(i){const o=this.rules.inline.del.exec(i);if(o)return{type:"del",raw:o[0],text:o[2],tokens:this.lexer.inlineTokens(o[2])}}autolink(i){const o=this.rules.inline.autolink.exec(i);if(o){let d,c;return o[2]==="@"?(d=o[1],c="mailto:"+d):(d=o[1],c=d),{type:"link",raw:o[0],text:d,href:c,tokens:[{type:"text",raw:d,text:d}]}}}url(i){var d;let o;if(o=this.rules.inline.url.exec(i)){let c,h;if(o[2]==="@")c=o[0],h="mailto:"+c;else{let m;do m=o[0],o[0]=((d=this.rules.inline._backpedal.exec(o[0]))==null?void 0:d[0])??"";while(m!==o[0]);c=o[0],o[1]==="www."?h="http://"+o[0]:h=o[0]}return{type:"link",raw:o[0],text:c,href:h,tokens:[{type:"text",raw:c,text:c}]}}}inlineText(i){const o=this.rules.inline.text.exec(i);if(o){const d=this.lexer.state.inRawBlock;return{type:"text",raw:o[0],text:o[0],escaped:d}}}},Al=class uu{constructor(o){ft(this,"tokens");ft(this,"options");ft(this,"state");ft(this,"tokenizer");ft(this,"inlineQueue");this.tokens=[],this.tokens.links=Object.create(null),this.options=o||_n,this.options.tokenizer=this.options.tokenizer||new So,this.tokenizer=this.options.tokenizer,this.tokenizer.options=this.options,this.tokenizer.lexer=this,this.inlineQueue=[],this.state={inLink:!1,inRawBlock:!1,top:!0};const d={other:Ft,block:io.normal,inline:bi.normal};this.options.pedantic?(d.block=io.pedantic,d.inline=bi.pedantic):this.options.gfm&&(d.block=io.gfm,this.options.breaks?d.inline=bi.breaks:d.inline=bi.gfm),this.tokenizer.rules=d}static get rules(){return{block:io,inline:bi}}static lex(o,d){return new uu(d).lex(o)}static lexInline(o,d){return new uu(d).inlineTokens(o)}lex(o){o=o.replace(Ft.carriageReturn,`
`),this.blockTokens(o,this.tokens);for(let d=0;d<this.inlineQueue.length;d++){const c=this.inlineQueue[d];this.inlineTokens(c.src,c.tokens)}return this.inlineQueue=[],this.tokens}blockTokens(o,d=[],c=!1){var h,m,g;for(this.options.pedantic&&(o=o.replace(Ft.tabCharGlobal,"    ").replace(Ft.spaceLine,""));o;){let x;if((m=(h=this.options.extensions)==null?void 0:h.block)!=null&&m.some(f=>(x=f.call({lexer:this},o,d))?(o=o.substring(x.raw.length),d.push(x),!0):!1))continue;if(x=this.tokenizer.space(o)){o=o.substring(x.raw.length);const f=d.at(-1);x.raw.length===1&&f!==void 0?f.raw+=`
`:d.push(x);continue}if(x=this.tokenizer.code(o)){o=o.substring(x.raw.length);const f=d.at(-1);(f==null?void 0:f.type)==="paragraph"||(f==null?void 0:f.type)==="text"?(f.raw+=`
`+x.raw,f.text+=`
`+x.text,this.inlineQueue.at(-1).src=f.text):d.push(x);continue}if(x=this.tokenizer.fences(o)){o=o.substring(x.raw.length),d.push(x);continue}if(x=this.tokenizer.heading(o)){o=o.substring(x.raw.length),d.push(x);continue}if(x=this.tokenizer.hr(o)){o=o.substring(x.raw.length),d.push(x);continue}if(x=this.tokenizer.blockquote(o)){o=o.substring(x.raw.length),d.push(x);continue}if(x=this.tokenizer.list(o)){o=o.substring(x.raw.length),d.push(x);continue}if(x=this.tokenizer.html(o)){o=o.substring(x.raw.length),d.push(x);continue}if(x=this.tokenizer.def(o)){o=o.substring(x.raw.length);const f=d.at(-1);(f==null?void 0:f.type)==="paragraph"||(f==null?void 0:f.type)==="text"?(f.raw+=`
`+x.raw,f.text+=`
`+x.raw,this.inlineQueue.at(-1).src=f.text):this.tokens.links[x.tag]||(this.tokens.links[x.tag]={href:x.href,title:x.title});continue}if(x=this.tokenizer.table(o)){o=o.substring(x.raw.length),d.push(x);continue}if(x=this.tokenizer.lheading(o)){o=o.substring(x.raw.length),d.push(x);continue}let b=o;if((g=this.options.extensions)!=null&&g.startBlock){let f=1/0;const v=o.slice(1);let E;this.options.extensions.startBlock.forEach(k=>{E=k.call({lexer:this},v),typeof E=="number"&&E>=0&&(f=Math.min(f,E))}),f<1/0&&f>=0&&(b=o.substring(0,f+1))}if(this.state.top&&(x=this.tokenizer.paragraph(b))){const f=d.at(-1);c&&(f==null?void 0:f.type)==="paragraph"?(f.raw+=`
`+x.raw,f.text+=`
`+x.text,this.inlineQueue.pop(),this.inlineQueue.at(-1).src=f.text):d.push(x),c=b.length!==o.length,o=o.substring(x.raw.length);continue}if(x=this.tokenizer.text(o)){o=o.substring(x.raw.length);const f=d.at(-1);(f==null?void 0:f.type)==="text"?(f.raw+=`
`+x.raw,f.text+=`
`+x.text,this.inlineQueue.pop(),this.inlineQueue.at(-1).src=f.text):d.push(x);continue}if(o){const f="Infinite loop on byte: "+o.charCodeAt(0);if(this.options.silent){console.error(f);break}else throw new Error(f)}}return this.state.top=!0,d}inline(o,d=[]){return this.inlineQueue.push({src:o,tokens:d}),d}inlineTokens(o,d=[]){var x,b,f;let c=o,h=null;if(this.tokens.links){const v=Object.keys(this.tokens.links);if(v.length>0)for(;(h=this.tokenizer.rules.inline.reflinkSearch.exec(c))!=null;)v.includes(h[0].slice(h[0].lastIndexOf("[")+1,-1))&&(c=c.slice(0,h.index)+"["+"a".repeat(h[0].length-2)+"]"+c.slice(this.tokenizer.rules.inline.reflinkSearch.lastIndex))}for(;(h=this.tokenizer.rules.inline.anyPunctuation.exec(c))!=null;)c=c.slice(0,h.index)+"++"+c.slice(this.tokenizer.rules.inline.anyPunctuation.lastIndex);for(;(h=this.tokenizer.rules.inline.blockSkip.exec(c))!=null;)c=c.slice(0,h.index)+"["+"a".repeat(h[0].length-2)+"]"+c.slice(this.tokenizer.rules.inline.blockSkip.lastIndex);let m=!1,g="";for(;o;){m||(g=""),m=!1;let v;if((b=(x=this.options.extensions)==null?void 0:x.inline)!=null&&b.some(k=>(v=k.call({lexer:this},o,d))?(o=o.substring(v.raw.length),d.push(v),!0):!1))continue;if(v=this.tokenizer.escape(o)){o=o.substring(v.raw.length),d.push(v);continue}if(v=this.tokenizer.tag(o)){o=o.substring(v.raw.length),d.push(v);continue}if(v=this.tokenizer.link(o)){o=o.substring(v.raw.length),d.push(v);continue}if(v=this.tokenizer.reflink(o,this.tokens.links)){o=o.substring(v.raw.length);const k=d.at(-1);v.type==="text"&&(k==null?void 0:k.type)==="text"?(k.raw+=v.raw,k.text+=v.text):d.push(v);continue}if(v=this.tokenizer.emStrong(o,c,g)){o=o.substring(v.raw.length),d.push(v);continue}if(v=this.tokenizer.codespan(o)){o=o.substring(v.raw.length),d.push(v);continue}if(v=this.tokenizer.br(o)){o=o.substring(v.raw.length),d.push(v);continue}if(v=this.tokenizer.del(o)){o=o.substring(v.raw.length),d.push(v);continue}if(v=this.tokenizer.autolink(o)){o=o.substring(v.raw.length),d.push(v);continue}if(!this.state.inLink&&(v=this.tokenizer.url(o))){o=o.substring(v.raw.length),d.push(v);continue}let E=o;if((f=this.options.extensions)!=null&&f.startInline){let k=1/0;const T=o.slice(1);let $;this.options.extensions.startInline.forEach(z=>{$=z.call({lexer:this},T),typeof $=="number"&&$>=0&&(k=Math.min(k,$))}),k<1/0&&k>=0&&(E=o.substring(0,k+1))}if(v=this.tokenizer.inlineText(E)){o=o.substring(v.raw.length),v.raw.slice(-1)!=="_"&&(g=v.raw.slice(-1)),m=!0;const k=d.at(-1);(k==null?void 0:k.type)==="text"?(k.raw+=v.raw,k.text+=v.text):d.push(v);continue}if(o){const k="Infinite loop on byte: "+o.charCodeAt(0);if(this.options.silent){console.error(k);break}else throw new Error(k)}}return d}},ko=class{constructor(i){ft(this,"options");ft(this,"parser");this.options=i||_n}space(i){return""}code({text:i,lang:o,escaped:d}){var m;const c=(m=(o||"").match(Ft.notSpaceStart))==null?void 0:m[0],h=i.replace(Ft.endingNewline,"")+`
`;return c?'<pre><code class="language-'+el(c)+'">'+(d?h:el(h,!0))+`</code></pre>
`:"<pre><code>"+(d?h:el(h,!0))+`</code></pre>
`}blockquote({tokens:i}){return`<blockquote>
${this.parser.parse(i)}</blockquote>
`}html({text:i}){return i}heading({tokens:i,depth:o}){return`<h${o}>${this.parser.parseInline(i)}</h${o}>
`}hr(i){return`<hr>
`}list(i){const o=i.ordered,d=i.start;let c="";for(let g=0;g<i.items.length;g++){const x=i.items[g];c+=this.listitem(x)}const h=o?"ol":"ul",m=o&&d!==1?' start="'+d+'"':"";return"<"+h+m+`>
`+c+"</"+h+`>
`}listitem(i){var d;let o="";if(i.task){const c=this.checkbox({checked:!!i.checked});i.loose?((d=i.tokens[0])==null?void 0:d.type)==="paragraph"?(i.tokens[0].text=c+" "+i.tokens[0].text,i.tokens[0].tokens&&i.tokens[0].tokens.length>0&&i.tokens[0].tokens[0].type==="text"&&(i.tokens[0].tokens[0].text=c+" "+el(i.tokens[0].tokens[0].text),i.tokens[0].tokens[0].escaped=!0)):i.tokens.unshift({type:"text",raw:c+" ",text:c+" ",escaped:!0}):o+=c+" "}return o+=this.parser.parse(i.tokens,!!i.loose),`<li>${o}</li>
`}checkbox({checked:i}){return"<input "+(i?'checked="" ':"")+'disabled="" type="checkbox">'}paragraph({tokens:i}){return`<p>${this.parser.parseInline(i)}</p>
`}table(i){let o="",d="";for(let h=0;h<i.header.length;h++)d+=this.tablecell(i.header[h]);o+=this.tablerow({text:d});let c="";for(let h=0;h<i.rows.length;h++){const m=i.rows[h];d="";for(let g=0;g<m.length;g++)d+=this.tablecell(m[g]);c+=this.tablerow({text:d})}return c&&(c=`<tbody>${c}</tbody>`),`<table>
<thead>
`+o+`</thead>
`+c+`</table>
`}tablerow({text:i}){return`<tr>
${i}</tr>
`}tablecell(i){const o=this.parser.parseInline(i.tokens),d=i.header?"th":"td";return(i.align?`<${d} align="${i.align}">`:`<${d}>`)+o+`</${d}>
`}strong({tokens:i}){return`<strong>${this.parser.parseInline(i)}</strong>`}em({tokens:i}){return`<em>${this.parser.parseInline(i)}</em>`}codespan({text:i}){return`<code>${el(i,!0)}</code>`}br(i){return"<br>"}del({tokens:i}){return`<del>${this.parser.parseInline(i)}</del>`}link({href:i,title:o,tokens:d}){const c=this.parser.parseInline(d),h=Vp(i);if(h===null)return c;i=h;let m='<a href="'+i+'"';return o&&(m+=' title="'+el(o)+'"'),m+=">"+c+"</a>",m}image({href:i,title:o,text:d,tokens:c}){c&&(d=this.parser.parseInline(c,this.parser.textRenderer));const h=Vp(i);if(h===null)return el(d);i=h;let m=`<img src="${i}" alt="${d}"`;return o&&(m+=` title="${el(o)}"`),m+=">",m}text(i){return"tokens"in i&&i.tokens?this.parser.parseInline(i.tokens):"escaped"in i&&i.escaped?i.text:el(i.text)}},Uu=class{strong({text:i}){return i}em({text:i}){return i}codespan({text:i}){return i}del({text:i}){return i}html({text:i}){return i}text({text:i}){return i}link({text:i}){return""+i}image({text:i}){return""+i}br(){return""}},El=class hu{constructor(o){ft(this,"options");ft(this,"renderer");ft(this,"textRenderer");this.options=o||_n,this.options.renderer=this.options.renderer||new ko,this.renderer=this.options.renderer,this.renderer.options=this.options,this.renderer.parser=this,this.textRenderer=new Uu}static parse(o,d){return new hu(d).parse(o)}static parseInline(o,d){return new hu(d).parseInline(o)}parse(o,d=!0){var h,m;let c="";for(let g=0;g<o.length;g++){const x=o[g];if((m=(h=this.options.extensions)==null?void 0:h.renderers)!=null&&m[x.type]){const f=x,v=this.options.extensions.renderers[f.type].call({parser:this},f);if(v!==!1||!["space","hr","heading","code","table","blockquote","list","html","paragraph","text"].includes(f.type)){c+=v||"";continue}}const b=x;switch(b.type){case"space":{c+=this.renderer.space(b);continue}case"hr":{c+=this.renderer.hr(b);continue}case"heading":{c+=this.renderer.heading(b);continue}case"code":{c+=this.renderer.code(b);continue}case"table":{c+=this.renderer.table(b);continue}case"blockquote":{c+=this.renderer.blockquote(b);continue}case"list":{c+=this.renderer.list(b);continue}case"html":{c+=this.renderer.html(b);continue}case"paragraph":{c+=this.renderer.paragraph(b);continue}case"text":{let f=b,v=this.renderer.text(f);for(;g+1<o.length&&o[g+1].type==="text";)f=o[++g],v+=`
`+this.renderer.text(f);d?c+=this.renderer.paragraph({type:"paragraph",raw:v,text:v,tokens:[{type:"text",raw:v,text:v,escaped:!0}]}):c+=v;continue}default:{const f='Token with "'+b.type+'" type was not found.';if(this.options.silent)return console.error(f),"";throw new Error(f)}}}return c}parseInline(o,d=this.renderer){var h,m;let c="";for(let g=0;g<o.length;g++){const x=o[g];if((m=(h=this.options.extensions)==null?void 0:h.renderers)!=null&&m[x.type]){const f=this.options.extensions.renderers[x.type].call({parser:this},x);if(f!==!1||!["escape","html","link","image","strong","em","codespan","br","del","text"].includes(x.type)){c+=f||"";continue}}const b=x;switch(b.type){case"escape":{c+=d.text(b);break}case"html":{c+=d.html(b);break}case"link":{c+=d.link(b);break}case"image":{c+=d.image(b);break}case"strong":{c+=d.strong(b);break}case"em":{c+=d.em(b);break}case"codespan":{c+=d.codespan(b);break}case"br":{c+=d.br(b);break}case"del":{c+=d.del(b);break}case"text":{c+=d.text(b);break}default:{const f='Token with "'+b.type+'" type was not found.';if(this.options.silent)return console.error(f),"";throw new Error(f)}}}return c}},tu,po=(tu=class{constructor(i){ft(this,"options");ft(this,"block");this.options=i||_n}preprocess(i){return i}postprocess(i){return i}processAllTokens(i){return i}provideLexer(){return this.block?Al.lex:Al.lexInline}provideParser(){return this.block?El.parse:El.parseInline}},ft(tu,"passThroughHooks",new Set(["preprocess","postprocess","processAllTokens"])),tu),e2=class{constructor(...i){ft(this,"defaults",Cu());ft(this,"options",this.setOptions);ft(this,"parse",this.parseMarkdown(!0));ft(this,"parseInline",this.parseMarkdown(!1));ft(this,"Parser",El);ft(this,"Renderer",ko);ft(this,"TextRenderer",Uu);ft(this,"Lexer",Al);ft(this,"Tokenizer",So);ft(this,"Hooks",po);this.use(...i)}walkTokens(i,o){var c,h;let d=[];for(const m of i)switch(d=d.concat(o.call(this,m)),m.type){case"table":{const g=m;for(const x of g.header)d=d.concat(this.walkTokens(x.tokens,o));for(const x of g.rows)for(const b of x)d=d.concat(this.walkTokens(b.tokens,o));break}case"list":{const g=m;d=d.concat(this.walkTokens(g.items,o));break}default:{const g=m;(h=(c=this.defaults.extensions)==null?void 0:c.childTokens)!=null&&h[g.type]?this.defaults.extensions.childTokens[g.type].forEach(x=>{const b=g[x].flat(1/0);d=d.concat(this.walkTokens(b,o))}):g.tokens&&(d=d.concat(this.walkTokens(g.tokens,o)))}}return d}use(...i){const o=this.defaults.extensions||{renderers:{},childTokens:{}};return i.forEach(d=>{const c={...d};if(c.async=this.defaults.async||c.async||!1,d.extensions&&(d.extensions.forEach(h=>{if(!h.name)throw new Error("extension name required");if("renderer"in h){const m=o.renderers[h.name];m?o.renderers[h.name]=function(...g){let x=h.renderer.apply(this,g);return x===!1&&(x=m.apply(this,g)),x}:o.renderers[h.name]=h.renderer}if("tokenizer"in h){if(!h.level||h.level!=="block"&&h.level!=="inline")throw new Error("extension level must be 'block' or 'inline'");const m=o[h.level];m?m.unshift(h.tokenizer):o[h.level]=[h.tokenizer],h.start&&(h.level==="block"?o.startBlock?o.startBlock.push(h.start):o.startBlock=[h.start]:h.level==="inline"&&(o.startInline?o.startInline.push(h.start):o.startInline=[h.start]))}"childTokens"in h&&h.childTokens&&(o.childTokens[h.name]=h.childTokens)}),c.extensions=o),d.renderer){const h=this.defaults.renderer||new ko(this.defaults);for(const m in d.renderer){if(!(m in h))throw new Error(`renderer '${m}' does not exist`);if(["options","parser"].includes(m))continue;const g=m,x=d.renderer[g],b=h[g];h[g]=(...f)=>{let v=x.apply(h,f);return v===!1&&(v=b.apply(h,f)),v||""}}c.renderer=h}if(d.tokenizer){const h=this.defaults.tokenizer||new So(this.defaults);for(const m in d.tokenizer){if(!(m in h))throw new Error(`tokenizer '${m}' does not exist`);if(["options","rules","lexer"].includes(m))continue;const g=m,x=d.tokenizer[g],b=h[g];h[g]=(...f)=>{let v=x.apply(h,f);return v===!1&&(v=b.apply(h,f)),v}}c.tokenizer=h}if(d.hooks){const h=this.defaults.hooks||new po;for(const m in d.hooks){if(!(m in h))throw new Error(`hook '${m}' does not exist`);if(["options","block"].includes(m))continue;const g=m,x=d.hooks[g],b=h[g];po.passThroughHooks.has(m)?h[g]=f=>{if(this.defaults.async)return Promise.resolve(x.call(h,f)).then(E=>b.call(h,E));const v=x.call(h,f);return b.call(h,v)}:h[g]=(...f)=>{let v=x.apply(h,f);return v===!1&&(v=b.apply(h,f)),v}}c.hooks=h}if(d.walkTokens){const h=this.defaults.walkTokens,m=d.walkTokens;c.walkTokens=function(g){let x=[];return x.push(m.call(this,g)),h&&(x=x.concat(h.call(this,g))),x}}this.defaults={...this.defaults,...c}}),this}setOptions(i){return this.defaults={...this.defaults,...i},this}lexer(i,o){return Al.lex(i,o??this.defaults)}parser(i,o){return El.parse(i,o??this.defaults)}parseMarkdown(i){return(d,c)=>{const h={...c},m={...this.defaults,...h},g=this.onError(!!m.silent,!!m.async);if(this.defaults.async===!0&&h.async===!1)return g(new Error("marked(): The async option was set to true by an extension. Remove async: false from the parse options object to return a Promise."));if(typeof d>"u"||d===null)return g(new Error("marked(): input parameter is undefined or null"));if(typeof d!="string")return g(new Error("marked(): input parameter is of type "+Object.prototype.toString.call(d)+", string expected"));m.hooks&&(m.hooks.options=m,m.hooks.block=i);const x=m.hooks?m.hooks.provideLexer():i?Al.lex:Al.lexInline,b=m.hooks?m.hooks.provideParser():i?El.parse:El.parseInline;if(m.async)return Promise.resolve(m.hooks?m.hooks.preprocess(d):d).then(f=>x(f,m)).then(f=>m.hooks?m.hooks.processAllTokens(f):f).then(f=>m.walkTokens?Promise.all(this.walkTokens(f,m.walkTokens)).then(()=>f):f).then(f=>b(f,m)).then(f=>m.hooks?m.hooks.postprocess(f):f).catch(g);try{m.hooks&&(d=m.hooks.preprocess(d));let f=x(d,m);m.hooks&&(f=m.hooks.processAllTokens(f)),m.walkTokens&&this.walkTokens(f,m.walkTokens);let v=b(f,m);return m.hooks&&(v=m.hooks.postprocess(v)),v}catch(f){return g(f)}}}onError(i,o){return d=>{if(d.message+=`
Please report this to https://github.com/markedjs/marked.`,i){const c="<p>An error occurred:</p><pre>"+el(d.message+"",!0)+"</pre>";return o?Promise.resolve(c):c}if(o)return Promise.reject(d);throw d}}},Cn=new e2;function it(i,o){return Cn.parse(i,o)}it.options=it.setOptions=function(i){return Cn.setOptions(i),it.defaults=Cn.defaults,Rx(it.defaults),it};it.getDefaults=Cu;it.defaults=_n;it.use=function(...i){return Cn.use(...i),it.defaults=Cn.defaults,Rx(it.defaults),it};it.walkTokens=function(i,o){return Cn.walkTokens(i,o)};it.parseInline=Cn.parseInline;it.Parser=El;it.parser=El.parse;it.Renderer=ko;it.TextRenderer=Uu;it.Lexer=Al;it.lexer=Al.lex;it.Tokenizer=So;it.Hooks=po;it.parse=it;it.options;it.setOptions;it.use;it.walkTokens;it.parseInline;El.parse;Al.lex;/*! @license DOMPurify 3.3.0 | (c) Cure53 and other contributors | Released under the Apache license 2.0 and Mozilla Public License 2.0 | github.com/cure53/DOMPurify/blob/3.3.0/LICENSE */const{entries:Yx,setPrototypeOf:Zp,isFrozen:t2,getPrototypeOf:a2,getOwnPropertyDescriptor:l2}=Object;let{freeze:ea,seal:Ba,create:mu}=Object,{apply:fu,construct:pu}=typeof Reflect<"u"&&Reflect;ea||(ea=function(o){return o});Ba||(Ba=function(o){return o});fu||(fu=function(o,d){for(var c=arguments.length,h=new Array(c>2?c-2:0),m=2;m<c;m++)h[m-2]=arguments[m];return o.apply(d,h)});pu||(pu=function(o){for(var d=arguments.length,c=new Array(d>1?d-1:0),h=1;h<d;h++)c[h-1]=arguments[h];return new o(...c)});const ro=ta(Array.prototype.forEach),n2=ta(Array.prototype.lastIndexOf),Kp=ta(Array.prototype.pop),vi=ta(Array.prototype.push),s2=ta(Array.prototype.splice),xo=ta(String.prototype.toLowerCase),Zd=ta(String.prototype.toString),Kd=ta(String.prototype.match),wi=ta(String.prototype.replace),i2=ta(String.prototype.indexOf),r2=ta(String.prototype.trim),Ya=ta(Object.prototype.hasOwnProperty),Jt=ta(RegExp.prototype.test),Ni=o2(TypeError);function ta(i){return function(o){o instanceof RegExp&&(o.lastIndex=0);for(var d=arguments.length,c=new Array(d>1?d-1:0),h=1;h<d;h++)c[h-1]=arguments[h];return fu(i,o,c)}}function o2(i){return function(){for(var o=arguments.length,d=new Array(o),c=0;c<o;c++)d[c]=arguments[c];return pu(i,d)}}function Je(i,o){let d=arguments.length>2&&arguments[2]!==void 0?arguments[2]:xo;Zp&&Zp(i,null);let c=o.length;for(;c--;){let h=o[c];if(typeof h=="string"){const m=d(h);m!==h&&(t2(o)||(o[c]=m),h=m)}i[h]=!0}return i}function c2(i){for(let o=0;o<i.length;o++)Ya(i,o)||(i[o]=null);return i}function kl(i){const o=mu(null);for(const[d,c]of Yx(i))Ya(i,d)&&(Array.isArray(c)?o[d]=c2(c):c&&typeof c=="object"&&c.constructor===Object?o[d]=kl(c):o[d]=c);return o}function ji(i,o){for(;i!==null;){const c=l2(i,o);if(c){if(c.get)return ta(c.get);if(typeof c.value=="function")return ta(c.value)}i=a2(i)}function d(){return null}return d}const Pp=ea(["a","abbr","acronym","address","area","article","aside","audio","b","bdi","bdo","big","blink","blockquote","body","br","button","canvas","caption","center","cite","code","col","colgroup","content","data","datalist","dd","decorator","del","details","dfn","dialog","dir","div","dl","dt","element","em","fieldset","figcaption","figure","font","footer","form","h1","h2","h3","h4","h5","h6","head","header","hgroup","hr","html","i","img","input","ins","kbd","label","legend","li","main","map","mark","marquee","menu","menuitem","meter","nav","nobr","ol","optgroup","option","output","p","picture","pre","progress","q","rp","rt","ruby","s","samp","search","section","select","shadow","slot","small","source","spacer","span","strike","strong","style","sub","summary","sup","table","tbody","td","template","textarea","tfoot","th","thead","time","tr","track","tt","u","ul","var","video","wbr"]),Pd=ea(["svg","a","altglyph","altglyphdef","altglyphitem","animatecolor","animatemotion","animatetransform","circle","clippath","defs","desc","ellipse","enterkeyhint","exportparts","filter","font","g","glyph","glyphref","hkern","image","inputmode","line","lineargradient","marker","mask","metadata","mpath","part","path","pattern","polygon","polyline","radialgradient","rect","stop","style","switch","symbol","text","textpath","title","tref","tspan","view","vkern"]),Jd=ea(["feBlend","feColorMatrix","feComponentTransfer","feComposite","feConvolveMatrix","feDiffuseLighting","feDisplacementMap","feDistantLight","feDropShadow","feFlood","feFuncA","feFuncB","feFuncG","feFuncR","feGaussianBlur","feImage","feMerge","feMergeNode","feMorphology","feOffset","fePointLight","feSpecularLighting","feSpotLight","feTile","feTurbulence"]),d2=ea(["animate","color-profile","cursor","discard","font-face","font-face-format","font-face-name","font-face-src","font-face-uri","foreignobject","hatch","hatchpath","mesh","meshgradient","meshpatch","meshrow","missing-glyph","script","set","solidcolor","unknown","use"]),Wd=ea(["math","menclose","merror","mfenced","mfrac","mglyph","mi","mlabeledtr","mmultiscripts","mn","mo","mover","mpadded","mphantom","mroot","mrow","ms","mspace","msqrt","mstyle","msub","msup","msubsup","mtable","mtd","mtext","mtr","munder","munderover","mprescripts"]),u2=ea(["maction","maligngroup","malignmark","mlongdiv","mscarries","mscarry","msgroup","mstack","msline","msrow","semantics","annotation","annotation-xml","mprescripts","none"]),Jp=ea(["#text"]),Wp=ea(["accept","action","align","alt","autocapitalize","autocomplete","autopictureinpicture","autoplay","background","bgcolor","border","capture","cellpadding","cellspacing","checked","cite","class","clear","color","cols","colspan","controls","controlslist","coords","crossorigin","datetime","decoding","default","dir","disabled","disablepictureinpicture","disableremoteplayback","download","draggable","enctype","enterkeyhint","exportparts","face","for","headers","height","hidden","high","href","hreflang","id","inert","inputmode","integrity","ismap","kind","label","lang","list","loading","loop","low","max","maxlength","media","method","min","minlength","multiple","muted","name","nonce","noshade","novalidate","nowrap","open","optimum","part","pattern","placeholder","playsinline","popover","popovertarget","popovertargetaction","poster","preload","pubdate","radiogroup","readonly","rel","required","rev","reversed","role","rows","rowspan","spellcheck","scope","selected","shape","size","sizes","slot","span","srclang","start","src","srcset","step","style","summary","tabindex","title","translate","type","usemap","valign","value","width","wrap","xmlns","slot"]),Fd=ea(["accent-height","accumulate","additive","alignment-baseline","amplitude","ascent","attributename","attributetype","azimuth","basefrequency","baseline-shift","begin","bias","by","class","clip","clippathunits","clip-path","clip-rule","color","color-interpolation","color-interpolation-filters","color-profile","color-rendering","cx","cy","d","dx","dy","diffuseconstant","direction","display","divisor","dur","edgemode","elevation","end","exponent","fill","fill-opacity","fill-rule","filter","filterunits","flood-color","flood-opacity","font-family","font-size","font-size-adjust","font-stretch","font-style","font-variant","font-weight","fx","fy","g1","g2","glyph-name","glyphref","gradientunits","gradienttransform","height","href","id","image-rendering","in","in2","intercept","k","k1","k2","k3","k4","kerning","keypoints","keysplines","keytimes","lang","lengthadjust","letter-spacing","kernelmatrix","kernelunitlength","lighting-color","local","marker-end","marker-mid","marker-start","markerheight","markerunits","markerwidth","maskcontentunits","maskunits","max","mask","mask-type","media","method","mode","min","name","numoctaves","offset","operator","opacity","order","orient","orientation","origin","overflow","paint-order","path","pathlength","patterncontentunits","patterntransform","patternunits","points","preservealpha","preserveaspectratio","primitiveunits","r","rx","ry","radius","refx","refy","repeatcount","repeatdur","restart","result","rotate","scale","seed","shape-rendering","slope","specularconstant","specularexponent","spreadmethod","startoffset","stddeviation","stitchtiles","stop-color","stop-opacity","stroke-dasharray","stroke-dashoffset","stroke-linecap","stroke-linejoin","stroke-miterlimit","stroke-opacity","stroke","stroke-width","style","surfacescale","systemlanguage","tabindex","tablevalues","targetx","targety","transform","transform-origin","text-anchor","text-decoration","text-rendering","textlength","type","u1","u2","unicode","values","viewbox","visibility","version","vert-adv-y","vert-origin-x","vert-origin-y","width","word-spacing","wrap","writing-mode","xchannelselector","ychannelselector","x","x1","x2","xmlns","y","y1","y2","z","zoomandpan"]),Fp=ea(["accent","accentunder","align","bevelled","close","columnsalign","columnlines","columnspan","denomalign","depth","dir","display","displaystyle","encoding","fence","frame","height","href","id","largeop","length","linethickness","lspace","lquote","mathbackground","mathcolor","mathsize","mathvariant","maxsize","minsize","movablelimits","notation","numalign","open","rowalign","rowlines","rowspacing","rowspan","rspace","rquote","scriptlevel","scriptminsize","scriptsizemultiplier","selection","separator","separators","stretchy","subscriptshift","supscriptshift","symmetric","voffset","width","xmlns"]),oo=ea(["xlink:href","xml:id","xlink:title","xml:space","xmlns:xlink"]),h2=Ba(/\{\{[\w\W]*|[\w\W]*\}\}/gm),m2=Ba(/<%[\w\W]*|[\w\W]*%>/gm),f2=Ba(/\$\{[\w\W]*/gm),p2=Ba(/^data-[\-\w.\u00B7-\uFFFF]+$/),x2=Ba(/^aria-[\-\w]+$/),Vx=Ba(/^(?:(?:(?:f|ht)tps?|mailto|tel|callto|sms|cid|xmpp|matrix):|[^a-z]|[a-z+.\-]+(?:[^a-z+.\-:]|$))/i),g2=Ba(/^(?:\w+script|data):/i),b2=Ba(/[\u0000-\u0020\u00A0\u1680\u180E\u2000-\u2029\u205F\u3000]/g),Xx=Ba(/^html$/i),y2=Ba(/^[a-z][.\w]*(-[.\w]+)+$/i);var ex=Object.freeze({__proto__:null,ARIA_ATTR:x2,ATTR_WHITESPACE:b2,CUSTOM_ELEMENT:y2,DATA_ATTR:p2,DOCTYPE_NAME:Xx,ERB_EXPR:m2,IS_ALLOWED_URI:Vx,IS_SCRIPT_OR_DATA:g2,MUSTACHE_EXPR:h2,TMPLIT_EXPR:f2});const Si={element:1,text:3,progressingInstruction:7,comment:8,document:9},v2=function(){return typeof window>"u"?null:window},w2=function(o,d){if(typeof o!="object"||typeof o.createPolicy!="function")return null;let c=null;const h="data-tt-policy-suffix";d&&d.hasAttribute(h)&&(c=d.getAttribute(h));const m="dompurify"+(c?"#"+c:"");try{return o.createPolicy(m,{createHTML(g){return g},createScriptURL(g){return g}})}catch{return console.warn("TrustedTypes policy "+m+" could not be created."),null}},tx=function(){return{afterSanitizeAttributes:[],afterSanitizeElements:[],afterSanitizeShadowDOM:[],beforeSanitizeAttributes:[],beforeSanitizeElements:[],beforeSanitizeShadowDOM:[],uponSanitizeAttribute:[],uponSanitizeElement:[],uponSanitizeShadowNode:[]}};function Qx(){let i=arguments.length>0&&arguments[0]!==void 0?arguments[0]:v2();const o=Te=>Qx(Te);if(o.version="3.3.0",o.removed=[],!i||!i.document||i.document.nodeType!==Si.document||!i.Element)return o.isSupported=!1,o;let{document:d}=i;const c=d,h=c.currentScript,{DocumentFragment:m,HTMLTemplateElement:g,Node:x,Element:b,NodeFilter:f,NamedNodeMap:v=i.NamedNodeMap||i.MozNamedAttrMap,HTMLFormElement:E,DOMParser:k,trustedTypes:T}=i,$=b.prototype,z=ji($,"cloneNode"),ae=ji($,"remove"),de=ji($,"nextSibling"),ye=ji($,"childNodes"),ge=ji($,"parentNode");if(typeof g=="function"){const Te=d.createElement("template");Te.content&&Te.content.ownerDocument&&(d=Te.content.ownerDocument)}let q,X="";const{implementation:L,createNodeIterator:D,createDocumentFragment:oe,getElementsByTagName:be}=d,{importNode:J}=c;let le=tx();o.isSupported=typeof Yx=="function"&&typeof ge=="function"&&L&&L.createHTMLDocument!==void 0;const{MUSTACHE_EXPR:Ne,ERB_EXPR:ve,TMPLIT_EXPR:te,DATA_ATTR:A,ARIA_ATTR:R,IS_SCRIPT_OR_DATA:W,ATTR_WHITESPACE:me,CUSTOM_ELEMENT:Oe}=ex;let{IS_ALLOWED_URI:ze}=ex,w=null;const Y=Je({},[...Pp,...Pd,...Jd,...Wd,...Jp]);let V=null;const se=Je({},[...Wp,...Fd,...Fp,...oo]);let P=Object.seal(mu(null,{tagNameCheck:{writable:!0,configurable:!1,enumerable:!0,value:null},attributeNameCheck:{writable:!0,configurable:!1,enumerable:!0,value:null},allowCustomizedBuiltInElements:{writable:!0,configurable:!1,enumerable:!0,value:!1}})),S=null,K=null;const ie=Object.seal(mu(null,{tagCheck:{writable:!0,configurable:!1,enumerable:!0,value:null},attributeCheck:{writable:!0,configurable:!1,enumerable:!0,value:null}}));let je=!0,N=!0,ce=!1,ue=!0,xe=!1,Me=!0,Ie=!1,yt=!1,Be=!1,vt=!1,At=!1,M=!1,Se=!0,Ee=!1;const _e="user-content-";let pe=!0,et=!1,Ge={},I=null;const Ue=Je({},["annotation-xml","audio","colgroup","desc","foreignobject","head","iframe","math","mi","mn","mo","ms","mtext","noembed","noframes","noscript","plaintext","script","style","svg","template","thead","title","video","xmp"]);let Qe=null;const Ut=Je({},["audio","video","img","source","image","track"]);let F=null;const Z=Je({},["alt","class","for","id","label","name","pattern","placeholder","role","summary","title","value","style","xmlns"]),De="http://www.w3.org/1998/Math/MathML",Ye="http://www.w3.org/2000/svg",Ze="http://www.w3.org/1999/xhtml";let fe=Ze,wt=!1,Zt=null;const vs=Je({},[De,Ye,Ze],Zd);let ll=Je({},["mi","mo","mn","ms","mtext"]),nl=Je({},["annotation-xml"]);const Dn=Je({},["title","style","font","a","script"]);let da=null;const Mn=["application/xhtml+xml","text/html"],cn="text/html";let Dt=null,sl=null;const ws=d.createElement("form"),Dl=function(C){return C instanceof RegExp||C instanceof Function},Ns=function(){let C=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};if(!(sl&&sl===C)){if((!C||typeof C!="object")&&(C={}),C=kl(C),da=Mn.indexOf(C.PARSER_MEDIA_TYPE)===-1?cn:C.PARSER_MEDIA_TYPE,Dt=da==="application/xhtml+xml"?Zd:xo,w=Ya(C,"ALLOWED_TAGS")?Je({},C.ALLOWED_TAGS,Dt):Y,V=Ya(C,"ALLOWED_ATTR")?Je({},C.ALLOWED_ATTR,Dt):se,Zt=Ya(C,"ALLOWED_NAMESPACES")?Je({},C.ALLOWED_NAMESPACES,Zd):vs,F=Ya(C,"ADD_URI_SAFE_ATTR")?Je(kl(Z),C.ADD_URI_SAFE_ATTR,Dt):Z,Qe=Ya(C,"ADD_DATA_URI_TAGS")?Je(kl(Ut),C.ADD_DATA_URI_TAGS,Dt):Ut,I=Ya(C,"FORBID_CONTENTS")?Je({},C.FORBID_CONTENTS,Dt):Ue,S=Ya(C,"FORBID_TAGS")?Je({},C.FORBID_TAGS,Dt):kl({}),K=Ya(C,"FORBID_ATTR")?Je({},C.FORBID_ATTR,Dt):kl({}),Ge=Ya(C,"USE_PROFILES")?C.USE_PROFILES:!1,je=C.ALLOW_ARIA_ATTR!==!1,N=C.ALLOW_DATA_ATTR!==!1,ce=C.ALLOW_UNKNOWN_PROTOCOLS||!1,ue=C.ALLOW_SELF_CLOSE_IN_ATTR!==!1,xe=C.SAFE_FOR_TEMPLATES||!1,Me=C.SAFE_FOR_XML!==!1,Ie=C.WHOLE_DOCUMENT||!1,vt=C.RETURN_DOM||!1,At=C.RETURN_DOM_FRAGMENT||!1,M=C.RETURN_TRUSTED_TYPE||!1,Be=C.FORCE_BODY||!1,Se=C.SANITIZE_DOM!==!1,Ee=C.SANITIZE_NAMED_PROPS||!1,pe=C.KEEP_CONTENT!==!1,et=C.IN_PLACE||!1,ze=C.ALLOWED_URI_REGEXP||Vx,fe=C.NAMESPACE||Ze,ll=C.MATHML_TEXT_INTEGRATION_POINTS||ll,nl=C.HTML_INTEGRATION_POINTS||nl,P=C.CUSTOM_ELEMENT_HANDLING||{},C.CUSTOM_ELEMENT_HANDLING&&Dl(C.CUSTOM_ELEMENT_HANDLING.tagNameCheck)&&(P.tagNameCheck=C.CUSTOM_ELEMENT_HANDLING.tagNameCheck),C.CUSTOM_ELEMENT_HANDLING&&Dl(C.CUSTOM_ELEMENT_HANDLING.attributeNameCheck)&&(P.attributeNameCheck=C.CUSTOM_ELEMENT_HANDLING.attributeNameCheck),C.CUSTOM_ELEMENT_HANDLING&&typeof C.CUSTOM_ELEMENT_HANDLING.allowCustomizedBuiltInElements=="boolean"&&(P.allowCustomizedBuiltInElements=C.CUSTOM_ELEMENT_HANDLING.allowCustomizedBuiltInElements),xe&&(N=!1),At&&(vt=!0),Ge&&(w=Je({},Jp),V=[],Ge.html===!0&&(Je(w,Pp),Je(V,Wp)),Ge.svg===!0&&(Je(w,Pd),Je(V,Fd),Je(V,oo)),Ge.svgFilters===!0&&(Je(w,Jd),Je(V,Fd),Je(V,oo)),Ge.mathMl===!0&&(Je(w,Wd),Je(V,Fp),Je(V,oo))),C.ADD_TAGS&&(typeof C.ADD_TAGS=="function"?ie.tagCheck=C.ADD_TAGS:(w===Y&&(w=kl(w)),Je(w,C.ADD_TAGS,Dt))),C.ADD_ATTR&&(typeof C.ADD_ATTR=="function"?ie.attributeCheck=C.ADD_ATTR:(V===se&&(V=kl(V)),Je(V,C.ADD_ATTR,Dt))),C.ADD_URI_SAFE_ATTR&&Je(F,C.ADD_URI_SAFE_ATTR,Dt),C.FORBID_CONTENTS&&(I===Ue&&(I=kl(I)),Je(I,C.FORBID_CONTENTS,Dt)),pe&&(w["#text"]=!0),Ie&&Je(w,["html","head","body"]),w.table&&(Je(w,["tbody"]),delete S.tbody),C.TRUSTED_TYPES_POLICY){if(typeof C.TRUSTED_TYPES_POLICY.createHTML!="function")throw Ni('TRUSTED_TYPES_POLICY configuration option must provide a "createHTML" hook.');if(typeof C.TRUSTED_TYPES_POLICY.createScriptURL!="function")throw Ni('TRUSTED_TYPES_POLICY configuration option must provide a "createScriptURL" hook.');q=C.TRUSTED_TYPES_POLICY,X=q.createHTML("")}else q===void 0&&(q=w2(T,h)),q!==null&&typeof X=="string"&&(X=q.createHTML(""));ea&&ea(C),sl=C}},js=Je({},[...Pd,...Jd,...d2]),Ss=Je({},[...Wd,...u2]),Hi=function(C){let he=ge(C);(!he||!he.tagName)&&(he={namespaceURI:fe,tagName:"template"});const ke=xo(C.tagName),st=xo(he.tagName);return Zt[C.namespaceURI]?C.namespaceURI===Ye?he.namespaceURI===Ze?ke==="svg":he.namespaceURI===De?ke==="svg"&&(st==="annotation-xml"||ll[st]):!!js[ke]:C.namespaceURI===De?he.namespaceURI===Ze?ke==="math":he.namespaceURI===Ye?ke==="math"&&nl[st]:!!Ss[ke]:C.namespaceURI===Ze?he.namespaceURI===Ye&&!nl[st]||he.namespaceURI===De&&!ll[st]?!1:!Ss[ke]&&(Dn[ke]||!js[ke]):!!(da==="application/xhtml+xml"&&Zt[C.namespaceURI]):!1},aa=function(C){vi(o.removed,{element:C});try{ge(C).removeChild(C)}catch{ae(C)}},Ha=function(C,he){try{vi(o.removed,{attribute:he.getAttributeNode(C),from:he})}catch{vi(o.removed,{attribute:null,from:he})}if(he.removeAttribute(C),C==="is")if(vt||At)try{aa(he)}catch{}else try{he.setAttribute(C,"")}catch{}},ks=function(C){let he=null,ke=null;if(Be)C="<remove></remove>"+C;else{const Xe=Kd(C,/^[\r\n\t ]+/);ke=Xe&&Xe[0]}da==="application/xhtml+xml"&&fe===Ze&&(C='<html xmlns="http://www.w3.org/1999/xhtml"><head></head><body>'+C+"</body></html>");const st=q?q.createHTML(C):C;if(fe===Ze)try{he=new k().parseFromString(st,da)}catch{}if(!he||!he.documentElement){he=L.createDocument(fe,"template",null);try{he.documentElement.innerHTML=wt?X:st}catch{}}const kt=he.body||he.documentElement;return C&&ke&&kt.insertBefore(d.createTextNode(ke),kt.childNodes[0]||null),fe===Ze?be.call(he,Ie?"html":"body")[0]:Ie?he.documentElement:kt},As=function(C){return D.call(C.ownerDocument||C,C,f.SHOW_ELEMENT|f.SHOW_COMMENT|f.SHOW_TEXT|f.SHOW_PROCESSING_INSTRUCTION|f.SHOW_CDATA_SECTION,null)},Sa=function(C){return C instanceof E&&(typeof C.nodeName!="string"||typeof C.textContent!="string"||typeof C.removeChild!="function"||!(C.attributes instanceof v)||typeof C.removeAttribute!="function"||typeof C.setAttribute!="function"||typeof C.namespaceURI!="string"||typeof C.insertBefore!="function"||typeof C.hasChildNodes!="function")},Mt=function(C){return typeof x=="function"&&C instanceof x};function Nt(Te,C,he){ro(Te,ke=>{ke.call(o,C,he,sl)})}const il=function(C){let he=null;if(Nt(le.beforeSanitizeElements,C,null),Sa(C))return aa(C),!0;const ke=Dt(C.nodeName);if(Nt(le.uponSanitizeElement,C,{tagName:ke,allowedTags:w}),Me&&C.hasChildNodes()&&!Mt(C.firstElementChild)&&Jt(/<[/\w!]/g,C.innerHTML)&&Jt(/<[/\w!]/g,C.textContent)||C.nodeType===Si.progressingInstruction||Me&&C.nodeType===Si.comment&&Jt(/<[/\w]/g,C.data))return aa(C),!0;if(!(ie.tagCheck instanceof Function&&ie.tagCheck(ke))&&(!w[ke]||S[ke])){if(!S[ke]&&Gi(ke)&&(P.tagNameCheck instanceof RegExp&&Jt(P.tagNameCheck,ke)||P.tagNameCheck instanceof Function&&P.tagNameCheck(ke)))return!1;if(pe&&!I[ke]){const st=ge(C)||C.parentNode,kt=ye(C)||C.childNodes;if(kt&&st){const Xe=kt.length;for(let qt=Xe-1;qt>=0;--qt){const ka=z(kt[qt],!0);ka.__removalCount=(C.__removalCount||0)+1,st.insertBefore(ka,de(C))}}}return aa(C),!0}return C instanceof b&&!Hi(C)||(ke==="noscript"||ke==="noembed"||ke==="noframes")&&Jt(/<\/no(script|embed|frames)/i,C.innerHTML)?(aa(C),!0):(xe&&C.nodeType===Si.text&&(he=C.textContent,ro([Ne,ve,te],st=>{he=wi(he,st," ")}),C.textContent!==he&&(vi(o.removed,{element:C.cloneNode()}),C.textContent=he)),Nt(le.afterSanitizeElements,C,null),!1)},Rn=function(C,he,ke){if(Se&&(he==="id"||he==="name")&&(ke in d||ke in ws))return!1;if(!(N&&!K[he]&&Jt(A,he))){if(!(je&&Jt(R,he))){if(!(ie.attributeCheck instanceof Function&&ie.attributeCheck(he,C))){if(!V[he]||K[he]){if(!(Gi(C)&&(P.tagNameCheck instanceof RegExp&&Jt(P.tagNameCheck,C)||P.tagNameCheck instanceof Function&&P.tagNameCheck(C))&&(P.attributeNameCheck instanceof RegExp&&Jt(P.attributeNameCheck,he)||P.attributeNameCheck instanceof Function&&P.attributeNameCheck(he,C))||he==="is"&&P.allowCustomizedBuiltInElements&&(P.tagNameCheck instanceof RegExp&&Jt(P.tagNameCheck,ke)||P.tagNameCheck instanceof Function&&P.tagNameCheck(ke))))return!1}else if(!F[he]){if(!Jt(ze,wi(ke,me,""))){if(!((he==="src"||he==="xlink:href"||he==="href")&&C!=="script"&&i2(ke,"data:")===0&&Qe[C])){if(!(ce&&!Jt(W,wi(ke,me,"")))){if(ke)return!1}}}}}}}return!0},Gi=function(C){return C!=="annotation-xml"&&Kd(C,Oe)},qi=function(C){Nt(le.beforeSanitizeAttributes,C,null);const{attributes:he}=C;if(!he||Sa(C))return;const ke={attrName:"",attrValue:"",keepAttr:!0,allowedAttributes:V,forceKeepAttr:void 0};let st=he.length;for(;st--;){const kt=he[st],{name:Xe,namespaceURI:qt,value:ka}=kt,la=Dt(Xe),Za=ka;let Bt=Xe==="value"?Za:r2(Za);if(ke.attrName=la,ke.attrValue=Bt,ke.keepAttr=!0,ke.forceKeepAttr=void 0,Nt(le.uponSanitizeAttribute,C,ke),Bt=ke.attrValue,Ee&&(la==="id"||la==="name")&&(Ha(Xe,C),Bt=_e+Bt),Me&&Jt(/((--!?|])>)|<\/(style|title|textarea)/i,Bt)){Ha(Xe,C);continue}if(la==="attributename"&&Kd(Bt,"href")){Ha(Xe,C);continue}if(ke.forceKeepAttr)continue;if(!ke.keepAttr){Ha(Xe,C);continue}if(!ue&&Jt(/\/>/i,Bt)){Ha(Xe,C);continue}xe&&ro([Ne,ve,te],Ts=>{Bt=wi(Bt,Ts," ")});const Es=Dt(C.nodeName);if(!Rn(Es,la,Bt)){Ha(Xe,C);continue}if(q&&typeof T=="object"&&typeof T.getAttributeType=="function"&&!qt)switch(T.getAttributeType(Es,la)){case"TrustedHTML":{Bt=q.createHTML(Bt);break}case"TrustedScriptURL":{Bt=q.createScriptURL(Bt);break}}if(Bt!==Za)try{qt?C.setAttributeNS(qt,Xe,Bt):C.setAttribute(Xe,Bt),Sa(C)?aa(C):Kp(o.removed)}catch{Ha(Xe,C)}}Nt(le.afterSanitizeAttributes,C,null)},Ii=function Te(C){let he=null;const ke=As(C);for(Nt(le.beforeSanitizeShadowDOM,C,null);he=ke.nextNode();)Nt(le.uponSanitizeShadowNode,he,null),il(he),qi(he),he.content instanceof m&&Te(he.content);Nt(le.afterSanitizeShadowDOM,C,null)};return o.sanitize=function(Te){let C=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},he=null,ke=null,st=null,kt=null;if(wt=!Te,wt&&(Te="<!-->"),typeof Te!="string"&&!Mt(Te))if(typeof Te.toString=="function"){if(Te=Te.toString(),typeof Te!="string")throw Ni("dirty is not a string, aborting")}else throw Ni("toString is not a function");if(!o.isSupported)return Te;if(yt||Ns(C),o.removed=[],typeof Te=="string"&&(et=!1),et){if(Te.nodeName){const ka=Dt(Te.nodeName);if(!w[ka]||S[ka])throw Ni("root node is forbidden and cannot be sanitized in-place")}}else if(Te instanceof x)he=ks("<!---->"),ke=he.ownerDocument.importNode(Te,!0),ke.nodeType===Si.element&&ke.nodeName==="BODY"||ke.nodeName==="HTML"?he=ke:he.appendChild(ke);else{if(!vt&&!xe&&!Ie&&Te.indexOf("<")===-1)return q&&M?q.createHTML(Te):Te;if(he=ks(Te),!he)return vt?null:M?X:""}he&&Be&&aa(he.firstChild);const Xe=As(et?Te:he);for(;st=Xe.nextNode();)il(st),qi(st),st.content instanceof m&&Ii(st.content);if(et)return Te;if(vt){if(At)for(kt=oe.call(he.ownerDocument);he.firstChild;)kt.appendChild(he.firstChild);else kt=he;return(V.shadowroot||V.shadowrootmode)&&(kt=J.call(c,kt,!0)),kt}let qt=Ie?he.outerHTML:he.innerHTML;return Ie&&w["!doctype"]&&he.ownerDocument&&he.ownerDocument.doctype&&he.ownerDocument.doctype.name&&Jt(Xx,he.ownerDocument.doctype.name)&&(qt="<!DOCTYPE "+he.ownerDocument.doctype.name+`>
`+qt),xe&&ro([Ne,ve,te],ka=>{qt=wi(qt,ka," ")}),q&&M?q.createHTML(qt):qt},o.setConfig=function(){let Te=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};Ns(Te),yt=!0},o.clearConfig=function(){sl=null,yt=!1},o.isValidAttribute=function(Te,C,he){sl||Ns({});const ke=Dt(Te),st=Dt(C);return Rn(ke,st,he)},o.addHook=function(Te,C){typeof C=="function"&&vi(le[Te],C)},o.removeHook=function(Te,C){if(C!==void 0){const he=n2(le[Te],C);return he===-1?void 0:s2(le[Te],he,1)[0]}return Kp(le[Te])},o.removeHooks=function(Te){le[Te]=[]},o.removeAllHooks=function(){le=tx()},o}var N2=Qx();const j2={NOTE:"Note",TIP:"Tip",WARN:"Warning",WARNING:"Warning",DANGER:"Danger",INFO:"Info",SUCCESS:"Success"};it.setOptions({gfm:!0,breaks:!0,smartLists:!0});const S2=i=>i.replace(/<blockquote>\s*<p>\[!(\w+)\]\s*([^<]*)<\/p>\s*([\s\S]*?)<\/blockquote>/gim,(o,d,c,h)=>{const m=j2[d.toUpperCase()]||d,g=`${c}${h}`.trim();return`
      <div class="admonition admonition-${d.toLowerCase()}">
        <div class="admonition-title">${m}</div>
        <div class="admonition-body">${g}</div>
      </div>
    `}),k2=i=>i.replace(/\[ACTION:[^\]]+\]/g,"").trim(),Zx=(i="")=>{const o=k2(i),d=it.parse(o),c=S2(d);return N2.sanitize(c)},bt=({content:i,className:o})=>i?l.jsx("div",{className:`message-content ${o||""}`,dangerouslySetInnerHTML:{__html:Zx(i)}}):null,A2=(i,o)=>{if(o!=null&&o.includes("delete"))return{type:"warning",icon:"",title:"Action Taken"};switch(i){case"people":return{type:"success",icon:"",title:"Person Added"};case"concept":return{type:"info",icon:"",title:"Concept Added"};case"brand":return{type:"tip",icon:"",title:"Brand Element Added"};case"calendar":return{type:"note",icon:"",title:"Event Added"};case"journal":return{type:"info",icon:"",title:"Journal Entry Created"};case"agenda":return{type:"tip",icon:"",title:"Agenda Item Added"};case"deliverable":return{type:"success",icon:"",title:"Deliverable Created"};case"goal":return{type:"success",icon:"",title:"Goal Added"};case"task":return{type:"tip",icon:"",title:"Task Created"};case"pomodoro":return{type:"note",icon:"",title:"Pomodoro Session"};default:return{type:"info",icon:"",title:"Action Executed"}}},E2=({event:i,onRate:o})=>{const[d,c]=y.useState(!1);y.useEffect(()=>{(async()=>{(await pt("dismissedActionAdmonitions",[])).includes(i.id)&&c(!0)})()},[i.id]);const h=async()=>{c(!0);const f=await pt("dismissedActionAdmonitions",[]);await nn("dismissedActionAdmonitions",[...f,i.id])};if(d)return null;const{type:m,icon:g,title:x}=A2(i.kind,i.actionId);let b=`**${x}**

${i.summary}`;if(i.detail&&(b+=`

${i.detail}`),i.payload){const f=i.payload.split("|").filter(Boolean);f.length>0&&(b+=`

**Details:**
`,f.forEach((v,E)=>{v.trim()&&(b+=`- ${v.trim()}
`)}))}return l.jsxs("div",{className:`admonition admonition-${m} relative group mt-3`,children:[l.jsx("button",{onClick:h,className:"absolute top-3 right-3 opacity-0 group-hover:opacity-100 transition-opacity p-1 rounded-full hover:bg-white/20",title:"Dismiss",children:l.jsx(Qt,{className:"w-4 h-4"})}),l.jsxs("div",{className:"flex items-start gap-3 mb-3",children:[l.jsx("span",{className:"text-2xl",children:g}),l.jsx("div",{className:"flex-1",children:l.jsxs("div",{className:"admonition-title flex items-center justify-between",children:[l.jsx("span",{children:x}),l.jsx("span",{className:"text-xs font-normal opacity-60",children:new Date(i.timestamp).toLocaleTimeString("en-US",{hour:"numeric",minute:"2-digit"})})]})})]}),l.jsx("div",{className:"admonition-body",children:l.jsx(bt,{content:b})}),l.jsxs("div",{className:"mt-4 pt-4 border-t border-current/20 flex items-center justify-between gap-4",children:[l.jsxs("div",{className:"flex items-center gap-2",children:[l.jsx("span",{className:"text-xs opacity-70",children:"Rate this action:"}),l.jsx("button",{onClick:()=>o(i.id,-1),className:`p-1.5 rounded-lg transition ${i.rating===-1?"bg-red-500/20 text-red-700 border border-red-500/30":"hover:bg-white/20 border border-transparent"}`,title:"Negative",children:l.jsx(P1,{className:"w-4 h-4"})}),l.jsx("button",{onClick:()=>o(i.id,1),className:`p-1.5 rounded-lg transition ${i.rating===1?"bg-green-500/20 text-green-700 border border-green-500/30":"hover:bg-white/20 border border-transparent"}`,title:"Positive",children:l.jsx(Z1,{className:"w-4 h-4"})})]}),l.jsxs("div",{className:"flex items-center gap-2",children:[l.jsx(ps,{className:"w-4 h-4 opacity-60"}),l.jsx("input",{type:"number",min:"1",max:"100",value:i.rating&&i.rating>1?i.rating:"",onChange:f=>{const v=f.target.value?Number(f.target.value):void 0;v!==void 0&&v>=1&&v<=100&&o(i.id,v)},placeholder:"1-100",className:"w-20 px-2 py-1 rounded-lg border border-current/20 bg-white/20 text-xs focus:outline-none focus:ring-2 focus:ring-current/30"}),i.rating&&i.rating>1&&l.jsx("span",{className:"text-xs opacity-60",children:"/100"})]})]})]})},co=({isMobile:i=!1})=>{var se,P;const{currentThread:o,messages:d,sendMessage:c,updateThreadArtifact:h,activeView:m,primedAction:g,setPrimedAction:x,activeEntity:b,isLoading:f}=al(),[v,E]=y.useState(""),[k,T]=y.useState(""),[$,z]=y.useState([]),[ae,de]=y.useState(360),[ye,ge]=y.useState(!1),q=y.useRef(null),X=y.useRef(null),[L,D]=y.useState(!1),[oe,be]=y.useState(!1),[J,le]=y.useState(!1),[Ne,ve]=y.useState(null),[te,A]=y.useState(null),R=y.useRef(null),W=y.useRef(null);y.useEffect(()=>{o!=null&&o.artifactContent?T(o.artifactContent):T("")},[o]);const me=y.useMemo(()=>d.slice(-20),[d]);y.useEffect(()=>{const S=async()=>{const{getSetting:ie}=await La(async()=>{const{getSetting:N}=await Promise.resolve().then(()=>mo);return{getSetting:N}},void 0);return await ie("sylvia_action_ratings",{})};return(async()=>{const ie=wx(),je=await S();if(ie.length){const N=ie.reverse().map(ce=>({...ce,rating:je[ce.id]}));z(ce=>[...N,...ce].slice(0,50))}window.__SYLVIA_LOG__=async N=>{const ce=await S();z(ue=>[{...N,rating:ce[N.id]},...ue].slice(0,50))}})(),()=>{delete window.__SYLVIA_LOG__}},[]);const Oe=async(S,K)=>{z(ce=>ce.map(ue=>ue.id===S?{...ue,rating:K}:ue));const{saveSetting:ie,getSetting:je}=await La(async()=>{const{saveSetting:ce,getSetting:ue}=await Promise.resolve().then(()=>mo);return{saveSetting:ce,getSetting:ue}},void 0),N=await je("sylvia_action_ratings",{});N[S]=K,await ie("sylvia_action_ratings",N)},ze=S=>{var ie;const K=(ie=S.target.files)==null?void 0:ie[0];K&&K.type.startsWith("audio/")&&(ve(K),A(null)),R.current&&(R.current.value="")},w=S=>{var ie;const K=(ie=S.target.files)==null?void 0:ie[0];K&&K.type.startsWith("video/")&&(A(K),ve(null)),W.current&&(W.current.value="")},Y=async()=>{if(!v.trim()&&!Ne&&!te)return;let S,K,ie;if(Ne){const ue=await Ne.arrayBuffer();K=btoa(String.fromCharCode(...new Uint8Array(ue))),S={name:Ne.name,type:Ne.type,size:`${(Ne.size/1024).toFixed(1)} KB`}}else if(te){const ue=await te.arrayBuffer(),xe=btoa(String.fromCharCode(...new Uint8Array(ue)));ie=`data:${te.type||"video/mp4"};base64,${xe}`,S={name:te.name,type:te.type,size:`${(te.size/1024).toFixed(1)} KB`}}const{getSetting:je}=await La(async()=>{const{getSetting:ue}=await Promise.resolve().then(()=>mo);return{getSetting:ue}},void 0);let N;oe?N=await je("imageGenModel","google/gemini-2.5-flash-image"):J?N=await je("webSearchModel","openai/gpt-4o-mini-search-preview"):(Ne||te)&&(N=await je("audioVideoModel","google/gemini-2.5-flash-preview-09-2025"));const ce=v.trim();E(""),ve(null),A(null),be(!1),le(!1),await c(ce,S,{useImageGeneration:oe,useWebSearch:J,useAudioVideo:!!(Ne||te),audioBase64:Ne?{data:K,format:Ne.name.endsWith(".mp3")?"mp3":"wav"}:void 0,videoBase64:ie,modelOverride:N})};y.useEffect(()=>{if(i)return;const S=ie=>{if(!ye||!q.current)return;const N=q.current.getBoundingClientRect().right-ie.clientX,ce=Math.max(320,Math.min(800,N));de(ce)},K=()=>{ge(!1)};return ye&&(document.addEventListener("mousemove",S),document.addEventListener("mouseup",K),document.body.style.cursor="ew-resize",document.body.style.userSelect="none"),()=>{document.removeEventListener("mousemove",S),document.removeEventListener("mouseup",K),document.body.style.cursor="",document.body.style.userSelect=""}},[ye,i]),y.useEffect(()=>{if(X.current&&d.length>0){const S=X.current;S.scrollHeight-S.scrollTop-S.clientHeight<100&&(S.scrollTop=S.scrollHeight)}},[d]),y.useEffect(()=>{const S=X.current;if(!S)return;const K=()=>{const ie=S.scrollHeight-S.scrollTop-S.clientHeight<100;D(!ie&&S.scrollHeight>S.clientHeight)};return S.addEventListener("scroll",K),K(),()=>S.removeEventListener("scroll",K)},[d]);const V=()=>{X.current&&(X.current.scrollTo({top:X.current.scrollHeight,behavior:"smooth"}),D(!1))};return l.jsxs("aside",{ref:q,className:`glass-panel ${i?"":"resizable-panel"} flex-shrink-0 ${i?"":"rounded-[32px]"} flex flex-col border border-white/70 shadow-xl overflow-hidden ${i?"w-full h-full":""}`,style:i?void 0:{width:`${ae}px`,minWidth:"320px",maxWidth:"800px"},children:[!i&&l.jsx("div",{className:"resize-handle",onMouseDown:S=>{S.preventDefault(),ge(!0)}}),l.jsxs("div",{className:"flex flex-col border-b border-white/70",children:[l.jsx("div",{className:"flex items-center justify-between px-5 py-4",children:l.jsxs("div",{children:[l.jsx("p",{className:"text-xs uppercase tracking-[0.3em] text-secondary-light",children:"Sylvia"}),l.jsx("h2",{className:"text-xl font-semibold",children:(o==null?void 0:o.title)||"Polaris Console"}),l.jsx("p",{className:"text-xs text-secondary-light",children:o?"Thread intelligence":`Ready for ${m}`})]})}),b&&b.type&&b.id&&l.jsx("div",{className:"px-5 pb-3",children:l.jsxs("div",{className:"glass-panel rounded-2xl border border-white/70 bg-white/60 px-3 py-2 flex items-center gap-2",children:[l.jsx("div",{className:"w-2 h-2 rounded-full bg-purple-500 animate-pulse"}),l.jsxs("div",{className:"flex-1 min-w-0",children:[l.jsx("p",{className:"text-[10px] uppercase tracking-[0.2em] text-secondary-light",children:"Focused on"}),l.jsxs("p",{className:"text-xs font-medium text-primary-light truncate",children:[b.type==="person"&&"Person",b.type==="brand"&&"Brand Element",b.type==="concept"&&"Concept",b.type==="journal"&&"Journal Entry",b.type==="calendar"&&"Calendar Event",b.type==="goal"&&"Goal",b.type==="task"&&"Task",b.type==="agenda"&&"Agenda Item",b.type==="deliverable"&&"Deliverable",((se=b.data)==null?void 0:se.name)&&`: ${b.data.name}`,((P=b.data)==null?void 0:P.title)&&`: ${b.data.title}`]})]})]})})]}),l.jsxs("div",{className:"flex flex-col flex-1 min-h-0 overflow-hidden",children:[l.jsxs("div",{ref:X,className:"flex-1 min-h-0 overflow-y-auto invisible-scrollbar px-5 py-4 space-y-3 relative",children:[me.length===0?l.jsx("p",{className:"text-sm text-secondary-light",children:"No conversation yet. Start by giving Sylvia instructions."}):l.jsxs(l.Fragment,{children:[me.map((S,K)=>{const ie=me.findIndex((ce,ue)=>ue>K&&ce.sender==="user"),je=ie!==-1?me[ie]:null;let N=[];if(S.sender==="ai"){const ce=S.createdAt,xe=K===me.length-1?Date.now():(je==null?void 0:je.createdAt)||Date.now();N=$.filter(Me=>{const Ie=Me.timestamp;return Ie>=ce&&Ie<xe}),N.sort((Me,Ie)=>Me.timestamp-Ie.timestamp)}return l.jsxs(go.Fragment,{children:[l.jsxs("div",{className:`rounded-3xl border px-3 py-3 text-sm ${S.sender==="user"?"bg-white text-primary-light border-white/80 ml-auto":"bg-[#F4F7FF] text-primary-light border-[#C7D8FF] mr-auto"}`,style:{maxWidth:"90%"},children:[l.jsx("p",{className:"text-[10px] uppercase tracking-[0.3em] text-secondary-light mb-2",children:S.sender==="user"?"You":"Sylvia"}),S.sender==="user"?l.jsx(bt,{content:S.text}):l.jsx("div",{className:"sylvia-markdown-panel",children:l.jsx(bt,{content:S.text})})]}),S.sender==="ai"&&N.map(ce=>l.jsx(E2,{event:ce,onRate:Oe},ce.id))]},S.id)}),f&&l.jsx("div",{className:"rounded-3xl border px-4 py-4 text-sm bg-[#F4F7FF] text-primary-light border-[#C7D8FF] mr-auto animate-pulse",style:{maxWidth:"90%"},children:l.jsxs("div",{className:"flex items-center gap-3",children:[l.jsx(n1,{className:"w-4 h-4 animate-spin text-purple-500"}),l.jsxs("div",{className:"flex-1",children:[l.jsx("p",{className:"text-[10px] uppercase tracking-[0.3em] text-secondary-light mb-2",children:"Sylvia"}),l.jsxs("div",{className:"flex gap-1.5",children:[l.jsx("div",{className:"w-2 h-2 rounded-full bg-purple-400 animate-bounce",style:{animationDelay:"0ms"}}),l.jsx("div",{className:"w-2 h-2 rounded-full bg-purple-400 animate-bounce",style:{animationDelay:"150ms"}}),l.jsx("div",{className:"w-2 h-2 rounded-full bg-purple-400 animate-bounce",style:{animationDelay:"300ms"}})]})]})]})})]}),L&&l.jsx("button",{onClick:V,className:"absolute bottom-6 right-6 p-2 rounded-full bg-white/90 border border-white/70 shadow-lg hover:bg-white transition-all hover:scale-110 z-10",title:"Scroll to bottom",children:l.jsx(wy,{className:"w-5 h-5 text-primary-light"})})]}),l.jsxs("div",{className:"flex-shrink-0 px-5 py-4 border-t border-white/70 bg-white/80",children:[g&&l.jsxs("div",{className:"mb-2 px-3 py-2 rounded-2xl bg-black text-white text-xs flex items-center justify-between",children:[l.jsxs("span",{className:"uppercase tracking-[0.2em]",children:["Primed: ",g.replace(/\./g," ").replace(/\b\w/g,S=>S.toUpperCase())]}),l.jsx("button",{onClick:()=>x(null),className:"ml-2 px-2 py-0.5 rounded-full bg-white/20 hover:bg-white/30 text-xs",title:"Cancel priming",children:""})]}),l.jsxs("div",{className:"mb-2 flex items-center gap-2 flex-wrap",children:[l.jsxs("button",{onClick:()=>be(!oe),className:`px-3 py-1.5 rounded-full text-xs font-medium transition flex items-center gap-1.5 ${oe?"bg-purple-100 text-purple-700 border border-purple-300":"bg-white/80 border border-white/70 text-secondary-light hover:bg-white"}`,title:"Image Generation",children:[l.jsx(Jy,{className:"w-3.5 h-3.5"}),"Image"]}),l.jsxs("button",{onClick:()=>le(!J),className:`px-3 py-1.5 rounded-full text-xs font-medium transition flex items-center gap-1.5 ${J?"bg-blue-100 text-blue-700 border border-blue-300":"bg-white/80 border border-white/70 text-secondary-light hover:bg-white"}`,title:"Web Search",children:[l.jsx(_l,{className:"w-3.5 h-3.5"}),"Search"]}),l.jsxs("label",{className:"px-3 py-1.5 rounded-full text-xs font-medium transition flex items-center gap-1.5 bg-white/80 border border-white/70 text-secondary-light hover:bg-white cursor-pointer",children:[l.jsx(Dx,{className:"w-3.5 h-3.5"}),"Audio",l.jsx("input",{ref:R,type:"file",accept:"audio/wav,audio/mp3,audio/*",onChange:ze,className:"hidden"})]}),l.jsxs("label",{className:"px-3 py-1.5 rounded-full text-xs font-medium transition flex items-center gap-1.5 bg-white/80 border border-white/70 text-secondary-light hover:bg-white cursor-pointer",children:[l.jsx(Mx,{className:"w-3.5 h-3.5"}),"Video",l.jsx("input",{ref:W,type:"file",accept:"video/mp4,video/mpeg,video/mov,video/webm,video/*",onChange:w,className:"hidden"})]}),(Ne||te)&&l.jsxs("div",{className:"flex items-center gap-2 px-2 py-1 rounded-full bg-gray-100 text-xs",children:[l.jsx("span",{className:"text-secondary-light",children:(Ne==null?void 0:Ne.name)||(te==null?void 0:te.name)}),l.jsx("button",{onClick:()=>{ve(null),A(null)},className:"text-secondary-light hover:text-primary-light",children:l.jsx(Qt,{className:"w-3 h-3"})})]})]}),l.jsxs("div",{className:`rounded-3xl border border-white/80 bg-white flex items-end gap-2 ${i?"px-3 py-3":"px-4 py-3"}`,children:[l.jsx("textarea",{value:v,onChange:S=>E(S.target.value),onKeyDown:S=>{S.key==="Enter"&&!S.shiftKey&&(S.preventDefault(),Y())},placeholder:g?"Type your message here (will be sent as primed action)...":"Send context or directives",className:`flex-1 resize-none bg-transparent outline-none ${i?"text-base":"text-sm"}`,rows:i?3:2}),l.jsx("button",{onClick:Y,className:`${i?"px-5 py-3":"px-4 py-2"} rounded-2xl bg-[#111827] text-white text-sm font-medium disabled:bg-gray-400 transition-colors ${i?"min-h-[44px]":""}`,disabled:!v.trim()&&!Ne&&!te,children:"Send"})]})]})]})]})},T2=()=>{const[i,o]=y.useState(!1);y.useEffect(()=>{const c=document.documentElement.classList.contains("dark");o(c)},[]);const d=()=>{const c=document.documentElement,h=!i;h?(c.classList.add("dark"),localStorage.setItem("darkMode","true")):(c.classList.remove("dark"),localStorage.setItem("darkMode","false")),o(h)};return l.jsx("button",{onClick:d,className:"p-3 rounded-2xl bg-white/70 hover:bg-white/90 border border-white/70 transition-all hover:shadow-lg","aria-label":i?"Switch to light mode":"Switch to dark mode",title:i?"Switch to light mode":"Switch to dark mode",children:i?l.jsx(Y1,{className:"w-5 h-5 text-yellow-600"}):l.jsx(h1,{className:"w-5 h-5 text-indigo-600"})})},C2=i=>{const d=Date.now()-i,c=Math.floor(d/1e3),h=Math.floor(c/60),m=Math.floor(h/60),g=Math.floor(m/24),x=Math.floor(g/7),b=Math.floor(g/30),f=Math.floor(g/365);return c<60?"Just now":h<60?`${h}m ago`:m<24?`${m}h ago`:g===1?"Yesterday":g<7?`${g}d ago`:x<4?`${x}w ago`:b<12?`${b}mo ago`:`${f}y ago`},_2=(i,o)=>{const d=JSON.stringify(i,null,2),c=new Blob([d],{type:"application/json"}),h=URL.createObjectURL(c),m=document.createElement("a");m.href=h,m.download=o,document.body.appendChild(m),m.click(),document.body.removeChild(m),URL.revokeObjectURL(h)},D2=()=>{const[i,o]=y.useState({totalEntities:0,todayActivity:0,weekStreak:0,totalMessages:0,totalPomodoros:0,completedGoals:0}),[d,c]=y.useState([]);y.useEffect(()=>{(async()=>{const[g,x,b,f,v,E,k]=await Promise.all([H.getBrandRecords(),H.getPeopleRecords(),H.getConceptRecords(),H.getJournalEntries(),H.getMessages(),H.getPomodoroSessions(),H.getGoals()]),T=g.length+x.length+b.length+f.length,$=new Date().setHours(0,0,0,0),z=v.filter(D=>D.createdAt>=$).length,ae=f.filter(D=>D.createdAt>=$).length,de=z+ae,ye=Date.now()-10080*60*1e3,ge=v.filter(D=>D.createdAt>=ye),q=new Set(ge.map(D=>new Date(D.createdAt).toDateString())).size,X=k.filter(D=>D.status==="completed").length;o({totalEntities:T,todayActivity:de,weekStreak:q,totalMessages:v.length,totalPomodoros:E.length,completedGoals:X});const L=[];f.slice(-5).forEach(D=>{L.push({type:"journal",time:D.createdAt,label:D.title||"Journal entry"})}),b.slice(-5).forEach(D=>{L.push({type:"concept",time:D.createdAt,label:D.name})}),x.slice(-5).forEach(D=>{L.push({type:"person",time:D.createdAt,label:D.name})}),L.sort((D,oe)=>oe.time-D.time),c(L.slice(0,10))})()},[]);const h=[{label:"Total Items",value:i.totalEntities,icon:l.jsx(No,{className:"w-6 h-6"}),color:"from-blue-500 to-indigo-500"},{label:"Activity Today",value:i.todayActivity,icon:l.jsx(sn,{className:"w-6 h-6"}),color:"from-green-500 to-emerald-500"},{label:"Week Streak",value:`${i.weekStreak} days`,icon:l.jsx(To,{className:"w-6 h-6"}),color:"from-orange-500 to-red-500"},{label:"Pomodoros",value:i.totalPomodoros,icon:l.jsx(Ua,{className:"w-6 h-6"}),color:"from-purple-500 to-pink-500"},{label:"Goals Complete",value:i.completedGoals,icon:l.jsx(zi,{className:"w-6 h-6"}),color:"from-yellow-500 to-orange-500"},{label:"Messages",value:i.totalMessages,icon:l.jsx(wa,{className:"w-6 h-6"}),color:"from-cyan-500 to-blue-500"}];return l.jsxs("div",{className:"space-y-6",children:[l.jsx("div",{className:"grid grid-cols-2 md:grid-cols-3 lg:grid-cols-6 gap-4",children:h.map((m,g)=>l.jsxs("div",{className:"glass-panel rounded-2xl border border-white/70 p-4 card-hover",children:[l.jsx("div",{className:`w-12 h-12 rounded-xl bg-gradient-to-br ${m.color} flex items-center justify-center text-white mb-3`,children:m.icon}),l.jsx("div",{className:"text-2xl font-bold text-primary-light",children:m.value}),l.jsx("div",{className:"text-xs text-secondary-light mt-1",children:m.label})]},g))}),l.jsxs("div",{className:"glass-panel rounded-2xl border border-white/70 p-6",children:[l.jsx("h3",{className:"text-lg font-semibold text-primary-light mb-4",children:"Recent Activity"}),l.jsx("div",{className:"space-y-3",children:d.length===0?l.jsx("p",{className:"text-sm text-secondary-light text-center py-8",children:"No recent activity"}):d.map((m,g)=>l.jsxs("div",{className:"flex items-center justify-between py-2 border-b border-white/30 last:border-0",children:[l.jsxs("div",{className:"flex items-center gap-3",children:[l.jsx("div",{className:`w-2 h-2 rounded-full ${m.type==="journal"?"bg-purple-500":m.type==="concept"?"bg-blue-500":"bg-green-500"}`}),l.jsx("span",{className:"text-sm font-medium text-primary-light",children:m.label})]}),l.jsx("span",{className:"text-xs text-secondary-light",children:C2(m.time)})]},g))})]})]})},M2=async()=>{const[i,o,d,c,h,m,g,x,b,f,v]=await Promise.all([H.getBrandRecords(),H.getPeopleRecords(),H.getConceptRecords(),H.getJournalEntries(),H.getAgendaItems(),H.getDeliverables(),H.getCalendarEvents(),H.getPomodoroSessions(),H.getGoals(),H.getThreads(),H.getMessages()]),E={};for(let k=0;k<localStorage.length;k++){const T=localStorage.key(k);if(T&&!T.startsWith("polaris_")){const $=localStorage.getItem(T);if($)try{E[T]=JSON.parse($)}catch{E[T]=$}}}return{version:"1.0.0",exportDate:Date.now(),data:{brand:i,people:o,concepts:d,journal:c,agenda:h,deliverables:m,calendar:g,pomodoro:x,goals:b,threads:f,messages:v},settings:E}},R2=async i=>{const o=await M2(),d=`polaris-backup-${new Date().toISOString().split("T")[0]}.json`;_2(o,d)},O2=async(i,o={})=>{try{const{merge:d=!1,overwrite:c=!1}=o;if(i.data.brand)for(const h of i.data.brand)d?(!await H.getBrandRecord(h.id)||c)&&await H.saveBrandRecord(h):await H.saveBrandRecord(h);if(i.data.people)for(const h of i.data.people)d?(!await H.getPeopleRecord(h.id)||c)&&await H.savePeopleRecord(h):await H.savePeopleRecord(h);if(i.data.concepts)for(const h of i.data.concepts)d?(!await H.getConceptRecord(h.id)||c)&&await H.saveConceptRecord(h):await H.saveConceptRecord(h);if(i.data.journal)for(const h of i.data.journal)d?(!await H.getJournalEntry(h.id)||c)&&await H.saveJournalEntry(h):await H.saveJournalEntry(h);return i.settings&&!d&&Object.entries(i.settings).forEach(([h,m])=>{localStorage.setItem(h,JSON.stringify(m))}),{success:!0}}catch(d){return console.error("Import failed:",d),{success:!1,error:d instanceof Error?d.message:"Unknown error"}}},z2=i=>new Promise((o,d)=>{const c=new FileReader;c.onload=h=>{var m;try{const g=(m=h.target)==null?void 0:m.result,x=JSON.parse(g);if(!x.version||!x.data){d(new Error("Invalid backup file format"));return}o(x)}catch{d(new Error("Failed to parse backup file"))}},c.onerror=()=>d(new Error("Failed to read file")),c.readAsText(i)}),ax=["openrouter/polaris-alpha","anthropic/claude-sonnet-4.5","anthropic/claude-haiku-4.5","anthropic/claude-3.5-sonnet","anthropic/claude-3-opus","google/gemini-2.5-pro","google/gemini-2.5-flash-preview-09-2025","google/gemini-2.5-flash-lite-preview-09-2025","google/gemini-pro-1.5","x-ai/grok-4","x-ai/grok-4-fast","x-ai/grok-code-fast-1","openai/gpt-5-chat","openai/gpt-5","openai/gpt-5-mini","openai/gpt-5-nano","openai/gpt-4.1","openai/gpt-4.1-nano","openai/gpt-4o","openai/gpt-4o-mini","meta-llama/llama-3.1-405b-instruct","meta-llama/llama-3.1-70b-instruct","minimax/minimax-m2","amazon/nova-premier-v1"],lx=["qwen/qwen3-embedding-8b","google/gemini-embedding-001","openai/text-embedding-3-small"],L2=()=>{const{settings:i,updateSetting:o,setActiveView:d}=al(),{success:c,error:h}=Ax(),[m,g]=y.useState(!1),[x,b]=y.useState(!1),[f,v]=y.useState(!1),[E,k]=y.useState(!1),[T,$]=y.useState(!1),[z,ae]=y.useState(!1),[de,ye]=y.useState(!1),ge=y.useRef(null);return l.jsxs("div",{className:"flex flex-col h-full",children:[l.jsxs("div",{className:"glass-panel border border-white/70 dark:border-white/10 rounded-[32px] mx-4 mt-2 px-6 py-6 flex flex-col gap-2 md:flex-row md:items-center md:justify-between",children:[l.jsxs("div",{children:[l.jsx("p",{className:"text-xs uppercase tracking-[0.2em] text-secondary-light dark:text-secondary-dark",children:"Every piece of intel matters"}),l.jsx("h1",{className:"text-2xl font-semibold mt-1",children:"Northstar Control Room"}),l.jsx("p",{className:"text-sm text-secondary-light dark:text-secondary-dark max-w-2xl",children:"This is where Sylvia gets her edge. Bring your own OpenRouter key, shape the Polaris stack, and tune the JIT Memory pipeline so our agent never forgets what matters."})]}),l.jsx("button",{onClick:()=>d($e.CHAT),className:"mt-2 md:mt-0 inline-flex items-center justify-center px-4 py-2 rounded-2xl bg-black text-white text-sm hover:shadow-lg transition-colors",children:"Back to chat"})]}),l.jsxs("div",{className:"flex-1 overflow-y-auto px-4 py-6 space-y-6 soft-scrollbar",children:[l.jsxs("section",{className:"glass-panel rounded-[32px] border border-white/70 dark:border-white/10 p-6 shadow-xl",children:[l.jsxs("div",{className:"flex flex-col gap-2 mb-6",children:[l.jsx("p",{className:"text-xs font-semibold text-accent tracking-[0.3em] uppercase",children:"Bring Your Own Key"}),l.jsx("h2",{className:"text-xl font-semibold",children:"OpenRouter  Polaris Alpha"}),l.jsx("p",{className:"text-sm text-secondary-light dark:text-secondary-dark",children:"We default to `openrouter/polaris-alpha` (256k context, 128k max output). Your key never leaves the browser  it lives in IndexedDB alongside your threads."})]}),l.jsxs("div",{className:"grid gap-6 lg:grid-cols-2",children:[l.jsxs("div",{className:"space-y-4",children:[l.jsx("label",{className:"text-sm font-medium",children:"OpenRouter API Key"}),l.jsxs("div",{className:"relative",children:[l.jsx("input",{type:m?"text":"password",value:i.apiKey||"",onChange:q=>o("apiKey",q.target.value),placeholder:"sk-or-...",className:"w-full p-3 rounded-2xl border border-white/70 bg-white/80 pr-28"}),l.jsx("button",{type:"button",onClick:()=>g(q=>!q),className:"absolute top-1/2 right-2 -translate-y-1/2 text-sm px-3 py-1 rounded-full bg-black text-white",children:m?"Hide":"Reveal"})]}),l.jsx("p",{className:"text-xs text-secondary-light dark:text-secondary-dark",children:"Stored locally only. Rotate whenever you need."}),l.jsxs("div",{className:"space-y-4 pt-2",children:[l.jsxs("div",{className:"flex items-center justify-between",children:[l.jsx("label",{className:"text-sm font-medium",children:"Weighted System Prompts"}),l.jsxs("div",{className:"flex gap-2",children:[i.weightedPrompts&&i.weightedPrompts.length>0&&l.jsx("button",{onClick:()=>{const q=i.weightedPrompts||[],X=Math.floor(100/q.length),L=100-X*q.length,D=q.map((oe,be)=>({...oe,weight:X+(be<L?1:0)}));o("weightedPrompts",D)},className:"px-3 py-1 rounded-full bg-white border border-white/70 text-xs hover:bg-white/90",title:"Distribute weights evenly",children:"Auto-Balance"}),l.jsx("button",{onClick:()=>{const q=i.weightedPrompts||[],X={id:`prompt-${Date.now()}`,content:"",weight:q.length===0?100:0};o("weightedPrompts",[...q,X])},className:"px-3 py-1 rounded-full bg-black text-white text-xs",children:"+ Add Prompt"})]})]}),i.weightedPrompts&&i.weightedPrompts.length>0?l.jsxs("div",{className:"space-y-3",children:[i.weightedPrompts.map((q,X)=>((i.weightedPrompts||[]).reduce((L,D)=>L+D.weight,0),l.jsxs("div",{className:"rounded-2xl border border-white/70 bg-white/80 p-4 space-y-3",children:[l.jsxs("div",{className:"flex items-center justify-between",children:[l.jsxs("span",{className:"text-xs uppercase tracking-[0.2em] text-secondary-light",children:["Prompt ",X+1]}),l.jsxs("div",{className:"flex items-center gap-2",children:[l.jsx("input",{type:"number",min:"0",max:"100",value:q.weight,onChange:L=>{const D=Math.max(0,Math.min(100,parseInt(L.target.value)||0)),oe=[...i.weightedPrompts||[]];oe[X]={...q,weight:D},o("weightedPrompts",oe)},className:"w-20 px-2 py-1 rounded-full border border-white/70 bg-white text-sm text-center"}),l.jsx("span",{className:"text-xs text-secondary-light",children:"%"}),l.jsx("button",{onClick:()=>{const L=(i.weightedPrompts||[]).filter(D=>D.id!==q.id);if(L.length>0&&L.reduce((D,oe)=>D+oe.weight,0)!==100){const oe=(100-L.reduce((be,J)=>be+J.weight,0))/L.length;L.forEach(be=>{be.weight=Math.max(0,Math.min(100,be.weight+oe))})}o("weightedPrompts",L)},className:"px-2 py-1 rounded-full bg-red-500/20 text-red-600 text-xs hover:bg-red-500/30",children:""})]})]}),l.jsx("textarea",{value:q.content,onChange:L=>{const D=[...i.weightedPrompts||[]];D[X]={...q,content:L.target.value},o("weightedPrompts",D)},placeholder:`Enter prompt ${X+1} content...`,className:"w-full rounded-2xl border border-white/70 bg-white px-4 py-3 text-sm min-h-[120px] resize-y"})]},q.id))),l.jsxs("div",{className:`rounded-2xl border p-3 text-xs ${(i.weightedPrompts||[]).reduce((q,X)=>q+X.weight,0)===100?"border-green-500/50 bg-green-500/10 text-green-700":"border-red-500/50 bg-red-500/10 text-red-700"}`,children:[l.jsxs("div",{className:"flex items-center justify-between",children:[l.jsx("span",{children:"Total Weight:"}),l.jsxs("span",{className:"font-semibold",children:[(i.weightedPrompts||[]).reduce((q,X)=>q+X.weight,0),"%"]})]}),(i.weightedPrompts||[]).reduce((q,X)=>q+X.weight,0)!==100&&l.jsx("p",{className:"mt-1",children:"Weights must equal exactly 100%"})]})]}):l.jsxs("div",{className:"rounded-2xl border border-dashed border-white/50 p-4 text-center text-xs text-secondary-light",children:[l.jsx("p",{children:"No weighted prompts configured."}),l.jsx("p",{className:"mt-1",children:"Add prompts with weights that sum to 100%"})]})]}),l.jsx("div",{className:"rounded-2xl border border-dashed border-white/50 p-3 text-xs text-secondary-light",children:"Legacy single system prompt (deprecated - use weighted prompts above)"}),l.jsxs("div",{className:"space-y-2 pt-2",children:[l.jsx("label",{className:"text-sm font-medium",children:"Auxiliary OpenRouter Key (optional)"}),l.jsxs("div",{className:"relative",children:[l.jsx("input",{type:x?"text":"password",value:i.secondaryApiKey||"",onChange:q=>o("secondaryApiKey",q.target.value),placeholder:"sk-or-...",className:"w-full p-3 rounded-2xl border border-white/70 bg-white/80 pr-28"}),l.jsx("button",{type:"button",onClick:()=>b(q=>!q),className:"absolute top-1/2 right-2 -translate-y-1/2 text-sm px-3 py-1 rounded-full bg-black text-white",children:x?"Hide":"Reveal"})]}),l.jsx("p",{className:"text-xs text-secondary-light dark:text-secondary-dark",children:"Use this for embeddings, experiments, or as a reserve key. Stored locally just like the primary key."})]}),l.jsxs("div",{className:"space-y-2 pt-2",children:[l.jsx("label",{className:"text-sm font-medium",children:"Audit API Key (Free Model)"}),l.jsxs("div",{className:"relative",children:[l.jsx("input",{type:f?"text":"password",value:i.auditApiKey||"",onChange:q=>o("auditApiKey",q.target.value),placeholder:"sk-or-... (uses free polaris-alpha)",className:"w-full p-3 rounded-2xl border border-white/70 bg-white/80 pr-28"}),l.jsx("button",{type:"button",onClick:()=>v(q=>!q),className:"absolute top-1/2 right-2 -translate-y-1/2 text-sm px-3 py-1 rounded-full bg-black text-white",children:f?"Hide":"Reveal"})]}),l.jsx("p",{className:"text-xs text-secondary-light dark:text-secondary-dark",children:"Optional key for the audit agent. Uses free openrouter/polaris-alpha model to periodically audit journal entries and catch missed entity extractions. Runs automatically when configured."})]})]}),l.jsxs("div",{className:"space-y-6",children:[l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-medium mb-2",children:"Primary Model"}),l.jsxs("div",{className:"relative",children:[l.jsx("select",{className:"w-full p-3 rounded-2xl border border-white/70 bg-white/80 appearance-none",value:i.mainModel||"openrouter/polaris-alpha",onChange:q=>o("mainModel",q.target.value),children:ax.map(q=>l.jsx("option",{value:q,children:q},q))}),l.jsx(fo,{className:"w-5 h-5 absolute right-3 top-1/2 -translate-y-1/2 pointer-events-none"})]}),l.jsx("p",{className:"text-xs text-secondary-light dark:text-secondary-dark mt-1",children:"Max output tokens defaults to 128k for Polaris Alpha."})]}),l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-medium mb-2",children:"Backup Model"}),l.jsxs("div",{className:"relative",children:[l.jsx("select",{className:"w-full p-3 rounded-2xl border border-white/70 bg-white/80 appearance-none",value:i.backupModel||"x-ai/grok-4-fast",onChange:q=>o("backupModel",q.target.value),children:ax.map(q=>l.jsx("option",{value:q,children:q},q))}),l.jsx(fo,{className:"w-5 h-5 absolute right-3 top-1/2 -translate-y-1/2 pointer-events-none"})]})]}),l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-medium mb-2",children:"Embedding Model"}),l.jsxs("div",{className:"relative",children:[l.jsx("select",{className:"w-full p-3 rounded-2xl border border-white/70 bg-white/80 appearance-none",value:i.embeddingModel||lx[0],onChange:q=>o("embeddingModel",q.target.value),children:lx.map(q=>l.jsx("option",{value:q,children:q},q))}),l.jsx(fo,{className:"w-5 h-5 absolute right-3 top-1/2 -translate-y-1/2 pointer-events-none"})]}),l.jsx("p",{className:"text-xs text-secondary-light dark:text-secondary-dark mt-1",children:"Used for memory search + post-processing visibility when we turn on embedding flows."})]}),l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-medium mb-2",children:"Audit Interval (minutes)"}),l.jsx("input",{type:"number",min:"15",max:"1440",className:"w-full p-3 rounded-2xl border border-white/70 bg-white/80",placeholder:"60",value:i.auditInterval||60,onChange:q=>o("auditInterval",parseInt(q.target.value)||60)}),l.jsx("p",{className:"text-xs text-secondary-light dark:text-secondary-dark mt-1",children:"How often the audit agent checks journal entries for missed entities (15-1440 minutes). Default: 60 minutes."})]}),l.jsxs("div",{children:[l.jsxs("label",{className:"flex items-center justify-between text-sm font-medium mb-2",children:[l.jsx("span",{children:"Temperature"}),l.jsx("span",{className:"text-secondary-light dark:text-secondary-dark",children:i.temperature??.7})]}),l.jsx("input",{type:"range",min:"0",max:"2",step:"0.1",value:i.temperature??.7,onChange:q=>o("temperature",parseFloat(q.target.value)),className:"w-full"})]}),l.jsxs("div",{children:[l.jsxs("label",{className:"flex items-center justify-between text-sm font-medium mb-2",children:[l.jsx("span",{children:"Max Output Tokens"}),l.jsx("span",{className:"text-secondary-light dark:text-secondary-dark",children:i.maxTokens??128e3})]}),l.jsx("input",{type:"range",min:"4000",max:"128000",step:"1000",value:i.maxTokens??128e3,onChange:q=>o("maxTokens",Number(q.target.value)),className:"w-full"}),l.jsx("p",{className:"text-xs text-secondary-light dark:text-secondary-dark mt-1",children:"Keep it high for Polaris (128k), dial it down for smaller context models."})]})]})]})]}),l.jsxs("section",{className:"glass-panel rounded-[32px] border border-white/70 dark:border-white/10 p-6 shadow-xl space-y-4",children:[l.jsxs("div",{children:[l.jsx("p",{className:"text-xs uppercase tracking-[0.3em] text-secondary-light dark:text-secondary-dark",children:"Experimental"}),l.jsx("h2",{className:"text-xl font-semibold mt-1",children:"Preflection"}),l.jsx("p",{className:"text-sm text-secondary-light dark:text-secondary-dark",children:"Dynamic instruction generation that analyzes context and generates query-specific system instructions. Each query receives tailored guidance optimized for its type and available context."})]}),l.jsxs("div",{className:"flex items-center justify-between p-4 rounded-xl border border-white/70 dark:border-white/10 bg-white/50 dark:bg-gray-900/50",children:[l.jsxs("div",{className:"flex-1",children:[l.jsx("label",{htmlFor:"preflectionEnabled",className:"text-sm font-medium cursor-pointer",children:"Enable Preflection"}),l.jsx("p",{className:"text-xs text-secondary-light dark:text-secondary-dark mt-1",children:"Analyzes each query, generates dynamic instructions, and primes the agent with context-specific guidance. Adds one extra API call per message."})]}),l.jsx("div",{className:"flex items-center",children:l.jsx("input",{type:"checkbox",id:"preflectionEnabled",checked:i.preflectionEnabled||!1,onChange:q=>o("preflectionEnabled",q.target.checked),className:"w-5 h-5 rounded border-gray-300 text-black focus:ring-2 focus:ring-black"})})]})]}),l.jsxs("section",{className:"glass-panel rounded-[32px] border border-white/70 dark:border-white/10 p-6 shadow-xl space-y-4",children:[l.jsxs("div",{children:[l.jsx("p",{className:"text-xs uppercase tracking-[0.3em] text-secondary-light dark:text-secondary-dark",children:"Status"}),l.jsx("h2",{className:"text-xl font-semibold mt-1",children:"Local persistence"}),l.jsx("p",{className:"text-sm text-secondary-light dark:text-secondary-dark",children:"Threads, artifacts, and settings stay on-device via IndexedDB for true BYO-key privacy."})]}),l.jsx("div",{className:"grid gap-4 md:grid-cols-3",children:[{title:"Threads",detail:"Conversation metadata + ordering live locally."},{title:"Artifacts",detail:"Per-thread documents sync directly to IndexedDB."},{title:"Settings",detail:"API prefs + keys never leave the browser."}].map(q=>l.jsxs("div",{className:"p-4 rounded-xl border border-white/70 dark:border-white/10 flex flex-col gap-2",children:[l.jsx("div",{className:"w-8 h-8 rounded-full bg-accent/10 text-accent flex items-center justify-center",children:l.jsx(bv,{className:"w-4 h-4"})}),l.jsx("h3",{className:"font-semibold text-base",children:q.title}),l.jsx("p",{className:"text-sm text-secondary-light dark:text-secondary-dark",children:q.detail})]},q.title))})]}),l.jsxs("section",{className:"glass-panel rounded-[32px] border border-white/70 dark:border-white/10 p-6 shadow-xl space-y-4",children:[l.jsxs("div",{children:[l.jsx("p",{className:"text-xs uppercase tracking-[0.3em] text-secondary-light dark:text-secondary-dark",children:"Personalization"}),l.jsx("h2",{className:"text-xl font-semibold mt-1",children:"Appearance"}),l.jsx("p",{className:"text-sm text-secondary-light dark:text-secondary-dark",children:"Customize how Polaris looks and feels."})]}),l.jsxs("div",{className:"flex items-center justify-between p-4 rounded-xl border border-white/70 dark:border-white/10 bg-white/50 dark:bg-gray-900/50",children:[l.jsxs("div",{className:"flex-1",children:[l.jsx("label",{className:"text-sm font-medium",children:"Dark Mode"}),l.jsx("p",{className:"text-xs text-secondary-light dark:text-secondary-dark mt-1",children:"Toggle between light and dark themes"})]}),l.jsx(T2,{})]})]}),l.jsxs("section",{className:"glass-panel rounded-[32px] border border-white/70 dark:border-white/10 p-6 shadow-xl space-y-4",children:[l.jsxs("div",{children:[l.jsx("p",{className:"text-xs uppercase tracking-[0.3em] text-secondary-light dark:text-secondary-dark",children:"Analytics"}),l.jsx("h2",{className:"text-xl font-semibold mt-1",children:"Your Insights"}),l.jsx("p",{className:"text-sm text-secondary-light dark:text-secondary-dark",children:"Track your activity, progress, and streaks."})]}),l.jsx(D2,{})]}),l.jsxs("section",{className:"glass-panel rounded-[32px] border border-white/70 dark:border-white/10 p-6 shadow-xl space-y-4",children:[l.jsxs("div",{children:[l.jsx("p",{className:"text-xs uppercase tracking-[0.3em] text-secondary-light dark:text-secondary-dark",children:"Backup & Restore"}),l.jsx("h2",{className:"text-xl font-semibold mt-1",children:"Data Management"}),l.jsx("p",{className:"text-sm text-secondary-light dark:text-secondary-dark",children:"Export your data for backup or import from a previous backup."})]}),l.jsxs("div",{className:"grid gap-4 md:grid-cols-2",children:[l.jsx("button",{onClick:async()=>{ae(!0);try{await R2(),c("Data exported successfully!")}catch{h("Failed to export data")}finally{ae(!1)}},disabled:z,className:"p-4 rounded-2xl bg-gradient-to-r from-blue-600 to-indigo-600 text-white font-semibold hover:from-blue-700 hover:to-indigo-700 transition-all shadow-lg hover:shadow-xl disabled:opacity-50 disabled:cursor-not-allowed",children:z?"Exporting...":" Export Data"}),l.jsxs("div",{children:[l.jsx("input",{ref:ge,type:"file",accept:".json",className:"hidden",onChange:async q=>{var L;const X=(L=q.target.files)==null?void 0:L[0];if(X){ye(!0);try{const D=await z2(X),oe=await O2(D,{merge:!0,overwrite:!1});oe.success?(c("Data imported successfully!"),setTimeout(()=>window.location.reload(),1500)):h(oe.error||"Failed to import data")}catch{h("Invalid backup file")}finally{ye(!1),ge.current&&(ge.current.value="")}}}}),l.jsx("button",{onClick:()=>{var q;return(q=ge.current)==null?void 0:q.click()},disabled:de,className:"w-full p-4 rounded-2xl bg-gradient-to-r from-green-600 to-emerald-600 text-white font-semibold hover:from-green-700 hover:to-emerald-700 transition-all shadow-lg hover:shadow-xl disabled:opacity-50 disabled:cursor-not-allowed",children:de?"Importing...":" Import Data"})]})]}),l.jsx("p",{className:"text-xs text-secondary-light dark:text-secondary-dark",children:"Import will merge new data with existing data. Existing records won't be overwritten."})]}),l.jsxs("section",{className:"glass-panel rounded-[32px] border-2 border-red-200 dark:border-red-800 p-6 shadow-xl space-y-4 bg-gradient-to-br from-red-50/50 to-orange-50/50 dark:from-red-950/20 dark:to-orange-950/20",children:[l.jsxs("div",{children:[l.jsx("p",{className:"text-xs uppercase tracking-[0.3em] text-red-600 dark:text-red-400 font-bold",children:" DANGER ZONE"}),l.jsx("h2",{className:"text-xl font-semibold mt-1 text-red-700 dark:text-red-300",children:"Clear Everything"}),l.jsx("p",{className:"text-sm text-secondary-light dark:text-secondary-dark mt-2",children:"This will permanently delete all your data: threads, messages, journal entries, calendar events, agenda items, people, clients, brand records, pomodoros, XP, and achievements. This action cannot be undone."})]}),E?l.jsxs("div",{className:"space-y-4 p-4 rounded-2xl bg-white/80 dark:bg-gray-900/80 border-2 border-red-300 dark:border-red-700",children:[l.jsxs("div",{className:"flex items-start gap-3",children:[l.jsx("span",{className:"text-2xl",children:""}),l.jsxs("div",{className:"flex-1",children:[l.jsx("p",{className:"font-semibold text-red-700 dark:text-red-300 mb-2",children:"Are you absolutely sure?"}),l.jsx("p",{className:"text-sm text-gray-700 dark:text-gray-300 mb-4",children:"This will delete:"}),l.jsxs("ul",{className:"text-sm text-gray-600 dark:text-gray-400 space-y-1 mb-4 list-disc list-inside",children:[l.jsx("li",{children:"All threads and messages"}),l.jsx("li",{children:"All journal entries"}),l.jsx("li",{children:"All calendar events"}),l.jsx("li",{children:"All agenda items"}),l.jsx("li",{children:"All people, clients, and brand records"}),l.jsx("li",{children:"All pomodoro sessions"}),l.jsx("li",{children:"All XP and achievements"}),l.jsx("li",{children:"All deliverables, goals, and other records"})]}),l.jsx("p",{className:"text-xs font-semibold text-red-600 dark:text-red-400",children:"This action is IRREVERSIBLE. Your settings (API keys, etc.) will be preserved unless you check the box below."})]})]}),l.jsxs("div",{className:"flex items-center gap-2",children:[l.jsx("input",{type:"checkbox",id:"clearSettings",className:"w-4 h-4 rounded border-gray-300"}),l.jsx("label",{htmlFor:"clearSettings",className:"text-sm text-gray-700 dark:text-gray-300",children:"Also clear settings (API keys, prompts, etc.)"})]}),l.jsxs("div",{className:"flex gap-3",children:[l.jsx("button",{onClick:async()=>{var q;$(!0);try{const X=((q=document.getElementById("clearSettings"))==null?void 0:q.checked)||!1;await px(X),k(!1),$(!1),window.location.reload()}catch(X){console.error("Failed to clear data:",X),alert("Failed to clear data. Please try again."),$(!1)}},disabled:T,className:"px-6 py-3 rounded-2xl bg-red-600 hover:bg-red-700 text-white font-semibold transition-colors shadow-lg disabled:opacity-50 disabled:cursor-not-allowed",children:T?"Clearing...":"Yes, Clear Everything"}),l.jsx("button",{onClick:()=>{k(!1)},disabled:T,className:"px-6 py-3 rounded-2xl bg-white dark:bg-gray-800 border border-gray-300 dark:border-gray-600 text-gray-700 dark:text-gray-300 font-semibold transition-colors disabled:opacity-50 disabled:cursor-not-allowed",children:"Cancel"})]})]}):l.jsx("div",{className:"flex gap-3",children:l.jsx("button",{onClick:()=>k(!0),className:"px-6 py-3 rounded-2xl bg-red-600 hover:bg-red-700 text-white font-semibold transition-colors shadow-lg",children:"Clear All Data"})})]})]})]})},Wt=({title:i,subtitle:o,children:d})=>l.jsxs("div",{className:"glass-panel flex-1 h-full lg:rounded-[34px] rounded-2xl border border-white/70 shadow-2xl overflow-hidden flex flex-col",children:[l.jsxs("div",{className:"px-4 sm:px-6 lg:px-8 py-4 lg:py-6 border-b border-white/70 flex-shrink-0",children:[l.jsx("p",{className:"text-[10px] sm:text-xs uppercase tracking-[0.3em] text-secondary-light",children:"Sylvia Workspace"}),l.jsx("h1",{className:"text-xl sm:text-2xl lg:text-3xl font-semibold mt-1",children:i}),o&&l.jsx("p",{className:"text-xs sm:text-sm text-secondary-light mt-1 max-w-2xl",children:o})]}),l.jsx("div",{className:"flex-1 min-h-0 overflow-y-auto px-4 sm:px-6 lg:px-8 py-4 lg:py-6 invisible-scrollbar",children:d})]}),nx={voice:{label:"Voice",Icon:Dx,color:"text-purple-700",bgColor:"bg-purple-50"},visual:{label:"Visual",Icon:Tu,color:"text-pink-700",bgColor:"bg-pink-50"},positioning:{label:"Positioning",Icon:Eu,color:"text-blue-700",bgColor:"bg-blue-50"},values:{label:"Values",Icon:vo,color:"text-emerald-700",bgColor:"bg-emerald-50"},messaging:{label:"Messaging",Icon:wo,color:"text-indigo-700",bgColor:"bg-indigo-50"},other:{label:"Other",Icon:tl,color:"text-gray-700",bgColor:"bg-gray-50"}},eu=(i,o)=>{const d=`${i} ${o}`.toLowerCase();return d.match(/\b(voice|tone|speak|say|language|words|communicate)\b/)?"voice":d.match(/\b(visual|design|color|font|logo|image|aesthetic|style)\b/)?"visual":d.match(/\b(position|positioning|market|competitor|differentiate|unique)\b/)?"positioning":d.match(/\b(value|values|principle|belief|ethos|mission|vision)\b/)?"values":d.match(/\b(message|messaging|tagline|slogan|copy|content|narrative)\b/)?"messaging":"other"},U2=()=>{const{setEntityDetailView:i,setActiveEntity:o}=al(),[d,c]=y.useState([]),[h,m]=y.useState(null),[g,x]=y.useState(""),[b,f]=y.useState(""),[v,E]=y.useState(""),[k,T]=y.useState("all"),$=y.useCallback(async()=>{const X=await H.getBrandRecords();c(X.sort((L,D)=>D.createdAt-L.createdAt))},[]);y.useEffect(()=>($(),on("brand",$)),[$]);const z=y.useMemo(()=>{let X=d;if(k!=="all"&&(X=X.filter(L=>eu(L.name,L.description)===k)),v.trim()){const L=v.toLowerCase();X=X.filter(D=>D.name.toLowerCase().includes(L)||D.description.toLowerCase().includes(L))}return X},[d,k,v]),ae=y.useMemo(()=>{const X={voice:0,visual:0,positioning:0,values:0,messaging:0,other:0};return d.forEach(L=>{const D=eu(L.name,L.description);X[D]++}),X},[d]),de=X=>{m(X),x(X.name),f(X.description)},ye=async()=>{h&&(await H.saveBrandRecord({...h,name:g,description:b}),m(null),x(""),f(""),$())},ge=()=>{m(null),x(""),f("")},q=async X=>{await H.deleteBrandRecord(X),$()};return l.jsxs(Wt,{title:"Brand Systems",subtitle:"Your brand DNA. Voice, visual language, positioning, and values that Sylvia references in every conversation.",children:[l.jsx("div",{className:"grid grid-cols-2 sm:grid-cols-3 md:grid-cols-6 gap-4 mb-6",children:Object.entries(nx).map(([X,L])=>{const D=X,oe=ae[D];return l.jsxs("div",{onClick:()=>T(k===D?"all":D),className:`rounded-2xl border p-4 cursor-pointer transition-all ${k===D?"border-black bg-black text-white shadow-lg":"border-white/70 bg-white/80 hover:bg-white hover:shadow-md"}`,children:[l.jsxs("div",{className:"flex items-center justify-between mb-2",children:[l.jsx(L.Icon,{className:`w-6 h-6 ${k===D?"text-white":L.color}`}),l.jsx("span",{className:`text-2xl font-bold ${k===D?"text-white":"text-black"}`,children:oe})]}),l.jsx("p",{className:`text-xs uppercase tracking-[0.2em] ${k===D?"text-white/80":"text-secondary-light"}`,children:L.label})]},X)})}),l.jsx("div",{className:"mb-6",children:l.jsx("div",{className:"glass-panel rounded-2xl border border-white/70 p-4",children:l.jsxs("div",{className:"flex items-center gap-3",children:[l.jsx(_l,{className:"w-5 h-5 text-secondary-light"}),l.jsx("input",{type:"text",value:v,onChange:X=>E(X.target.value),placeholder:"Search brand elements...",className:"flex-1 bg-transparent outline-none text-lg placeholder:text-secondary-light"}),v&&l.jsx("button",{onClick:()=>E(""),className:"px-3 py-1 rounded-full bg-white/80 border border-white/70 text-sm hover:bg-white transition",children:"Clear"})]})})}),z.length===0?l.jsxs("div",{className:"glass-panel rounded-3xl border border-white/70 p-12 text-center",children:[l.jsx("div",{className:"flex justify-center mb-4",children:l.jsx(Tu,{className:"w-16 h-16 text-secondary-light"})}),l.jsx("h3",{className:"text-xl font-semibold mb-2",children:d.length===0?"No brand elements yet":"No matches found"}),l.jsx("p",{className:"text-secondary-light",children:d.length===0?"Tell Sylvia about your brand voice, visual language, positioning, or values. She'll remember and reference them.":"Try adjusting your search or category filter."})]}):l.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:z.map(X=>{const L=eu(X.name,X.description),D=nx[L],oe=(h==null?void 0:h.id)===X.id;return l.jsx("div",{onClick:be=>{be.target.closest("button")||oe||(i({type:"brand",id:X.id}),o({type:"brand",id:X.id,data:X}))},className:`rounded-3xl border p-6 transition-all ${oe?"border-black bg-black text-white shadow-xl":"border-white/70 bg-white/90 hover:shadow-lg hover:border-white cursor-pointer"}`,children:oe?l.jsxs("div",{className:"space-y-4",children:[l.jsxs("div",{children:[l.jsx("label",{className:"text-xs uppercase tracking-[0.2em] text-white/70 mb-2 block",children:"Element Name"}),l.jsx("input",{value:g,onChange:be=>x(be.target.value),className:"w-full rounded-2xl border border-white/30 bg-white/10 px-4 py-2 text-white placeholder:text-white/50 focus:outline-none focus:ring-2 focus:ring-white/50",placeholder:"Brand element name"})]}),l.jsxs("div",{children:[l.jsx("label",{className:"text-xs uppercase tracking-[0.2em] text-white/70 mb-2 block",children:"Description / Guidance"}),l.jsx("textarea",{value:b,onChange:be=>f(be.target.value),rows:6,className:"w-full rounded-2xl border border-white/30 bg-white/10 px-4 py-2 text-white placeholder:text-white/50 focus:outline-none focus:ring-2 focus:ring-white/50 resize-none",placeholder:"How should Sylvia reference this? What makes it unique?"})]}),l.jsxs("div",{className:"flex gap-2",children:[l.jsx("button",{onClick:ye,className:"flex-1 px-4 py-2 rounded-2xl bg-white text-black font-semibold hover:bg-gray-100 transition",children:"Save"}),l.jsx("button",{onClick:ge,className:"px-4 py-2 rounded-2xl bg-white/20 text-white border border-white/30 hover:bg-white/30 transition",children:"Cancel"})]})]}):l.jsxs(l.Fragment,{children:[l.jsx("div",{className:"flex items-start justify-between mb-4",children:l.jsxs("div",{className:"flex items-center gap-3",children:[l.jsx("div",{className:`w-12 h-12 rounded-2xl ${D.bgColor} flex items-center justify-center`,children:l.jsx(D.Icon,{className:`w-6 h-6 ${D.color}`})}),l.jsxs("div",{children:[l.jsx("div",{className:`inline-block px-2 py-0.5 rounded-full text-xs font-semibold ${D.bgColor} ${D.color} mb-1`,children:D.label}),l.jsx("h3",{className:"text-xl font-bold",children:X.name})]})]})}),l.jsx("div",{className:"mb-4",children:l.jsx(bt,{content:X.description,className:"text-sm leading-relaxed"})}),l.jsxs("div",{className:"flex items-center justify-between pt-4 border-t border-white/20",children:[l.jsx("span",{className:"text-xs text-secondary-light",children:new Date(X.createdAt).toLocaleDateString("en-US",{month:"short",day:"numeric",year:"numeric"})}),l.jsxs("div",{className:"flex gap-2",children:[l.jsx("button",{onClick:()=>de(X),className:"px-3 py-1.5 rounded-full bg-white/80 border border-white/70 text-xs font-medium hover:bg-white transition",children:"Edit"}),l.jsx("button",{onClick:()=>q(X.id),className:"px-3 py-1.5 rounded-full bg-white/80 border border-white/70 text-xs font-medium hover:bg-red-50 hover:border-red-200 hover:text-red-700 transition",children:"Delete"})]})]})]})},X.id)})})]})},B2=[/\b(?:ai|artificial intelligence|machine learning|application|app|system|platform|tool|software|technology|concept|idea|model|framework|algorithm|method|approach|strategy|process|workflow|solution|product|service|feature|functionality)\b/i,/\b(?:the|a|an)\s+[A-Z][a-z]+ [A-Z][a-z]+/i,/[A-Z][a-z]+ [A-Z][a-z]+ (?:is|are|works|does|can|will|should|has|have)/i],$2=[/\b(?:person|people|individual|human|contact|colleague|friend|partner|client|customer|user|they|them|their|he|she|his|her|him)\b/i,/\b(?:meet|met|talk|spoke|email|call|contact|know|works with|collaborates with)\b/i,/\b(?:@|email|phone|number|address)\b/i];async function H2(){const i={migrated:0,kept:0,errors:[]};try{const o=await H.getPeopleRecords();for(const d of o){const c=[d.name,d.role,d.company,d.profile,d.notes].filter(Boolean).join(" "),h=B2.some(g=>g.test(c)),m=$2.some(g=>g.test(c));if(h&&!m)try{const g={id:`concept-${Date.now()}-${Math.random().toString(36).substr(2,9)}`,name:d.name,description:d.profile||d.notes||void 0,category:d.company||d.role||void 0,tags:d.tags,notes:d.notes||void 0,createdAt:d.createdAt};await H.saveConceptRecord(g),await H.deletePeopleRecord(d.id),i.migrated++}catch(g){i.errors.push(`Failed to migrate ${d.name}: ${g instanceof Error?g.message:String(g)}`)}else i.kept++}}catch(o){i.errors.push(`Migration failed: ${o instanceof Error?o.message:String(o)}`)}return i}const G2=["Decision Maker","Technical","Gatekeeper","Influencer","Champion","Stakeholder","Collaborator","Mentor","Client","Vendor","Partner"],q2=["Reports To","Manages","Collaborates With","Mentor","Mentee","Peer","Client","Vendor","Partner","Advisor","Colleague"],I2=()=>{const{setActiveEntity:i}=al(),[o,d]=y.useState([]),[c,h]=y.useState(null),[m,g]=y.useState(null),[x,b]=y.useState(""),[f,v]=y.useState(null),[E,k]=y.useState(!1),[T,$]=y.useState(""),[z,ae]=y.useState(""),[de,ye]=y.useState("moderate"),[ge,q]=y.useState(""),[X,L]=y.useState(!1),[D,oe]=y.useState(null),[be,J]=y.useState(""),[le,Ne]=y.useState(""),[ve,te]=y.useState(""),[A,R]=y.useState(""),[W,me]=y.useState(""),[Oe,ze]=y.useState(""),[w,Y]=y.useState([]),[V,se]=y.useState(""),[P,S]=y.useState(""),[K,ie]=y.useState([]),[je,N]=y.useState(""),[ce,ue]=y.useState(""),xe=y.useCallback(async()=>{const I=await H.getPeopleRecords();d(I.sort((Ue,Qe)=>(Qe.updatedAt||Qe.createdAt)-(Ue.updatedAt||Ue.createdAt)))},[]);y.useEffect(()=>(xe(),on("people",xe)),[xe]);const Me=y.useMemo(()=>{let I=o;if(x.trim()){const Ue=x.toLowerCase();I=I.filter(Qe=>{var Ut,F,Z,De,Ye,Ze;return Qe.name.toLowerCase().includes(Ue)||((Ut=Qe.role)==null?void 0:Ut.toLowerCase().includes(Ue))||((F=Qe.company)==null?void 0:F.toLowerCase().includes(Ue))||((Z=Qe.attributes)==null?void 0:Z.some(fe=>fe.toLowerCase().includes(Ue)))||((De=Qe.tags)==null?void 0:De.some(fe=>fe.toLowerCase().includes(Ue)))||((Ye=Qe.profile)==null?void 0:Ye.toLowerCase().includes(Ue))||((Ze=Qe.notes)==null?void 0:Ze.toLowerCase().includes(Ue))})}return f&&(I=I.filter(Ue=>{var Qe;return(Qe=Ue.attributes)==null?void 0:Qe.includes(f)})),I},[o,x,f]),Ie=y.useMemo(()=>{const I=new Set;return o.forEach(Ue=>{var Qe;(Qe=Ue.attributes)==null||Qe.forEach(Ut=>I.add(Ut))}),Array.from(I).sort()},[o]),yt=I=>o.find(Ue=>Ue.id===I),Be=I=>{h(I),J(I.name),Ne(I.role||""),te(I.company||""),R(I.location||""),me(I.email||""),ze(I.phone||""),Y(I.attributes||[]),se(I.profile||""),S(I.notes||""),ie(I.tags||[]),g(null),i({type:"person",id:I.id,data:I})},vt=()=>{h(null),J(""),Ne(""),te(""),R(""),me(""),ze(""),Y([]),se(""),S(""),ie([]),N(""),ue(""),i({type:null,id:""})},At=async()=>{c&&(await H.savePeopleRecord({...c,name:be,role:le||void 0,company:ve||void 0,location:A||void 0,email:W||void 0,phone:Oe||void 0,attributes:w.length>0?w:void 0,profile:V||void 0,notes:P||void 0,tags:K.length>0?K:void 0,updatedAt:Date.now()}),vt(),xe())},M=async I=>{var Qe,Ut,F;const Ue=o.map(Z=>{var De;return{...Z,connections:((De=Z.connections)==null?void 0:De.filter(Ye=>Ye.personId!==I))||[],updatedAt:Date.now()}});for(const Z of Ue)((Qe=Z.connections)==null?void 0:Qe.length)!==((F=(Ut=o.find(De=>De.id===Z.id))==null?void 0:Ut.connections)==null?void 0:F.length)&&await H.savePeopleRecord(Z);await H.deletePeopleRecord(I),xe()},Se=()=>{je.trim()&&!w.includes(je.trim())&&(Y([...w,je.trim()]),N(""))},Ee=I=>{Y(w.filter(Ue=>Ue!==I))},_e=()=>{ce.trim()&&!K.includes(ce.trim())&&(ie([...K,ce.trim()]),ue(""))},pe=I=>{ie(K.filter(Ue=>Ue!==I))},et=async()=>{L(!0),oe(null);try{const I=await H2();oe(I),xe()}catch(I){oe({migrated:0,kept:0,errors:[I instanceof Error?I.message:String(I)]})}finally{L(!1)}},Ge=async()=>{var Ue;if(!m||!T||!z)return;if((Ue=m.connections)==null?void 0:Ue.some(Qe=>Qe.personId===T&&Qe.relationship===z)){alert("This connection already exists");return}await H.savePeopleRecord({...m,connections:[...m.connections||[],{personId:T,relationship:z,strength:de,notes:ge||void 0}],updatedAt:Date.now()}),k(!1),$(""),ae(""),ye("moderate"),q(""),xe()};return l.jsxs(Wt,{title:"People Network",subtitle:"Rich profiles, attributes, and connections. The foundation for Sylvia's context engineering and Polaris goal execution.",children:[l.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 md:grid-cols-4 gap-4 mb-6",children:[l.jsxs("div",{className:"rounded-2xl border border-white/70 bg-gradient-to-br from-blue-50 to-blue-100 p-4",children:[l.jsxs("div",{className:"flex items-center justify-between mb-2",children:[l.jsx(an,{className:"w-6 h-6 text-blue-600"}),l.jsx("span",{className:"text-2xl font-bold text-black",children:o.length})]}),l.jsx("p",{className:"text-xs uppercase tracking-[0.2em] text-gray-600",children:"Total People"})]}),l.jsxs("div",{className:"rounded-2xl border border-white/70 bg-gradient-to-br from-purple-50 to-purple-100 p-4",children:[l.jsxs("div",{className:"flex items-center justify-between mb-2",children:[l.jsx(Vd,{className:"w-6 h-6 text-purple-600"}),l.jsx("span",{className:"text-2xl font-bold text-black",children:o.reduce((I,Ue)=>{var Qe;return I+(((Qe=Ue.connections)==null?void 0:Qe.length)||0)},0)})]}),l.jsx("p",{className:"text-xs uppercase tracking-[0.2em] text-gray-600",children:"Connections"})]}),l.jsxs("div",{className:"rounded-2xl border border-white/70 bg-gradient-to-br from-green-50 to-green-100 p-4",children:[l.jsxs("div",{className:"flex items-center justify-between mb-2",children:[l.jsx(Tn,{className:"w-6 h-6 text-green-600"}),l.jsx("span",{className:"text-2xl font-bold text-black",children:Ie.length})]}),l.jsx("p",{className:"text-xs uppercase tracking-[0.2em] text-gray-600",children:"Attributes"})]}),l.jsxs("div",{className:"rounded-2xl border border-white/70 bg-gradient-to-br from-orange-50 to-orange-100 p-4",children:[l.jsxs("div",{className:"flex items-center justify-between mb-2",children:[l.jsx(wa,{className:"w-6 h-6 text-orange-600"}),l.jsx("span",{className:"text-2xl font-bold text-black",children:o.filter(I=>{var Ue;return(Ue=I.attributes)==null?void 0:Ue.includes("Decision Maker")}).length})]}),l.jsx("p",{className:"text-xs uppercase tracking-[0.2em] text-gray-600",children:"Decision Makers"})]})]}),l.jsxs("div",{className:"glass-panel border border-white/70 rounded-3xl p-6 mb-6 bg-gradient-to-br from-yellow-50/50 to-orange-50/50",children:[l.jsxs("div",{className:"flex items-center justify-between mb-4",children:[l.jsxs("div",{children:[l.jsxs("h3",{className:"text-lg font-semibold flex items-center gap-2",children:[l.jsx(Eo,{className:"w-5 h-5 text-orange-600"}),"Clean Up People Section"]}),l.jsx("p",{className:"text-sm text-secondary-light mt-1",children:"Move non-people items (like AI applications, concepts, ideas) to the Concepts section"})]}),l.jsx("button",{onClick:et,disabled:X,className:"px-4 py-2 rounded-full bg-orange-100 text-orange-700 border border-orange-200 text-sm font-medium hover:bg-orange-200 transition disabled:opacity-50 disabled:cursor-not-allowed flex items-center gap-2",children:X?l.jsxs(l.Fragment,{children:[l.jsx(Li,{className:"w-4 h-4 animate-spin"}),"Migrating..."]}):l.jsxs(l.Fragment,{children:[l.jsx(Li,{className:"w-4 h-4"}),"Migrate to Concepts"]})})]}),D&&l.jsxs("div",{className:`p-4 rounded-2xl border ${D.errors.length>0?"bg-red-50 border-red-200":"bg-green-50 border-green-200"}`,children:[l.jsx("p",{className:"text-sm font-semibold mb-2",children:"Migration Complete"}),l.jsxs("div",{className:"text-xs space-y-1",children:[l.jsxs("p",{children:[" Migrated: ",D.migrated," items to Concepts"]}),l.jsxs("p",{children:[" Kept: ",D.kept," items in People"]}),D.errors.length>0&&l.jsxs("div",{className:"mt-2",children:[l.jsx("p",{className:"font-semibold text-red-700",children:"Errors:"}),D.errors.map((I,Ue)=>l.jsx("p",{className:"text-red-600",children:I},Ue))]})]})]})]}),l.jsxs("div",{className:"mb-6 space-y-4",children:[l.jsx("div",{className:"glass-panel rounded-2xl border border-white/70 p-4",children:l.jsxs("div",{className:"flex items-center gap-3",children:[l.jsx(_l,{className:"w-5 h-5 text-secondary-light"}),l.jsx("input",{type:"text",value:x,onChange:I=>b(I.target.value),placeholder:"Search people by name, role, company, attributes, tags...",className:"flex-1 bg-transparent outline-none text-lg placeholder:text-secondary-light"}),x&&l.jsx("button",{onClick:()=>b(""),className:"px-3 py-1 rounded-full bg-white/80 border border-white/70 text-sm hover:bg-white transition",children:"Clear"})]})}),Ie.length>0&&l.jsxs("div",{className:"flex flex-wrap gap-2",children:[l.jsxs("span",{className:"text-sm text-secondary-light flex items-center gap-1",children:[l.jsx(bs,{className:"w-4 h-4"}),"Filter by:"]}),Ie.map(I=>l.jsx("button",{onClick:()=>v(f===I?null:I),className:`px-3 py-1 rounded-full text-xs font-medium transition ${f===I?"bg-black text-white":"bg-white/80 border border-white/70 hover:bg-white"}`,children:I},I))]})]}),Me.length===0?l.jsxs("div",{className:"glass-panel rounded-3xl border border-white/70 p-12 text-center",children:[l.jsx("div",{className:"flex justify-center mb-4",children:l.jsx(an,{className:"w-16 h-16 text-secondary-light"})}),l.jsx("h3",{className:"text-xl font-semibold mb-2",children:o.length===0?"No people tracked yet":"No matches found"}),l.jsx("p",{className:"text-secondary-light",children:o.length===0?"Tell Sylvia about people you work with. She'll build rich profiles and connections to power Polaris goals.":"Try adjusting your search or filter."})]}):l.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:Me.map(I=>{const Ue=(c==null?void 0:c.id)===I.id,Qe=(m==null?void 0:m.id)===I.id,F=(I.connections||[]).map(Z=>({...Z,person:yt(Z.personId)})).filter(Z=>Z.person);return l.jsx("div",{onClick:Z=>{Z.target.closest("button")||Z.target.closest("a")||Ue||(setEntityDetailView({type:"person",id:I.id}),i({type:"person",id:I.id,data:I}))},className:`rounded-3xl border p-6 transition-all ${Ue?"border-black bg-black text-white shadow-xl":Qe?"border-purple-500 bg-purple-50 shadow-lg":"border-white/70 bg-white/90 hover:shadow-lg hover:border-white cursor-pointer"}`,children:Ue?l.jsxs("div",{className:"space-y-4",children:[l.jsxs("div",{children:[l.jsx("label",{className:"text-xs uppercase tracking-[0.2em] text-white/70 mb-2 block",children:"Name *"}),l.jsx("input",{value:be,onChange:Z=>J(Z.target.value),className:"w-full rounded-2xl border border-white/30 bg-white/10 px-4 py-2 text-white placeholder:text-white/50 focus:outline-none focus:ring-2 focus:ring-white/50",placeholder:"Full name"})]}),l.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[l.jsxs("div",{children:[l.jsx("label",{className:"text-xs uppercase tracking-[0.2em] text-white/70 mb-2 block",children:"Role"}),l.jsx("input",{value:le,onChange:Z=>Ne(Z.target.value),className:"w-full rounded-2xl border border-white/30 bg-white/10 px-4 py-2 text-white placeholder:text-white/50 focus:outline-none focus:ring-2 focus:ring-white/50",placeholder:"Job title"})]}),l.jsxs("div",{children:[l.jsx("label",{className:"text-xs uppercase tracking-[0.2em] text-white/70 mb-2 block",children:"Company"}),l.jsx("input",{value:ve,onChange:Z=>te(Z.target.value),className:"w-full rounded-2xl border border-white/30 bg-white/10 px-4 py-2 text-white placeholder:text-white/50 focus:outline-none focus:ring-2 focus:ring-white/50",placeholder:"Company"})]})]}),l.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[l.jsxs("div",{children:[l.jsx("label",{className:"text-xs uppercase tracking-[0.2em] text-white/70 mb-2 block",children:"Location"}),l.jsx("input",{value:A,onChange:Z=>R(Z.target.value),className:"w-full rounded-2xl border border-white/30 bg-white/10 px-4 py-2 text-white placeholder:text-white/50 focus:outline-none focus:ring-2 focus:ring-white/50",placeholder:"City, State"})]}),l.jsxs("div",{children:[l.jsx("label",{className:"text-xs uppercase tracking-[0.2em] text-white/70 mb-2 block",children:"Email"}),l.jsx("input",{type:"email",value:W,onChange:Z=>me(Z.target.value),className:"w-full rounded-2xl border border-white/30 bg-white/10 px-4 py-2 text-white placeholder:text-white/50 focus:outline-none focus:ring-2 focus:ring-white/50",placeholder:"email@example.com"})]})]}),l.jsxs("div",{children:[l.jsx("label",{className:"text-xs uppercase tracking-[0.2em] text-white/70 mb-2 block",children:"Phone"}),l.jsx("input",{type:"tel",value:Oe,onChange:Z=>ze(Z.target.value),className:"w-full rounded-2xl border border-white/30 bg-white/10 px-4 py-2 text-white placeholder:text-white/50 focus:outline-none focus:ring-2 focus:ring-white/50",placeholder:"+1 (555) 123-4567"})]}),l.jsxs("div",{children:[l.jsx("label",{className:"text-xs uppercase tracking-[0.2em] text-white/70 mb-2 block",children:"Attributes"}),l.jsx("div",{className:"flex flex-wrap gap-2 mb-2",children:w.map(Z=>l.jsxs("span",{className:"inline-flex items-center gap-1 px-2 py-1 rounded-full bg-white/20 text-white text-xs",children:[Z,l.jsx("button",{onClick:()=>Ee(Z),className:"hover:text-red-300",children:l.jsx(Qt,{className:"w-3 h-3"})})]},Z))}),l.jsxs("div",{className:"flex gap-2",children:[l.jsx("input",{value:je,onChange:Z=>N(Z.target.value),onKeyPress:Z=>Z.key==="Enter"&&Se(),className:"flex-1 rounded-2xl border border-white/30 bg-white/10 px-4 py-2 text-white placeholder:text-white/50 focus:outline-none focus:ring-2 focus:ring-white/50",placeholder:"Add attribute..."}),l.jsx("button",{onClick:Se,className:"px-4 py-2 rounded-2xl bg-white/20 text-white border border-white/30 hover:bg-white/30 transition",children:l.jsx(cu,{className:"w-4 h-4"})})]}),l.jsx("div",{className:"flex flex-wrap gap-1 mt-2",children:G2.filter(Z=>!w.includes(Z)).map(Z=>l.jsx("button",{onClick:()=>{w.includes(Z)||Y([...w,Z])},className:"px-2 py-1 rounded-full bg-white/10 text-white/70 text-xs hover:bg-white/20 transition",children:Z},Z))})]}),l.jsxs("div",{children:[l.jsx("label",{className:"text-xs uppercase tracking-[0.2em] text-white/70 mb-2 block",children:"Profile / Context"}),l.jsx("textarea",{value:V,onChange:Z=>se(Z.target.value),rows:4,className:"w-full rounded-2xl border border-white/30 bg-white/10 px-4 py-2 text-white placeholder:text-white/50 focus:outline-none focus:ring-2 focus:ring-white/50 resize-none",placeholder:"Rich context about this person. Their background, expertise, communication style, preferences, etc. This powers Sylvia's understanding."})]}),l.jsxs("div",{children:[l.jsx("label",{className:"text-xs uppercase tracking-[0.2em] text-white/70 mb-2 block",children:"Tags"}),l.jsx("div",{className:"flex flex-wrap gap-2 mb-2",children:K.map(Z=>l.jsxs("span",{className:"inline-flex items-center gap-1 px-2 py-1 rounded-full bg-white/20 text-white text-xs",children:[Z,l.jsx("button",{onClick:()=>pe(Z),className:"hover:text-red-300",children:l.jsx(Qt,{className:"w-3 h-3"})})]},Z))}),l.jsxs("div",{className:"flex gap-2",children:[l.jsx("input",{value:ce,onChange:Z=>ue(Z.target.value),onKeyPress:Z=>Z.key==="Enter"&&_e(),className:"flex-1 rounded-2xl border border-white/30 bg-white/10 px-4 py-2 text-white placeholder:text-white/50 focus:outline-none focus:ring-2 focus:ring-white/50",placeholder:"Add tag..."}),l.jsx("button",{onClick:_e,className:"px-4 py-2 rounded-2xl bg-white/20 text-white border border-white/30 hover:bg-white/30 transition",children:l.jsx(cu,{className:"w-4 h-4"})})]})]}),l.jsxs("div",{children:[l.jsx("label",{className:"text-xs uppercase tracking-[0.2em] text-white/70 mb-2 block",children:"Notes"}),l.jsx("textarea",{value:P,onChange:Z=>S(Z.target.value),rows:3,className:"w-full rounded-2xl border border-white/30 bg-white/10 px-4 py-2 text-white placeholder:text-white/50 focus:outline-none focus:ring-2 focus:ring-white/50 resize-none",placeholder:"Additional notes..."})]}),l.jsxs("div",{className:"flex gap-2",children:[l.jsx("button",{onClick:At,className:"flex-1 px-4 py-2 rounded-2xl bg-white text-black font-semibold hover:bg-gray-100 transition",children:"Save"}),l.jsx("button",{onClick:vt,className:"px-4 py-2 rounded-2xl bg-white/20 text-white border border-white/30 hover:bg-white/30 transition",children:"Cancel"})]})]}):l.jsxs(l.Fragment,{children:[l.jsx("div",{className:"flex items-start justify-between mb-4",children:l.jsxs("div",{className:"flex-1",children:[l.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[l.jsx(Ri,{className:"w-5 h-5 text-gray-600"}),l.jsx("h3",{className:"text-xl font-bold",children:I.name})]}),I.role&&l.jsxs("p",{className:"text-sm text-secondary-light flex items-center gap-1",children:[l.jsx(uy,{className:"w-3 h-3"}),I.role]}),I.company&&l.jsxs("p",{className:"text-sm text-secondary-light flex items-center gap-1 mt-1",children:[l.jsx(my,{className:"w-3 h-3"}),I.company]})]})}),(I.location||I.email||I.phone)&&l.jsxs("div",{className:"space-y-1 mb-4 text-sm",children:[I.location&&l.jsxs("p",{className:"text-secondary-light flex items-center gap-2",children:[l.jsx(Eu,{className:"w-3 h-3"}),I.location]}),I.email&&l.jsxs("p",{className:"text-secondary-light flex items-center gap-2",children:[l.jsx(i1,{className:"w-3 h-3"}),I.email]}),I.phone&&l.jsxs("p",{className:"text-secondary-light flex items-center gap-2",children:[l.jsx(v1,{className:"w-3 h-3"}),I.phone]})]}),I.attributes&&I.attributes.length>0&&l.jsx("div",{className:"mb-4",children:l.jsx("div",{className:"flex flex-wrap gap-1.5",children:I.attributes.map(Z=>l.jsxs("span",{className:"inline-flex items-center px-2 py-0.5 rounded-full bg-purple-50 text-purple-700 text-xs font-medium",children:[l.jsx(Tn,{className:"w-3 h-3 mr-1"}),Z]},Z))})}),I.tags&&I.tags.length>0&&l.jsx("div",{className:"mb-4",children:l.jsx("div",{className:"flex flex-wrap gap-1.5",children:I.tags.map(Z=>l.jsx("span",{className:"inline-flex items-center px-2 py-0.5 rounded-full bg-gray-100 text-gray-700 text-xs",children:Z},Z))})}),I.profile&&l.jsx("div",{className:"mb-4",children:l.jsx(bt,{content:I.profile,className:"text-sm leading-relaxed"})}),F.length>0&&l.jsxs("div",{className:"mb-4 p-3 rounded-2xl bg-blue-50 border border-blue-100",children:[l.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[l.jsx(Vd,{className:"w-4 h-4 text-blue-600"}),l.jsxs("span",{className:"text-xs font-semibold text-blue-900 uppercase tracking-[0.1em]",children:["Connections (",F.length,")"]})]}),l.jsx("div",{className:"space-y-1.5",children:F.map((Z,De)=>{var Ye;return l.jsxs("div",{className:"flex items-center justify-between text-xs bg-white/60 rounded-lg p-2",children:[l.jsxs("div",{className:"flex-1",children:[l.jsx("div",{className:"font-medium text-gray-900",children:(Ye=Z.person)==null?void 0:Ye.name}),l.jsx("div",{className:"text-gray-600",children:Z.relationship}),Z.notes&&l.jsx("div",{className:"text-gray-500 mt-0.5",children:l.jsx(bt,{content:Z.notes,className:"text-xs"})})]}),l.jsx("div",{className:"flex items-center gap-1",children:l.jsx("span",{className:`px-1.5 py-0.5 rounded text-xs ${Z.strength==="strong"?"bg-green-100 text-green-700":Z.strength==="moderate"?"bg-yellow-100 text-yellow-700":"bg-gray-100 text-gray-700"}`,children:Z.strength||"moderate"})})]},De)})})]}),I.notes&&l.jsx("div",{className:"mb-4",children:l.jsx(bt,{content:I.notes,className:"text-sm text-secondary-light"})}),l.jsxs("div",{className:"flex items-center justify-between pt-4 border-t border-white/20",children:[l.jsx("span",{className:"text-xs text-secondary-light",children:new Date(I.createdAt).toLocaleDateString("en-US",{month:"short",day:"numeric",year:"numeric"})}),l.jsxs("div",{className:"flex gap-2",children:[!Qe&&l.jsx("button",{onClick:()=>{g(I),i({type:"person",id:I.id,data:I}),k(!0)},className:"px-3 py-1.5 rounded-full bg-white/80 border border-white/70 text-xs font-medium hover:bg-white transition flex items-center gap-1",title:"Add connection",children:l.jsx(Vd,{className:"w-3 h-3"})}),l.jsx("button",{onClick:()=>Be(I),className:"px-3 py-1.5 rounded-full bg-white/80 border border-white/70 text-xs font-medium hover:bg-white transition flex items-center gap-1",children:l.jsx(Xa,{className:"w-3 h-3"})}),l.jsx("button",{onClick:()=>M(I.id),className:"px-3 py-1.5 rounded-full bg-white/80 border border-white/70 text-xs font-medium hover:bg-red-50 hover:border-red-200 hover:text-red-700 transition flex items-center gap-1",children:l.jsx(rn,{className:"w-3 h-3"})})]})]})]})},I.id)})}),E&&m&&l.jsx("div",{className:"fixed inset-0 bg-black/50 flex items-center justify-center z-50 p-4",children:l.jsxs("div",{className:"glass-panel rounded-3xl border border-white/70 p-6 max-w-md w-full",children:[l.jsxs("div",{className:"flex items-center justify-between mb-4",children:[l.jsx("h3",{className:"text-lg font-semibold",children:"Add Connection"}),l.jsx("button",{onClick:()=>{k(!1),g(null)},className:"text-secondary-light hover:text-black transition",children:l.jsx(Qt,{className:"w-5 h-5"})})]}),l.jsxs("p",{className:"text-sm text-secondary-light mb-4",children:["Connect ",l.jsx("strong",{children:m.name})," to another person"]}),l.jsxs("div",{className:"space-y-4",children:[l.jsxs("div",{children:[l.jsx("label",{className:"text-xs uppercase tracking-[0.2em] text-secondary-light mb-2 block",children:"Person"}),l.jsxs("select",{value:T,onChange:I=>$(I.target.value),className:"w-full rounded-2xl border border-white/70 px-4 py-2 bg-white/80 focus:outline-none focus:ring-2 focus:ring-black",children:[l.jsx("option",{value:"",children:"Select a person..."}),o.filter(I=>I.id!==m.id).map(I=>l.jsxs("option",{value:I.id,children:[I.name," ",I.role?`(${I.role})`:""]},I.id))]})]}),l.jsxs("div",{children:[l.jsx("label",{className:"text-xs uppercase tracking-[0.2em] text-secondary-light mb-2 block",children:"Relationship"}),l.jsxs("select",{value:z,onChange:I=>ae(I.target.value),className:"w-full rounded-2xl border border-white/70 px-4 py-2 bg-white/80 focus:outline-none focus:ring-2 focus:ring-black",children:[l.jsx("option",{value:"",children:"Select relationship..."}),q2.map(I=>l.jsx("option",{value:I,children:I},I))]})]}),l.jsxs("div",{children:[l.jsx("label",{className:"text-xs uppercase tracking-[0.2em] text-secondary-light mb-2 block",children:"Strength"}),l.jsxs("select",{value:de,onChange:I=>ye(I.target.value),className:"w-full rounded-2xl border border-white/70 px-4 py-2 bg-white/80 focus:outline-none focus:ring-2 focus:ring-black",children:[l.jsx("option",{value:"weak",children:"Weak"}),l.jsx("option",{value:"moderate",children:"Moderate"}),l.jsx("option",{value:"strong",children:"Strong"})]})]}),l.jsxs("div",{children:[l.jsx("label",{className:"text-xs uppercase tracking-[0.2em] text-secondary-light mb-2 block",children:"Notes (optional)"}),l.jsx("textarea",{value:ge,onChange:I=>q(I.target.value),rows:2,className:"w-full rounded-2xl border border-white/70 px-4 py-2 bg-white/80 focus:outline-none focus:ring-2 focus:ring-black resize-none",placeholder:"Additional context about this connection..."})]}),l.jsxs("div",{className:"flex gap-2",children:[l.jsx("button",{onClick:Ge,className:"flex-1 px-4 py-2 rounded-2xl bg-black text-white font-semibold hover:shadow-lg transition",children:"Add Connection"}),l.jsx("button",{onClick:()=>{k(!1),g(null)},className:"px-4 py-2 rounded-2xl bg-white border border-white/70 hover:bg-gray-50 transition",children:"Cancel"})]})]})]})})]})},Y2=()=>{const{setEntityDetailView:i,setActiveEntity:o}=al(),[d,c]=y.useState([]),[h,m]=y.useState(null),[g,x]=y.useState(""),[b,f]=y.useState(null),[v,E]=y.useState(null),[k,T]=y.useState({name:"",description:"",category:"",tags:"",notes:""}),$=y.useCallback(async()=>{const L=await H.getConceptRecords();c(L.sort((D,oe)=>(oe.updatedAt||oe.createdAt)-(D.updatedAt||D.createdAt)))},[]);y.useEffect(()=>($(),on("concept",$)),[$]);const z=y.useMemo(()=>{let L=d;if(g.trim()){const D=g.toLowerCase();L=L.filter(oe=>{var be,J,le;return oe.name.toLowerCase().includes(D)||((be=oe.description)==null?void 0:be.toLowerCase().includes(D))||((J=oe.category)==null?void 0:J.toLowerCase().includes(D))||((le=oe.tags)==null?void 0:le.some(Ne=>Ne.toLowerCase().includes(D)))})}return b&&(L=L.filter(D=>D.category===b)),v&&(L=L.filter(D=>{var oe;return(oe=D.tags)==null?void 0:oe.includes(v)})),L},[d,g,b,v]),ae=y.useMemo(()=>{const L=d.length,D=new Set(d.map(le=>le.category).filter(Boolean)),oe=d.flatMap(le=>le.tags||[]),be=new Set(oe),J=d.filter(le=>(Date.now()-le.createdAt)/864e5<=7).length;return{total:L,categories:D.size,uniqueTags:be.size,recent:J}},[d]),de=y.useMemo(()=>{const L=new Set(d.map(D=>D.category).filter(Boolean));return Array.from(L).sort()},[d]),ye=y.useMemo(()=>{const L={};return d.forEach(D=>{var oe;(oe=D.tags)==null||oe.forEach(be=>{L[be]=(L[be]||0)+1})}),Object.entries(L).sort((D,oe)=>oe[1]-D[1]).slice(0,10)},[d]),ge=L=>{var D;m(L),T({name:L.name,description:L.description||"",category:L.category||"",tags:((D=L.tags)==null?void 0:D.join(", "))||"",notes:L.notes||""})},q=async()=>{h&&(await H.saveConceptRecord({...h,...k,tags:k.tags.split(",").map(L=>L.trim()).filter(Boolean),updatedAt:Date.now()}),m(null),T({name:"",description:"",category:"",tags:"",notes:""}),$())},X=async L=>{await H.deleteConceptRecord(L),$()};return l.jsxs(Wt,{title:"Concepts",subtitle:"Ideas, applications, technologies, and concepts. Track your thinking and innovations.",children:[l.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 md:grid-cols-4 gap-4 mb-6",children:[l.jsxs("div",{className:"rounded-2xl border border-white/70 bg-gradient-to-br from-purple-50 to-purple-100 p-4",children:[l.jsxs("div",{className:"flex items-center justify-between mb-2",children:[l.jsx(fs,{className:"w-6 h-6 text-purple-600"}),l.jsx("span",{className:"text-2xl font-bold text-black",children:ae.total})]}),l.jsx("p",{className:"text-xs uppercase tracking-[0.2em] text-gray-600",children:"Total Concepts"})]}),l.jsxs("div",{className:"rounded-2xl border border-white/70 bg-gradient-to-br from-blue-50 to-blue-100 p-4",children:[l.jsxs("div",{className:"flex items-center justify-between mb-2",children:[l.jsx(wa,{className:"w-6 h-6 text-blue-600"}),l.jsx("span",{className:"text-2xl font-bold text-black",children:ae.categories})]}),l.jsx("p",{className:"text-xs uppercase tracking-[0.2em] text-gray-600",children:"Categories"})]}),l.jsxs("div",{className:"rounded-2xl border border-white/70 bg-gradient-to-br from-green-50 to-green-100 p-4",children:[l.jsxs("div",{className:"flex items-center justify-between mb-2",children:[l.jsx(Tn,{className:"w-6 h-6 text-green-600"}),l.jsx("span",{className:"text-2xl font-bold text-black",children:ae.uniqueTags})]}),l.jsx("p",{className:"text-xs uppercase tracking-[0.2em] text-gray-600",children:"Unique Tags"})]}),l.jsxs("div",{className:"rounded-2xl border border-white/70 bg-gradient-to-br from-orange-50 to-orange-100 p-4",children:[l.jsxs("div",{className:"flex items-center justify-between mb-2",children:[l.jsx(ys,{className:"w-6 h-6 text-orange-600"}),l.jsx("span",{className:"text-2xl font-bold text-black",children:ae.recent})]}),l.jsx("p",{className:"text-xs uppercase tracking-[0.2em] text-gray-600",children:"This Week"})]})]}),l.jsxs("div",{className:"mb-6 space-y-4",children:[l.jsx("div",{className:"glass-panel rounded-2xl border border-white/70 p-4",children:l.jsxs("div",{className:"flex items-center gap-3",children:[l.jsx(_l,{className:"w-5 h-5 text-secondary-light"}),l.jsx("input",{type:"text",value:g,onChange:L=>x(L.target.value),placeholder:"Search concepts...",className:"flex-1 bg-transparent outline-none text-lg placeholder:text-secondary-light"}),g&&l.jsx("button",{onClick:()=>x(""),className:"px-3 py-1 rounded-full bg-white/80 border border-white/70 text-sm hover:bg-white transition",children:"Clear"})]})}),l.jsxs("div",{className:"flex flex-wrap gap-2 items-center",children:[l.jsxs("span",{className:"text-sm text-secondary-light flex items-center gap-1",children:[l.jsx(bs,{className:"w-4 h-4"}),"Filter:"]}),l.jsx("button",{onClick:()=>{f(null),E(null)},className:`px-3 py-1 rounded-full text-xs font-medium transition ${b===null&&v===null?"bg-black text-white":"bg-white/80 border border-white/70 hover:bg-white"}`,children:"All"}),de.map(L=>l.jsx("button",{onClick:()=>f(b===L?null:L),className:`px-3 py-1 rounded-full text-xs font-medium transition ${b===L?"bg-black text-white":"bg-white/80 border border-white/70 hover:bg-white"}`,children:L},L)),ye.length>0&&l.jsxs(l.Fragment,{children:[l.jsx("span",{className:"text-xs text-secondary-light mx-2",children:"|"}),l.jsx("span",{className:"text-xs text-secondary-light",children:"Tags:"}),ye.slice(0,5).map(([L,D])=>l.jsxs("button",{onClick:()=>E(v===L?null:L),className:`px-3 py-1 rounded-full text-xs font-medium transition ${v===L?"bg-black text-white":"bg-white/80 border border-white/70 hover:bg-white"}`,children:["#",L," (",D,")"]},L))]})]})]}),z.length===0?l.jsxs("div",{className:"glass-panel rounded-3xl border border-white/70 p-12 text-center",children:[l.jsx("div",{className:"flex justify-center mb-4",children:l.jsx(fs,{className:"w-16 h-16 text-secondary-light"})}),l.jsx("h3",{className:"text-xl font-semibold mb-2",children:d.length===0?"No concepts yet":"No matches found"}),l.jsx("p",{className:"text-secondary-light",children:d.length===0?"Concepts are created through conversation with Sylvia. Talk to her about ideas, applications, technologies, and concepts, and she'll add them here.":"Try adjusting your search or filters."})]}):l.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6 min-w-0",children:z.map(L=>{const D=(h==null?void 0:h.id)===L.id;return l.jsx("div",{onClick:oe=>{oe.target.closest("button")||D||(i({type:"concept",id:L.id}),o({type:"concept",id:L.id,data:L}))},className:`rounded-3xl border p-6 transition-all flex flex-col min-w-0 ${D?"border-black bg-black text-white shadow-xl":"border-white/70 bg-white/90 hover:shadow-xl hover:border-purple-200 hover:bg-white cursor-pointer"}`,style:{minHeight:"280px"},children:D?l.jsxs("div",{className:"space-y-4",children:[l.jsxs("div",{children:[l.jsx("label",{className:"text-xs uppercase tracking-[0.2em] text-white/70 mb-2 block",children:"Name *"}),l.jsx("input",{value:k.name,onChange:oe=>T({...k,name:oe.target.value}),className:"w-full rounded-2xl border border-white/30 bg-white/10 px-4 py-2 text-white placeholder:text-white/50 focus:outline-none focus:ring-2 focus:ring-white/50"})]}),l.jsxs("div",{children:[l.jsx("label",{className:"text-xs uppercase tracking-[0.2em] text-white/70 mb-2 block",children:"Description"}),l.jsx("textarea",{value:k.description,onChange:oe=>T({...k,description:oe.target.value}),rows:3,className:"w-full rounded-2xl border border-white/30 bg-white/10 px-4 py-2 text-white placeholder:text-white/50 focus:outline-none focus:ring-2 focus:ring-white/50 resize-none"})]}),l.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[l.jsxs("div",{children:[l.jsx("label",{className:"text-xs uppercase tracking-[0.2em] text-white/70 mb-2 block",children:"Category"}),l.jsx("input",{value:k.category,onChange:oe=>T({...k,category:oe.target.value}),className:"w-full rounded-2xl border border-white/30 bg-white/10 px-4 py-2 text-white placeholder:text-white/50 focus:outline-none focus:ring-2 focus:ring-white/50"})]}),l.jsxs("div",{children:[l.jsx("label",{className:"text-xs uppercase tracking-[0.2em] text-white/70 mb-2 block",children:"Tags"}),l.jsx("input",{value:k.tags,onChange:oe=>T({...k,tags:oe.target.value}),placeholder:"tag1, tag2",className:"w-full rounded-2xl border border-white/30 bg-white/10 px-4 py-2 text-white placeholder:text-white/50 focus:outline-none focus:ring-2 focus:ring-white/50"})]})]}),l.jsxs("div",{children:[l.jsx("label",{className:"text-xs uppercase tracking-[0.2em] text-white/70 mb-2 block",children:"Notes"}),l.jsx("textarea",{value:k.notes,onChange:oe=>T({...k,notes:oe.target.value}),rows:2,className:"w-full rounded-2xl border border-white/30 bg-white/10 px-4 py-2 text-white placeholder:text-white/50 focus:outline-none focus:ring-2 focus:ring-white/50 resize-none"})]}),l.jsxs("div",{className:"flex gap-2",children:[l.jsx("button",{onClick:q,className:"flex-1 px-4 py-2 rounded-2xl bg-white text-black font-semibold hover:bg-gray-100 transition",children:"Save"}),l.jsx("button",{onClick:()=>{m(null),T({name:"",description:"",category:"",tags:"",notes:""})},className:"px-4 py-2 rounded-2xl bg-white/20 text-white border border-white/30 hover:bg-white/30 transition",children:"Cancel"})]})]}):l.jsxs(l.Fragment,{children:[l.jsx("div",{className:"flex items-start justify-between mb-4",children:l.jsxs("div",{className:"flex-1 min-w-0",children:[l.jsx("div",{className:"flex items-center gap-2 mb-2 flex-wrap",children:L.category&&l.jsx("span",{className:"px-2 py-1 rounded-full bg-purple-100 text-purple-700 text-xs font-semibold",children:L.category})}),l.jsx("h3",{className:"text-xl font-bold mb-3 text-primary-light break-words overflow-wrap-anywhere",children:L.name})]})}),L.description&&l.jsx("div",{className:"mb-4 flex-1 min-h-0",children:l.jsx("div",{className:"p-4 rounded-2xl bg-gradient-to-br from-gray-50/80 to-white/80 border border-gray-200/50 min-w-0",children:l.jsx("div",{className:"concept-description min-w-0",children:l.jsx(bt,{content:L.description,className:"text-sm text-gray-700 leading-relaxed break-words overflow-wrap-anywhere"})})})}),L.tags&&L.tags.length>0&&l.jsx("div",{className:"mb-4 flex flex-wrap gap-1.5",children:L.tags.map(oe=>l.jsxs("span",{className:"px-2.5 py-1 rounded-full bg-blue-50 text-blue-700 text-xs font-medium border border-blue-100 flex items-center gap-1.5",children:[l.jsx(Tn,{className:"w-3 h-3"}),oe]},oe))}),L.notes&&l.jsx("div",{className:"mb-4 p-3 rounded-xl bg-amber-50/50 border border-amber-100",children:l.jsx(bt,{content:L.notes,className:"text-xs text-gray-600 leading-relaxed"})}),l.jsx("div",{className:"mb-4 pt-3 border-t border-gray-200/50",children:l.jsxs("div",{className:"flex items-center gap-4 text-xs text-secondary-light",children:[l.jsxs("span",{children:["Created ",new Date(L.createdAt).toLocaleDateString()]}),L.updatedAt&&L.updatedAt!==L.createdAt&&l.jsxs("span",{children:["Updated ",new Date(L.updatedAt).toLocaleDateString()]})]})}),l.jsxs("div",{className:"flex items-center gap-2 pt-3 border-t border-white/20",children:[l.jsxs("button",{onClick:()=>ge(L),className:"px-3 py-1.5 rounded-full bg-white/80 border border-white/70 text-xs font-medium hover:bg-white transition flex items-center gap-1.5",children:[l.jsx(Xa,{className:"w-3.5 h-3.5"}),"Edit"]}),l.jsxs("button",{onClick:()=>X(L.id),className:"px-3 py-1.5 rounded-full bg-white/80 border border-white/70 text-xs font-medium hover:bg-red-50 hover:border-red-200 hover:text-red-700 transition flex items-center gap-1.5",children:[l.jsx(rn,{className:"w-3.5 h-3.5"}),"Delete"]})]})]})},L.id)})})]})},sx=new Map,V2=i=>(sx.set(i.id,i),()=>sx.delete(i.id)),X2=(i=[])=>{const o=["feelings","reflection","relationship"],d=["client","calendar","agenda","task"];return i.some(c=>d.includes(c))?"professional":(i.some(c=>o.includes(c)),"personal")},Q2="https://openrouter.ai/api/v1/chat/completions";async function Bi(i,o={},d=!1){var k,T,$;const c=((k=o.apiKey)==null?void 0:k.trim())||((T=o.secondaryApiKey)==null?void 0:T.trim());if(!c)throw new Error("No OpenRouter API key found. Add your key in the Settings view to continue.");let h=o.mainModel||"openrouter/polaris-alpha";o.useImageGeneration?h="google/gemini-2.5-flash-image":o.useWebSearch?h="openai/gpt-4o-mini-search-preview":o.useAudioVideo&&(h="google/gemini-2.5-flash-preview-09-2025");const m=o.backupModel||"x-ai/grok-4-fast",g=d?m:h;let x=[...i];o.weightedPrompts&&o.weightedPrompts.length>0?x.some(ae=>ae.role==="system")||(x=[{role:"system",content:[...o.weightedPrompts].sort((ye,ge)=>ge.weight-ye.weight).map((ye,ge)=>`[${ge===0?"PRIMARY":ge===1?"SECONDARY":"TERTIARY"} PROMPT - ${ye.weight}% WEIGHT]
${ye.content}`).join(`

---

`)},...x]):o.systemInstruction&&o.systemInstruction.trim()&&(x.some(ae=>ae.role==="system")||(x=[{role:"system",content:o.systemInstruction},...x]));const b=o.inferenceParameters||{},f=b.temperature??o.temperature??.7,v=o.maxTokens??128e3,E={model:g,messages:x,temperature:f,max_tokens:v};b.topP!==void 0&&(E.top_p=b.topP),b.topK!==void 0&&(E.top_k=b.topK),b.frequencyPenalty!==void 0&&(E.frequency_penalty=b.frequencyPenalty),b.presencePenalty!==void 0&&(E.presence_penalty=b.presencePenalty),b.repetitionPenalty!==void 0&&(E.repetition_penalty=b.repetitionPenalty),b.minP!==void 0&&(E.min_p=b.minP);try{const z=await fetch(Q2,{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${c}`,"HTTP-Referer":window.location.origin,"X-Title":"Chat Platform Template"},body:JSON.stringify(E)});if(!z.ok){const de=await z.json().catch(()=>({error:{message:`HTTP ${z.status}: ${z.statusText}`}}));if(!d&&z.status>=500)return console.warn("Main model failed, trying backup model..."),Bi(i,o,!0);throw new Error((($=de.error)==null?void 0:$.message)||`API request failed: ${z.statusText}`)}const ae=await z.json();if(!ae.choices||ae.choices.length===0)throw new Error("No response from API");return ae.choices[0].message.content}catch(z){if(!d&&z instanceof TypeError&&z.message.includes("fetch"))return console.warn("Network error with main model, trying backup model..."),Bi(i,o,!0);throw z}}const Kx=Object.freeze(Object.defineProperty({__proto__:null,sendMessage:Bi},Symbol.toStringTag,{value:"Module"}));async function Px(i){const o=/\[ACTION:([^\]]+)\]/g,d=[...i.matchAll(o)];if(d.length!==0)for(const c of d){const m=c[1].split("|");if(m.length<1)continue;const g=m[0].trim(),x=m.slice(1).join("|").trim();if(g)try{await gs(g,x)}catch(b){console.error(`Failed to execute post-processed action ${g}:`,b)}}}function Z2(i,o){const d=new Date,c=i.toLowerCase().trim();if(c.includes("tomorrow")){const h=new Date(d);return h.setDate(h.getDate()+1),h.toISOString().slice(0,16)}if(c.includes("today"))return d.toISOString().slice(0,16);try{const h=new Date(i);if(!isNaN(h.getTime()))return h.toISOString().slice(0,16)}catch{}return""}function K2(i){const o=i.match(/(\d{1,2}):?(\d{2})?\s*(am|pm)/i);if(!o)return"";let d=parseInt(o[1]);const c=o[2]?parseInt(o[2]):0,h=o[3].toLowerCase();return h==="pm"&&d!==12&&(d+=12),h==="am"&&d===12&&(d=0),`${d.toString().padStart(2,"0")}:${c.toString().padStart(2,"0")}`}async function P2(i){var x,b;const{getSetting:o}=await La(async()=>{const{getSetting:f}=await Promise.resolve().then(()=>mo);return{getSetting:f}},void 0),d=await o("apiKey")||await o("secondaryApiKey"),c=await o("mainModel","openrouter/polaris-alpha");if(!d){console.warn("No API key available for entity extraction");return}const h=/(?:meeting|call|appointment|event|schedule|meet|call with)/i.test(i),m=/(?:tomorrow|today|november|december|january|february|march|april|may|june|july|august|september|october|\d{1,2}\/\d{1,2}|\d{1,2}\s+(?:jan|feb|mar|apr|may|jun|jul|aug|sep|oct|nov|dec))/i.test(i),g=/(?:at|@|\d{1,2}):?\d{0,2}\s*(?:am|pm)/i.test(i);if(h&&(m||g)){const f=i.match(/(?:tomorrow|today|november \d{1,2}|\d{1,2}\/\d{1,2}|\d{1,2}\s+(?:jan|feb|mar|apr|may|jun|jul|aug|sep|oct|nov|dec))/i),v=i.match(/(?:at|@)\s*(\d{1,2}):?(\d{2})?\s*(am|pm)/i);if(f||v){const E=i.match(/(?:meeting|call|appointment|event|schedule|meet)\s+(?:with\s+)?([^,\.]+?)(?:\s+(?:tomorrow|today|at|@|on))/i),k=E?E[1].trim():((x=i.split(/\s+(?:tomorrow|today|at|@|on)/i)[0])==null?void 0:x.trim())||"Event",T=f?f[0]:"";v&&v[0];const $=Z2(T),z=v?K2(v[0]):"";let ae="",de="";if($)if(z){ae=`${$.split("T")[0]}T${z}`;const ye=new Date(ae);ye.setHours(ye.getHours()+1),de=ye.toISOString().slice(0,16)}else ae=`${$}T10:00`,de=`${$}T11:00`;ae&&await gs("calendar.add",`${k}|${ae}|${de}|${i}`).catch(()=>{})}}try{const[f,v]=await Promise.all([H.getPeopleRecords(),H.getConceptRecords()]),E=new Set(f.map(ye=>ye.name.toLowerCase())),k=new Set(v.map(ye=>ye.name.toLowerCase())),T=`You are an entity classification agent. Analyze this message and identify entities that should be extracted. CRITICALLY IMPORTANT: You must distinguish between PEOPLE (actual humans) and CONCEPTS (ideas, technologies, applications).

Message to analyze:
"${i}"

Existing entities (do not duplicate):
- People: ${Array.from(E).slice(0,20).join(", ")||"None"}
- Concepts: ${Array.from(k).slice(0,20).join(", ")||"None"}

CRITICAL DISTINCTION RULES:
- **PEOPLE**: Actual humans with names (e.g., "John Smith", "Sarah Johnson", "Blair Hallett") - real people you can meet, email, call
- **CONCEPTS**: Ideas, applications, technologies, systems (e.g., "Resonance Cockpit", "Preflection", "AI Application", "Machine Learning Model", "Weighted Prompt System") - abstract concepts, not humans

If something is ambiguous, ask yourself: "Can I meet this person? Can I email them? Is this a real human?" If NO, it's a CONCEPT.

For each entity you identify, respond ONLY with ACTION markers in this exact format:
[ACTION:entityType.add|payload1|payload2|...]

Entity types:
- people.add|Name|Role|Company|Location|Email|Phone|Attributes|Profile|Notes|Tags
- concept.add|Name|Description|Category|Tags|Notes
- brand.add|Name|Description
- calendar.add|Title|StartTime|EndTime|Description|Location|MeetingLink|EventType|Participants|Tags
- agenda.add|Title|Description|DueDate|EstimatedTime|Priority|Tags|DeliverableId
- deliverable.add|Title|Description|Scope|Guardrails|SuccessCriteria|Tags
- polaris.goal|Title|Description|GoalType|Scope|Priority|Metrics
- polaris.task|GoalId|Title|Description|Rationale|EstimatedEffort|EstimatedImpact

IMPORTANT:
- Only extract entities that are CLEARLY mentioned
- Do NOT extract entities that already exist
- When in doubt between PEOPLE and CONCEPTS, choose CONCEPTS (better to miss a person than misclassify a concept as a person)
- Be conservative - only extract if you're confident

Your response (ONLY ACTION markers, no other text):`,{sendMessage:$}=await La(async()=>{const{sendMessage:ye}=await Promise.resolve().then(()=>Kx);return{sendMessage:ye}},void 0),z=await $([{role:"system",content:"You are an entity extraction agent. Analyze messages and extract entities. Respond ONLY with ACTION markers. Be extremely careful to distinguish PEOPLE (actual humans) from CONCEPTS (ideas, technologies, applications)."},{role:"user",content:T}],{apiKey:d,mainModel:c,temperature:.3,maxTokens:2e3}),ae=/\[ACTION:([^\]]+)\]/g,de=[...z.matchAll(ae)];for(const ye of de){const q=ye[1].split("|");if(q.length<1)continue;const X=q[0].trim(),L=q.slice(1).join("|").trim();if(X){if(X==="people.add"){const D=(b=L.split("|")[0])==null?void 0:b.trim();if(D){const oe=["system","application","platform","tool","technology","concept","idea","model","framework","algorithm","method","process","workflow","solution","product","service","feature"],be=D.toLowerCase();if(oe.some(J=>be.includes(J))){console.log(`Skipping ${D} - looks like a concept, not a person`);continue}}}try{await gs(X,L)}catch(D){console.error(`Failed to execute extracted action ${X}:`,D)}}}}catch(f){console.error("AI-based entity extraction failed:",f)}}async function Jx(i,o){const d={extracted:[],errors:[]};try{const c=(await H.getJournalEntries()).find($=>$.id===i);if(!c)return d.errors.push("Journal entry not found"),d;const[h,m,g]=await Promise.all([H.getPeopleRecords(),H.getClientRecords(),H.getBrandRecords()]),x=new Set(h.map($=>$.name.toLowerCase())),b=new Set(m.map($=>$.name.toLowerCase())),f=new Set(g.map($=>$.name.toLowerCase())),v=`You are an entity extraction agent. Analyze this journal entry and identify all entities that should be extracted:

Journal Entry:
Title: ${c.title}
Content: ${c.content}

Existing entities already in the system:
- People: ${Array.from(x).join(", ")||"None"}
- Clients: ${Array.from(b).join(", ")||"None"}
- Brand: ${Array.from(f).join(", ")||"None"}

Extract the following entity types:
1. PEOPLE: Any actual person mentioned (names, roles, relationships) - NOT concepts, ideas, or applications
2. CONCEPTS: Ideas, concepts, AI applications, technologies, systems, platforms, tools, models, frameworks, algorithms, methods, strategies, processes, workflows, solutions, products, services, features
3. CLIENTS: Any client, customer, or business relationship
4. BRAND: Any brand element, voice note, positioning
5. CALENDAR: Any meeting, event, appointment, or time-bound commitment
6. AGENDA/DELIVERABLES: Any tasks, commitments, or work items
7. POLARIS/GOALS: Strategic goals, objectives, or high-leverage moves

IMPORTANT: Distinguish between PEOPLE and CONCEPTS:
- PEOPLE: Actual humans with names (e.g., "John Smith", "Sarah Johnson")
- CONCEPTS: Ideas, applications, technologies (e.g., "AI Application", "Machine Learning Model", "Resonance Cockpit")

For each entity, respond with an ACTION marker in this format:
[ACTION:actionId|payload1|payload2|...]

Example:
[ACTION:people.add|John Smith|Engineer|Key contact for project]
[ACTION:client.add|Acme Corp|Website redesign project]
[ACTION:calendar.add|Meeting with John|2025-11-10T14:00|2025-11-10T15:00|Discuss project]

Only include entities that are clearly mentioned and should be tracked. Skip entities that already exist in the system.

Your response:`,E=await Bi([{role:"system",content:"You are an entity extraction agent. Analyze journal entries and extract entities. Respond only with ACTION markers for entities that should be extracted."},{role:"user",content:v}],{apiKey:o,mainModel:"openrouter/polaris-alpha",temperature:.3,maxTokens:2e3}),k=/\[ACTION:([^\]]+)\]/g,T=[...E.matchAll(k)];for(const $ of T){const ae=$[1].split("|");if(ae.length<1)continue;const de=ae[0].trim(),ye=ae.slice(1).join("|").trim();if(de)try{await J2(de,ye,{existingPeopleNames:x,existingClientNames:b,existingBrandNames:f})||(await gs(de,ye),d.extracted.push(`${de}: ${ye.substring(0,50)}${ye.length>50?"...":""}`))}catch(ge){d.errors.push(`Failed to execute ${de}: ${ge instanceof Error?ge.message:String(ge)}`)}}}catch(c){d.errors.push(`Extraction failed: ${c instanceof Error?c.message:String(c)}`)}return d}async function J2(i,o,d){var m;const h=(m=o.split("|")[0])==null?void 0:m.trim().toLowerCase();return h?i==="people.add"?d.existingPeopleNames.has(h):i==="client.add"?d.existingClientNames.has(h):i==="brand.add"?d.existingBrandNames.has(h):!1:!1}const ix=Object.freeze(Object.defineProperty({__proto__:null,extractEntitiesFromJournalEntry:Jx,extractEntitiesFromUserMessage:P2,postProcessMessage:Px},Symbol.toStringTag,{value:"Module"})),W2=()=>{const[i,o]=y.useState([]),[d,c]=y.useState(""),[h,m]=y.useState(""),[g,x]=y.useState([]),[b,f]=y.useState([]),[v,E]=y.useState(null),[k,T]=y.useState(""),[$,z]=y.useState(""),[ae,de]=y.useState(null),[ye,ge]=y.useState({}),[q,X]=y.useState(""),[L,D]=y.useState(null),[oe,be]=y.useState(null),[J,le]=y.useState(!0),Ne=y.useMemo(()=>{const S=i.length,K=i.filter(ue=>ue.autoGenerated).length,ie=i.filter(ue=>typeof ue.grade=="number"),je=ie.length?(ie.reduce((ue,xe)=>ue+(xe.grade||0),0)/ie.length).toFixed(1):"",N=i.filter(ue=>{const xe=new Date(ue.createdAt),Me=new Date;return Me.setDate(Me.getDate()-7),xe>=Me}).length,ce=i.filter(ue=>{const xe=new Date(ue.createdAt),Me=new Date;return Me.setMonth(Me.getMonth()-1),xe>=Me}).length;return{total:S,auto:K,avgGrade:je,graded:ie.length,thisWeek:N,thisMonth:ce}},[i]),ve=y.useMemo(()=>{const S=new Set;return i.forEach(K=>{var ie;(ie=K.tags)==null||ie.forEach(je=>S.add(je))}),Array.from(S).sort()},[i]),te=y.useCallback(async()=>{const S=await H.getJournalEntries();o(S.sort((K,ie)=>ie.createdAt-K.createdAt))},[]);y.useEffect(()=>(te(),(async()=>{const K=await pt("journal_consumed_snippets",[]);f(K)})(),V2({id:"journal",label:"Journal",onRequest:K=>m(ie=>`${K}

${ie}`.trim())})),[te]);const A=y.useCallback(async()=>{const K=(await fx(6)).filter(ie=>!b.includes(ie.id));x(K)},[b]);y.useEffect(()=>{A()},[A,i]);const R=y.useCallback(async(S,K,ie)=>{K.trim()&&(await H.saveJournalEntry({id:`journal-${Date.now()}`,title:S||"Untitled entry",content:K,createdAt:Date.now(),...ie}),await te(),await Tl("journal.entry"),c(""),m(""))},[te]),W=async S=>{await H.deleteJournalEntry(S),te()},me=S=>{E(S),z(S.title),T(S.content),setActiveEntity({type:"journal",id:S.id,data:S})},Oe=async()=>{v&&(await H.saveJournalEntry({...v,title:$,content:k}),E(null),z(""),T(""),setActiveEntity({type:null,id:""}),te())},ze=()=>{E(null),setActiveEntity({type:null,id:""}),z(""),T("")},w=async S=>{de(S);try{const K=await pt("auditApiKey",""),ie=await pt("apiKey",""),je=K||ie;if(!je){ge(ce=>({...ce,[S]:{extracted:[],errors:["No API key configured. Please add an API key in Settings."]}}));return}const N=await Jx(S,je);ge(ce=>({...ce,[S]:N})),await te()}catch(K){ge(ie=>({...ie,[S]:{extracted:[],errors:[K instanceof Error?K.message:"Failed to extract entities"]}}))}finally{de(null)}};y.useEffect(()=>on("journal",te),[te]);const Y=y.useMemo(()=>{let S=i;if(q.trim()){const K=q.toLowerCase();S=S.filter(ie=>{var je;return ie.title.toLowerCase().includes(K)||ie.content.toLowerCase().includes(K)||((je=ie.tags)==null?void 0:je.some(N=>N.toLowerCase().includes(K)))})}return L&&(S=S.filter(K=>{var ie;return(ie=K.tags)==null?void 0:ie.includes(L)})),oe!==null&&(S=S.filter(K=>K.grade===oe)),S},[i,q,L,oe]),V=S=>{const K=new Date(S),ie=new Date,je=new Date(ie);return je.setDate(je.getDate()-1),K.toDateString()===ie.toDateString()?"Today":K.toDateString()===je.toDateString()?"Yesterday":K.toLocaleDateString("en-US",{month:"short",day:"numeric",year:K.getFullYear()!==ie.getFullYear()?"numeric":void 0})},se=S=>S?S>=4?"text-green-600":S>=3?"text-yellow-600":"text-red-600":"text-gray-400",P=S=>S?S>=4?"bg-green-100":S>=3?"bg-yellow-100":"bg-red-100":"bg-gray-100";return l.jsxs(Wt,{title:"Journal",subtitle:"Long-form reflections feed Sylvia's JIT memory. Rich context for understanding patterns and growth.",children:[l.jsxs("div",{className:"grid grid-cols-2 sm:grid-cols-3 md:grid-cols-6 gap-4 mb-6",children:[l.jsxs("div",{className:"rounded-2xl border border-white/70 bg-gradient-to-br from-blue-50 to-blue-100 p-4",children:[l.jsxs("div",{className:"flex items-center justify-between mb-2",children:[l.jsx(ku,{className:"w-6 h-6 text-blue-600"}),l.jsx("span",{className:"text-2xl font-bold text-black",children:Ne.total})]}),l.jsx("p",{className:"text-xs uppercase tracking-[0.2em] text-gray-600",children:"Total Entries"})]}),l.jsxs("div",{className:"rounded-2xl border border-white/70 bg-gradient-to-br from-purple-50 to-purple-100 p-4",children:[l.jsxs("div",{className:"flex items-center justify-between mb-2",children:[l.jsx(tl,{className:"w-6 h-6 text-purple-600"}),l.jsx("span",{className:"text-2xl font-bold text-black",children:Ne.auto})]}),l.jsx("p",{className:"text-xs uppercase tracking-[0.2em] text-gray-600",children:"Sylvia Drops"})]}),l.jsxs("div",{className:"rounded-2xl border border-white/70 bg-gradient-to-br from-green-50 to-green-100 p-4",children:[l.jsxs("div",{className:"flex items-center justify-between mb-2",children:[l.jsx(zi,{className:"w-6 h-6 text-green-600"}),l.jsx("span",{className:"text-2xl font-bold text-black",children:Ne.graded})]}),l.jsx("p",{className:"text-xs uppercase tracking-[0.2em] text-gray-600",children:"Graded"})]}),l.jsxs("div",{className:"rounded-2xl border border-white/70 bg-gradient-to-br from-yellow-50 to-yellow-100 p-4",children:[l.jsxs("div",{className:"flex items-center justify-between mb-2",children:[l.jsx(ps,{className:"w-6 h-6 text-yellow-600"}),l.jsx("span",{className:"text-2xl font-bold text-black",children:Ne.avgGrade})]}),l.jsx("p",{className:"text-xs uppercase tracking-[0.2em] text-gray-600",children:"Avg Grade"})]}),l.jsxs("div",{className:"rounded-2xl border border-white/70 bg-gradient-to-br from-orange-50 to-orange-100 p-4",children:[l.jsxs("div",{className:"flex items-center justify-between mb-2",children:[l.jsx(Ua,{className:"w-6 h-6 text-orange-600"}),l.jsx("span",{className:"text-2xl font-bold text-black",children:Ne.thisWeek})]}),l.jsx("p",{className:"text-xs uppercase tracking-[0.2em] text-gray-600",children:"This Week"})]}),l.jsxs("div",{className:"rounded-2xl border border-white/70 bg-gradient-to-br from-pink-50 to-pink-100 p-4",children:[l.jsxs("div",{className:"flex items-center justify-between mb-2",children:[l.jsx(Ao,{className:"w-6 h-6 text-pink-600"}),l.jsx("span",{className:"text-2xl font-bold text-black",children:Ne.thisMonth})]}),l.jsx("p",{className:"text-xs uppercase tracking-[0.2em] text-gray-600",children:"This Month"})]})]}),J&&g.length>0&&l.jsxs("div",{className:"glass-panel border border-white/70 rounded-3xl p-6 mb-6 space-y-4 bg-gradient-to-br from-purple-50/50 to-pink-50/50",children:[l.jsxs("div",{className:"flex items-center justify-between",children:[l.jsxs("div",{children:[l.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[l.jsx(tl,{className:"w-5 h-5 text-purple-600"}),l.jsx("p",{className:"text-xs uppercase tracking-[0.3em] text-purple-600 font-semibold",children:"Sylvia Suggestions"})]}),l.jsx("h3",{className:"text-xl font-semibold",children:"Promote to journal"})]}),l.jsxs("div",{className:"flex items-center gap-2",children:[l.jsxs("button",{onClick:A,className:"px-3 py-1.5 rounded-full bg-white border border-white/70 text-sm hover:bg-gray-50 transition flex items-center gap-1",children:[l.jsx(Li,{className:"w-4 h-4"}),"Refresh"]}),l.jsx("button",{onClick:()=>le(!1),className:"p-1.5 rounded-full bg-white border border-white/70 hover:bg-gray-50 transition",children:l.jsx(Qt,{className:"w-4 h-4"})})]})]}),l.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:g.map(S=>l.jsxs("div",{className:"rounded-2xl border border-dashed border-purple-200 p-4 space-y-3 bg-white/80 hover:bg-white transition",children:[l.jsxs("div",{className:"flex items-center justify-between",children:[l.jsxs("p",{className:"text-xs uppercase tracking-[0.2em] text-secondary-light",children:["Thread ",S.threadId]}),l.jsx("span",{className:"px-2 py-0.5 rounded-full bg-purple-100 text-purple-700 text-xs font-medium",children:"Suggestion"})]}),l.jsx("div",{className:"message-content text-sm",dangerouslySetInnerHTML:{__html:Zx(S.text.substring(0,200))}}),S.tags.length>0&&l.jsx("div",{className:"flex flex-wrap gap-1.5",children:S.tags.map(K=>l.jsxs("span",{className:"px-2 py-0.5 rounded-full bg-purple-50 text-purple-700 text-xs border border-purple-100",children:["#",K]},K))}),l.jsxs("div",{className:"flex gap-2",children:[l.jsx("button",{onClick:async()=>{await R(S.tags[0]||"Auto entry",S.text,{autoGenerated:!0,sourceThreadId:S.threadId,tags:S.tags,scope:X2(S.tags)});const K=[...b,S.id];f(K),await nn("journal_consumed_snippets",K),A()},className:"flex-1 px-4 py-2 rounded-full bg-black text-white text-sm font-medium hover:shadow-lg transition",children:"Promote"}),l.jsx("button",{onClick:async()=>{const K=[...b,S.id];f(K),await nn("journal_consumed_snippets",K),A()},className:"px-4 py-2 rounded-full bg-white text-sm border border-white/70 hover:bg-gray-50 transition",children:"Dismiss"})]})]},S.id))})]}),l.jsxs("div",{className:"mb-6 space-y-4",children:[l.jsx("div",{className:"glass-panel rounded-2xl border border-white/70 p-4",children:l.jsxs("div",{className:"flex items-center gap-3",children:[l.jsx(_l,{className:"w-5 h-5 text-secondary-light"}),l.jsx("input",{type:"text",value:q,onChange:S=>X(S.target.value),placeholder:"Search entries by title, content, or tags...",className:"flex-1 bg-transparent outline-none text-lg placeholder:text-secondary-light"}),q&&l.jsx("button",{onClick:()=>X(""),className:"px-3 py-1 rounded-full bg-white/80 border border-white/70 text-sm hover:bg-white transition",children:"Clear"})]})}),l.jsxs("div",{className:"flex flex-wrap gap-2 items-center",children:[l.jsxs("span",{className:"text-sm text-secondary-light flex items-center gap-1",children:[l.jsx(bs,{className:"w-4 h-4"}),"Filter:"]}),l.jsx("button",{onClick:()=>D(null),className:`px-3 py-1 rounded-full text-xs font-medium transition ${L===null?"bg-black text-white":"bg-white/80 border border-white/70 hover:bg-white"}`,children:"All Tags"}),ve.map(S=>l.jsxs("button",{onClick:()=>D(L===S?null:S),className:`px-3 py-1 rounded-full text-xs font-medium transition flex items-center gap-1 ${L===S?"bg-black text-white":"bg-white/80 border border-white/70 hover:bg-white"}`,children:[l.jsx(Tn,{className:"w-3 h-3"}),S]},S)),l.jsxs("div",{className:"flex items-center gap-2 ml-2",children:[l.jsx("span",{className:"text-xs text-secondary-light",children:"Grade:"}),l.jsx("button",{onClick:()=>be(null),className:`px-2 py-1 rounded-full text-xs transition ${oe===null?"bg-black text-white":"bg-white/80 border border-white/70"}`,children:"All"}),[5,4,3,2,1].map(S=>l.jsxs("button",{onClick:()=>be(oe===S?null:S),className:`px-2 py-1 rounded-full text-xs transition flex items-center gap-1 ${oe===S?"bg-black text-white":"bg-white/80 border border-white/70"}`,children:[l.jsx(ps,{className:`w-3 h-3 ${se(S)}`}),S]},S))]})]})]}),Y.length===0?l.jsxs("div",{className:"glass-panel rounded-3xl border border-white/70 p-12 text-center",children:[l.jsx("div",{className:"flex justify-center mb-4",children:l.jsx(Au,{className:"w-16 h-16 text-secondary-light"})}),l.jsx("h3",{className:"text-xl font-semibold mb-2",children:i.length===0?"No journal entries yet":"No matches found"}),l.jsx("p",{className:"text-secondary-light",children:i.length===0?"Start reflecting. Your thoughts become Sylvia's context.":"Try adjusting your search or filters."})]}):l.jsx("div",{className:"space-y-6",children:Y.map(S=>{const K=(v==null?void 0:v.id)===S.id,ie=ye[S.id],je=new Date(S.createdAt);return l.jsx("article",{onClick:N=>{N.target.closest("button")||K||setActiveEntity({type:"journal",id:S.id,data:S})},className:`rounded-3xl border p-6 transition-all cursor-pointer ${K?"border-black bg-black text-white shadow-xl":"border-white/70 bg-white/90 hover:shadow-lg hover:border-white"}`,children:K?l.jsxs("div",{className:"space-y-4",children:[l.jsxs("div",{children:[l.jsx("label",{className:"text-xs uppercase tracking-[0.2em] text-white/70 mb-2 block",children:"Title *"}),l.jsx("input",{value:$,onChange:N=>z(N.target.value),className:"w-full rounded-2xl border border-white/30 bg-white/10 px-4 py-2 text-white placeholder:text-white/50 focus:outline-none focus:ring-2 focus:ring-white/50",placeholder:"Entry title"})]}),l.jsxs("div",{children:[l.jsx("label",{className:"text-xs uppercase tracking-[0.2em] text-white/70 mb-2 block",children:"Content *"}),l.jsx("textarea",{value:k,onChange:N=>T(N.target.value),rows:12,className:"w-full rounded-2xl border border-white/30 bg-white/10 px-4 py-2 text-white placeholder:text-white/50 focus:outline-none focus:ring-2 focus:ring-white/50 resize-none",placeholder:"Write your reflection..."})]}),l.jsxs("div",{className:"flex gap-2",children:[l.jsx("button",{onClick:Oe,className:"flex-1 px-4 py-2 rounded-2xl bg-white text-black font-semibold hover:bg-gray-100 transition",children:"Save"}),l.jsx("button",{onClick:ze,className:"px-4 py-2 rounded-2xl bg-white/20 text-white border border-white/30 hover:bg-white/30 transition",children:"Cancel"})]})]}):l.jsxs(l.Fragment,{children:[l.jsxs("header",{className:"flex items-start justify-between mb-4",children:[l.jsxs("div",{className:"flex-1",children:[l.jsxs("div",{className:"flex items-center gap-3 mb-2",children:[l.jsxs("div",{className:"flex items-center gap-2",children:[l.jsx(sn,{className:"w-4 h-4 text-secondary-light"}),l.jsx("span",{className:"text-xs uppercase tracking-[0.2em] text-secondary-light",children:V(S.createdAt)}),l.jsx("span",{className:"text-xs text-secondary-light",children:je.toLocaleTimeString("en-US",{hour:"numeric",minute:"2-digit"})})]}),S.autoGenerated&&l.jsxs("span",{className:"px-2 py-0.5 rounded-full bg-purple-100 text-purple-700 text-xs font-medium flex items-center gap-1",children:[l.jsx(tl,{className:"w-3 h-3"}),"Sylvia"]})]}),l.jsx("h3",{className:"text-2xl font-bold mb-2",children:S.title})]}),S.grade&&l.jsxs("div",{className:`px-3 py-1.5 rounded-full flex items-center gap-1 ${P(S.grade)}`,children:[l.jsx(ps,{className:`w-4 h-4 ${se(S.grade)}`}),l.jsxs("span",{className:`text-sm font-semibold ${se(S.grade)}`,children:[S.grade,"/5"]})]})]}),l.jsx("div",{className:"mb-4",children:l.jsx(bt,{content:S.content,className:"text-sm leading-relaxed"})}),S.tags&&S.tags.length>0&&l.jsx("div",{className:"mb-4 flex flex-wrap gap-2",children:S.tags.map(N=>l.jsxs("span",{className:"px-3 py-1 rounded-full bg-blue-50 text-blue-700 text-xs font-medium border border-blue-100 flex items-center gap-1",children:[l.jsx(Tn,{className:"w-3 h-3"}),N]},N))}),ie&&ae!==S.id&&l.jsxs("div",{className:`mb-4 p-4 rounded-2xl border ${ie.extracted.length>0?"bg-green-50 border-green-200":ie.errors.length>0?"bg-red-50 border-red-200":"bg-gray-50 border-gray-200"}`,children:[l.jsxs("div",{className:"flex items-start justify-between mb-2",children:[l.jsxs("div",{className:"flex items-center gap-2",children:[ie.extracted.length>0?l.jsx(Va,{className:"w-4 h-4 text-green-600"}):ie.errors.length>0?l.jsx(Eo,{className:"w-4 h-4 text-red-600"}):l.jsx(Ua,{className:"w-4 h-4 text-gray-600"}),l.jsx("span",{className:"text-xs font-semibold uppercase tracking-[0.1em]",children:"Extraction Results"})]}),l.jsx("button",{onClick:()=>{ge(N=>{const ce={...N};return delete ce[S.id],ce})},className:"text-gray-400 hover:text-gray-600 transition",children:l.jsx(Qt,{className:"w-4 h-4"})})]}),ie.extracted.length>0&&l.jsxs("div",{className:"mb-2",children:[l.jsxs("p",{className:"text-xs font-semibold text-green-700 mb-1",children:["Extracted ",ie.extracted.length," entities:"]}),l.jsx("ul",{className:"list-disc list-inside space-y-1 text-xs text-green-600",children:ie.extracted.map((N,ce)=>l.jsx("li",{children:N},ce))})]}),ie.errors.length>0&&l.jsxs("div",{children:[l.jsx("p",{className:"text-xs font-semibold text-red-700 mb-1",children:"Errors:"}),l.jsx("ul",{className:"list-disc list-inside space-y-1 text-xs text-red-600",children:ie.errors.map((N,ce)=>l.jsx("li",{children:N},ce))})]}),ie.extracted.length===0&&ie.errors.length===0&&l.jsx("p",{className:"text-xs text-gray-600",children:"No new entities found in this entry."})]}),l.jsxs("div",{className:"flex items-center gap-2 pt-4 border-t border-white/20",children:[l.jsx("button",{onClick:()=>w(S.id),disabled:ae===S.id,className:"px-3 py-1.5 rounded-full bg-black text-white text-xs font-medium hover:shadow-lg transition flex items-center gap-1 disabled:opacity-50 disabled:cursor-not-allowed",title:"Extract entities from this entry (fail-safe)",children:ae===S.id?l.jsxs(l.Fragment,{children:[l.jsx(Li,{className:"w-3 h-3 animate-spin"}),"Extracting..."]}):l.jsxs(l.Fragment,{children:[l.jsx(ys,{className:"w-3 h-3"}),"Extract Entities"]})}),l.jsxs("button",{onClick:()=>me(S),className:"px-3 py-1.5 rounded-full bg-white/80 border border-white/70 text-xs font-medium hover:bg-white transition flex items-center gap-1",children:[l.jsx(Xa,{className:"w-3 h-3"}),"Edit"]}),l.jsxs("button",{onClick:()=>W(S.id),className:"px-3 py-1.5 rounded-full bg-white/80 border border-white/70 text-xs font-medium hover:bg-red-50 hover:border-red-200 hover:text-red-700 transition flex items-center gap-1",children:[l.jsx(rn,{className:"w-3 h-3"}),"Delete"]}),l.jsxs("div",{className:"flex items-center gap-2 ml-auto",children:[l.jsxs("select",{value:S.grade??"",onChange:async N=>{const ce=N.target.value?Number(N.target.value):void 0;await H.saveJournalEntry({...S,grade:ce}),await Tl("journal.grade"),te()},className:"rounded-full border border-white/70 bg-white px-3 py-1 text-xs focus:outline-none focus:ring-2 focus:ring-black",children:[l.jsx("option",{value:"",children:"Grade"}),[5,4,3,2,1].map(N=>l.jsxs("option",{value:N,children:[N," "]},N))]}),S.grade&&l.jsx("input",{value:S.gradeNotes??"",onChange:async N=>{await H.saveJournalEntry({...S,gradeNotes:N.target.value}),te()},placeholder:"Grade notes...",className:"rounded-full border border-white/70 bg-white px-3 py-1 text-xs w-32 focus:outline-none focus:ring-2 focus:ring-black"})]})]})]})},S.id)})})]})},F2=()=>{const{sendMessage:i}=al(),[o,d]=y.useState([]),[c,h]=y.useState([]),[m,g]=y.useState([]),[x,b]=y.useState([]),[f,v]=y.useState([]),[E,k]=y.useState(null),[T,$]=y.useState("semi-auto"),[z,ae]=y.useState(""),[de,ye]=y.useState([]),[ge,q]=y.useState([]),[X,L]=y.useState(""),[D,oe]=y.useState(""),[be,J]=y.useState(""),[le,Ne]=y.useState(null),[ve,te]=y.useState(!1),[A,R]=y.useState({personality:"",decisionStyle:"",communicationStyle:""}),[W,me]=y.useState(null),[Oe,ze]=y.useState(null),[w,Y]=y.useState({title:"",description:"",guardrails:"",successCriteria:"",scope:"professional",priority:"medium",tags:""}),[V,se]=y.useState({title:"",description:"",dueAt:"",estimatedTime:"",priority:"medium",tags:"",deliverableId:""}),P=y.useCallback(async()=>{const[M,Se,Ee,_e,pe]=await Promise.all([H.getAgendaItems(),H.getDeliverables(),H.getAgendaSessions(),H.getPostMortems(),H.getGoals()]);d(M.sort((Ge,I)=>(I.dueAt||I.createdAt)-(Ge.dueAt||Ge.createdAt))),h(Se.sort((Ge,I)=>I.createdAt-Ge.createdAt)),g(Ee.sort((Ge,I)=>(I.updatedAt||I.startedAt)-(Ge.updatedAt||Ge.startedAt))),b(_e.sort((Ge,I)=>I.createdAt-Ge.createdAt)),v(pe);const et=Ee.find(Ge=>Ge.status==="active"||Ge.status==="paused");k(et||null),et&&(ae(et.notes||""),$(et.mode),ye(et.deliverableIds),q(et.sessionGoals||[]))},[]);y.useEffect(()=>(P(),on(["agenda","deliverable","goal"],P)),[P]);const S=y.useMemo(()=>{const M=o.length,Se=o.filter(I=>I.status==="done").length,Ee=o.filter(I=>I.status==="in-progress").length,_e=o.filter(I=>I.status==="todo").length,pe=m.filter(I=>I.status==="active").length,et=m.filter(I=>I.status==="completed").length,Ge=c.length;return{totalItems:M,doneItems:Se,inProgressItems:Ee,todoItems:_e,activeSessions:pe,completedSessions:et,totalDeliverables:Ge}},[o,m,c]),K=y.useMemo(()=>{let M=o;if(le&&(M=M.filter(Se=>Se.status===le)),be.trim()){const Se=be.toLowerCase();M=M.filter(Ee=>{var _e,pe;return Ee.title.toLowerCase().includes(Se)||((_e=Ee.description)==null?void 0:_e.toLowerCase().includes(Se))||((pe=Ee.tags)==null?void 0:pe.some(et=>et.toLowerCase().includes(Se)))})}return M},[o,le,be]),ie=M=>c.find(Se=>Se.id===M),je=M=>f.find(Se=>Se.id===M),N=async()=>{let M=de;M.length===0&&c.length===1&&(M=[c[0].id]),M.length===0&&T!=="manual"&&(M=[]);let Se=[];T!=="manual"&&(Se=o.filter(pe=>pe.deliverableId&&M.includes(pe.deliverableId)).map(pe=>pe.id));const Ee={id:`session-${Date.now()}`,mode:T,deliverableIds:M,taskSequence:Se,startedAt:Date.now(),status:"active",currentTaskIndex:0,sessionGoals:ge.length>0?ge:void 0,autonomousAgentConfig:T==="auto"?{personality:A.personality||void 0,decisionStyle:A.decisionStyle||void 0,communicationStyle:A.communicationStyle||void 0}:void 0,createdAt:Date.now()};await H.saveAgendaSession(Ee),await Tl("agenda.session"),await ru("Agenda session started",`Mode: ${T}`,{scope:"professional",tags:["agenda","session",T],metadata:{deliverables:de.join(",")},autoGenerated:!0}),T==="auto"&&await ce(Ee),ye([]),q([]),te(!1),P()},ce=async M=>{var Ue,Qe,Ut,F;const[Se,Ee,_e,pe]=await Promise.all([H.getPeopleRecords(),H.getBrandRecords(),H.getCalendarEvents(),H.getJournalEntries()]),et=M.deliverableIds.map(Z=>ie(Z)).filter(Boolean),Ge=((Ue=M.taskSequence)==null?void 0:Ue.map(Z=>o.find(De=>De.id===Z)).filter(Boolean))||[],I=`You are operating as an autonomous agent working on behalf of the user. Your task is to complete this workflow session autonomously.

SESSION MODE: ${M.mode==="auto"?"FULLY AUTONOMOUS":"SEMI-AUTONOMOUS"}
${(Qe=M.autonomousAgentConfig)!=null&&Qe.personality?`PERSONALITY: ${M.autonomousAgentConfig.personality}`:""}
${(Ut=M.autonomousAgentConfig)!=null&&Ut.decisionStyle?`DECISION STYLE: ${M.autonomousAgentConfig.decisionStyle}`:""}
${(F=M.autonomousAgentConfig)!=null&&F.communicationStyle?`COMMUNICATION STYLE: ${M.autonomousAgentConfig.communicationStyle}`:""}

DELIVERABLES TO COMPLETE:
${et.map(Z=>`- ${Z.title}: ${Z.description}
  Guardrails: ${Z.guardrails}
  Success: ${Z.successCriteria}`).join(`
`)}

TASK SEQUENCE:
${Ge.map((Z,De)=>`${De+1}. ${Z.title}${Z.description?`: ${Z.description}`:""}${Z.estimatedTime?` (${Z.estimatedTime} min)`:""}`).join(`
`)}

${M.sessionGoals&&M.sessionGoals.length>0?`SESSION GOALS:
${M.sessionGoals.map(Z=>{var De;return`- ${((De=je(Z))==null?void 0:De.title)||Z}`}).join(`
`)}`:""}

AVAILABLE CONTEXT:
- ${Se.length} people in network
- ${Ee.length} brand elements
- ${_e.length} calendar events
- ${pe.length} journal entries

${M.mode==="auto"?"AUTONOMOUS MODE: Work through the tasks systematically. Make decisions, take actions, and complete deliverables. Act as the user would act. Use ACTION markers to create entities, update calendar, add people, etc. as needed.":"SEMI-AUTONOMOUS MODE: Guide the user through the workflow. Ask questions, provide suggestions, check progress, and ensure all deliverables are completed. Be collaborative and supportive."}

Start working through the tasks now. Provide updates as you progress.`;await i(I)},ue=async(M,Se)=>{await H.saveAgendaSession({...M,status:Se,updatedAt:Date.now()}),P()},xe=async()=>{E&&(await H.saveAgendaSession({...E,notes:z,updatedAt:Date.now()}),P())},Me=async()=>{if(!E)return;const Se=o.filter(_e=>E.deliverableIds.includes(_e.deliverableId||"")&&_e.status==="done").length*10;await Tl("agenda.session");const Ee={...E,status:"completed",endedAt:Date.now(),summary:X,notes:z,xpAwarded:Se,updatedAt:Date.now()};await H.saveAgendaSession(Ee),await H.savePostMortem({id:`mortem-${Date.now()}`,sessionId:Ee.id,notes:X,grade:D?Number(D):void 0,createdAt:Date.now()}),await ru("Agenda session completed",X||"Session ended",{scope:"professional",tags:["agenda","session","post-mortem"],metadata:{sessionId:Ee.id,xpAwarded:Se},autoGenerated:!0}),L(""),oe(""),k(null),P()},Ie=async(M,Se)=>{await H.saveAgendaItem({...M,status:Se,completedAt:Se==="done"?Date.now():void 0}),await Tl("agenda.add"),P()},yt=async M=>{await H.deleteAgendaItem(M),P()},Be=async()=>{W&&(await H.saveDeliverable({...W,...w,tags:w.tags.split(",").map(M=>M.trim()).filter(Boolean)}),me(null),P())},vt=async M=>{const Se=o.filter(Ee=>Ee.deliverableId===M);for(const Ee of Se)await H.deleteAgendaItem(Ee.id);await H.deleteDeliverable(M),P()},At=async()=>{if(de.length===0)return;const M=de.map(Ge=>ie(Ge)).filter(Boolean),[Se,Ee,_e,pe]=await Promise.all([H.getPeopleRecords(),H.getBrandRecords(),H.getCalendarEvents(),H.getJournalEntries()]),et=`Generate a detailed workflow/task sequence for these deliverables:

DELIVERABLES:
${M.map(Ge=>`- ${Ge.title}: ${Ge.description}
  Guardrails: ${Ge.guardrails}
  Success: ${Ge.successCriteria}`).join(`
`)}

AVAILABLE CONTEXT:
- ${Se.length} people in network
- ${Ee.length} brand elements  
- ${_e.length} calendar events
- ${pe.length} journal entries

Create a step-by-step workflow with specific, actionable tasks. For each task, respond with:
[ACTION:agenda.add|title|description|deliverableId|estimatedTime|priority]

Where:
- title: Task title
- description: What needs to be done
- deliverableId: One of ${de.join(", ")}
- estimatedTime: Minutes (e.g., 30, 60, 120)
- priority: low, medium, or high

Generate 5-15 tasks that break down these deliverables into actionable steps.`;await i(et)};return l.jsxs(Wt,{title:"Agenda",subtitle:"Autonomous & semi-autonomous workflow builder. Set up task sequences for Sylvia to execute or guide you through.",children:[l.jsxs("div",{className:"grid grid-cols-2 sm:grid-cols-4 md:grid-cols-7 gap-4 mb-6",children:[l.jsxs("div",{className:"rounded-2xl border border-white/70 bg-gradient-to-br from-blue-50 to-blue-100 p-4",children:[l.jsxs("div",{className:"flex items-center justify-between mb-2",children:[l.jsx(Xd,{className:"w-6 h-6 text-blue-600"}),l.jsx("span",{className:"text-2xl font-bold text-black",children:S.totalItems})]}),l.jsx("p",{className:"text-xs uppercase tracking-[0.2em] text-gray-600",children:"Total Tasks"})]}),l.jsxs("div",{className:"rounded-2xl border border-white/70 bg-gradient-to-br from-green-50 to-green-100 p-4",children:[l.jsxs("div",{className:"flex items-center justify-between mb-2",children:[l.jsx(Va,{className:"w-6 h-6 text-green-600"}),l.jsx("span",{className:"text-2xl font-bold text-black",children:S.doneItems})]}),l.jsx("p",{className:"text-xs uppercase tracking-[0.2em] text-gray-600",children:"Done"})]}),l.jsxs("div",{className:"rounded-2xl border border-white/70 bg-gradient-to-br from-yellow-50 to-yellow-100 p-4",children:[l.jsxs("div",{className:"flex items-center justify-between mb-2",children:[l.jsx(Ua,{className:"w-6 h-6 text-yellow-600"}),l.jsx("span",{className:"text-2xl font-bold text-black",children:S.inProgressItems})]}),l.jsx("p",{className:"text-xs uppercase tracking-[0.2em] text-gray-600",children:"In Progress"})]}),l.jsxs("div",{className:"rounded-2xl border border-white/70 bg-gradient-to-br from-gray-50 to-gray-100 p-4",children:[l.jsxs("div",{className:"flex items-center justify-between mb-2",children:[l.jsx(Xd,{className:"w-6 h-6 text-gray-600"}),l.jsx("span",{className:"text-2xl font-bold text-black",children:S.todoItems})]}),l.jsx("p",{className:"text-xs uppercase tracking-[0.2em] text-gray-600",children:"To Do"})]}),l.jsxs("div",{className:"rounded-2xl border border-white/70 bg-gradient-to-br from-purple-50 to-purple-100 p-4",children:[l.jsxs("div",{className:"flex items-center justify-between mb-2",children:[l.jsx(wa,{className:"w-6 h-6 text-purple-600"}),l.jsx("span",{className:"text-2xl font-bold text-black",children:S.totalDeliverables})]}),l.jsx("p",{className:"text-xs uppercase tracking-[0.2em] text-gray-600",children:"Deliverables"})]}),l.jsxs("div",{className:"rounded-2xl border border-white/70 bg-gradient-to-br from-orange-50 to-orange-100 p-4",children:[l.jsxs("div",{className:"flex items-center justify-between mb-2",children:[l.jsx(Mi,{className:"w-6 h-6 text-orange-600"}),l.jsx("span",{className:"text-2xl font-bold text-black",children:S.activeSessions})]}),l.jsx("p",{className:"text-xs uppercase tracking-[0.2em] text-gray-600",children:"Active"})]}),l.jsxs("div",{className:"rounded-2xl border border-white/70 bg-gradient-to-br from-pink-50 to-pink-100 p-4",children:[l.jsxs("div",{className:"flex items-center justify-between mb-2",children:[l.jsx(zi,{className:"w-6 h-6 text-pink-600"}),l.jsx("span",{className:"text-2xl font-bold text-black",children:S.completedSessions})]}),l.jsx("p",{className:"text-xs uppercase tracking-[0.2em] text-gray-600",children:"Completed"})]})]}),E&&l.jsxs("div",{className:"glass-panel border border-white/70 rounded-3xl p-6 mb-6 space-y-4 bg-gradient-to-br from-purple-50/50 to-blue-50/50",children:[l.jsxs("div",{className:"flex items-center justify-between",children:[l.jsxs("div",{children:[l.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[E.mode==="auto"?l.jsx(no,{className:"w-5 h-5 text-purple-600"}):E.mode==="semi-auto"?l.jsx(an,{className:"w-5 h-5 text-blue-600"}):l.jsx(Ri,{className:"w-5 h-5 text-gray-600"}),l.jsxs("span",{className:"text-xs uppercase tracking-[0.3em] text-secondary-light",children:[E.mode==="auto"?"AUTONOMOUS":E.mode==="semi-auto"?"SEMI-AUTONOMOUS":"MANUAL"," SESSION"]}),l.jsx("span",{className:`px-2 py-0.5 rounded-full text-xs font-semibold ${E.status==="active"?"bg-green-100 text-green-700":"bg-yellow-100 text-yellow-700"}`,children:E.status.toUpperCase()})]}),l.jsx("h3",{className:"text-xl font-semibold",children:"Active Workflow Session"}),l.jsxs("p",{className:"text-sm text-secondary-light",children:["Started ",new Date(E.startedAt).toLocaleString()]})]}),l.jsxs("div",{className:"flex gap-2",children:[E.status==="active"&&l.jsxs("button",{onClick:()=>ue(E,"paused"),className:"px-4 py-2 rounded-full bg-white border border-white/70 text-sm hover:bg-gray-50 transition flex items-center gap-2",children:[l.jsx(g1,{className:"w-4 h-4"}),"Pause"]}),E.status==="paused"&&l.jsxs("button",{onClick:()=>ue(E,"active"),className:"px-4 py-2 rounded-full bg-white border border-white/70 text-sm hover:bg-gray-50 transition flex items-center gap-2",children:[l.jsx(Mi,{className:"w-4 h-4"}),"Resume"]}),l.jsx("button",{onClick:()=>{k(null),ae("")},className:"px-4 py-2 rounded-full bg-white border border-white/70 text-sm hover:bg-gray-50 transition",children:l.jsx(Qt,{className:"w-4 h-4"})})]})]}),l.jsxs("div",{children:[l.jsx("p",{className:"text-xs uppercase tracking-[0.2em] text-secondary-light mb-2",children:"Deliverables"}),l.jsx("div",{className:"flex flex-wrap gap-2",children:E.deliverableIds.map(M=>{const Se=ie(M);return Se?l.jsx("span",{className:"px-3 py-1 rounded-full bg-white border border-white/70 text-sm font-medium",children:Se.title},M):null})})]}),E.sessionGoals&&E.sessionGoals.length>0&&l.jsxs("div",{children:[l.jsxs("p",{className:"text-xs uppercase tracking-[0.2em] text-secondary-light mb-2 flex items-center gap-1",children:[l.jsx(wa,{className:"w-3 h-3"}),"Session Goals"]}),l.jsx("div",{className:"flex flex-wrap gap-2",children:E.sessionGoals.map(M=>{const Se=je(M);return Se?l.jsx("span",{className:"px-3 py-1 rounded-full bg-purple-100 text-purple-700 text-sm font-medium border border-purple-200",children:Se.title},M):null})})]}),E.taskSequence&&E.taskSequence.length>0&&l.jsxs("div",{children:[l.jsxs("p",{className:"text-xs uppercase tracking-[0.2em] text-secondary-light mb-2",children:["Task Sequence (",E.currentTaskIndex||1," / ",E.taskSequence.length,")"]}),l.jsxs("div",{className:"space-y-2",children:[E.taskSequence.slice(0,5).map((M,Se)=>{const Ee=o.find(pe=>pe.id===M);if(!Ee)return null;const _e=Se===(E.currentTaskIndex||0);return l.jsxs("div",{className:`flex items-center gap-3 p-3 rounded-2xl border ${_e?"bg-purple-100 border-purple-300":Ee.status==="done"?"bg-green-50 border-green-200 opacity-60":"bg-white border-white/70"}`,children:[Ee.status==="done"?l.jsx(Va,{className:"w-5 h-5 text-green-600"}):_e?l.jsx(Tx,{className:"w-5 h-5 text-purple-600"}):l.jsx(Ua,{className:"w-5 h-5 text-gray-400"}),l.jsxs("div",{className:"flex-1",children:[l.jsx("p",{className:"text-sm font-medium",children:Ee.title}),Ee.estimatedTime&&l.jsxs("p",{className:"text-xs text-secondary-light",children:[Ee.estimatedTime," min"]})]})]},M)}),E.taskSequence.length>5&&l.jsxs("p",{className:"text-xs text-secondary-light text-center",children:["+",E.taskSequence.length-5," more tasks"]})]})]}),l.jsxs("div",{children:[l.jsx("label",{className:"text-xs uppercase tracking-[0.2em] text-secondary-light mb-2 block",children:"Live Notes / Transcript"}),l.jsx("textarea",{value:z,onChange:M=>ae(M.target.value),placeholder:E.mode==="auto"?"Autonomous agent is working... Notes will appear here.":E.mode==="semi-auto"?"Jam session notes... Sylvia is guiding you through the workflow.":"Session notes...",rows:6,className:"w-full rounded-2xl border border-white/70 px-4 py-3 bg-white/80 focus:outline-none focus:ring-2 focus:ring-black resize-none"}),l.jsx("button",{onClick:xe,className:"mt-2 px-4 py-2 rounded-full bg-black text-white text-sm font-medium hover:shadow-lg transition",children:"Save Notes"})]}),l.jsxs("div",{className:"pt-4 border-t border-white/20 space-y-3",children:[l.jsxs("div",{children:[l.jsx("label",{className:"text-xs uppercase tracking-[0.2em] text-secondary-light mb-2 block",children:"Post-Mortem Summary"}),l.jsx("textarea",{value:X,onChange:M=>L(M.target.value),placeholder:"What happened? What was accomplished? What did you learn?",rows:3,className:"w-full rounded-2xl border border-white/70 px-4 py-3 bg-white/80 focus:outline-none focus:ring-2 focus:ring-black resize-none"})]}),l.jsxs("div",{className:"flex items-center gap-3",children:[l.jsxs("select",{value:D,onChange:M=>oe(M.target.value),className:"rounded-2xl border border-white/70 px-4 py-2 bg-white/80 focus:outline-none focus:ring-2 focus:ring-black",children:[l.jsx("option",{value:"",children:"Grade Session"}),[5,4,3,2,1].map(M=>l.jsxs("option",{value:M,children:[M," "]},M))]}),l.jsxs("button",{onClick:Me,className:"flex-1 px-4 py-2 rounded-2xl bg-black text-white font-semibold hover:shadow-lg transition flex items-center justify-center gap-2",children:[l.jsx(Va,{className:"w-4 h-4"}),"Complete Session"]})]})]})]}),!E&&l.jsxs("div",{className:"glass-panel border border-white/70 rounded-3xl p-6 mb-6 space-y-4",children:[l.jsxs("div",{className:"flex items-center justify-between",children:[l.jsxs("div",{children:[l.jsxs("h3",{className:"text-xl font-semibold flex items-center gap-2",children:[l.jsx(tl,{className:"w-5 h-5"}),"Start Workflow Session"]}),l.jsx("p",{className:"text-sm text-secondary-light mt-1",children:"Choose mode and deliverables to begin"})]}),l.jsxs("button",{onClick:()=>te(!ve),className:"px-4 py-2 rounded-full bg-white border border-white/70 text-sm hover:bg-gray-50 transition flex items-center gap-2",children:[l.jsx(B1,{className:"w-4 h-4"}),"Config"]})]}),l.jsxs("div",{children:[l.jsx("label",{className:"text-xs uppercase tracking-[0.2em] text-secondary-light mb-2 block",children:"Session Mode"}),l.jsx("div",{className:"grid grid-cols-3 gap-3",children:["manual","semi-auto","auto"].map(M=>l.jsxs("button",{onClick:()=>$(M),className:`p-4 rounded-2xl border transition ${T===M?"border-black bg-black text-white shadow-lg":"border-white/70 bg-white/80 hover:bg-white"}`,children:[M==="auto"?l.jsx(no,{className:"w-6 h-6 mx-auto mb-2"}):M==="semi-auto"?l.jsx(an,{className:"w-6 h-6 mx-auto mb-2"}):l.jsx(Ri,{className:"w-6 h-6 mx-auto mb-2"}),l.jsx("p",{className:"text-sm font-semibold capitalize mb-1",children:M==="auto"?"Autonomous":M==="semi-auto"?"Semi-Auto":"Manual"}),l.jsx("p",{className:"text-xs opacity-70",children:M==="auto"?"Agent works independently":M==="semi-auto"?"Guided collaboration":"Full manual control"})]},M))})]}),ve&&T==="auto"&&l.jsxs("div",{className:"p-4 rounded-2xl bg-purple-50 border border-purple-200 space-y-3",children:[l.jsx("p",{className:"text-sm font-semibold text-purple-900",children:"Autonomous Agent Configuration"}),l.jsxs("div",{children:[l.jsx("label",{className:"text-xs uppercase tracking-[0.2em] text-purple-700 mb-2 block",children:"Personality / How should the agent act?"}),l.jsx("textarea",{value:A.personality,onChange:M=>R({...A,personality:M.target.value}),placeholder:"e.g., Proactive, decisive, detail-oriented, communicates clearly...",rows:2,className:"w-full rounded-2xl border border-purple-200 px-4 py-2 bg-white focus:outline-none focus:ring-2 focus:ring-purple-500 resize-none"})]}),l.jsxs("div",{children:[l.jsx("label",{className:"text-xs uppercase tracking-[0.2em] text-purple-700 mb-2 block",children:"Decision Style"}),l.jsx("input",{value:A.decisionStyle,onChange:M=>R({...A,decisionStyle:M.target.value}),placeholder:"e.g., Fast decisions, consult context first, conservative approach...",className:"w-full rounded-2xl border border-purple-200 px-4 py-2 bg-white focus:outline-none focus:ring-2 focus:ring-purple-500"})]}),l.jsxs("div",{children:[l.jsx("label",{className:"text-xs uppercase tracking-[0.2em] text-purple-700 mb-2 block",children:"Communication Style"}),l.jsx("input",{value:A.communicationStyle,onChange:M=>R({...A,communicationStyle:M.target.value}),placeholder:"e.g., Concise updates, detailed reports, minimal communication...",className:"w-full rounded-2xl border border-purple-200 px-4 py-2 bg-white focus:outline-none focus:ring-2 focus:ring-purple-500"})]})]}),l.jsxs("div",{children:[l.jsx("label",{className:"text-xs uppercase tracking-[0.2em] text-secondary-light mb-2 block",children:"Select Deliverables"}),c.length===0?l.jsx("p",{className:"text-sm text-secondary-light p-4 rounded-2xl bg-white/50 border border-dashed border-white/70",children:"No deliverables yet. Tell Sylvia about what you want to achieve, or start a session and she'll help create deliverables as you work."}):l.jsx("div",{className:"flex flex-wrap gap-2",children:c.map(M=>l.jsx("button",{onClick:()=>ye(Se=>Se.includes(M.id)?Se.filter(Ee=>Ee!==M.id):[...Se,M.id]),className:`px-4 py-2 rounded-full border text-sm font-medium transition ${de.includes(M.id)?"bg-black text-white border-black":"bg-white border-white/70 hover:bg-gray-50"}`,children:M.title},M.id))})]}),l.jsxs("div",{children:[l.jsx("label",{className:"text-xs uppercase tracking-[0.2em] text-secondary-light mb-2 block",children:"Link to Goals (Optional)"}),f.length===0?l.jsx("p",{className:"text-xs text-secondary-light",children:"No goals available. Create goals in Polaris first."}):l.jsx("div",{className:"flex flex-wrap gap-2",children:f.map(M=>l.jsxs("button",{onClick:()=>q(Se=>Se.includes(M.id)?Se.filter(Ee=>Ee!==M.id):[...Se,M.id]),className:`px-3 py-1 rounded-full border text-xs font-medium transition flex items-center gap-1 ${ge.includes(M.id)?"bg-purple-100 text-purple-700 border-purple-300":"bg-white border-white/70 hover:bg-gray-50"}`,children:[l.jsx(wa,{className:"w-3 h-3"}),M.title]},M.id))})]}),l.jsxs("div",{className:"flex gap-3",children:[T!=="manual"&&de.length>0&&l.jsxs("button",{onClick:At,className:"px-4 py-2 rounded-full bg-blue-50 text-blue-700 border border-blue-200 text-sm font-medium hover:bg-blue-100 transition flex items-center gap-2",children:[l.jsx(fs,{className:"w-4 h-4"}),"Generate Workflow"]}),l.jsx("button",{onClick:N,className:"flex-1 px-4 py-2 rounded-full bg-black text-white text-sm font-semibold hover:shadow-lg transition flex items-center justify-center gap-2",children:T==="auto"?l.jsxs(l.Fragment,{children:[l.jsx(no,{className:"w-4 h-4"}),"Start Autonomous Session"]}):T==="semi-auto"?l.jsxs(l.Fragment,{children:[l.jsx(an,{className:"w-4 h-4"}),"Start Jam Session"]}):l.jsxs(l.Fragment,{children:[l.jsx(Mi,{className:"w-4 h-4"}),"Start Manual Session"]})})]})]}),l.jsxs("div",{className:"mb-8",children:[l.jsx("div",{className:"flex items-center justify-between mb-4",children:l.jsxs("div",{children:[l.jsxs("h2",{className:"text-2xl font-semibold flex items-center gap-2",children:[l.jsx(wa,{className:"w-6 h-6"}),"Deliverables"]}),l.jsx("p",{className:"text-sm text-secondary-light mt-1",children:"Deliverables are created through conversation with Sylvia. Talk to her about what you want to achieve and she'll add them here."})]})}),c.length===0?l.jsxs("div",{className:"glass-panel rounded-3xl border border-white/70 p-12 text-center",children:[l.jsx("div",{className:"flex justify-center mb-4",children:l.jsx(wa,{className:"w-16 h-16 text-secondary-light"})}),l.jsx("h3",{className:"text-xl font-semibold mb-2",children:"No deliverables yet"}),l.jsx("p",{className:"text-secondary-light",children:"Tell Sylvia about the outcomes you want to achieve. She'll create deliverables here, then you can build workflows around them."})]}):l.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:c.map(M=>{const Se=(W==null?void 0:W.id)===M.id,Ee=o.filter(pe=>pe.deliverableId===M.id),_e=Ee.filter(pe=>pe.status==="done").length;return l.jsx("div",{className:`rounded-3xl border p-6 transition-all ${Se?"border-black bg-black text-white shadow-xl":"border-white/70 bg-white/90 hover:shadow-lg hover:border-white"}`,children:Se?l.jsxs("div",{className:"space-y-4",children:[l.jsxs("div",{children:[l.jsx("label",{className:"text-xs uppercase tracking-[0.2em] text-white/70 mb-2 block",children:"Title *"}),l.jsx("input",{value:w.title,onChange:pe=>Y({...w,title:pe.target.value}),className:"w-full rounded-2xl border border-white/30 bg-white/10 px-4 py-2 text-white placeholder:text-white/50 focus:outline-none focus:ring-2 focus:ring-white/50",placeholder:"Deliverable title"})]}),l.jsxs("div",{children:[l.jsx("label",{className:"text-xs uppercase tracking-[0.2em] text-white/70 mb-2 block",children:"Description *"}),l.jsx("textarea",{value:w.description,onChange:pe=>Y({...w,description:pe.target.value}),rows:3,className:"w-full rounded-2xl border border-white/30 bg-white/10 px-4 py-2 text-white placeholder:text-white/50 focus:outline-none focus:ring-2 focus:ring-white/50 resize-none",placeholder:"What needs to be delivered?"})]}),l.jsxs("div",{children:[l.jsx("label",{className:"text-xs uppercase tracking-[0.2em] text-white/70 mb-2 block",children:"Guardrails"}),l.jsx("textarea",{value:w.guardrails,onChange:pe=>Y({...w,guardrails:pe.target.value}),rows:2,className:"w-full rounded-2xl border border-white/30 bg-white/10 px-4 py-2 text-white placeholder:text-white/50 focus:outline-none focus:ring-2 focus:ring-white/50 resize-none",placeholder:"Constraints, boundaries, things to avoid..."})]}),l.jsxs("div",{children:[l.jsx("label",{className:"text-xs uppercase tracking-[0.2em] text-white/70 mb-2 block",children:"Success Criteria"}),l.jsx("textarea",{value:w.successCriteria,onChange:pe=>Y({...w,successCriteria:pe.target.value}),rows:2,className:"w-full rounded-2xl border border-white/30 bg-white/10 px-4 py-2 text-white placeholder:text-white/50 focus:outline-none focus:ring-2 focus:ring-white/50 resize-none",placeholder:"How will you know this is complete?"})]}),l.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[l.jsxs("div",{children:[l.jsx("label",{className:"text-xs uppercase tracking-[0.2em] text-white/70 mb-2 block",children:"Scope"}),l.jsxs("select",{value:w.scope,onChange:pe=>Y({...w,scope:pe.target.value}),className:"w-full rounded-2xl border border-white/30 bg-white/10 px-4 py-2 text-white focus:outline-none focus:ring-2 focus:ring-white/50",children:[l.jsx("option",{value:"personal",children:"Personal"}),l.jsx("option",{value:"professional",children:"Professional"})]})]}),l.jsxs("div",{children:[l.jsx("label",{className:"text-xs uppercase tracking-[0.2em] text-white/70 mb-2 block",children:"Priority"}),l.jsxs("select",{value:w.priority,onChange:pe=>Y({...w,priority:pe.target.value}),className:"w-full rounded-2xl border border-white/30 bg-white/10 px-4 py-2 text-white focus:outline-none focus:ring-2 focus:ring-white/50",children:[l.jsx("option",{value:"low",children:"Low"}),l.jsx("option",{value:"medium",children:"Medium"}),l.jsx("option",{value:"high",children:"High"})]})]})]}),l.jsxs("div",{children:[l.jsx("label",{className:"text-xs uppercase tracking-[0.2em] text-white/70 mb-2 block",children:"Tags (comma-separated)"}),l.jsx("input",{value:w.tags,onChange:pe=>Y({...w,tags:pe.target.value}),className:"w-full rounded-2xl border border-white/30 bg-white/10 px-4 py-2 text-white placeholder:text-white/50 focus:outline-none focus:ring-2 focus:ring-white/50",placeholder:"tag1, tag2, tag3"})]}),l.jsxs("div",{className:"flex gap-2",children:[l.jsx("button",{onClick:async()=>{W.id.startsWith("deliverable-")?await H.saveDeliverable({...W,...w,tags:w.tags.split(",").map(pe=>pe.trim()).filter(Boolean)}):await Be(),me(null),P()},className:"flex-1 px-4 py-2 rounded-2xl bg-white text-black font-semibold hover:bg-gray-100 transition",children:"Save"}),l.jsx("button",{onClick:()=>{me(null),Y({title:"",description:"",guardrails:"",successCriteria:"",scope:"professional",priority:"medium",tags:""})},className:"px-4 py-2 rounded-2xl bg-white/20 text-white border border-white/30 hover:bg-white/30 transition",children:"Cancel"})]})]}):l.jsxs(l.Fragment,{children:[l.jsx("div",{className:"flex items-start justify-between mb-4",children:l.jsxs("div",{className:"flex-1",children:[l.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[l.jsx("span",{className:`px-2 py-0.5 rounded-full text-xs font-semibold ${M.priority==="high"?"bg-red-100 text-red-700":M.priority==="medium"?"bg-yellow-100 text-yellow-700":"bg-gray-100 text-gray-700"}`,children:M.priority}),l.jsx("span",{className:"px-2 py-0.5 rounded-full bg-gray-100 text-gray-700 text-xs",children:M.scope}),Ee.length>0&&l.jsxs("span",{className:"px-2 py-0.5 rounded-full bg-blue-100 text-blue-700 text-xs",children:[_e,"/",Ee.length," tasks"]})]}),l.jsx("h3",{className:"text-xl font-bold mb-2",children:M.title})]})}),l.jsx(bt,{content:M.description,className:"text-sm mb-3"}),M.guardrails&&l.jsxs("div",{className:"mb-3 p-3 rounded-2xl bg-yellow-50 border border-yellow-100",children:[l.jsx("p",{className:"text-xs font-semibold text-yellow-900 uppercase tracking-[0.1em] mb-1",children:"Guardrails"}),l.jsx("p",{className:"text-xs text-yellow-700",children:M.guardrails})]}),M.successCriteria&&l.jsxs("div",{className:"mb-3 p-3 rounded-2xl bg-green-50 border border-green-100",children:[l.jsx("p",{className:"text-xs font-semibold text-green-900 uppercase tracking-[0.1em] mb-1",children:"Success Criteria"}),l.jsx("p",{className:"text-xs text-green-700",children:M.successCriteria})]}),M.tags.length>0&&l.jsx("div",{className:"mb-3 flex flex-wrap gap-1.5",children:M.tags.map(pe=>l.jsxs("span",{className:"px-2 py-0.5 rounded-full bg-blue-50 text-blue-700 text-xs border border-blue-100",children:["#",pe]},pe))}),l.jsxs("div",{className:"flex items-center gap-2 pt-4 border-t border-white/20",children:[l.jsxs("button",{onClick:()=>startEditDeliverable(M),className:"px-3 py-1.5 rounded-full bg-white/80 border border-white/70 text-xs font-medium hover:bg-white transition flex items-center gap-1",children:[l.jsx(Xa,{className:"w-3 h-3"}),"Edit"]}),l.jsxs("button",{onClick:()=>vt(M.id),className:"px-3 py-1.5 rounded-full bg-white/80 border border-white/70 text-xs font-medium hover:bg-red-50 hover:border-red-200 hover:text-red-700 transition flex items-center gap-1",children:[l.jsx(rn,{className:"w-3 h-3"}),"Delete"]})]})]})},M.id)})})]}),l.jsxs("div",{className:"mb-6 space-y-4",children:[l.jsx("div",{className:"glass-panel rounded-2xl border border-white/70 p-4",children:l.jsxs("div",{className:"flex items-center gap-3",children:[l.jsx(_l,{className:"w-5 h-5 text-secondary-light"}),l.jsx("input",{type:"text",value:be,onChange:M=>J(M.target.value),placeholder:"Search tasks by title, description, tags...",className:"flex-1 bg-transparent outline-none text-lg placeholder:text-secondary-light"}),be&&l.jsx("button",{onClick:()=>J(""),className:"px-3 py-1 rounded-full bg-white/80 border border-white/70 text-sm hover:bg-white transition",children:"Clear"})]})}),l.jsxs("div",{className:"flex flex-wrap gap-2 items-center",children:[l.jsxs("span",{className:"text-sm text-secondary-light flex items-center gap-1",children:[l.jsx(bs,{className:"w-4 h-4"}),"Filter:"]}),l.jsx("button",{onClick:()=>Ne(null),className:`px-3 py-1 rounded-full text-xs font-medium transition ${le===null?"bg-black text-white":"bg-white/80 border border-white/70 hover:bg-white"}`,children:"All"}),["todo","in-progress","done"].map(M=>l.jsx("button",{onClick:()=>Ne(le===M?null:M),className:`px-3 py-1 rounded-full text-xs font-medium transition capitalize ${le===M?"bg-black text-white":"bg-white/80 border border-white/70 hover:bg-white"}`,children:M.replace("-"," ")},M))]})]}),K.length===0?l.jsxs("div",{className:"glass-panel rounded-3xl border border-white/70 p-12 text-center",children:[l.jsx("div",{className:"flex justify-center mb-4",children:l.jsx(Xd,{className:"w-16 h-16 text-secondary-light"})}),l.jsx("h3",{className:"text-xl font-semibold mb-2",children:o.length===0?"No tasks yet":"No matches found"}),l.jsx("p",{className:"text-secondary-light",children:o.length===0?"Tasks are created through conversation with Sylvia or by generating workflows from deliverables. Talk to her about what needs to be done.":"Try adjusting your search or filters."})]}):l.jsx("div",{className:"space-y-4",children:K.map(M=>{const Se=M.deliverableId?ie(M.deliverableId):null,Ee=(Oe==null?void 0:Oe.id)===M.id;return l.jsx("div",{className:`rounded-3xl border p-6 transition-all ${Ee?"border-black bg-black text-white shadow-xl":"border-white/70 bg-white/90 hover:shadow-lg hover:border-white"}`,children:Ee?l.jsxs("div",{className:"space-y-4",children:[l.jsxs("div",{children:[l.jsx("label",{className:"text-xs uppercase tracking-[0.2em] text-white/70 mb-2 block",children:"Title *"}),l.jsx("input",{value:V.title,onChange:_e=>se({...V,title:_e.target.value}),className:"w-full rounded-2xl border border-white/30 bg-white/10 px-4 py-2 text-white placeholder:text-white/50 focus:outline-none focus:ring-2 focus:ring-white/50"})]}),l.jsxs("div",{children:[l.jsx("label",{className:"text-xs uppercase tracking-[0.2em] text-white/70 mb-2 block",children:"Description"}),l.jsx("textarea",{value:V.description,onChange:_e=>se({...V,description:_e.target.value}),rows:3,className:"w-full rounded-2xl border border-white/30 bg-white/10 px-4 py-2 text-white placeholder:text-white/50 focus:outline-none focus:ring-2 focus:ring-white/50 resize-none"})]}),l.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[l.jsxs("div",{children:[l.jsx("label",{className:"text-xs uppercase tracking-[0.2em] text-white/70 mb-2 block",children:"Due Date"}),l.jsx("input",{type:"datetime-local",value:V.dueAt,onChange:_e=>se({...V,dueAt:_e.target.value}),className:"w-full rounded-2xl border border-white/30 bg-white/10 px-4 py-2 text-white focus:outline-none focus:ring-2 focus:ring-white/50"})]}),l.jsxs("div",{children:[l.jsx("label",{className:"text-xs uppercase tracking-[0.2em] text-white/70 mb-2 block",children:"Estimated Time (min)"}),l.jsx("input",{type:"number",value:V.estimatedTime,onChange:_e=>se({...V,estimatedTime:_e.target.value}),className:"w-full rounded-2xl border border-white/30 bg-white/10 px-4 py-2 text-white focus:outline-none focus:ring-2 focus:ring-white/50"})]})]}),l.jsxs("div",{className:"flex gap-2",children:[l.jsx("button",{onClick:async()=>{await H.saveAgendaItem({...M,title:V.title,description:V.description||void 0,dueAt:V.dueAt?new Date(V.dueAt).getTime():void 0,estimatedTime:V.estimatedTime?parseInt(V.estimatedTime):void 0,priority:V.priority,tags:V.tags.split(",").map(_e=>_e.trim()).filter(Boolean),deliverableId:V.deliverableId||void 0}),ze(null),se({title:"",description:"",dueAt:"",estimatedTime:"",priority:"medium",tags:"",deliverableId:""}),P()},className:"flex-1 px-4 py-2 rounded-2xl bg-white text-black font-semibold hover:bg-gray-100 transition",children:"Save"}),l.jsx("button",{onClick:()=>{ze(null),se({title:"",description:"",dueAt:"",estimatedTime:"",priority:"medium",tags:""})},className:"px-4 py-2 rounded-2xl bg-white/20 text-white border border-white/30 hover:bg-white/30 transition",children:"Cancel"})]})]}):l.jsxs(l.Fragment,{children:[l.jsx("div",{className:"flex items-start justify-between mb-4",children:l.jsxs("div",{className:"flex-1",children:[l.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[l.jsx("span",{className:`px-2 py-0.5 rounded-full text-xs font-semibold ${M.status==="done"?"bg-green-100 text-green-700":M.status==="in-progress"?"bg-blue-100 text-blue-700":"bg-gray-100 text-gray-700"}`,children:M.status.replace("-"," ")}),M.priority&&l.jsx("span",{className:`px-2 py-0.5 rounded-full text-xs font-semibold ${M.priority==="high"?"bg-red-100 text-red-700":M.priority==="medium"?"bg-yellow-100 text-yellow-700":"bg-gray-100 text-gray-700"}`,children:M.priority}),Se&&l.jsx("span",{className:"px-2 py-0.5 rounded-full bg-purple-100 text-purple-700 text-xs",children:Se.title}),M.estimatedTime&&l.jsxs("span",{className:"px-2 py-0.5 rounded-full bg-blue-50 text-blue-700 text-xs flex items-center gap-1",children:[l.jsx(Ua,{className:"w-3 h-3"}),M.estimatedTime," min"]})]}),l.jsx("h4",{className:"text-xl font-bold mb-1",children:M.title}),M.description&&l.jsx(bt,{content:M.description,className:"text-sm mb-2"}),M.dueAt&&l.jsxs("p",{className:"text-xs text-secondary-light flex items-center gap-1",children:[l.jsx(sn,{className:"w-3 h-3"}),"Due: ",new Date(M.dueAt).toLocaleString()]}),M.tags&&M.tags.length>0&&l.jsx("div",{className:"mt-2 flex flex-wrap gap-1.5",children:M.tags.map(_e=>l.jsxs("span",{className:"px-2 py-0.5 rounded-full bg-gray-100 text-gray-700 text-xs",children:["#",_e]},_e))})]})}),l.jsxs("div",{className:"flex items-center gap-2 pt-4 border-t border-white/20",children:[l.jsx("div",{className:"flex gap-2",children:["todo","in-progress","done"].map(_e=>l.jsx("button",{onClick:()=>Ie(M,_e),className:`px-3 py-1.5 rounded-full text-xs font-medium transition capitalize ${M.status===_e?"bg-black text-white":"bg-white/80 border border-white/70 hover:bg-white"}`,children:_e.replace("-"," ")},_e))}),l.jsxs("button",{onClick:()=>{var _e,pe;ze(M),se({title:M.title,description:M.description||"",dueAt:M.dueAt?new Date(M.dueAt).toISOString().slice(0,16):"",estimatedTime:((_e=M.estimatedTime)==null?void 0:_e.toString())||"",priority:M.priority||"medium",tags:((pe=M.tags)==null?void 0:pe.join(", "))||"",deliverableId:M.deliverableId||""})},className:"px-3 py-1.5 rounded-full bg-white/80 border border-white/70 text-xs font-medium hover:bg-white transition flex items-center gap-1 ml-auto",children:[l.jsx(Xa,{className:"w-3 h-3"}),"Edit"]}),l.jsxs("button",{onClick:()=>yt(M.id),className:"px-3 py-1.5 rounded-full bg-white/80 border border-white/70 text-xs font-medium hover:bg-red-50 hover:border-red-200 hover:text-red-700 transition flex items-center gap-1",children:[l.jsx(rn,{className:"w-3 h-3"}),"Delete"]})]})]})},M.id)})}),m.length>0&&l.jsxs("div",{className:"mt-8",children:[l.jsxs("h2",{className:"text-2xl font-semibold mb-4 flex items-center gap-2",children:[l.jsx(ku,{className:"w-6 h-6"}),"Session History"]}),l.jsx("div",{className:"space-y-4",children:m.filter(M=>M.status==="completed").map(M=>{const Se=M.deliverableIds.map(_e=>ie(_e)).filter(Boolean),Ee=x.find(_e=>_e.sessionId===M.id);return l.jsxs("div",{className:"rounded-3xl border border-white/70 bg-white/90 p-6 space-y-3",children:[l.jsxs("div",{className:"flex items-center justify-between",children:[l.jsxs("div",{children:[l.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[M.mode==="auto"?l.jsx(no,{className:"w-4 h-4 text-purple-600"}):M.mode==="semi-auto"?l.jsx(an,{className:"w-4 h-4 text-blue-600"}):l.jsx(Ri,{className:"w-4 h-4 text-gray-600"}),l.jsx("span",{className:"text-xs uppercase tracking-[0.2em] text-secondary-light",children:M.mode==="auto"?"Autonomous":M.mode==="semi-auto"?"Semi-Auto":"Manual"}),l.jsx("span",{className:"text-xs text-secondary-light",children:new Date(M.startedAt).toLocaleDateString()}),M.xpAwarded&&l.jsxs("span",{className:"px-2 py-0.5 rounded-full bg-green-100 text-green-700 text-xs font-medium",children:["+",M.xpAwarded," XP"]})]}),l.jsx("h4",{className:"text-lg font-semibold",children:Se.map(_e=>_e.title).join(", ")})]}),(Ee==null?void 0:Ee.grade)&&l.jsxs("div",{className:"flex items-center gap-1",children:[l.jsx(Star,{className:"w-4 h-4 text-yellow-500"}),l.jsxs("span",{className:"text-sm font-semibold",children:[Ee.grade,"/5"]})]})]}),M.summary&&l.jsx(bt,{content:M.summary,className:"text-sm"}),Ee&&l.jsxs("div",{className:"p-3 rounded-2xl bg-gray-50 border border-gray-100",children:[l.jsx("p",{className:"text-xs font-semibold text-gray-900 uppercase tracking-[0.1em] mb-1",children:"Post-Mortem"}),l.jsx("p",{className:"text-xs text-gray-700",children:Ee.notes})]})]},M.id)})})]})]})},Fa=[{value:"meeting",label:"Meeting",color:"#3B82F6"},{value:"call",label:"Call",color:"#10B981"},{value:"appointment",label:"Appointment",color:"#8B5CF6"},{value:"event",label:"Event",color:"#F59E0B"},{value:"deadline",label:"Deadline",color:"#EF4444"},{value:"reminder",label:"Reminder",color:"#6B7280"},{value:"other",label:"Other",color:"#9CA3AF"}],ew=["none","daily","weekly","monthly","yearly"],tw=i=>{const o=new Date(i.getFullYear(),i.getMonth(),1),d=o.getDay(),c=new Date(o);c.setDate(o.getDate()-d);const h=[];for(let m=0;m<42;m++){const g=new Date(c);g.setDate(c.getDate()+m),h.push(g)}return h},aw=()=>{const[i,o]=y.useState([]),[d,c]=y.useState([]),[h,m]=y.useState(new Date),[g,x]=y.useState(new Date),[b,f]=y.useState("month"),[v,E]=y.useState(null),[k,T]=y.useState(""),[$,z]=y.useState(null),[ae,de]=y.useState(!0),[ye,ge]=y.useState(""),[q,X]=y.useState(""),[L,D]=y.useState(""),[oe,be]=y.useState(""),[J,le]=y.useState(""),[Ne,ve]=y.useState(""),[te,A]=y.useState("meeting"),[R,W]=y.useState([]),[me,Oe]=y.useState([]),[ze,w]=y.useState(""),[Y,V]=y.useState(!1),[se,P]=y.useState("none"),[S,K]=y.useState(),[ie,je]=y.useState(""),N=y.useCallback(async()=>{const[F,Z]=await Promise.all([H.getCalendarEvents(),H.getPeopleRecords()]);o(F.sort((De,Ye)=>De.startAt-Ye.startAt)),c(Z)},[]);y.useEffect(()=>(N(),on("calendar",N)),[N]);const ce=y.useMemo(()=>{let F=i;if(k.trim()){const Z=k.toLowerCase();F=F.filter(De=>{var Ye,Ze,fe;return De.title.toLowerCase().includes(Z)||((Ye=De.description)==null?void 0:Ye.toLowerCase().includes(Z))||((Ze=De.location)==null?void 0:Ze.toLowerCase().includes(Z))||((fe=De.tags)==null?void 0:fe.some(wt=>wt.toLowerCase().includes(Z)))})}return $&&(F=F.filter(Z=>Z.eventType===$)),F},[i,k,$]),ue=y.useMemo(()=>{const F=Date.now();return ce.filter(Z=>Z.startAt>=F).slice(0,5).sort((Z,De)=>Z.startAt-De.startAt)},[ce]),xe=y.useMemo(()=>{const F=new Date;F.setHours(0,0,0,0);const Z=new Date(F);return Z.setDate(Z.getDate()+1),ce.filter(De=>De.startAt>=F.getTime()&&De.startAt<Z.getTime())},[ce]),Me=y.useMemo(()=>{const F=g.toDateString();return ce.filter(Z=>new Date(Z.startAt).toDateString()===F)},[ce,g]),Ie=y.useMemo(()=>{const F={};return ce.forEach(Z=>{const De=new Date(Z.startAt).toDateString();F[De]||(F[De]=[]),F[De]=[...F[De],Z]}),F},[ce]),yt=y.useMemo(()=>tw(h),[h]),Be=y.useMemo(()=>{const F=Date.now(),Z=i.filter(Ze=>Ze.startAt>=F).length,De=i.filter(Ze=>Ze.startAt<F).length,Ye=i.filter(Ze=>{const fe=new Date(Ze.startAt),wt=new Date;wt.setDate(wt.getDate()-wt.getDay()),wt.setHours(0,0,0,0);const Zt=new Date(wt);return Zt.setDate(Zt.getDate()+7),fe>=wt&&fe<Zt}).length;return{total:i.length,upcoming:Z,past:De,thisWeek:Ye}},[i]),vt=F=>{var Z;E(F),ge(F.title),X(F.description||""),D(new Date(F.startAt).toISOString().slice(0,16)),be(new Date(F.endAt).toISOString().slice(0,16)),le(F.location||""),ve(F.meetingLink||""),A(F.eventType||"meeting"),W(F.participants||[]),Oe(F.tags||[]),w(F.color||((Z=Fa.find(De=>De.value===F.eventType))==null?void 0:Z.color)||"#3B82F6"),V(F.isRecurring||!1),P(F.recurrenceRule||"none"),K(F.reminderMinutes),x(new Date(F.startAt))},At=()=>{E(null),ge(""),X(""),D(""),be(""),le(""),ve(""),A("meeting"),W([]),Oe([]),w(""),V(!1),P("none"),K(void 0),je("")},M=async()=>{v&&(await H.saveCalendarEvent({...v,title:ye,description:q||void 0,startAt:L?new Date(L).getTime():v.startAt,endAt:oe?new Date(oe).getTime():v.endAt,location:J||void 0,meetingLink:Ne||void 0,eventType:te,participants:R.length>0?R:void 0,tags:me.length>0?me:void 0,color:ze||void 0,isRecurring:Y||void 0,recurrenceRule:se!=="none"?se:void 0,reminderMinutes:S||void 0,updatedAt:Date.now()}),At(),N())},Se=async F=>{await H.deleteCalendarEvent(F),N()},Ee=()=>{ie.trim()&&!me.includes(ie.trim())&&(Oe([...me,ie.trim()]),je(""))},_e=F=>{Oe(me.filter(Z=>Z!==F))},pe=F=>d.find(Z=>Z.id===F),et=F=>new Date(F).toLocaleTimeString("en-US",{hour:"numeric",minute:"2-digit"}),Ge=F=>new Date(F).toLocaleDateString("en-US",{weekday:"short",month:"short",day:"numeric"}),I=h.toLocaleString("default",{month:"long",year:"numeric"}),Ue=()=>{const F=new Date(h);F.setMonth(h.getMonth()-1),m(F)},Qe=()=>{const F=new Date(h);F.setMonth(h.getMonth()+1),m(F)},Ut=()=>{const F=new Date;m(F),x(F)};return l.jsxs(Wt,{title:"Calendar",subtitle:"Temporal anchors with rich context. Participants, locations, meeting links, and more for Sylvia's understanding.",children:[l.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 md:grid-cols-4 gap-4 mb-6",children:[l.jsxs("div",{className:"rounded-2xl border border-white/70 bg-gradient-to-br from-blue-50 to-blue-100 p-4",children:[l.jsxs("div",{className:"flex items-center justify-between mb-2",children:[l.jsx(gy,{className:"w-6 h-6 text-blue-600"}),l.jsx("span",{className:"text-2xl font-bold text-black",children:Be.total})]}),l.jsx("p",{className:"text-xs uppercase tracking-[0.2em] text-gray-600",children:"Total Events"})]}),l.jsxs("div",{className:"rounded-2xl border border-white/70 bg-gradient-to-br from-green-50 to-green-100 p-4",children:[l.jsxs("div",{className:"flex items-center justify-between mb-2",children:[l.jsx(No,{className:"w-6 h-6 text-green-600"}),l.jsx("span",{className:"text-2xl font-bold text-black",children:Be.upcoming})]}),l.jsx("p",{className:"text-xs uppercase tracking-[0.2em] text-gray-600",children:"Upcoming"})]}),l.jsxs("div",{className:"rounded-2xl border border-white/70 bg-gradient-to-br from-purple-50 to-purple-100 p-4",children:[l.jsxs("div",{className:"flex items-center justify-between mb-2",children:[l.jsx(Ua,{className:"w-6 h-6 text-purple-600"}),l.jsx("span",{className:"text-2xl font-bold text-black",children:Be.thisWeek})]}),l.jsx("p",{className:"text-xs uppercase tracking-[0.2em] text-gray-600",children:"This Week"})]}),l.jsxs("div",{className:"rounded-2xl border border-white/70 bg-gradient-to-br from-orange-50 to-orange-100 p-4",children:[l.jsxs("div",{className:"flex items-center justify-between mb-2",children:[l.jsx(sn,{className:"w-6 h-6 text-orange-600"}),l.jsx("span",{className:"text-2xl font-bold text-black",children:xe.length})]}),l.jsx("p",{className:"text-xs uppercase tracking-[0.2em] text-gray-600",children:"Today"})]})]}),l.jsxs("div",{className:"mb-6 space-y-4",children:[l.jsx("div",{className:"glass-panel rounded-2xl border border-white/70 p-4",children:l.jsxs("div",{className:"flex items-center gap-3",children:[l.jsx(_l,{className:"w-5 h-5 text-secondary-light"}),l.jsx("input",{type:"text",value:k,onChange:F=>T(F.target.value),placeholder:"Search events by title, description, location, tags...",className:"flex-1 bg-transparent outline-none text-lg placeholder:text-secondary-light"}),k&&l.jsx("button",{onClick:()=>T(""),className:"px-3 py-1 rounded-full bg-white/80 border border-white/70 text-sm hover:bg-white transition",children:"Clear"})]})}),l.jsxs("div",{className:"flex flex-wrap gap-2",children:[l.jsxs("span",{className:"text-sm text-secondary-light flex items-center gap-1",children:[l.jsx(bs,{className:"w-4 h-4"}),"Filter:"]}),l.jsx("button",{onClick:()=>z(null),className:`px-3 py-1 rounded-full text-xs font-medium transition ${$===null?"bg-black text-white":"bg-white/80 border border-white/70 hover:bg-white"}`,children:"All"}),Fa.map(F=>l.jsxs("button",{onClick:()=>z($===F.value?null:F.value),className:`px-3 py-1 rounded-full text-xs font-medium transition flex items-center gap-1 ${$===F.value?"bg-black text-white":"bg-white/80 border border-white/70 hover:bg-white"}`,children:[l.jsx("div",{className:"w-2 h-2 rounded-full",style:{backgroundColor:F.color}}),F.label]},F.value))]})]}),l.jsxs("div",{className:"glass-panel border border-white/70 rounded-3xl p-6 mb-6",children:[l.jsxs("div",{className:"flex items-center justify-between mb-6",children:[l.jsxs("div",{className:"flex items-center gap-3",children:[l.jsx("button",{onClick:Ue,className:"p-2 rounded-full bg-white/80 border border-white/70 hover:bg-white transition",children:l.jsx(jy,{className:"w-4 h-4"})}),l.jsx("h2",{className:"text-xl font-semibold",children:I}),l.jsx("button",{onClick:Qe,className:"p-2 rounded-full bg-white/80 border border-white/70 hover:bg-white transition",children:l.jsx(ky,{className:"w-4 h-4"})})]}),l.jsx("button",{onClick:Ut,className:"px-4 py-2 rounded-full bg-black text-white text-sm font-medium hover:shadow-lg transition",children:"Today"})]}),l.jsx("div",{className:"grid grid-cols-7 gap-2 text-center text-xs uppercase tracking-[0.3em] text-secondary-light mb-2",children:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"].map(F=>l.jsx("div",{className:"font-semibold",children:F},F))}),l.jsx("div",{className:"grid grid-cols-7 gap-2",children:yt.map(F=>{const Z=F.toDateString(),De=F.getMonth()===h.getMonth(),Ye=Z===new Date().toDateString(),Ze=Z===g.toDateString(),fe=Ie[Z]||[];return l.jsxs("button",{onClick:()=>x(F),className:`rounded-2xl border px-2 py-3 text-left space-y-1 transition min-h-[80px] ${Ze?"bg-black text-white border-black shadow-lg":Ye?"bg-blue-50 border-blue-200 text-primary-light":"bg-white/70 text-primary-light border-white/70 hover:bg-white"} ${De?"":"opacity-40"}`,children:[l.jsxs("div",{className:"flex items-center justify-between",children:[l.jsx("p",{className:`text-sm font-semibold ${Ye&&!Ze?"text-blue-600":""}`,children:F.getDate()}),Ye&&l.jsx("div",{className:"w-1.5 h-1.5 rounded-full bg-blue-600"})]}),fe.length>0&&l.jsxs("div",{className:"space-y-0.5",children:[fe.slice(0,2).map(wt=>{const Zt=Fa.find(vs=>vs.value===wt.eventType)||Fa[0];return l.jsxs("div",{className:"text-[9px] px-1 py-0.5 rounded truncate",style:{backgroundColor:Ze?"rgba(255,255,255,0.2)":`${Zt.color}20`,color:Ze?"white":Zt.color},children:[et(wt.startAt)," ",wt.title.substring(0,15)]},wt.id)}),fe.length>2&&l.jsxs("p",{className:"text-[9px] text-secondary-light",children:["+",fe.length-2," more"]})]})]},Z+F.getDate())})})]}),l.jsxs("div",{className:"grid gap-6 lg:grid-cols-3",children:[l.jsx("div",{className:"lg:col-span-2 space-y-6",children:l.jsxs("div",{className:"glass-panel border border-white/70 rounded-3xl p-6",children:[l.jsxs("div",{className:"flex items-center justify-between mb-4",children:[l.jsxs("h3",{className:"text-lg font-semibold flex items-center gap-2",children:[l.jsx(sn,{className:"w-5 h-5"}),g.toLocaleDateString("en-US",{weekday:"long",month:"long",day:"numeric",year:"numeric"})]}),l.jsxs("span",{className:"text-sm text-secondary-light",children:[Me.length," event",Me.length!==1?"s":""]})]}),Me.length===0?l.jsx("p",{className:"text-sm text-secondary-light text-center py-8",children:"No events scheduled for this date."}):l.jsx("div",{className:"space-y-4",children:Me.map(F=>{var Ze;const Z=Fa.find(fe=>fe.value===F.eventType)||Fa[0],De=(v==null?void 0:v.id)===F.id,Ye=((Ze=F.participants)==null?void 0:Ze.map(fe=>pe(fe)).filter(Boolean))||[];return l.jsx("div",{className:`rounded-3xl border p-6 transition-all ${De?"border-black bg-black text-white shadow-xl":"border-white/70 bg-white/90 hover:shadow-lg hover:border-white"}`,style:{borderLeftWidth:De?"4px":"1px",borderLeftColor:De?"white":Z.color},children:De?l.jsxs("div",{className:"space-y-4",children:[l.jsxs("div",{children:[l.jsx("label",{className:"text-xs uppercase tracking-[0.2em] text-white/70 mb-2 block",children:"Title *"}),l.jsx("input",{value:ye,onChange:fe=>ge(fe.target.value),className:"w-full rounded-2xl border border-white/30 bg-white/10 px-4 py-2 text-white placeholder:text-white/50 focus:outline-none focus:ring-2 focus:ring-white/50",placeholder:"Event title"})]}),l.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[l.jsxs("div",{children:[l.jsx("label",{className:"text-xs uppercase tracking-[0.2em] text-white/70 mb-2 block",children:"Start"}),l.jsx("input",{type:"datetime-local",value:L,onChange:fe=>D(fe.target.value),className:"w-full rounded-2xl border border-white/30 bg-white/10 px-4 py-2 text-white focus:outline-none focus:ring-2 focus:ring-white/50"})]}),l.jsxs("div",{children:[l.jsx("label",{className:"text-xs uppercase tracking-[0.2em] text-white/70 mb-2 block",children:"End"}),l.jsx("input",{type:"datetime-local",value:oe,onChange:fe=>be(fe.target.value),className:"w-full rounded-2xl border border-white/30 bg-white/10 px-4 py-2 text-white focus:outline-none focus:ring-2 focus:ring-white/50"})]})]}),l.jsxs("div",{children:[l.jsx("label",{className:"text-xs uppercase tracking-[0.2em] text-white/70 mb-2 block",children:"Event Type"}),l.jsx("select",{value:te,onChange:fe=>{A(fe.target.value);const wt=Fa.find(Zt=>Zt.value===fe.target.value);wt&&w(wt.color)},className:"w-full rounded-2xl border border-white/30 bg-white/10 px-4 py-2 text-white focus:outline-none focus:ring-2 focus:ring-white/50",children:Fa.map(fe=>l.jsx("option",{value:fe.value,children:fe.label},fe.value))})]}),l.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[l.jsxs("div",{children:[l.jsx("label",{className:"text-xs uppercase tracking-[0.2em] text-white/70 mb-2 block",children:"Location"}),l.jsx("input",{value:J,onChange:fe=>le(fe.target.value),className:"w-full rounded-2xl border border-white/30 bg-white/10 px-4 py-2 text-white placeholder:text-white/50 focus:outline-none focus:ring-2 focus:ring-white/50",placeholder:"Venue or address"})]}),l.jsxs("div",{children:[l.jsx("label",{className:"text-xs uppercase tracking-[0.2em] text-white/70 mb-2 block",children:"Meeting Link"}),l.jsx("input",{type:"url",value:Ne,onChange:fe=>ve(fe.target.value),className:"w-full rounded-2xl border border-white/30 bg-white/10 px-4 py-2 text-white placeholder:text-white/50 focus:outline-none focus:ring-2 focus:ring-white/50",placeholder:"https://..."})]})]}),l.jsxs("div",{children:[l.jsx("label",{className:"text-xs uppercase tracking-[0.2em] text-white/70 mb-2 block",children:"Participants"}),l.jsx("select",{multiple:!0,value:R,onChange:fe=>{const wt=Array.from(fe.target.selectedOptions,Zt=>Zt.value);W(wt)},className:"w-full rounded-2xl border border-white/30 bg-white/10 px-4 py-2 text-white focus:outline-none focus:ring-2 focus:ring-white/50 min-h-[100px]",size:5,children:d.map(fe=>l.jsxs("option",{value:fe.id,children:[fe.name," ",fe.role?`(${fe.role})`:""]},fe.id))}),l.jsx("p",{className:"text-xs text-white/50 mt-1",children:"Hold Cmd/Ctrl to select multiple"})]}),l.jsxs("div",{children:[l.jsx("label",{className:"text-xs uppercase tracking-[0.2em] text-white/70 mb-2 block",children:"Tags"}),l.jsx("div",{className:"flex flex-wrap gap-2 mb-2",children:me.map(fe=>l.jsxs("span",{className:"inline-flex items-center gap-1 px-2 py-1 rounded-full bg-white/20 text-white text-xs",children:[fe,l.jsx("button",{onClick:()=>_e(fe),className:"hover:text-red-300",children:l.jsx(Qt,{className:"w-3 h-3"})})]},fe))}),l.jsxs("div",{className:"flex gap-2",children:[l.jsx("input",{value:ie,onChange:fe=>je(fe.target.value),onKeyPress:fe=>fe.key==="Enter"&&Ee(),className:"flex-1 rounded-2xl border border-white/30 bg-white/10 px-4 py-2 text-white placeholder:text-white/50 focus:outline-none focus:ring-2 focus:ring-white/50",placeholder:"Add tag..."}),l.jsx("button",{onClick:Ee,className:"px-4 py-2 rounded-2xl bg-white/20 text-white border border-white/30 hover:bg-white/30 transition",children:l.jsx(cu,{className:"w-4 h-4"})})]})]}),l.jsxs("div",{children:[l.jsx("label",{className:"text-xs uppercase tracking-[0.2em] text-white/70 mb-2 block",children:"Description"}),l.jsx("textarea",{value:q,onChange:fe=>X(fe.target.value),rows:4,className:"w-full rounded-2xl border border-white/30 bg-white/10 px-4 py-2 text-white placeholder:text-white/50 focus:outline-none focus:ring-2 focus:ring-white/50 resize-none",placeholder:"Event details, agenda, notes..."})]}),l.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[l.jsxs("div",{children:[l.jsxs("label",{className:"flex items-center gap-2 text-xs text-white/70 mb-2",children:[l.jsx("input",{type:"checkbox",checked:Y,onChange:fe=>V(fe.target.checked),className:"rounded"}),"Recurring Event"]}),Y&&l.jsx("select",{value:se,onChange:fe=>P(fe.target.value),className:"w-full rounded-2xl border border-white/30 bg-white/10 px-4 py-2 text-white text-sm focus:outline-none focus:ring-2 focus:ring-white/50",children:ew.filter(fe=>fe!=="none").map(fe=>l.jsx("option",{value:fe,children:fe.charAt(0).toUpperCase()+fe.slice(1)},fe))})]}),l.jsxs("div",{children:[l.jsx("label",{className:"text-xs uppercase tracking-[0.2em] text-white/70 mb-2 block",children:"Reminder (minutes before)"}),l.jsx("input",{type:"number",value:S||"",onChange:fe=>K(fe.target.value?parseInt(fe.target.value):void 0),className:"w-full rounded-2xl border border-white/30 bg-white/10 px-4 py-2 text-white placeholder:text-white/50 focus:outline-none focus:ring-2 focus:ring-white/50",placeholder:"15"})]})]}),l.jsxs("div",{className:"flex gap-2",children:[l.jsx("button",{onClick:M,className:"flex-1 px-4 py-2 rounded-2xl bg-white text-black font-semibold hover:bg-gray-100 transition",children:"Save"}),l.jsx("button",{onClick:At,className:"px-4 py-2 rounded-2xl bg-white/20 text-white border border-white/30 hover:bg-white/30 transition",children:"Cancel"})]})]}):l.jsxs(l.Fragment,{children:[l.jsx("div",{className:"flex items-start justify-between mb-4",children:l.jsxs("div",{className:"flex-1",children:[l.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[l.jsx("div",{className:"w-3 h-3 rounded-full",style:{backgroundColor:Z.color}}),l.jsx("h4",{className:"text-xl font-bold",children:F.title})]}),l.jsxs("div",{className:"flex items-center gap-4 text-sm text-secondary-light",children:[l.jsxs("span",{className:"flex items-center gap-1",children:[l.jsx(Ua,{className:"w-4 h-4"}),et(F.startAt)," - ",et(F.endAt)]}),F.location&&l.jsxs("span",{className:"flex items-center gap-1",children:[l.jsx(Eu,{className:"w-4 h-4"}),F.location]})]})]})}),F.description&&l.jsx("div",{className:"mb-4",children:l.jsx(bt,{content:F.description,className:"text-sm leading-relaxed"})}),Ye.length>0&&l.jsxs("div",{className:"mb-4 p-3 rounded-2xl bg-blue-50 border border-blue-100",children:[l.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[l.jsx(an,{className:"w-4 h-4 text-blue-600"}),l.jsxs("span",{className:"text-xs font-semibold text-blue-900 uppercase tracking-[0.1em]",children:["Participants (",Ye.length,")"]})]}),l.jsx("div",{className:"flex flex-wrap gap-2",children:Ye.map(fe=>l.jsx("span",{className:"px-2 py-1 rounded-full bg-white text-blue-900 text-xs",children:fe.name},fe.id))})]}),F.meetingLink&&l.jsx("div",{className:"mb-4",children:l.jsxs("a",{href:F.meetingLink,target:"_blank",rel:"noopener noreferrer",className:"inline-flex items-center gap-2 px-3 py-2 rounded-full bg-green-50 text-green-700 text-sm font-medium hover:bg-green-100 transition",children:[l.jsx(Mx,{className:"w-4 h-4"}),"Join Meeting",l.jsx(Gy,{className:"w-3 h-3"})]})}),F.tags&&F.tags.length>0&&l.jsx("div",{className:"mb-4 flex flex-wrap gap-1.5",children:F.tags.map(fe=>l.jsxs("span",{className:"inline-flex items-center px-2 py-0.5 rounded-full bg-gray-100 text-gray-700 text-xs",children:[l.jsx(Tn,{className:"w-3 h-3 mr-1"}),fe]},fe))}),l.jsxs("div",{className:"flex items-center gap-2 pt-4 border-t border-white/20",children:[F.isRecurring&&l.jsxs("span",{className:"flex items-center gap-1 px-2 py-1 rounded-full bg-purple-50 text-purple-700 text-xs",children:[l.jsx(C1,{className:"w-3 h-3"}),F.recurrenceRule]}),F.reminderMinutes&&l.jsxs("span",{className:"flex items-center gap-1 px-2 py-1 rounded-full bg-yellow-50 text-yellow-700 text-xs",children:[l.jsx(iy,{className:"w-3 h-3"}),F.reminderMinutes,"m reminder"]})]}),l.jsxs("div",{className:"flex gap-2 mt-4",children:[l.jsxs("button",{onClick:()=>vt(F),className:"px-3 py-1.5 rounded-full bg-white/80 border border-white/70 text-xs font-medium hover:bg-white transition flex items-center gap-1",children:[l.jsx(Xa,{className:"w-3 h-3"}),"Edit"]}),l.jsxs("button",{onClick:()=>Se(F.id),className:"px-3 py-1.5 rounded-full bg-white/80 border border-white/70 text-xs font-medium hover:bg-red-50 hover:border-red-200 hover:text-red-700 transition flex items-center gap-1",children:[l.jsx(rn,{className:"w-3 h-3"}),"Delete"]})]})]})},F.id)})})]})}),l.jsx("div",{className:"space-y-6",children:ae&&ue.length>0&&l.jsxs("div",{className:"glass-panel border border-white/70 rounded-3xl p-6",children:[l.jsxs("div",{className:"flex items-center justify-between mb-4",children:[l.jsxs("h3",{className:"text-lg font-semibold flex items-center gap-2",children:[l.jsx(No,{className:"w-5 h-5"}),"Upcoming"]}),l.jsx("button",{onClick:()=>de(!1),className:"text-secondary-light hover:text-black transition",children:l.jsx(Qt,{className:"w-4 h-4"})})]}),l.jsx("div",{className:"space-y-3",children:ue.map(F=>{const Z=Fa.find(De=>De.value===F.eventType)||Fa[0];return l.jsx("button",{onClick:()=>{x(new Date(F.startAt)),vt(F)},className:"w-full text-left p-3 rounded-2xl border border-white/70 bg-white/80 hover:bg-white transition",children:l.jsxs("div",{className:"flex items-start gap-2 mb-1",children:[l.jsx("div",{className:"w-2 h-2 rounded-full mt-1.5 flex-shrink-0",style:{backgroundColor:Z.color}}),l.jsxs("div",{className:"flex-1 min-w-0",children:[l.jsx("p",{className:"font-semibold text-sm truncate",children:F.title}),l.jsxs("p",{className:"text-xs text-secondary-light",children:[Ge(F.startAt),"  ",et(F.startAt)]})]})]})},F.id)})})]})})]})]})},lw=[{label:"Short",minutes:15,Icon:ys},{label:"Classic",minutes:25,Icon:Ui},{label:"Long",minutes:45,Icon:To},{label:"Deep",minutes:90,Icon:Cx}],nw=()=>{const[i,o]=y.useState([]),[d,c]=y.useState("idle"),[h,m]=y.useState(25),[g,x]=y.useState(1500),[b,f]=y.useState("Focus"),[v,E]=y.useState(null),[k,T]=y.useState(null),[$,z]=y.useState(0),ae=y.useRef(null),de=y.useCallback(async()=>{const te=await H.getPomodoroSessions();o(te.sort((A,R)=>R.startedAt-A.startedAt))},[]);y.useEffect(()=>(de(),on("pomodoro",de)),[de]),y.useEffect(()=>(d==="running"&&g>0?ae.current=setInterval(()=>{x(te=>te<=1?(X(),0):te-1)},1e3):ae.current&&(clearInterval(ae.current),ae.current=null),()=>{ae.current&&clearInterval(ae.current)}),[d,g]);const ye=()=>{if(d==="idle"){const te=`pomodoro-${Date.now()}`;E(te),T(Date.now()),z(0),x(h*60)}else d==="paused"&&T(Date.now()-$);c("running")},ge=()=>{if(d==="running"&&k){const te=Date.now()-k;z(te),c("paused")}},q=()=>{c("idle"),x(h*60),E(null),T(null),z(0)},X=async()=>{if(!v||!k)return;const te=Math.round((Date.now()-k)/1e3/60),A={id:v,label:b||"Focus",startedAt:k,durationMinutes:te};await H.savePomodoroSession(A),await Tl("pomodoro.session"),"Notification"in window&&Notification.permission==="granted"&&new Notification("Pomodoro Complete!",{body:`Great work! You completed ${te} minutes of focused time.`}),c("completed"),de(),setTimeout(()=>{q()},3e3)},L=te=>{const A=Math.floor(te/60),R=te%60;return`${A.toString().padStart(2,"0")}:${R.toString().padStart(2,"0")}`},D=d!=="idle"?(h*60-g)/(h*60)*100:0,oe=2*Math.PI*120,be=oe-D/100*oe;y.useEffect(()=>{"Notification"in window&&Notification.permission==="default"&&Notification.requestPermission()},[]);const J=i.filter(te=>new Date(te.startedAt).toDateString()===new Date().toDateString()),le=J.reduce((te,A)=>te+A.durationMinutes,0),Ne=i.length;i.reduce((te,A)=>te+A.durationMinutes,0);const ve=async te=>{await H.deletePomodoroSession(te),de()};return l.jsxs(Wt,{title:"Pomodoro",subtitle:"Time-boxed focus sessions. Build momentum, one block at a time.",children:[l.jsx("div",{className:"glass-panel rounded-3xl border border-white/70 p-8 mb-6",children:l.jsxs("div",{className:"flex flex-col items-center gap-6",children:[l.jsxs("div",{className:"relative w-64 h-64",children:[l.jsxs("svg",{className:"transform -rotate-90 w-64 h-64",children:[l.jsx("circle",{cx:"128",cy:"128",r:"120",stroke:"rgba(255, 255, 255, 0.3)",strokeWidth:"8",fill:"none"}),l.jsx("circle",{cx:"128",cy:"128",r:"120",stroke:d==="completed"?"#10b981":d==="running"?"#ef4444":"#6366f1",strokeWidth:"8",fill:"none",strokeDasharray:oe,strokeDashoffset:be,strokeLinecap:"round",className:"transition-all duration-1000 ease-linear"})]}),l.jsxs("div",{className:"absolute inset-0 flex flex-col items-center justify-center",children:[l.jsx("div",{className:"text-5xl font-bold font-mono mb-2",children:L(g)}),l.jsxs("div",{className:"text-sm uppercase tracking-[0.2em] text-secondary-light",children:[d==="idle"&&"Ready",d==="running"&&"Focusing",d==="paused"&&"Paused",d==="completed"&&"Complete!"]})]})]}),l.jsx("div",{className:"w-full max-w-md",children:l.jsx("input",{type:"text",value:b,onChange:te=>f(te.target.value),placeholder:"What are you focusing on?",className:"w-full px-4 py-3 rounded-2xl border border-white/70 bg-white/80 text-center text-lg font-medium focus:outline-none focus:ring-2 focus:ring-black",disabled:d==="running"})}),d==="idle"&&l.jsx("div",{className:"flex gap-3 flex-wrap justify-center",children:lw.map(te=>l.jsxs("button",{onClick:()=>{m(te.minutes),x(te.minutes*60)},className:`px-4 py-2 rounded-full border transition-all ${h===te.minutes?"bg-black text-white border-black":"bg-white/80 border-white/70 hover:bg-white"}`,children:[l.jsx(te.Icon,{className:"w-4 h-4 mr-2 inline"}),l.jsx("span",{className:"text-sm font-medium",children:te.label}),l.jsxs("span",{className:"text-xs ml-1",children:["(",te.minutes,"m)"]})]},te.minutes))}),l.jsxs("div",{className:"flex gap-3",children:[d==="idle"&&l.jsx("button",{onClick:ye,className:"px-8 py-4 rounded-2xl bg-black text-white font-semibold text-lg hover:shadow-xl transition-all",children:"Start Focus Session"}),d==="running"&&l.jsxs(l.Fragment,{children:[l.jsx("button",{onClick:ge,className:"px-6 py-3 rounded-2xl bg-white border-2 border-gray-300 text-gray-700 font-semibold hover:bg-gray-50 transition-all",children:"Pause"}),l.jsx("button",{onClick:q,className:"px-6 py-3 rounded-2xl bg-red-50 border-2 border-red-200 text-red-700 font-semibold hover:bg-red-100 transition-all",children:"Reset"})]}),d==="paused"&&l.jsxs(l.Fragment,{children:[l.jsx("button",{onClick:ye,className:"px-6 py-3 rounded-2xl bg-black text-white font-semibold hover:shadow-lg transition-all",children:"Resume"}),l.jsx("button",{onClick:q,className:"px-6 py-3 rounded-2xl bg-red-50 border-2 border-red-200 text-red-700 font-semibold hover:bg-red-100 transition-all",children:"Reset"})]})]})]})}),l.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 md:grid-cols-3 gap-4 mb-6",children:[l.jsxs("div",{className:"rounded-2xl border border-white/70 bg-gradient-to-br from-red-50 to-orange-50 p-4",children:[l.jsxs("div",{className:"flex items-center justify-between mb-2",children:[l.jsx(Ui,{className:"w-6 h-6 text-red-600"}),l.jsx("span",{className:"text-2xl font-bold text-black",children:J.length})]}),l.jsx("p",{className:"text-xs uppercase tracking-[0.2em] text-gray-600",children:"Today's Sessions"})]}),l.jsxs("div",{className:"rounded-2xl border border-white/70 bg-gradient-to-br from-blue-50 to-purple-50 p-4",children:[l.jsxs("div",{className:"flex items-center justify-between mb-2",children:[l.jsx(Ua,{className:"w-6 h-6 text-blue-600"}),l.jsx("span",{className:"text-2xl font-bold text-black",children:le})]}),l.jsx("p",{className:"text-xs uppercase tracking-[0.2em] text-gray-600",children:"Minutes Today"})]}),l.jsxs("div",{className:"rounded-2xl border border-white/70 bg-gradient-to-br from-green-50 to-emerald-50 p-4",children:[l.jsxs("div",{className:"flex items-center justify-between mb-2",children:[l.jsx(Ao,{className:"w-6 h-6 text-green-600"}),l.jsx("span",{className:"text-2xl font-bold text-black",children:Ne})]}),l.jsx("p",{className:"text-xs uppercase tracking-[0.2em] text-gray-600",children:"Total Sessions"})]})]}),l.jsxs("div",{className:"glass-panel rounded-3xl border border-white/70 p-6",children:[l.jsxs("h3",{className:"text-lg font-semibold mb-4 flex items-center gap-2",children:[l.jsx(R1,{className:"w-5 h-5"}),l.jsx("span",{children:"Session History"})]}),i.length===0?l.jsx("p",{className:"text-secondary-light text-sm text-center py-8",children:"No sessions yet. Start your first focus session above!"}):l.jsx("div",{className:"space-y-3 max-h-96 overflow-y-auto invisible-scrollbar",children:i.map(te=>{const A=new Date(te.startedAt),R=A.toDateString()===new Date().toDateString();return l.jsxs("div",{className:"rounded-2xl border border-white/70 bg-white/80 p-4 flex items-center justify-between gap-3 hover:bg-white transition-all",children:[l.jsxs("div",{className:"flex-1",children:[l.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[l.jsx(Ui,{className:"w-4 h-4 text-red-600"}),l.jsx("h4",{className:"font-semibold",children:te.label}),R&&l.jsx("span",{className:"px-2 py-0.5 rounded-full bg-green-100 text-green-700 text-xs font-semibold",children:"Today"})]}),l.jsxs("div",{className:"flex items-center gap-4 text-sm text-secondary-light",children:[l.jsx("span",{children:A.toLocaleDateString()}),l.jsx("span",{children:""}),l.jsx("span",{children:A.toLocaleTimeString()}),l.jsx("span",{children:""}),l.jsxs("span",{className:"font-mono font-semibold text-black",children:[te.durationMinutes," min"]})]})]}),l.jsx("button",{onClick:()=>ve(te.id),className:"px-3 py-1 rounded-full bg-white border border-white/70 text-xs hover:bg-red-50 hover:border-red-200 hover:text-red-700 transition-all",children:"Delete"})]},te.id)})})]})]})},rx=[{id:"first-entry",title:"First Reflection",description:"Write your first journal entry",Icon:Au,xp:50},{id:"journal-streak-7",title:"Week Warrior",description:"7 days of journaling",Icon:To,xp:100},{id:"journal-streak-30",title:"Monthly Master",description:"30 days of journaling",Icon:$y,xp:500},{id:"agenda-10",title:"Task Master",description:"Complete 10 agenda items",Icon:Va,xp:150},{id:"pomodoro-25",title:"Focus Champion",description:"Complete 25 pomodoros",Icon:Ui,xp:200},{id:"calendar-20",title:"Time Architect",description:"Schedule 20 calendar events",Icon:sn,xp:180},{id:"people-10",title:"Network Builder",description:"Add 10 people",Icon:an,xp:120},{id:"brand-5",title:"Brand Builder",description:"Define 5 brand elements",Icon:Tu,xp:100},{id:"level-5",title:"Rising Star",description:"Reach level 5",Icon:ps,xp:0},{id:"level-10",title:"Veteran",description:"Reach level 10",Icon:tl,xp:0},{id:"level-20",title:"Legend",description:"Reach level 20",Icon:vo,xp:0},{id:"xp-1000",title:"XP Collector",description:"Earn 1000 XP",Icon:Oy,xp:0},{id:"xp-5000",title:"XP Master",description:"Earn 5000 XP",Icon:vo,xp:0},{id:"xp-10000",title:"XP Legend",description:"Earn 10000 XP",Icon:_x,xp:0}],uo={Sprout:G1,User:Ri,Radio:A1,Network:f1,Building:py,Zap:ys,Handshake:Ky,Compass:Ly,Crown:_x,Target:wa,Gem:vo,Rocket:D1,Brain:Cx,Wand2:ov,Plane:N1,Scroll:z1,Star:ps,Sparkles:tl},sw=()=>{const[i,o]=y.useState({total:0,level:0,nextLevel:200,levelName:"",levelDescription:""}),[d,c]=y.useState([]),[h,m]=y.useState({journalEntries:0,agendaItems:0,pomodoros:0,calendarEvents:0,people:0,brand:0}),[g,x]=y.useState([]),b=async()=>{const z=await iu(),ae=await Mb();o(z),c(ae)},f=async()=>{const[z,ae,de,ye,ge]=await Promise.all([H.getJournalEntries(),H.getAgendaItems(),H.getCalendarEvents(),H.getPeopleRecords(),H.getBrandRecords()]),q=z.filter(oe=>{var be;return(be=oe.tags)==null?void 0:be.includes("pomodoro")}).length,X={journalEntries:z.length,agendaItems:ae.length,pomodoros:q,calendarEvents:de.length,people:ye.length,brand:ge.length};m(X);const L=await iu(),D=[];X.journalEntries>=1&&D.push("first-entry"),X.journalEntries>=7&&D.push("journal-streak-7"),X.journalEntries>=30&&D.push("journal-streak-30"),X.agendaItems>=10&&D.push("agenda-10"),X.pomodoros>=25&&D.push("pomodoro-25"),X.calendarEvents>=20&&D.push("calendar-20"),X.people>=10&&D.push("people-10"),X.brand>=5&&D.push("brand-5"),L.level>=5&&D.push("level-5"),L.level>=10&&D.push("level-10"),L.level>=20&&D.push("level-20"),L.total>=1e3&&D.push("xp-1000"),L.total>=5e3&&D.push("xp-5000"),L.total>=1e4&&D.push("xp-10000"),x(D)};y.useEffect(()=>{(async()=>{await b(),await f()})()},[]),y.useEffect(()=>{f()},[i.total,i.level]);const v=i.total%200/200*100,E=yo(i.level),k=yo(i.level+1);y.useMemo(()=>Math.min(Math.floor(h.journalEntries/7),30),[h.journalEntries]);const T=y.useMemo(()=>{const z={};return d.forEach(ae=>{const de=ae.reason.split(".")[0]||"other";z[de]=(z[de]||0)+ae.points}),z},[d]),$=y.useMemo(()=>{const z={};return d.forEach(ae=>{z[ae.reason]=(z[ae.reason]||0)+1}),Object.entries(z).sort((ae,de)=>de[1]-ae[1]).slice(0,5)},[d]);return l.jsxs(Wt,{title:"Progress",subtitle:"Earn XP by partnering with Sylvia. Meaningful actions push you through levels.",children:[l.jsxs("div",{className:"glass-panel rounded-3xl border border-white/70 p-8 mb-6 space-y-4 bg-gradient-to-br from-white to-gray-50",children:[l.jsxs("div",{className:"flex items-start justify-between",children:[l.jsx("div",{className:"flex-1",children:l.jsxs("div",{className:"flex items-center gap-3 mb-2",children:[E.iconName&&uo[E.iconName]&&go.createElement(uo[E.iconName],{className:"w-12 h-12 text-black"}),l.jsxs("div",{children:[l.jsxs("p",{className:"text-sm uppercase tracking-[0.3em] text-secondary-light",children:["Level ",i.level]}),l.jsx("h2",{className:"text-4xl font-bold text-black",children:i.levelName}),l.jsx("p",{className:"text-sm text-secondary-light mt-1",children:i.levelDescription})]})]})}),l.jsxs("div",{className:"text-right",children:[l.jsx("p",{className:"text-2xl font-bold text-black",children:i.total.toLocaleString()}),l.jsx("p",{className:"text-xs uppercase tracking-[0.2em] text-secondary-light",children:"Total XP"})]})]}),l.jsxs("div",{className:"space-y-2",children:[l.jsx("div",{className:"w-full h-4 rounded-full bg-white/80 overflow-hidden shadow-inner",children:l.jsx("div",{className:"h-full bg-gradient-to-r from-blue-500 via-purple-500 to-pink-500 transition-all duration-500 ease-out",style:{width:`${v}%`}})}),l.jsxs("div",{className:"flex items-center justify-between text-xs text-secondary-light",children:[l.jsxs("span",{children:[i.total%200," / 200 XP"]}),l.jsxs("span",{className:"font-semibold flex items-center gap-1",children:["Next: ",k.name,k.iconName&&uo[k.iconName]&&go.createElement(uo[k.iconName],{className:"w-3 h-3"})]})]})]})]}),l.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 md:grid-cols-4 gap-4 mb-6",children:[{label:"Journal Entries",value:h.journalEntries,Icon:Au,color:"from-blue-50 to-blue-100"},{label:"Agenda Items",value:h.agendaItems,Icon:Va,color:"from-green-50 to-green-100"},{label:"Pomodoros",value:h.pomodoros,Icon:Ui,color:"from-red-50 to-red-100"},{label:"Calendar Events",value:h.calendarEvents,Icon:sn,color:"from-purple-50 to-purple-100"}].map(z=>l.jsxs("div",{className:`rounded-2xl border border-white/70 bg-gradient-to-br ${z.color} p-4`,children:[l.jsxs("div",{className:"flex items-center justify-between mb-2",children:[l.jsx(z.Icon,{className:"w-6 h-6 text-gray-700"}),l.jsx("span",{className:"text-2xl font-bold text-black",children:z.value})]}),l.jsx("p",{className:"text-xs uppercase tracking-[0.2em] text-gray-600",children:z.label})]},z.label))}),l.jsxs("div",{className:"mb-6",children:[l.jsxs("h3",{className:"text-xl font-semibold mb-4 flex items-center gap-2",children:[l.jsx(lv,{className:"w-5 h-5"}),l.jsx("span",{children:"Achievements"}),l.jsxs("span",{className:"text-sm font-normal text-secondary-light",children:["(",g.length," / ",rx.length,")"]})]}),l.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 md:grid-cols-3 gap-3",children:rx.map(z=>{const ae=g.includes(z.id);return l.jsx("div",{className:`rounded-2xl border p-4 transition-all ${ae?"bg-gradient-to-br from-yellow-50 to-orange-50 border-yellow-300 shadow-md":"bg-white/50 border-white/70 opacity-60"}`,children:l.jsxs("div",{className:"flex items-start gap-3",children:[l.jsx("div",{className:`p-2 rounded-xl ${ae?"bg-yellow-100":"bg-gray-100"}`,children:l.jsx(z.Icon,{className:`w-5 h-5 ${ae?"text-yellow-700":"text-gray-400"}`})}),l.jsxs("div",{className:"flex-1",children:[l.jsx("h4",{className:`font-semibold ${ae?"text-black":"text-gray-400"}`,children:z.title}),l.jsx("p",{className:`text-xs mt-1 ${ae?"text-gray-600":"text-gray-400"}`,children:z.description}),z.xp>0&&ae&&l.jsxs("span",{className:"inline-block mt-2 px-2 py-0.5 rounded-full bg-yellow-200 text-yellow-800 text-xs font-semibold",children:["+",z.xp," XP"]})]}),ae&&l.jsx(Va,{className:"w-5 h-5 text-yellow-500"})]})},z.id)})})]}),l.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6 mb-6",children:[l.jsxs("div",{className:"glass-panel rounded-3xl border border-white/70 p-6",children:[l.jsxs("h3",{className:"text-lg font-semibold mb-4 flex items-center gap-2",children:[l.jsx(Ao,{className:"w-5 h-5"}),l.jsx("span",{children:"XP Breakdown"})]}),Object.keys(T).length===0?l.jsx("p",{className:"text-sm text-secondary-light",children:"No XP earned yet"}):l.jsx("div",{className:"space-y-3",children:Object.entries(T).sort((z,ae)=>ae[1]-z[1]).map(([z,ae])=>l.jsxs("div",{className:"space-y-1",children:[l.jsxs("div",{className:"flex items-center justify-between text-sm",children:[l.jsx("span",{className:"capitalize font-medium",children:z}),l.jsxs("span",{className:"font-semibold",children:[ae," XP"]})]}),l.jsx("div",{className:"w-full h-2 rounded-full bg-white/60 overflow-hidden",children:l.jsx("div",{className:"h-full bg-gradient-to-r from-blue-500 to-purple-500 rounded-full",style:{width:`${ae/i.total*100}%`}})})]},z))})]}),l.jsxs("div",{className:"glass-panel rounded-3xl border border-white/70 p-6",children:[l.jsxs("h3",{className:"text-lg font-semibold mb-4 flex items-center gap-2",children:[l.jsx(To,{className:"w-5 h-5"}),l.jsx("span",{children:"Top Activities"})]}),$.length===0?l.jsx("p",{className:"text-sm text-secondary-light",children:"No activities yet"}):l.jsx("div",{className:"space-y-3",children:$.map(([z,ae],de)=>l.jsxs("div",{className:"flex items-center justify-between",children:[l.jsxs("div",{className:"flex items-center gap-3",children:[l.jsxs("span",{className:"text-lg font-bold text-gray-400",children:["#",de+1]}),l.jsx("span",{className:"text-sm capitalize",children:z.replace("."," ")})]}),l.jsxs("span",{className:"px-3 py-1 rounded-full bg-black text-white text-xs font-semibold",children:[ae,"x"]})]},z))})]})]}),l.jsxs("div",{className:"glass-panel rounded-3xl border border-white/70 p-6",children:[l.jsxs("div",{className:"flex items-center justify-between mb-4",children:[l.jsxs("h3",{className:"text-lg font-semibold flex items-center gap-2",children:[l.jsx(ys,{className:"w-5 h-5"}),l.jsx("span",{children:"Recent Activity"})]}),l.jsx("button",{onClick:b,className:"px-3 py-1 rounded-full bg-white border border-white/70 text-black text-xs hover:bg-gray-50 transition",children:"Refresh"})]}),d.length===0?l.jsx("p",{className:"text-secondary-light text-sm",children:"No activity yet. Start using Sylvia to earn XP!"}):l.jsx("div",{className:"space-y-2 max-h-64 overflow-y-auto invisible-scrollbar",children:d.map(z=>l.jsxs("div",{className:"flex items-center justify-between p-3 rounded-2xl bg-white/60 hover:bg-white/80 transition",children:[l.jsxs("div",{className:"flex-1",children:[l.jsx("p",{className:"font-medium text-sm capitalize",children:z.reason.replace("."," ")}),l.jsx("p",{className:"text-xs text-secondary-light",children:new Date(z.createdAt).toLocaleString()})]}),l.jsxs("span",{className:"px-3 py-1 rounded-full bg-gradient-to-r from-blue-500 to-purple-500 text-white text-xs font-bold shadow-sm",children:["+",z.points]})]},z.id))})]})]})},iw=()=>{const{setActiveEntity:i}=al(),[o,d]=y.useState([]),[c,h]=y.useState([]),[m,g]=y.useState(null),[x,b]=y.useState(null),[f,v]=y.useState(null),[E,k]=y.useState(null),[T,$]=y.useState(!1),[z,ae]=y.useState(""),[de,ye]=y.useState("all"),[ge,q]=y.useState(null),[X,L]=y.useState(null),[D,oe]=y.useState(null),[be,J]=y.useState({title:"",description:"",goalType:"small",scope:"professional",priority:"medium",metrics:""}),[le,Ne]=y.useState({completionNotes:"",outcome:"met",outcomeDetails:"",taskQuality:50,effortAccuracy:50,impactAccuracy:50,clarity:50,helpfulness:50,feedbackNotes:"",whatWorked:[],whatDidntWork:[],suggestions:""}),ve=y.useCallback(async()=>{const[N,ce]=await Promise.all([H.getGoals(),H.getVendorTasks()]);d(N.sort((ue,xe)=>(xe.updatedAt||xe.createdAt)-(ue.updatedAt||ue.createdAt))),h(ce.sort((ue,xe)=>xe.generatedAt-ue.generatedAt))},[]);y.useEffect(()=>(ve(),on("goal",ve)),[ve]);const te=y.useMemo(()=>{let N=o;if(de!=="all"&&(N=N.filter(ce=>ce.goalType===de)),z.trim()){const ce=z.toLowerCase();N=N.filter(ue=>ue.title.toLowerCase().includes(ce)||ue.description.toLowerCase().includes(ce)||ue.metrics.toLowerCase().includes(ce))}return N},[o,de,z]),A=y.useMemo(()=>{let N=c;if(m&&(N=N.filter(ce=>ce.goalId===m.id)),ge&&(N=N.filter(ce=>ce.status===ge)),X&&(N=N.filter(ce=>ce.estimatedEffort===X)),D&&(N=N.filter(ce=>ce.estimatedImpact===D)),z.trim()){const ce=z.toLowerCase();N=N.filter(ue=>{var xe;return ue.title.toLowerCase().includes(ce)||ue.description.toLowerCase().includes(ce)||((xe=ue.rationale)==null?void 0:xe.toLowerCase().includes(ce))})}return N},[c,m,ge,X,D,z]),R=y.useMemo(()=>{const N=o.filter(pe=>pe.goalType==="small").length,ce=o.filter(pe=>pe.goalType==="big").length,ue=c.filter(pe=>pe.status==="pending").length,xe=c.filter(pe=>pe.status==="completed").length,Me=c.filter(pe=>pe.status==="in-progress").length,Ie=c.filter(pe=>pe.status==="skipped").length,yt=c.filter(pe=>pe.status==="failed").length,Be=c.filter(pe=>pe.feedback),vt=Be.reduce((pe,et)=>{const Ge=et.feedback;return pe+(Ge.taskQuality+Ge.effortAccuracy+Ge.impactAccuracy+Ge.clarity+Ge.helpfulness)/5},0),At=Be.length>0?(vt/Be.length).toFixed(1):"",M=c.filter(pe=>pe.estimatedImpact==="high"||pe.estimatedImpact==="very-high").length,Se=c.filter(pe=>pe.estimatedEffort==="very-low"||pe.estimatedEffort==="low").length,Ee=c.length,_e=Ee>0?(xe/Ee*100).toFixed(1):"0";return{smallGoals:N,bigGoals:ce,pendingTasks:ue,completedTasks:xe,inProgressTasks:Me,skippedTasks:Ie,failedTasks:yt,avgFeedbackScore:At,highImpactTasks:M,lowEffortTasks:Se,completionRate:_e,totalTasks:Ee}},[o,c]),W=N=>{b(N),J({title:N.title,description:N.description,goalType:N.goalType,scope:N.scope,priority:N.priority,metrics:N.metrics})},me=async()=>{x&&(await H.saveGoal({...x,...be,updatedAt:Date.now()}),b(null),ve())},Oe=async N=>{const ce=c.filter(ue=>ue.goalId===N);for(const ue of ce)await H.deleteVendorTask(ue.id);await H.deleteGoal(N),ve()},ze=async()=>{if(m){$(!0);try{const N=await pt("apiKey",""),ce=await pt("secondaryApiKey",""),ue=await pt("mainModel","openrouter/polaris-alpha"),xe=await pt("systemInstruction",""),Me=await pt("weightedPrompts",[]),Ie=await pt("temperature",.7),yt=await pt("maxTokens",128e3),[Be,vt,At,M,Se,Ee]=await Promise.all([H.getPeopleRecords(),H.getBrandRecords(),H.getCalendarEvents(),H.getJournalEntries(),H.getAgendaItems(),H.getConceptRecords()]),_e=`You are generating high-impact, low-effort tasks for a Polaris goal. Analyze the goal and available context, then generate 10-12 specific, actionable tasks.

GOAL DETAILS:
Title: ${m.title}
Description: ${m.description}
Type: ${m.goalType==="small"?"Small Goal (Quick wins, short-term)":"Big Goal (Long-term, strategic)"}
Scope: ${m.scope}
Priority: ${m.priority}
Success Metrics: ${m.metrics||"Not specified"}

AVAILABLE CONTEXT:
- ${Be.length} people in network (with connections, attributes, profiles)
- ${vt.length} brand elements (voice, positioning, messaging)
- ${At.length} calendar events (meetings, deadlines, commitments)
- ${M.length} journal entries (insights, reflections, learnings)
- ${Se.length} agenda items (tasks, deliverables)
- ${Ee.length} concepts (ideas, applications, technologies)

TASK GENERATION CRITERIA:
1. HIGH IMPACT: Tasks must move the needle significantly toward achieving this goal
2. LOW EFFORT: Tasks should be quick wins that leverage existing resources and context
3. SPECIFIC & ACTIONABLE: Each task must be concrete and executable, not vague
4. CONTEXT-AWARE: Leverage the available context (people, brand, calendar, journal, agenda, concepts)
5. SEQUENCED: Consider task dependencies and logical order

For each task, you MUST respond with exactly this format:
[ACTION:polaris.task|${m.id}|title|description|rationale|estimatedEffort|estimatedImpact]

Where:
- title: Short, clear task title (3-8 words)
- description: Detailed description of what needs to be done (1-3 sentences)
- rationale: Why this task helps achieve the goal (1-2 sentences explaining the connection)
- estimatedEffort: very-low, low, medium, or high
- estimatedImpact: very-low, low, medium, high, or very-high

Generate 10-12 tasks now. Focus on tasks that are HIGH IMPACT and LOW EFFORT. Use ACTION markers only - no other text.`,pe=await Bi([{role:"system",content:xe||"You are Sylvia, an AI assistant that generates high-impact, low-effort tasks for goals."},{role:"user",content:_e}],{apiKey:N||ce,mainModel:ue,weightedPrompts:Me,temperature:.7,maxTokens:4e3});console.log("API Response:",pe);const et=pe.match(/\[ACTION:([^\]]+)\]/g);console.log("Found ACTION markers:",(et==null?void 0:et.length)||0),await Px(pe),await ve()}catch(N){console.error("Failed to generate tasks:",N),alert(`Failed to generate tasks: ${N instanceof Error?N.message:String(N)}`)}finally{$(!1)}}},w=N=>{var ce,ue,xe,Me,Ie,yt,Be,vt,At;v(N),k(N.id),Ne({completionNotes:N.completionNotes||"",outcome:N.outcome||"met",outcomeDetails:N.outcomeDetails||"",taskQuality:((ce=N.feedback)==null?void 0:ce.taskQuality)||50,effortAccuracy:((ue=N.feedback)==null?void 0:ue.effortAccuracy)||50,impactAccuracy:((xe=N.feedback)==null?void 0:xe.impactAccuracy)||50,clarity:((Me=N.feedback)==null?void 0:Me.clarity)||50,helpfulness:((Ie=N.feedback)==null?void 0:Ie.helpfulness)||50,feedbackNotes:((yt=N.feedback)==null?void 0:yt.notes)||"",whatWorked:((Be=N.learningData)==null?void 0:Be.whatWorked)||[],whatDidntWork:((vt=N.learningData)==null?void 0:vt.whatDidntWork)||[],suggestions:((At=N.learningData)==null?void 0:At.suggestions)||""})},Y=async()=>{f&&(await H.saveVendorTask({...f,status:"completed",completedAt:Date.now(),completionNotes:le.completionNotes,outcome:le.outcome,outcomeDetails:le.outcomeDetails,feedback:{taskQuality:le.taskQuality,effortAccuracy:le.effortAccuracy,impactAccuracy:le.impactAccuracy,clarity:le.clarity,helpfulness:le.helpfulness,notes:le.feedbackNotes},learningData:{whatWorked:le.whatWorked,whatDidntWork:le.whatDidntWork,suggestions:le.suggestions},updatedAt:Date.now()}),k(null),v(null),ve())},V=async(N,ce)=>{await H.saveVendorTask({...N,status:ce,updatedAt:Date.now()}),ve()},se=async N=>{await H.deleteVendorTask(N),ve()},P=N=>o.find(ce=>ce.id===N),S=N=>{const ce={"very-low":"text-green-700 bg-green-100 border-green-200",low:"text-green-600 bg-green-50 border-green-100",medium:"text-yellow-600 bg-yellow-50 border-yellow-100",high:"text-red-600 bg-red-50 border-red-100"};return ce[N]||ce.medium},K=N=>{const ce={"very-low":"text-gray-600 bg-gray-50 border-gray-100",low:"text-gray-600 bg-gray-50 border-gray-100",medium:"text-blue-600 bg-blue-50 border-blue-100",high:"text-purple-600 bg-purple-50 border-purple-100","very-high":"text-purple-700 bg-purple-100 border-purple-200"};return ce[N]||ce.medium},ie=N=>{const ce={pending:"text-gray-600 bg-gray-50 border-gray-100","in-progress":"text-blue-600 bg-blue-50 border-blue-100",completed:"text-green-600 bg-green-50 border-green-100",skipped:"text-yellow-600 bg-yellow-50 border-yellow-100",failed:"text-red-600 bg-red-50 border-red-100"};return ce[N]||ce.pending},je=N=>{switch(N){case"pending":return l.jsx(Ua,{className:"w-4 h-4"});case"in-progress":return l.jsx(Mi,{className:"w-4 h-4"});case"completed":return l.jsx(Va,{className:"w-4 h-4"});case"skipped":return l.jsx(Dy,{className:"w-4 h-4"});case"failed":return l.jsx(Eo,{className:"w-4 h-4"});default:return l.jsx(Ua,{className:"w-4 h-4"})}};return l.jsxs(Wt,{title:"Polaris",subtitle:"North Star goals meet high-impact, low-effort tasks. Sylvia learns from every outcome to get better.",children:[l.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 md:grid-cols-4 lg:grid-cols-6 gap-4 mb-6",children:[l.jsxs("div",{className:"rounded-2xl border border-white/70 bg-gradient-to-br from-blue-50 to-blue-100 p-4",children:[l.jsxs("div",{className:"flex items-center justify-between mb-2",children:[l.jsx(wa,{className:"w-6 h-6 text-blue-600"}),l.jsx("span",{className:"text-2xl font-bold text-black",children:R.smallGoals})]}),l.jsx("p",{className:"text-xs uppercase tracking-[0.2em] text-gray-600",children:"Small Goals"})]}),l.jsxs("div",{className:"rounded-2xl border border-white/70 bg-gradient-to-br from-purple-50 to-purple-100 p-4",children:[l.jsxs("div",{className:"flex items-center justify-between mb-2",children:[l.jsx(wa,{className:"w-6 h-6 text-purple-600"}),l.jsx("span",{className:"text-2xl font-bold text-black",children:R.bigGoals})]}),l.jsx("p",{className:"text-xs uppercase tracking-[0.2em] text-gray-600",children:"Big Goals"})]}),l.jsxs("div",{className:"rounded-2xl border border-white/70 bg-gradient-to-br from-yellow-50 to-yellow-100 p-4",children:[l.jsxs("div",{className:"flex items-center justify-between mb-2",children:[l.jsx(Ua,{className:"w-6 h-6 text-yellow-600"}),l.jsx("span",{className:"text-2xl font-bold text-black",children:R.pendingTasks})]}),l.jsx("p",{className:"text-xs uppercase tracking-[0.2em] text-gray-600",children:"Pending"})]}),l.jsxs("div",{className:"rounded-2xl border border-white/70 bg-gradient-to-br from-green-50 to-green-100 p-4",children:[l.jsxs("div",{className:"flex items-center justify-between mb-2",children:[l.jsx(Va,{className:"w-6 h-6 text-green-600"}),l.jsx("span",{className:"text-2xl font-bold text-black",children:R.completedTasks})]}),l.jsx("p",{className:"text-xs uppercase tracking-[0.2em] text-gray-600",children:"Completed"})]}),l.jsxs("div",{className:"rounded-2xl border border-white/70 bg-gradient-to-br from-orange-50 to-orange-100 p-4",children:[l.jsxs("div",{className:"flex items-center justify-between mb-2",children:[l.jsx(ys,{className:"w-6 h-6 text-orange-600"}),l.jsx("span",{className:"text-2xl font-bold text-black",children:R.inProgressTasks})]}),l.jsx("p",{className:"text-xs uppercase tracking-[0.2em] text-gray-600",children:"In Progress"})]}),l.jsxs("div",{className:"rounded-2xl border border-white/70 bg-gradient-to-br from-pink-50 to-pink-100 p-4",children:[l.jsxs("div",{className:"flex items-center justify-between mb-2",children:[l.jsx(zi,{className:"w-6 h-6 text-pink-600"}),l.jsx("span",{className:"text-2xl font-bold text-black",children:R.avgFeedbackScore})]}),l.jsx("p",{className:"text-xs uppercase tracking-[0.2em] text-gray-600",children:"Avg Score"})]})]}),l.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 md:grid-cols-4 gap-4 mb-6",children:[l.jsxs("div",{className:"rounded-2xl border border-white/70 bg-gradient-to-br from-indigo-50 to-indigo-100 p-4",children:[l.jsxs("div",{className:"flex items-center justify-between mb-2",children:[l.jsx(No,{className:"w-6 h-6 text-indigo-600"}),l.jsx("span",{className:"text-2xl font-bold text-black",children:R.highImpactTasks})]}),l.jsx("p",{className:"text-xs uppercase tracking-[0.2em] text-gray-600",children:"High Impact"})]}),l.jsxs("div",{className:"rounded-2xl border border-white/70 bg-gradient-to-br from-emerald-50 to-emerald-100 p-4",children:[l.jsxs("div",{className:"flex items-center justify-between mb-2",children:[l.jsx(Xy,{className:"w-6 h-6 text-emerald-600"}),l.jsx("span",{className:"text-2xl font-bold text-black",children:R.lowEffortTasks})]}),l.jsx("p",{className:"text-xs uppercase tracking-[0.2em] text-gray-600",children:"Low Effort"})]}),l.jsxs("div",{className:"rounded-2xl border border-white/70 bg-gradient-to-br from-cyan-50 to-cyan-100 p-4",children:[l.jsxs("div",{className:"flex items-center justify-between mb-2",children:[l.jsx(Ao,{className:"w-6 h-6 text-cyan-600"}),l.jsxs("span",{className:"text-2xl font-bold text-black",children:[R.completionRate,"%"]})]}),l.jsx("p",{className:"text-xs uppercase tracking-[0.2em] text-gray-600",children:"Complete Rate"})]}),l.jsxs("div",{className:"rounded-2xl border border-white/70 bg-gradient-to-br from-rose-50 to-rose-100 p-4",children:[l.jsxs("div",{className:"flex items-center justify-between mb-2",children:[l.jsx(ty,{className:"w-6 h-6 text-rose-600"}),l.jsx("span",{className:"text-2xl font-bold text-black",children:R.totalTasks})]}),l.jsx("p",{className:"text-xs uppercase tracking-[0.2em] text-gray-600",children:"Total Tasks"})]})]}),l.jsxs("div",{className:"mb-6 space-y-4",children:[l.jsx("div",{className:"glass-panel rounded-2xl border border-white/70 p-4",children:l.jsxs("div",{className:"flex items-center gap-3",children:[l.jsx(_l,{className:"w-5 h-5 text-secondary-light"}),l.jsx("input",{type:"text",value:z,onChange:N=>ae(N.target.value),placeholder:"Search goals or tasks...",className:"flex-1 bg-transparent outline-none text-lg placeholder:text-secondary-light"}),z&&l.jsx("button",{onClick:()=>ae(""),className:"px-3 py-1 rounded-full bg-white/80 border border-white/70 text-sm hover:bg-white transition",children:"Clear"})]})}),l.jsxs("div",{className:"flex flex-wrap gap-2 items-center",children:[l.jsxs("span",{className:"text-sm text-secondary-light flex items-center gap-1",children:[l.jsx(bs,{className:"w-4 h-4"}),"Filter Goals:"]}),l.jsx("button",{onClick:()=>ye("all"),className:`px-3 py-1 rounded-full text-xs font-medium transition ${de==="all"?"bg-black text-white":"bg-white/80 border border-white/70 hover:bg-white"}`,children:"All"}),l.jsx("button",{onClick:()=>ye("small"),className:`px-3 py-1 rounded-full text-xs font-medium transition ${de==="small"?"bg-black text-white":"bg-white/80 border border-white/70 hover:bg-white"}`,children:"Small Goals"}),l.jsx("button",{onClick:()=>ye("big"),className:`px-3 py-1 rounded-full text-xs font-medium transition ${de==="big"?"bg-black text-white":"bg-white/80 border border-white/70 hover:bg-white"}`,children:"Big Goals"}),m&&l.jsxs(l.Fragment,{children:[l.jsx("span",{className:"text-xs text-secondary-light mx-2",children:"|"}),l.jsx("span",{className:"text-xs text-secondary-light",children:"Task Filters:"}),l.jsx("button",{onClick:()=>{q(null),L(null),oe(null)},className:`px-3 py-1 rounded-full text-xs font-medium transition ${ge===null&&X===null&&D===null?"bg-black text-white":"bg-white/80 border border-white/70"}`,children:"All Tasks"}),["pending","in-progress","completed","skipped","failed"].map(N=>l.jsx("button",{onClick:()=>q(ge===N?null:N),className:`px-3 py-1 rounded-full text-xs font-medium transition capitalize ${ge===N?"bg-black text-white":"bg-white/80 border border-white/70"}`,children:N.replace("-"," ")},N)),l.jsx("span",{className:"text-xs text-secondary-light mx-2",children:"|"}),l.jsx("span",{className:"text-xs text-secondary-light",children:"Effort:"}),["very-low","low","medium","high"].map(N=>l.jsx("button",{onClick:()=>L(X===N?null:N),className:`px-3 py-1 rounded-full text-xs font-medium transition capitalize ${X===N?"bg-black text-white":"bg-white/80 border border-white/70"}`,children:N.replace("-"," ")},N)),l.jsx("span",{className:"text-xs text-secondary-light mx-2",children:"|"}),l.jsx("span",{className:"text-xs text-secondary-light",children:"Impact:"}),["very-low","low","medium","high","very-high"].map(N=>l.jsx("button",{onClick:()=>oe(D===N?null:N),className:`px-3 py-1 rounded-full text-xs font-medium transition capitalize ${D===N?"bg-black text-white":"bg-white/80 border border-white/70"}`,children:N.replace("-"," ")},N))]})]})]}),l.jsxs("div",{className:"mb-8",children:[l.jsx("div",{className:"flex items-center justify-between mb-4",children:l.jsxs("div",{children:[l.jsxs("h2",{className:"text-2xl font-semibold flex items-center gap-2",children:[l.jsx(wa,{className:"w-6 h-6"}),"Goals"]}),l.jsx("p",{className:"text-sm text-secondary-light mt-1",children:"Goals are created through conversation with Sylvia. Talk to her about your goals and she'll add them here."})]})}),te.length===0?l.jsxs("div",{className:"glass-panel rounded-3xl border border-white/70 p-12 text-center",children:[l.jsx("div",{className:"flex justify-center mb-4",children:l.jsx(wa,{className:"w-16 h-16 text-secondary-light"})}),l.jsx("h3",{className:"text-xl font-semibold mb-2",children:o.length===0?"No goals yet":"No matches found"}),l.jsx("p",{className:"text-secondary-light",children:o.length===0?"Tell Sylvia about your goals in the chat. She'll automatically add them here, then you can generate high-impact, low-effort tasks.":"Try adjusting your search or filters."})]}):l.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:te.map(N=>{const ce=c.filter(Be=>Be.goalId===N.id),ue=(x==null?void 0:x.id)===N.id,xe=(m==null?void 0:m.id)===N.id,Me=ce.filter(Be=>Be.status==="completed").length,Ie=ce.length,yt=Ie>0?Me/Ie*100:0;return l.jsx("div",{className:`rounded-3xl border p-6 transition-all ${xe?"border-purple-500 bg-purple-50 shadow-lg":ue?"border-black bg-black text-white shadow-xl":"border-white/70 bg-white/90 hover:shadow-lg hover:border-white"}`,onClick:()=>{if(!ue){const Be=xe?null:N;g(Be),i(Be?{type:"goal",id:Be.id,data:Be}:{type:null,id:""})}},children:ue?l.jsxs("div",{className:"space-y-4",children:[l.jsxs("div",{children:[l.jsx("label",{className:"text-xs uppercase tracking-[0.2em] text-white/70 mb-2 block",children:"Title *"}),l.jsx("input",{value:be.title,onChange:Be=>J({...be,title:Be.target.value}),className:"w-full rounded-2xl border border-white/30 bg-white/10 px-4 py-2 text-white placeholder:text-white/50 focus:outline-none focus:ring-2 focus:ring-white/50"})]}),l.jsxs("div",{children:[l.jsx("label",{className:"text-xs uppercase tracking-[0.2em] text-white/70 mb-2 block",children:"Goal Type"}),l.jsxs("select",{value:be.goalType,onChange:Be=>J({...be,goalType:Be.target.value}),className:"w-full rounded-2xl border border-white/30 bg-white/10 px-4 py-2 text-white focus:outline-none focus:ring-2 focus:ring-white/50",children:[l.jsx("option",{value:"small",children:"Small Goal"}),l.jsx("option",{value:"big",children:"Big Goal"})]})]}),l.jsxs("div",{children:[l.jsx("label",{className:"text-xs uppercase tracking-[0.2em] text-white/70 mb-2 block",children:"Description *"}),l.jsx("textarea",{value:be.description,onChange:Be=>J({...be,description:Be.target.value}),rows:4,className:"w-full rounded-2xl border border-white/30 bg-white/10 px-4 py-2 text-white placeholder:text-white/50 focus:outline-none focus:ring-2 focus:ring-white/50 resize-none"})]}),l.jsxs("div",{children:[l.jsx("label",{className:"text-xs uppercase tracking-[0.2em] text-white/70 mb-2 block",children:"Metrics"}),l.jsx("input",{value:be.metrics,onChange:Be=>J({...be,metrics:Be.target.value}),className:"w-full rounded-2xl border border-white/30 bg-white/10 px-4 py-2 text-white placeholder:text-white/50 focus:outline-none focus:ring-2 focus:ring-white/50"})]}),l.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[l.jsxs("div",{children:[l.jsx("label",{className:"text-xs uppercase tracking-[0.2em] text-white/70 mb-2 block",children:"Scope"}),l.jsxs("select",{value:be.scope,onChange:Be=>J({...be,scope:Be.target.value}),className:"w-full rounded-2xl border border-white/30 bg-white/10 px-4 py-2 text-white focus:outline-none focus:ring-2 focus:ring-white/50",children:[l.jsx("option",{value:"personal",children:"Personal"}),l.jsx("option",{value:"professional",children:"Professional"})]})]}),l.jsxs("div",{children:[l.jsx("label",{className:"text-xs uppercase tracking-[0.2em] text-white/70 mb-2 block",children:"Priority"}),l.jsxs("select",{value:be.priority,onChange:Be=>J({...be,priority:Be.target.value}),className:"w-full rounded-2xl border border-white/30 bg-white/10 px-4 py-2 text-white focus:outline-none focus:ring-2 focus:ring-white/50",children:[l.jsx("option",{value:"low",children:"Low"}),l.jsx("option",{value:"medium",children:"Medium"}),l.jsx("option",{value:"high",children:"High"})]})]})]}),l.jsxs("div",{className:"flex gap-2",children:[l.jsx("button",{onClick:me,className:"flex-1 px-4 py-2 rounded-2xl bg-white text-black font-semibold hover:bg-gray-100 transition",children:"Save"}),l.jsx("button",{onClick:()=>{b(null),J({title:"",description:"",goalType:"small",scope:"professional",priority:"medium",metrics:""})},className:"px-4 py-2 rounded-2xl bg-white/20 text-white border border-white/30 hover:bg-white/30 transition",children:"Cancel"})]})]}):l.jsxs(l.Fragment,{children:[l.jsx("div",{className:"flex items-start justify-between mb-4",children:l.jsxs("div",{className:"flex-1",children:[l.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[l.jsx("span",{className:`px-2 py-0.5 rounded-full text-xs font-semibold ${N.goalType==="big"?"bg-purple-100 text-purple-700":"bg-blue-100 text-blue-700"}`,children:N.goalType==="big"?"Big Goal":"Small Goal"}),l.jsx("span",{className:"px-2 py-0.5 rounded-full bg-gray-100 text-gray-700 text-xs",children:N.scope}),l.jsx("span",{className:`px-2 py-0.5 rounded-full text-xs ${N.priority==="high"?"bg-red-100 text-red-700":N.priority==="medium"?"bg-yellow-100 text-yellow-700":"bg-gray-100 text-gray-700"}`,children:N.priority}),Ie>0&&l.jsxs("span",{className:"px-2 py-0.5 rounded-full bg-green-100 text-green-700 text-xs font-semibold",children:[Me,"/",Ie," tasks"]})]}),l.jsx("h3",{className:"text-xl font-bold mb-2",children:N.title})]})}),l.jsx(bt,{content:N.description,className:"text-sm mb-3"}),N.metrics&&l.jsxs("p",{className:"text-xs text-secondary-light mb-3",children:[l.jsx("strong",{children:"Metrics:"})," ",N.metrics]}),Ie>0&&l.jsxs("div",{className:"mb-3",children:[l.jsxs("div",{className:"flex items-center justify-between mb-1",children:[l.jsx("span",{className:"text-xs font-semibold text-secondary-light",children:"Progress"}),l.jsxs("span",{className:"text-xs font-semibold",children:[yt.toFixed(0),"%"]})]}),l.jsx("div",{className:"w-full h-2 bg-gray-100 rounded-full overflow-hidden",children:l.jsx("div",{className:"h-full bg-gradient-to-r from-green-400 to-green-600 transition-all",style:{width:`${yt}%`}})})]}),l.jsxs("div",{className:"flex items-center gap-2 pt-4 border-t border-white/20",children:[l.jsxs("div",{className:"flex items-center gap-2 text-xs text-secondary-light",children:[l.jsx(fs,{className:"w-4 h-4"}),l.jsxs("span",{children:[Ie," tasks"]})]}),l.jsxs("div",{className:"flex gap-2 ml-auto",children:[l.jsxs("button",{onClick:Be=>{Be.stopPropagation(),W(N)},className:"px-3 py-1.5 rounded-full bg-white/80 border border-white/70 text-xs font-medium hover:bg-white transition flex items-center gap-1",children:[l.jsx(Xa,{className:"w-3 h-3"}),"Edit"]}),l.jsxs("button",{onClick:Be=>{Be.stopPropagation(),Oe(N.id)},className:"px-3 py-1.5 rounded-full bg-white/80 border border-white/70 text-xs font-medium hover:bg-red-50 hover:border-red-200 hover:text-red-700 transition flex items-center gap-1",children:[l.jsx(rn,{className:"w-3 h-3"}),"Delete"]})]})]})]})},N.id)})})]}),m&&l.jsxs("div",{className:"mb-8",children:[l.jsxs("div",{className:"flex items-center justify-between mb-4",children:[l.jsxs("div",{children:[l.jsxs("h2",{className:"text-2xl font-semibold flex items-center gap-2",children:[l.jsx(tl,{className:"w-6 h-6"}),"Tasks for: ",m.title]}),l.jsx("p",{className:"text-sm text-secondary-light mt-1",children:"High-impact, low-effort tasks generated by Sylvia. Track progress and provide feedback to help her learn."})]}),l.jsxs("div",{className:"flex gap-2",children:[l.jsx("button",{onClick:()=>g(null),className:"px-3 py-1.5 rounded-full bg-white/80 border border-white/70 text-xs font-medium hover:bg-white transition",children:l.jsx(Qt,{className:"w-4 h-4"})}),l.jsx("button",{onClick:ze,disabled:T,className:"px-4 py-2 rounded-full bg-black text-white text-sm font-medium hover:shadow-lg transition flex items-center gap-2 disabled:opacity-50",children:T?l.jsxs(l.Fragment,{children:[l.jsx(Li,{className:"w-4 h-4 animate-spin"}),"Generating..."]}):l.jsxs(l.Fragment,{children:[l.jsx(tl,{className:"w-4 h-4"}),"Generate Tasks"]})})]})]}),A.length===0?l.jsxs("div",{className:"glass-panel rounded-3xl border border-white/70 p-12 text-center",children:[l.jsx("div",{className:"flex justify-center mb-4",children:l.jsx(fs,{className:"w-16 h-16 text-secondary-light"})}),l.jsx("h3",{className:"text-xl font-semibold mb-2",children:"No tasks yet"}),l.jsx("p",{className:"text-secondary-light mb-4",children:'Click "Generate Tasks" to have Sylvia analyze your goal and create 10-12 high-impact, low-effort tasks.'})]}):l.jsx("div",{className:"space-y-4",children:A.map(N=>{const ce=(f==null?void 0:f.id)===N.id,ue=E===N.id;return P(N.goalId),l.jsx("div",{className:`rounded-3xl border p-6 transition-all ${ce||ue?"border-black bg-black text-white shadow-xl":"border-white/70 bg-white/90 hover:shadow-lg hover:border-white"}`,children:ce||ue?l.jsxs("div",{className:"space-y-4",children:[l.jsx("h3",{className:"text-lg font-semibold mb-4",children:"Task Feedback & Learning"}),l.jsxs("div",{children:[l.jsx("label",{className:"text-xs uppercase tracking-[0.2em] text-white/70 mb-2 block",children:"What happened? (Completion Notes)"}),l.jsx("textarea",{value:le.completionNotes,onChange:xe=>Ne({...le,completionNotes:xe.target.value}),rows:3,placeholder:"Describe what you did, what happened, any challenges...",className:"w-full rounded-2xl border border-white/30 bg-white/10 px-4 py-2 text-white placeholder:text-white/50 focus:outline-none focus:ring-2 focus:ring-white/50 resize-none"})]}),l.jsxs("div",{children:[l.jsx("label",{className:"text-xs uppercase tracking-[0.2em] text-white/70 mb-2 block",children:"Outcome"}),l.jsx("div",{className:"grid grid-cols-4 gap-2",children:["exceeded","met","below","missed"].map(xe=>l.jsx("button",{onClick:()=>Ne({...le,outcome:xe}),className:`px-3 py-2 rounded-2xl text-sm font-medium transition ${le.outcome===xe?"bg-white text-black":"bg-white/10 text-white border border-white/30"}`,children:xe.charAt(0).toUpperCase()+xe.slice(1)},xe))})]}),l.jsxs("div",{children:[l.jsx("label",{className:"text-xs uppercase tracking-[0.2em] text-white/70 mb-2 block",children:"Outcome Details"}),l.jsx("textarea",{value:le.outcomeDetails,onChange:xe=>Ne({...le,outcomeDetails:xe.target.value}),rows:2,placeholder:"Explain the outcome in detail...",className:"w-full rounded-2xl border border-white/30 bg-white/10 px-4 py-2 text-white placeholder:text-white/50 focus:outline-none focus:ring-2 focus:ring-white/50 resize-none"})]}),l.jsxs("div",{children:[l.jsx("label",{className:"text-xs uppercase tracking-[0.2em] text-white/70 mb-3 block",children:"Rate This Task (1-100)"}),l.jsx("div",{className:"space-y-3",children:[{key:"taskQuality",label:"Task Quality",desc:"Was this a good task?"},{key:"effortAccuracy",label:"Effort Accuracy",desc:"Was effort estimate accurate?"},{key:"impactAccuracy",label:"Impact Accuracy",desc:"Was impact estimate accurate?"},{key:"clarity",label:"Clarity",desc:"Was the task clear?"},{key:"helpfulness",label:"Helpfulness",desc:"How helpful was this task?"}].map(({key:xe,label:Me,desc:Ie})=>l.jsxs("div",{children:[l.jsxs("div",{className:"flex items-center justify-between mb-1",children:[l.jsxs("div",{children:[l.jsx("span",{className:"text-sm font-medium",children:Me}),l.jsx("span",{className:"text-xs text-white/60 ml-2",children:Ie})]}),l.jsx("span",{className:"text-sm font-semibold",children:le[xe]})]}),l.jsx("input",{type:"range",min:"1",max:"100",value:le[xe],onChange:yt=>Ne({...le,[xe]:parseInt(yt.target.value)}),className:"w-full"})]},xe))})]}),l.jsxs("div",{children:[l.jsx("label",{className:"text-xs uppercase tracking-[0.2em] text-white/70 mb-2 block",children:"Additional Feedback Notes"}),l.jsx("textarea",{value:le.feedbackNotes,onChange:xe=>Ne({...le,feedbackNotes:xe.target.value}),rows:2,placeholder:"Any other feedback for Sylvia...",className:"w-full rounded-2xl border border-white/30 bg-white/10 px-4 py-2 text-white placeholder:text-white/50 focus:outline-none focus:ring-2 focus:ring-white/50 resize-none"})]}),l.jsxs("div",{children:[l.jsx("label",{className:"text-xs uppercase tracking-[0.2em] text-white/70 mb-2 block",children:"What Worked? (comma-separated)"}),l.jsx("input",{value:le.whatWorked.join(", "),onChange:xe=>Ne({...le,whatWorked:xe.target.value.split(",").map(Me=>Me.trim()).filter(Boolean)}),placeholder:"e.g., Clear instructions, right timing, leveraged existing resources",className:"w-full rounded-2xl border border-white/30 bg-white/10 px-4 py-2 text-white placeholder:text-white/50 focus:outline-none focus:ring-2 focus:ring-white/50"})]}),l.jsxs("div",{children:[l.jsx("label",{className:"text-xs uppercase tracking-[0.2em] text-white/70 mb-2 block",children:"What Didn't Work? (comma-separated)"}),l.jsx("input",{value:le.whatDidntWork.join(", "),onChange:xe=>Ne({...le,whatDidntWork:xe.target.value.split(",").map(Me=>Me.trim()).filter(Boolean)}),placeholder:"e.g., Too vague, wrong approach, missing context",className:"w-full rounded-2xl border border-white/30 bg-white/10 px-4 py-2 text-white placeholder:text-white/50 focus:outline-none focus:ring-2 focus:ring-white/50"})]}),l.jsxs("div",{children:[l.jsx("label",{className:"text-xs uppercase tracking-[0.2em] text-white/70 mb-2 block",children:"Suggestions for Better Tasks"}),l.jsx("textarea",{value:le.suggestions,onChange:xe=>Ne({...le,suggestions:xe.target.value}),rows:2,placeholder:"How could Sylvia generate better tasks next time?",className:"w-full rounded-2xl border border-white/30 bg-white/10 px-4 py-2 text-white placeholder:text-white/50 focus:outline-none focus:ring-2 focus:ring-white/50 resize-none"})]}),l.jsxs("div",{className:"flex gap-2",children:[l.jsx("button",{onClick:Y,className:"flex-1 px-4 py-2 rounded-2xl bg-white text-black font-semibold hover:bg-gray-100 transition",children:"Save Feedback"}),l.jsx("button",{onClick:()=>{k(null),v(null)},className:"px-4 py-2 rounded-2xl bg-white/20 text-white border border-white/30 hover:bg-white/30 transition",children:"Cancel"})]})]}):l.jsxs(l.Fragment,{children:[l.jsx("div",{className:"flex items-start justify-between mb-4",children:l.jsxs("div",{className:"flex-1",children:[l.jsxs("div",{className:"flex items-center gap-2 mb-2 flex-wrap",children:[l.jsxs("span",{className:`px-2 py-0.5 rounded-full text-xs font-semibold border flex items-center gap-1 ${ie(N.status)}`,children:[je(N.status),N.status.replace("-"," ")]}),l.jsxs("span",{className:`px-2 py-0.5 rounded-full text-xs font-semibold border ${S(N.estimatedEffort)}`,children:["Effort: ",N.estimatedEffort.replace("-"," ")]}),l.jsxs("span",{className:`px-2 py-0.5 rounded-full text-xs font-semibold border ${K(N.estimatedImpact)}`,children:["Impact: ",N.estimatedImpact.replace("-"," ")]}),N.completedAt&&l.jsxs("span",{className:"px-2 py-0.5 rounded-full bg-green-50 text-green-700 text-xs border border-green-100 flex items-center gap-1",children:[l.jsx(sn,{className:"w-3 h-3"}),new Date(N.completedAt).toLocaleDateString()]})]}),l.jsx("h4",{className:"text-xl font-bold mb-2",children:N.title})]})}),l.jsx(bt,{content:N.description,className:"text-sm mb-3"}),N.rationale&&l.jsxs("div",{className:"mb-3 p-3 rounded-2xl bg-blue-50 border border-blue-100",children:[l.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[l.jsx(fs,{className:"w-4 h-4 text-blue-600"}),l.jsx("span",{className:"text-xs font-semibold text-blue-900 uppercase tracking-[0.1em]",children:"Why This Task?"})]}),l.jsx("p",{className:"text-xs text-blue-700",children:N.rationale})]}),N.completionNotes&&l.jsxs("div",{className:"mb-3 p-3 rounded-2xl bg-green-50 border border-green-100",children:[l.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[l.jsx(Va,{className:"w-4 h-4 text-green-600"}),l.jsx("span",{className:"text-xs font-semibold text-green-900 uppercase tracking-[0.1em]",children:"Completion Notes"})]}),l.jsx("p",{className:"text-xs text-green-700",children:N.completionNotes}),N.outcome&&l.jsxs("div",{className:"mt-2",children:[l.jsx("span",{className:"text-xs font-semibold text-green-900",children:"Outcome: "}),l.jsx("span",{className:"text-xs text-green-700 capitalize",children:N.outcome})]}),N.outcomeDetails&&l.jsx("p",{className:"text-xs text-green-700 mt-1",children:N.outcomeDetails})]}),N.feedback&&l.jsxs("div",{className:"mb-3 p-3 rounded-2xl bg-purple-50 border border-purple-100",children:[l.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[l.jsx(zi,{className:"w-4 h-4 text-purple-600"}),l.jsx("span",{className:"text-xs font-semibold text-purple-900 uppercase tracking-[0.1em]",children:"Feedback Scores"})]}),l.jsxs("div",{className:"grid grid-cols-2 gap-2 text-xs",children:[l.jsxs("div",{children:[l.jsx("span",{className:"text-purple-700",children:"Quality: "}),l.jsxs("span",{className:"font-semibold text-purple-900",children:[N.feedback.taskQuality,"/100"]})]}),l.jsxs("div",{children:[l.jsx("span",{className:"text-purple-700",children:"Effort Accuracy: "}),l.jsxs("span",{className:"font-semibold text-purple-900",children:[N.feedback.effortAccuracy,"/100"]})]}),l.jsxs("div",{children:[l.jsx("span",{className:"text-purple-700",children:"Impact Accuracy: "}),l.jsxs("span",{className:"font-semibold text-purple-900",children:[N.feedback.impactAccuracy,"/100"]})]}),l.jsxs("div",{children:[l.jsx("span",{className:"text-purple-700",children:"Clarity: "}),l.jsxs("span",{className:"font-semibold text-purple-900",children:[N.feedback.clarity,"/100"]})]}),l.jsxs("div",{className:"col-span-2",children:[l.jsx("span",{className:"text-purple-700",children:"Helpfulness: "}),l.jsxs("span",{className:"font-semibold text-purple-900",children:[N.feedback.helpfulness,"/100"]})]})]}),N.feedback.notes&&l.jsx("p",{className:"text-xs text-purple-700 mt-2",children:N.feedback.notes})]}),N.learningData&&l.jsxs("div",{className:"mb-3 p-3 rounded-2xl bg-indigo-50 border border-indigo-100",children:[l.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[l.jsx(ku,{className:"w-4 h-4 text-indigo-600"}),l.jsx("span",{className:"text-xs font-semibold text-indigo-900 uppercase tracking-[0.1em]",children:"Learning Data"})]}),N.learningData.whatWorked&&N.learningData.whatWorked.length>0&&l.jsxs("div",{className:"mb-2",children:[l.jsx("span",{className:"text-xs font-semibold text-indigo-900",children:"What Worked: "}),l.jsx("span",{className:"text-xs text-indigo-700",children:N.learningData.whatWorked.join(", ")})]}),N.learningData.whatDidntWork&&N.learningData.whatDidntWork.length>0&&l.jsxs("div",{className:"mb-2",children:[l.jsx("span",{className:"text-xs font-semibold text-indigo-900",children:"What Didn't Work: "}),l.jsx("span",{className:"text-xs text-indigo-700",children:N.learningData.whatDidntWork.join(", ")})]}),N.learningData.suggestions&&l.jsxs("div",{children:[l.jsx("span",{className:"text-xs font-semibold text-indigo-900",children:"Suggestions: "}),l.jsx("span",{className:"text-xs text-indigo-700",children:N.learningData.suggestions})]})]}),l.jsxs("div",{className:"flex items-center gap-2 pt-4 border-t border-white/20",children:[N.status!=="completed"&&l.jsxs(l.Fragment,{children:[N.status==="pending"&&l.jsxs("button",{onClick:()=>V(N,"in-progress"),className:"px-3 py-1.5 rounded-full bg-blue-50 text-blue-700 text-xs font-medium hover:bg-blue-100 transition flex items-center gap-1 border border-blue-100",children:[l.jsx(Mi,{className:"w-3 h-3"}),"Start"]}),N.status==="in-progress"&&l.jsxs("button",{onClick:()=>w(N),className:"px-3 py-1.5 rounded-full bg-green-50 text-green-700 text-xs font-medium hover:bg-green-100 transition flex items-center gap-1 border border-green-100",children:[l.jsx(Va,{className:"w-3 h-3"}),"Complete & Feedback"]}),l.jsx("button",{onClick:()=>V(N,"skipped"),className:"px-3 py-1.5 rounded-full bg-yellow-50 text-yellow-700 text-xs font-medium hover:bg-yellow-100 transition border border-yellow-100",children:"Skip"}),l.jsx("button",{onClick:()=>V(N,"failed"),className:"px-3 py-1.5 rounded-full bg-red-50 text-red-700 text-xs font-medium hover:bg-red-100 transition border border-red-100",children:"Failed"})]}),N.status==="completed"&&!N.feedback&&l.jsxs("button",{onClick:()=>w(N),className:"px-3 py-1.5 rounded-full bg-purple-50 text-purple-700 text-xs font-medium hover:bg-purple-100 transition flex items-center gap-1 border border-purple-100",children:[l.jsx(wo,{className:"w-3 h-3"}),"Add Feedback"]}),N.status==="completed"&&N.feedback&&l.jsxs("button",{onClick:()=>w(N),className:"px-3 py-1.5 rounded-full bg-indigo-50 text-indigo-700 text-xs font-medium hover:bg-indigo-100 transition flex items-center gap-1 border border-indigo-100",children:[l.jsx(Xa,{className:"w-3 h-3"}),"Edit Feedback"]}),l.jsxs("button",{onClick:()=>se(N.id),className:"px-3 py-1.5 rounded-full bg-white/80 border border-white/70 text-xs font-medium hover:bg-red-50 hover:border-red-200 hover:text-red-700 transition flex items-center gap-1 ml-auto",children:[l.jsx(rn,{className:"w-3 h-3"}),"Delete"]})]})]})},N.id)})})]})]})},rw=()=>{const[i,o]=y.useState(""),[d,c]=y.useState([]);y.useEffect(()=>{(async()=>{const[g,x,b,f,v,E]=await Promise.all([H.getJournalEntries(),H.getAgendaItems(),H.getCalendarEvents(),H.getDeliverables(),H.getBrandRecords(),H.getPeopleRecords()]),k=[...g.map(T=>({id:T.id,type:"Journal entry",title:T.title,content:T.content,createdAt:T.createdAt})),...x.map(T=>({id:T.id,type:"Agenda task",title:T.title,content:T.deliverableId?`Deliverable: ${T.deliverableId}`:"",createdAt:T.createdAt})),...b.map(T=>({id:T.id,type:"Calendar event",title:T.title,content:T.description||"",createdAt:T.startAt})),...f.map(T=>({id:T.id,type:"Deliverable",title:T.title,content:`${T.description}

Guardrails: ${T.guardrails}
Success: ${T.successCriteria}`,createdAt:T.createdAt})),...v.map(T=>({id:T.id,type:"Brand atom",title:T.name,content:T.description,createdAt:T.createdAt})),...E.map(T=>({id:T.id,type:"Person",title:T.name,content:`${T.role||""}
${T.notes||""}`,createdAt:T.createdAt}))];c(k.sort((T,$)=>$.createdAt-T.createdAt))})()},[]);const h=y.useMemo(()=>{if(!i.trim())return d;const m=i.toLowerCase();return d.filter(g=>g.title.toLowerCase().includes(m)||g.content.toLowerCase().includes(m)||g.type.toLowerCase().includes(m))},[i,d]);return l.jsxs(Wt,{title:"Memory Search",subtitle:"Peek into what Sylvia remembers across every surface.",children:[l.jsx("div",{className:"glass-panel border border-white/70 rounded-3xl p-5 mb-6",children:l.jsx("input",{value:i,onChange:m=>o(m.target.value),placeholder:"Search memories...",className:"w-full rounded-2xl border border-white/70 px-4 py-3 bg-white/80"})}),l.jsxs("div",{className:"space-y-3",children:[h.length===0&&l.jsx("p",{className:"text-secondary-light text-sm",children:"No records match that term yet."}),h.map(m=>l.jsxs("div",{className:"rounded-3xl border border-white/70 bg-white/85 p-4 space-y-2",children:[l.jsxs("div",{className:"flex items-center justify-between text-xs text-secondary-light",children:[l.jsx("span",{className:"uppercase tracking-[0.3em]",children:m.type}),l.jsx("span",{children:new Date(m.createdAt).toLocaleString()})]}),l.jsx("h3",{className:"text-lg font-semibold",children:m.title||"Untitled"}),l.jsx(bt,{content:m.content,className:"text-sm"})]},m.id))]})]})},ow=()=>{const{entityDetailView:i,setEntityDetailView:o,setActiveEntity:d,setActiveView:c}=al(),[h,m]=y.useState(null),[g,x]=y.useState(!0),[b,f]=y.useState(!1),[v,E]=y.useState(""),[k,T]=y.useState(""),[$,z]=y.useState(""),[ae,de]=y.useState(""),[ye,ge]=y.useState(""),[q,X]=y.useState(""),L=y.useCallback(async()=>{if(!i.type||!i.id){x(!1);return}try{let J=null;switch(i.type){case"person":J=(await H.getPeopleRecords()).find(me=>me.id===i.id);break;case"brand":J=(await H.getBrandRecords()).find(me=>me.id===i.id);break;case"concept":J=(await H.getConceptRecords()).find(me=>me.id===i.id);break;case"journal":J=(await H.getJournalEntries()).find(me=>me.id===i.id);break;case"calendar":J=(await H.getCalendarEvents()).find(me=>me.id===i.id);break;case"goal":J=(await H.getGoals()).find(me=>me.id===i.id);break;case"task":J=(await H.getVendorTasks()).find(me=>me.id===i.id);break}J&&(m(J),d({type:i.type,id:i.id,data:J}),i.type==="brand"?(E(J.name),T(J.description||""),z(J.content||""),de(J.notes||"")):i.type==="concept"&&(E(J.name),T(J.description||""),ge(J.category||""),X((J.tags||[]).join(", ")),de(J.notes||"")))}catch(J){console.error("Failed to load entity:",J)}finally{x(!1)}},[i,d]),D=async()=>{if(h)try{i.type==="brand"?await H.saveBrandRecord({...h,name:v,description:k,content:$,notes:ae,updatedAt:Date.now()}):i.type==="concept"&&await H.saveConceptRecord({...h,name:v,description:k,category:ye,tags:q.split(",").map(J=>J.trim()).filter(Boolean),notes:ae,updatedAt:Date.now()}),f(!1),await L()}catch(J){console.error("Failed to save:",J)}},oe=()=>{f(!1),h&&(i.type==="brand"?(E(h.name),T(h.description||""),z(h.content||""),de(h.notes||"")):i.type==="concept"&&(E(h.name),T(h.description||""),ge(h.category||""),X((h.tags||[]).join(", ")),de(h.notes||"")))};y.useEffect(()=>{L()},[L]);const be=()=>{switch(i.type){case"person":c($e.PEOPLE);break;case"brand":c($e.BRAND);break;case"concept":c($e.CONCEPTS);break;case"journal":c($e.JOURNAL);break;case"calendar":c($e.CALENDAR);break;case"goal":case"task":c($e.POLARIS);break}o({type:null,id:""}),d({type:null,id:""})};if(g)return l.jsx(Wt,{title:"Loading...",children:l.jsx("div",{className:"flex items-center justify-center h-64",children:l.jsx("p",{className:"text-secondary-light",children:"Loading..."})})});if(!h)return l.jsx(Wt,{title:"Not Found",children:l.jsxs("div",{className:"flex items-center justify-center h-64",children:[l.jsx("p",{className:"text-secondary-light",children:"Entity not found"}),l.jsx("button",{onClick:be,className:"ml-4 px-4 py-2 rounded-full bg-black text-white",children:"Go Back"})]})});if(i.type==="person"){const J=h;return l.jsx(Wt,{title:J.name,subtitle:"Person Profile",children:l.jsxs("div",{className:"space-y-6",children:[l.jsxs("div",{className:"flex items-center justify-between",children:[l.jsxs("button",{onClick:be,className:"flex items-center gap-2 px-4 py-2 rounded-full bg-white/80 border border-white/70 hover:bg-white transition",children:[l.jsx(Yd,{className:"w-4 h-4"}),"Back to People"]}),l.jsx("div",{className:"flex gap-2",children:l.jsxs("button",{onClick:()=>f(!b),className:"px-4 py-2 rounded-full bg-white/80 border border-white/70 hover:bg-white transition flex items-center gap-2",children:[l.jsx(Xa,{className:"w-4 h-4"}),"Edit"]})})]}),l.jsxs("div",{className:"glass-panel rounded-3xl border border-white/70 p-8 space-y-6",children:[l.jsxs("div",{className:"grid grid-cols-2 gap-6",children:[J.role&&l.jsxs("div",{children:[l.jsx("h3",{className:"text-xs uppercase tracking-[0.3em] text-secondary-light mb-2",children:"Role"}),l.jsx("p",{className:"text-lg",children:J.role})]}),J.company&&l.jsxs("div",{children:[l.jsx("h3",{className:"text-xs uppercase tracking-[0.3em] text-secondary-light mb-2",children:"Company"}),l.jsx("p",{className:"text-lg",children:J.company})]}),J.location&&l.jsxs("div",{children:[l.jsx("h3",{className:"text-xs uppercase tracking-[0.3em] text-secondary-light mb-2",children:"Location"}),l.jsx("p",{className:"text-lg",children:J.location})]}),J.email&&l.jsxs("div",{children:[l.jsx("h3",{className:"text-xs uppercase tracking-[0.3em] text-secondary-light mb-2",children:"Email"}),l.jsx("p",{className:"text-lg",children:J.email})]}),J.phone&&l.jsxs("div",{children:[l.jsx("h3",{className:"text-xs uppercase tracking-[0.3em] text-secondary-light mb-2",children:"Phone"}),l.jsx("p",{className:"text-lg",children:J.phone})]})]}),J.attributes&&J.attributes.length>0&&l.jsxs("div",{children:[l.jsx("h3",{className:"text-xs uppercase tracking-[0.3em] text-secondary-light mb-2",children:"Attributes"}),l.jsx("div",{className:"flex flex-wrap gap-2",children:J.attributes.map(le=>l.jsx("span",{className:"px-3 py-1 rounded-full bg-purple-100 text-purple-700 text-sm",children:le},le))})]}),J.tags&&J.tags.length>0&&l.jsxs("div",{children:[l.jsx("h3",{className:"text-xs uppercase tracking-[0.3em] text-secondary-light mb-2",children:"Tags"}),l.jsx("div",{className:"flex flex-wrap gap-2",children:J.tags.map(le=>l.jsx("span",{className:"px-3 py-1 rounded-full bg-blue-100 text-blue-700 text-sm",children:le},le))})]}),J.profile&&l.jsxs("div",{children:[l.jsx("h3",{className:"text-xs uppercase tracking-[0.3em] text-secondary-light mb-2",children:"Profile"}),l.jsx("div",{className:"prose max-w-none",children:l.jsx(bt,{content:J.profile})})]}),J.notes&&l.jsxs("div",{children:[l.jsx("h3",{className:"text-xs uppercase tracking-[0.3em] text-secondary-light mb-2",children:"Notes"}),l.jsx("div",{className:"prose max-w-none",children:l.jsx(bt,{content:J.notes})})]}),J.connections&&J.connections.length>0&&l.jsxs("div",{children:[l.jsx("h3",{className:"text-xs uppercase tracking-[0.3em] text-secondary-light mb-2",children:"Connections"}),l.jsx("div",{className:"space-y-2",children:J.connections.map((le,Ne)=>l.jsxs("div",{className:"p-3 rounded-xl bg-gray-50 border border-gray-100",children:[l.jsx("p",{className:"font-medium",children:le.relationship}),le.notes&&l.jsx("div",{className:"text-sm text-gray-600 mt-1",children:l.jsx(bt,{content:le.notes})})]},Ne))})]})]})]})})}if(i.type==="brand"){const J=h;return l.jsx(Wt,{title:J.name,subtitle:"Brand Element",children:l.jsxs("div",{className:"space-y-6",children:[l.jsxs("div",{className:"flex items-center justify-between",children:[l.jsxs("button",{onClick:be,className:"flex items-center gap-2 px-4 py-2 rounded-full bg-white/80 border border-white/70 hover:bg-white transition",children:[l.jsx(Yd,{className:"w-4 h-4"}),"Back to Brand"]}),l.jsx("div",{className:"flex gap-2",children:l.jsxs("button",{onClick:()=>f(!b),className:"px-4 py-2 rounded-full bg-white/80 border border-white/70 hover:bg-white transition flex items-center gap-2",children:[l.jsx(Xa,{className:"w-4 h-4"}),b?"Cancel":"Edit"]})})]}),l.jsxs("div",{className:"glass-panel rounded-3xl border border-white/70 p-8 space-y-6",children:[J.description&&l.jsxs("div",{children:[l.jsx("h3",{className:"text-xs uppercase tracking-[0.3em] text-secondary-light mb-2",children:"Description / Guidance"}),l.jsx("div",{className:"prose max-w-none",children:l.jsx(bt,{content:J.description})})]}),J.content&&l.jsxs("div",{children:[l.jsx("h3",{className:"text-xs uppercase tracking-[0.3em] text-secondary-light mb-2",children:"Content"}),l.jsx("div",{className:"prose max-w-none",children:l.jsx(bt,{content:J.content})})]}),J.notes&&l.jsxs("div",{children:[l.jsx("h3",{className:"text-xs uppercase tracking-[0.3em] text-secondary-light mb-2",children:"Notes"}),l.jsx("div",{className:"prose max-w-none",children:l.jsx(bt,{content:J.notes})})]}),!J.description&&!J.content&&!J.notes&&l.jsx("p",{className:"text-sm text-secondary-light",children:"No content available. Click Edit to add information."})]}),b&&l.jsxs("div",{className:"glass-panel rounded-3xl border border-white/70 p-8 space-y-6 bg-white/95 backdrop-blur-sm shadow-xl",children:[l.jsxs("div",{children:[l.jsx("label",{className:"text-xs uppercase tracking-[0.2em] text-secondary-light mb-2 block",children:"Element Name"}),l.jsx("input",{value:v,onChange:le=>E(le.target.value),className:"w-full rounded-2xl border border-white/70 bg-white/80 px-4 py-2 text-primary-light placeholder:text-secondary-light focus:outline-none focus:ring-2 focus:ring-black/20 focus:border-black/30",placeholder:"Brand element name"})]}),l.jsxs("div",{children:[l.jsx("label",{className:"text-xs uppercase tracking-[0.2em] text-secondary-light mb-2 block",children:"Description / Guidance"}),l.jsx("textarea",{value:k,onChange:le=>T(le.target.value),rows:6,className:"w-full rounded-2xl border border-white/70 bg-white/80 px-4 py-2 text-primary-light placeholder:text-secondary-light focus:outline-none focus:ring-2 focus:ring-black/20 focus:border-black/30 resize-none",placeholder:"How should Sylvia reference this? What makes it unique?"})]}),l.jsxs("div",{children:[l.jsx("label",{className:"text-xs uppercase tracking-[0.2em] text-secondary-light mb-2 block",children:"Content"}),l.jsx("textarea",{value:$,onChange:le=>z(le.target.value),rows:8,className:"w-full rounded-2xl border border-white/70 bg-white/80 px-4 py-2 text-primary-light placeholder:text-secondary-light focus:outline-none focus:ring-2 focus:ring-black/20 focus:border-black/30 resize-none",placeholder:"Full content or notes"})]}),l.jsxs("div",{children:[l.jsx("label",{className:"text-xs uppercase tracking-[0.2em] text-secondary-light mb-2 block",children:"Notes"}),l.jsx("textarea",{value:ae,onChange:le=>de(le.target.value),rows:4,className:"w-full rounded-2xl border border-white/70 bg-white/80 px-4 py-2 text-primary-light placeholder:text-secondary-light focus:outline-none focus:ring-2 focus:ring-black/20 focus:border-black/30 resize-none",placeholder:"Additional notes"})]}),l.jsxs("div",{className:"flex gap-2",children:[l.jsx("button",{onClick:D,className:"flex-1 px-4 py-2 rounded-2xl bg-black text-white font-semibold hover:bg-gray-800 transition",children:"Save"}),l.jsx("button",{onClick:oe,className:"px-4 py-2 rounded-2xl bg-white/80 border border-white/70 text-primary-light hover:bg-white transition",children:"Cancel"})]})]})]})})}if(i.type==="concept"){const J=h;return l.jsx(Wt,{title:J.name,subtitle:"Concept",children:l.jsxs("div",{className:"space-y-6",children:[l.jsxs("div",{className:"flex items-center justify-between",children:[l.jsxs("button",{onClick:be,className:"flex items-center gap-2 px-4 py-2 rounded-full bg-white/80 border border-white/70 hover:bg-white transition",children:[l.jsx(Yd,{className:"w-4 h-4"}),"Back to Concepts"]}),l.jsx("div",{className:"flex gap-2",children:l.jsxs("button",{onClick:()=>f(!b),className:"px-4 py-2 rounded-full bg-white/80 border border-white/70 hover:bg-white transition flex items-center gap-2",children:[l.jsx(Xa,{className:"w-4 h-4"}),b?"Cancel":"Edit"]})})]}),l.jsxs("div",{className:"glass-panel rounded-3xl border border-white/70 p-8 space-y-6",children:[J.category&&l.jsxs("div",{children:[l.jsx("h3",{className:"text-xs uppercase tracking-[0.3em] text-secondary-light mb-2",children:"Category"}),l.jsx("p",{className:"text-lg",children:J.category})]}),J.description&&l.jsxs("div",{children:[l.jsx("h3",{className:"text-xs uppercase tracking-[0.3em] text-secondary-light mb-2",children:"Description"}),l.jsx("div",{className:"prose max-w-none concept-description",children:l.jsx(bt,{content:J.description})})]}),J.notes&&l.jsxs("div",{children:[l.jsx("h3",{className:"text-xs uppercase tracking-[0.3em] text-secondary-light mb-2",children:"Notes"}),l.jsx("div",{className:"prose max-w-none",children:l.jsx(bt,{content:J.notes})})]}),J.tags&&J.tags.length>0&&l.jsxs("div",{children:[l.jsx("h3",{className:"text-xs uppercase tracking-[0.3em] text-secondary-light mb-2",children:"Tags"}),l.jsx("div",{className:"flex flex-wrap gap-2",children:J.tags.map(le=>l.jsx("span",{className:"px-3 py-1 rounded-full bg-blue-100 text-blue-700 text-sm",children:le},le))})]}),!J.category&&!J.description&&!J.notes&&(!J.tags||J.tags.length===0)&&l.jsx("p",{className:"text-sm text-secondary-light",children:"No content available. Click Edit to add information."})]}),b&&l.jsxs("div",{className:"glass-panel rounded-3xl border border-white/70 p-8 space-y-6 bg-white/95 backdrop-blur-sm shadow-xl",children:[l.jsxs("div",{children:[l.jsx("label",{className:"text-xs uppercase tracking-[0.2em] text-secondary-light mb-2 block",children:"Name"}),l.jsx("input",{value:v,onChange:le=>E(le.target.value),className:"w-full rounded-2xl border border-white/70 bg-white/80 px-4 py-2 text-primary-light placeholder:text-secondary-light focus:outline-none focus:ring-2 focus:ring-black/20 focus:border-black/30",placeholder:"Concept name"})]}),l.jsxs("div",{children:[l.jsx("label",{className:"text-xs uppercase tracking-[0.2em] text-secondary-light mb-2 block",children:"Description"}),l.jsx("textarea",{value:k,onChange:le=>T(le.target.value),rows:8,className:"w-full rounded-2xl border border-white/70 bg-white/80 px-4 py-2 text-primary-light placeholder:text-secondary-light focus:outline-none focus:ring-2 focus:ring-black/20 focus:border-black/30 resize-none",placeholder:"Full description"})]}),l.jsxs("div",{children:[l.jsx("label",{className:"text-xs uppercase tracking-[0.2em] text-secondary-light mb-2 block",children:"Category"}),l.jsx("input",{value:ye,onChange:le=>ge(le.target.value),className:"w-full rounded-2xl border border-white/70 bg-white/80 px-4 py-2 text-primary-light placeholder:text-secondary-light focus:outline-none focus:ring-2 focus:ring-black/20 focus:border-black/30",placeholder:"Category (e.g., AI Application, Technology)"})]}),l.jsxs("div",{children:[l.jsx("label",{className:"text-xs uppercase tracking-[0.2em] text-secondary-light mb-2 block",children:"Tags (comma-separated)"}),l.jsx("input",{value:q,onChange:le=>X(le.target.value),className:"w-full rounded-2xl border border-white/70 bg-white/80 px-4 py-2 text-primary-light placeholder:text-secondary-light focus:outline-none focus:ring-2 focus:ring-black/20 focus:border-black/30",placeholder:"tag1, tag2, tag3"})]}),l.jsxs("div",{children:[l.jsx("label",{className:"text-xs uppercase tracking-[0.2em] text-secondary-light mb-2 block",children:"Notes"}),l.jsx("textarea",{value:ae,onChange:le=>de(le.target.value),rows:4,className:"w-full rounded-2xl border border-white/70 bg-white/80 px-4 py-2 text-primary-light placeholder:text-secondary-light focus:outline-none focus:ring-2 focus:ring-black/20 focus:border-black/30 resize-none",placeholder:"Additional notes"})]}),l.jsxs("div",{className:"flex gap-2",children:[l.jsx("button",{onClick:D,className:"flex-1 px-4 py-2 rounded-2xl bg-black text-white font-semibold hover:bg-gray-800 transition",children:"Save"}),l.jsx("button",{onClick:oe,className:"px-4 py-2 rounded-2xl bg-white/80 border border-white/70 text-primary-light hover:bg-white transition",children:"Cancel"})]})]})]})})}return null},ox=()=>{const[i,o]=y.useState(null),[d,c]=y.useState(!1);return y.useEffect(()=>{const h=m=>{o(m.detail),c(!0),setTimeout(()=>{c(!1),setTimeout(()=>o(null),300)},5e3)};return window.addEventListener("levelUp",h),()=>{window.removeEventListener("levelUp",h)}},[]),i?l.jsx("div",{className:`fixed top-8 right-8 z-50 transition-all duration-500 ease-out ${d?"opacity-100 translate-y-0":"opacity-0 translate-y-[-20px] pointer-events-none"}`,children:l.jsx("div",{className:"glass-panel rounded-3xl border-2 border-yellow-400/70 bg-gradient-to-br from-yellow-50 to-orange-50 p-6 shadow-2xl max-w-md animate-bounce-subtle",children:l.jsxs("div",{className:"flex items-start gap-4",children:[l.jsx("div",{className:"animate-pulse",children:l.jsx(tl,{className:"w-12 h-12 text-yellow-500"})}),l.jsxs("div",{className:"flex-1",children:[l.jsx("div",{className:"flex items-center gap-2 mb-2",children:l.jsx("span",{className:"text-xs uppercase tracking-[0.3em] text-orange-600 font-bold",children:"LEVEL UP!"})}),l.jsxs("h3",{className:"text-2xl font-bold text-black mb-1",children:["Level ",i.level,": ",i.levelName]}),l.jsx("p",{className:"text-sm text-gray-700",children:i.levelDescription}),l.jsx("div",{className:"mt-4 flex items-center gap-2",children:l.jsx("div",{className:"flex-1 h-2 bg-white/60 rounded-full overflow-hidden",children:l.jsx("div",{className:"h-full bg-gradient-to-r from-yellow-400 to-orange-500 rounded-full animate-pulse",style:{width:"100%"}})})})]}),l.jsx("button",{onClick:()=>{c(!1),setTimeout(()=>o(null),300)},className:"text-gray-400 hover:text-gray-600 transition",children:""})]})})}):null},cw=()=>{const{activeView:i,entityDetailView:o,setActiveView:d,createThread:c}=al(),{toasts:h,dismissToast:m}=Ax(),{isOpen:g,close:x}=fv(),[b,f]=y.useState(!1),[v,E]=y.useState(!1),[k,T]=y.useState(!1),$=y.useMemo(()=>[{id:"new-thread",label:"New Thread",description:"Start a new conversation with Sylvia",action:()=>{c(),d($e.CHAT)},category:"Actions",keywords:["chat","conversation","message"]},{id:"nav-search",label:"Go to Memory Search",description:"Search across all your data",action:()=>d($e.SEARCH),category:"Navigation",keywords:["find","lookup"]},{id:"nav-brand",label:"Go to Brand",description:"Manage brand identity and voice",action:()=>d($e.BRAND),category:"Navigation"},{id:"nav-people",label:"Go to People",description:"Manage contacts and relationships",action:()=>d($e.PEOPLE),category:"Navigation"},{id:"nav-concepts",label:"Go to Concepts",description:"Explore ideas and technologies",action:()=>d($e.CONCEPTS),category:"Navigation"},{id:"nav-journal",label:"Go to Journal",description:"Write and review journal entries",action:()=>d($e.JOURNAL),category:"Navigation"},{id:"nav-agenda",label:"Go to Agenda",description:"Manage tasks and deliverables",action:()=>d($e.AGENDA),category:"Navigation"},{id:"nav-calendar",label:"Go to Calendar",description:"View and manage events",action:()=>d($e.CALENDAR),category:"Navigation"},{id:"nav-pomodoro",label:"Go to Pomodoro",description:"Track focus sessions",action:()=>d($e.POMODORO),category:"Navigation"},{id:"nav-gamification",label:"Go to Progress",description:"View achievements and XP",action:()=>d($e.GAMIFICATION),category:"Navigation"},{id:"nav-polaris",label:"Go to Polaris Goals",description:"Manage strategic goals",action:()=>d($e.POLARIS),category:"Navigation"},{id:"nav-settings",label:"Go to Settings",description:"Configure Polaris",action:()=>d($e.SETTINGS),category:"Navigation",keywords:["preferences","config"]}],[c,d]);if(y.useEffect(()=>{const ae=()=>{f(window.innerWidth<1024)};return ae(),window.addEventListener("resize",ae),()=>window.removeEventListener("resize",ae)},[]),o.type&&o.id)return l.jsxs("div",{className:"h-screen w-full overflow-hidden bg-transparent text-primary-light font-sans",children:[l.jsx(ox,{}),b&&l.jsxs("div",{className:"fixed top-0 left-0 right-0 z-40 flex items-center justify-between px-4 py-3 bg-card-light dark:bg-card-dark border-b border-border-light dark:border-border-dark",children:[l.jsx("button",{onClick:()=>E(!v),className:"p-2 rounded-lg hover:bg-border-light dark:hover:bg-border-dark transition-colors","aria-label":"Toggle menu",children:v?l.jsx(Qt,{size:24}):l.jsx($p,{size:24})}),l.jsx("span",{className:"text-sm font-medium",children:"Polaris"}),l.jsx("button",{onClick:()=>T(!k),className:"p-2 rounded-lg hover:bg-border-light dark:hover:bg-border-dark transition-colors","aria-label":"Toggle chat",children:l.jsx(wo,{size:24})})]}),l.jsxs("div",{className:`flex h-full w-full ${b?"pt-14":"gap-4 pr-4 py-4 pl-0"} overflow-x-hidden min-w-0`,children:[l.jsxs("div",{className:`
            ${b?"fixed inset-0 z-50 transform transition-transform duration-300":""}
            ${b&&!v?"-translate-x-full":"translate-x-0"}
          `,children:[b&&v&&l.jsx("div",{className:"absolute inset-0 bg-black bg-opacity-50",onClick:()=>E(!1)}),l.jsx("div",{className:b?"relative z-10 h-full":"",children:l.jsx(qp,{onNavigate:b?()=>E(!1):void 0})})]}),l.jsx("main",{className:`flex-1 flex flex-col ${b?"":"gap-4"} overflow-hidden min-h-0 min-w-0`,children:l.jsx("div",{className:"flex-1 min-h-0 overflow-hidden flex flex-col",children:l.jsx(ow,{})})}),b?l.jsx("div",{className:`
              fixed inset-0 z-50 transform transition-transform duration-300 bg-background-light dark:bg-background-dark
              ${k?"translate-x-0":"translate-x-full"}
            `,children:l.jsxs("div",{className:"h-full flex flex-col",children:[l.jsxs("div",{className:"flex items-center justify-between px-4 py-3 border-b border-border-light dark:border-border-dark",children:[l.jsx("span",{className:"text-sm font-medium",children:"Chat"}),l.jsx("button",{onClick:()=>T(!1),className:"p-2 rounded-lg hover:bg-border-light dark:hover:bg-border-dark transition-colors",children:l.jsx(Qt,{size:24})})]}),l.jsx("div",{className:"flex-1 overflow-hidden",children:l.jsx(co,{isMobile:b})})]})}):l.jsx(co,{isMobile:b})]})]});const z=()=>{switch(i){case $e.BRAND:return l.jsx(U2,{});case $e.PEOPLE:return l.jsx(I2,{});case $e.CONCEPTS:return l.jsx(Y2,{});case $e.JOURNAL:return l.jsx(W2,{});case $e.AGENDA:return l.jsx(F2,{});case $e.CALENDAR:return l.jsx(aw,{});case $e.POMODORO:return l.jsx(nw,{});case $e.GAMIFICATION:return l.jsx(sw,{});case $e.POLARIS:return l.jsx(iw,{});case $e.SEARCH:return l.jsx(rw,{});case $e.SETTINGS:return l.jsx(L2,{})}};return l.jsxs("div",{className:"h-screen w-full overflow-hidden bg-transparent text-primary-light font-sans",children:[l.jsx(ox,{}),l.jsx(hv,{toasts:h,onDismiss:m}),l.jsx(mv,{isOpen:g,onClose:x,commands:$}),b&&l.jsxs("div",{className:"fixed top-0 left-0 right-0 z-40 flex items-center justify-between px-4 py-3 bg-card-light dark:bg-card-dark border-b border-border-light dark:border-border-dark",children:[l.jsx("button",{onClick:()=>E(!v),className:"p-2 rounded-lg hover:bg-border-light dark:hover:bg-border-dark transition-colors","aria-label":"Toggle menu",children:v?l.jsx(Qt,{size:24}):l.jsx($p,{size:24})}),l.jsx("span",{className:"text-sm font-medium",children:"Polaris"}),l.jsx("button",{onClick:()=>T(!k),className:"p-2 rounded-lg hover:bg-border-light dark:hover:bg-border-dark transition-colors","aria-label":"Toggle chat",children:l.jsx(wo,{size:24})})]}),l.jsxs("div",{className:`flex h-full w-full ${b?"pt-14":"gap-4 pr-4 py-4 pl-0"} overflow-x-hidden min-w-0`,children:[l.jsxs("div",{className:`
          ${b?"fixed inset-0 z-50 transform transition-transform duration-300":""}
          ${b&&!v?"-translate-x-full":"translate-x-0"}
        `,children:[b&&v&&l.jsx("div",{className:"absolute inset-0 bg-black bg-opacity-50",onClick:()=>E(!1)}),l.jsx("div",{className:b?"relative z-10 h-full":"",children:l.jsx(qp,{onNavigate:b?()=>E(!1):void 0})})]}),l.jsx("main",{className:`flex-1 flex flex-col ${b?"":"gap-4"} overflow-hidden min-h-0 min-w-0`,children:l.jsx("div",{className:"flex-1 min-h-0 overflow-hidden flex flex-col",children:z()})}),b?l.jsx("div",{className:`
            fixed inset-0 z-50 transform transition-transform duration-300 bg-background-light dark:bg-background-dark
            ${k?"translate-x-0":"translate-x-full"}
          `,children:l.jsxs("div",{className:"h-full flex flex-col",children:[l.jsxs("div",{className:"flex items-center justify-between px-4 py-3 border-b border-border-light dark:border-border-dark",children:[l.jsx("span",{className:"text-sm font-medium",children:"Chat"}),l.jsx("button",{onClick:()=>T(!1),className:"p-2 rounded-lg hover:bg-border-light dark:hover:bg-border-dark transition-colors",children:l.jsx(Qt,{size:24})})]}),l.jsx("div",{className:"flex-1 overflow-hidden",children:l.jsx(co,{isMobile:b})})]})}):l.jsx(co,{isMobile:b})]})]})},dw=()=>l.jsx(Zb,{children:l.jsx(Qb,{children:l.jsx(cw,{})})}),Wx=document.getElementById("root");if(!Wx)throw new Error("Could not find root element to mount to");const uw=yb.createRoot(Wx);uw.render(l.jsx(go.StrictMode,{children:l.jsx(dw,{})}));export{ho as g,mw as r,Bi as s};
